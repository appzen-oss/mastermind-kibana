(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"mapsLegacy.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["mapsLegacy_bundle_jsonpfunction"]=window["mapsLegacy_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=28)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return setToasts}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getToasts}));__webpack_require__.d(__webpack_exports__,"i",(function(){return setUiSettings}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getUiSettings}));__webpack_require__.d(__webpack_exports__,"f",(function(){return setKibanaVersion}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getKibanaVersion}));__webpack_require__.d(__webpack_exports__,"g",(function(){return setMapsLegacyConfig}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getMapsLegacyConfig}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getEmsTileLayerId}));let toast;const setToasts=notificationToast=>toast=notificationToast;const getToasts=()=>toast;let uiSettings;const setUiSettings=coreUiSettings=>uiSettings=coreUiSettings;const getUiSettings=()=>uiSettings;let kibanaVersion;const setKibanaVersion=version=>kibanaVersion=version;const getKibanaVersion=()=>kibanaVersion;let mapsLegacyConfig;const setMapsLegacyConfig=config=>mapsLegacyConfig=config;const getMapsLegacyConfig=()=>mapsLegacyConfig;const getEmsTileLayerId=()=>getMapsLegacyConfig().emsTileLayerId},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return decodeGeoHash}));__webpack_require__.d(__webpack_exports__,"c",(function(){return geohashColumns}));__webpack_require__.d(__webpack_exports__,"b",(function(){return geoContains}));function decodeGeoHash(geohash){const BITS=[16,8,4,2,1];const BASE32="0123456789bcdefghjkmnpqrstuvwxyz";let isEven=true;const lat=[];const lon=[];lat[0]=-90;lat[1]=90;lon[0]=-180;lon[1]=180;let latErr=90;let lonErr=180;[...geohash].forEach(nextChar=>{const cd=BASE32.indexOf(nextChar);for(let j=0;j<5;j++){const mask=BITS[j];if(isEven){lonErr=lonErr/=2;refineInterval(lon,cd,mask)}else{latErr=latErr/=2;refineInterval(lat,cd,mask)}isEven=!isEven}});lat[2]=(lat[0]+lat[1])/2;lon[2]=(lon[0]+lon[1])/2;return{latitude:lat,longitude:lon}}function refineInterval(interval,cd,mask){if(cd&mask){interval[0]=(interval[0]+interval[1])/2}else{interval[1]=(interval[0]+interval[1])/2}}function geohashColumns(precision){return geohashCells(precision,0)}function geohashCells(precision,axis){let cells=1;for(let i=1;i<=precision;i+=1){cells*=i%2===axis?4:8}return cells}function geoContains(collar,bounds){if(!bounds||!collar)return false;if(bounds.top_left.lat>collar.top_left.lat||bounds.top_left.lon<collar.top_left.lon){return false}if(bounds.bottom_right.lat<collar.bottom_right.lat||bounds.bottom_right.lon>collar.bottom_right.lon){return false}return true}},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return lazyLoadMapsLegacyModules}));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}let loadModulesPromise;function lazyLoadMapsLegacyModules(){return _lazyLoadMapsLegacyModules.apply(this,arguments)}function _lazyLoadMapsLegacyModules(){_lazyLoadMapsLegacyModules=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(typeof loadModulesPromise!=="undefined")){_context2.next=2;break}return _context2.abrupt("return",loadModulesPromise);case 2:loadModulesPromise=new Promise(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(resolve){var _yield$import,KibanaMap,L,ServiceSettings;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(1).then(__webpack_require__.bind(null,43));case 2:_yield$import=_context.sent;KibanaMap=_yield$import.KibanaMap;L=_yield$import.L;ServiceSettings=_yield$import.ServiceSettings;resolve({KibanaMap:KibanaMap,L:L,ServiceSettings:ServiceSettings});case 7:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}());return _context2.abrupt("return",loadModulesPromise);case 4:case"end":return _context2.stop()}}),_callee2)})));return _lazyLoadMapsLegacyModules.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_FILE_API_URL",(function(){return DEFAULT_EMS_FILE_API_URL}));__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_TILE_API_URL",(function(){return DEFAULT_EMS_TILE_API_URL}));__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_LANDING_PAGE_URL",(function(){return DEFAULT_EMS_LANDING_PAGE_URL}));__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_FONT_LIBRARY_URL",(function(){return DEFAULT_EMS_FONT_LIBRARY_URL}));const DEFAULT_EMS_FILE_API_URL="https://vector.maps.elastic.co";const DEFAULT_EMS_TILE_API_URL="https://tiles.maps.elastic.co";const DEFAULT_EMS_LANDING_PAGE_URL="https://maps.elastic.co/v7.11";const DEFAULT_EMS_FONT_LIBRARY_URL="https://tiles.maps.elastic.co/fonts/{fontstack}/{range}.pbf"},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ORIGIN}));const ORIGIN={EMS:"elastic_maps_service",KIBANA_YML:"self_hosted"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"getLegendColors",(function(){return getLegendColors}));__webpack_require__.d(__webpack_exports__,"getColor",(function(){return getColor}));function getLegendColors(colorRamp,numLegendColors=4){const colors=[];colors[0]=getColor(colorRamp,0);for(let i=1;i<numLegendColors-1;i++){colors[i]=getColor(colorRamp,Math.floor(colorRamp.length*i/numLegendColors))}colors[numLegendColors-1]=getColor(colorRamp,colorRamp.length-1);return colors}function getColor(colorRamp,i){const color=colorRamp[i][1];const red=Math.floor(color[0]*255);const green=Math.floor(color[1]*255);const blue=Math.floor(color[2]*255);return"rgb(".concat(red,",").concat(green,",").concat(blue,")")}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return KibanaMapLayer}));var events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17);var events__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}class KibanaMapLayer extends events__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]{constructor(){super();this._leafletLayer=null}getBounds(){var _this=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",_this._leafletLayer.getBounds());case 1:case"end":return _context.stop()}}),_callee)})))()}addToLeafletMap(leafletMap){this._leafletLayer.addTo(leafletMap)}removeFromLeafletMap(leafletMap){leafletMap.removeLayer(this._leafletLayer)}appendLegendContents(){}updateExtent(){}movePointer(){}getAttributions(){return this._attribution}}},function(module,exports,__webpack_require__){"use strict";var R=typeof Reflect==="object"?Reflect:null;var ReflectApply=R&&typeof R.apply==="function"?R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};var ReflectOwnKeys;if(R&&typeof R.ownKeys==="function"){ReflectOwnKeys=R.ownKeys}else if(Object.getOwnPropertySymbols){ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}}else{ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)}}function ProcessEmitWarning(warning){if(console&&console.warn)console.warn(warning)}var NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!==value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=undefined;var defaultMaxListeners=10;Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return defaultMaxListeners},set:function(arg){if(typeof arg!=="number"||arg<0||NumberIsNaN(arg)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".")}defaultMaxListeners=arg}});EventEmitter.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if(typeof n!=="number"||n<0||NumberIsNaN(n)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".")}this._maxListeners=n;return this};function $getMaxListeners(that){if(that._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return that._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)};EventEmitter.prototype.emit=function emit(type){var args=[];for(var i=1;i<arguments.length;i++)args.push(arguments[i]);var doError=type==="error";var events=this._events;if(events!==undefined)doError=doError&&events.error===undefined;else if(!doError)return false;if(doError){var er;if(args.length>0)er=args[0];if(er instanceof Error){throw er}var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));err.context=er;throw err}var handler=events[type];if(handler===undefined)return false;if(typeof handler==="function"){ReflectApply(handler,this,args)}else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return true};function _addListener(target,type,listener,prepend){var m;var events;var existing;if(typeof listener!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}events=target._events;if(events===undefined){events=target._events=Object.create(null);target._eventsCount=0}else{if(events.newListener!==undefined){target.emit("newListener",type,listener.listener?listener.listener:listener);events=target._events}existing=events[type]}if(existing===undefined){existing=events[type]=listener;++target._eventsCount}else{if(typeof existing==="function"){existing=events[type]=prepend?[listener,existing]:[existing,listener]}else if(prepend){existing.unshift(listener)}else{existing.push(listener)}m=$getMaxListeners(target);if(m>0&&existing.length>m&&!existing.warned){existing.warned=true;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");w.name="MaxListenersExceededWarning";w.emitter=target;w.type=type;w.count=existing.length;ProcessEmitWarning(w)}}return target}EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,true)};function onceWrapper(){var args=[];for(var i=0;i<arguments.length;i++)args.push(arguments[i]);if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;ReflectApply(this.listener,this.target,args)}}function _onceWrap(target,type,listener){var state={fired:false,wrapFn:undefined,target:target,type:type,listener:listener};var wrapped=onceWrapper.bind(state);wrapped.listener=listener;state.wrapFn=wrapped;return wrapped}EventEmitter.prototype.once=function once(type,listener){if(typeof listener!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}this.on(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){if(typeof listener!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}this.prependListener(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if(typeof listener!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}events=this._events;if(events===undefined)return this;list=events[type];if(list===undefined)return this;if(list===listener||list.listener===listener){if(--this._eventsCount===0)this._events=Object.create(null);else{delete events[type];if(events.removeListener)this.emit("removeListener",type,list.listener||listener)}}else if(typeof list!=="function"){position=-1;for(i=list.length-1;i>=0;i--){if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener;position=i;break}}if(position<0)return this;if(position===0)list.shift();else{spliceOne(list,position)}if(list.length===1)events[type]=list[0];if(events.removeListener!==undefined)this.emit("removeListener",type,originalListener||listener)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;events=this._events;if(events===undefined)return this;if(events.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(events[type]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete events[type]}return this}if(arguments.length===0){var keys=Object.keys(events);var key;for(i=0;i<keys.length;++i){key=keys[i];if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}listeners=events[type];if(typeof listeners==="function"){this.removeListener(type,listeners)}else if(listeners!==undefined){for(i=listeners.length-1;i>=0;i--){this.removeListener(type,listeners[i])}}return this};function _listeners(target,type,unwrap){var events=target._events;if(events===undefined)return[];var evlistener=events[type];if(evlistener===undefined)return[];if(typeof evlistener==="function")return unwrap?[evlistener.listener||evlistener]:[evlistener];return unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length)}EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,true)};EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,false)};EventEmitter.listenerCount=function(emitter,type){if(typeof emitter.listenerCount==="function"){return emitter.listenerCount(type)}else{return listenerCount.call(emitter,type)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(type){var events=this._events;if(events!==undefined){var evlistener=events[type];if(typeof evlistener==="function"){return 1}else if(evlistener!==undefined){return evlistener.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(arr,n){var copy=new Array(n);for(var i=0;i<n;++i)copy[i]=arr[i];return copy}function spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}function unwrapListeners(arr){var ret=new Array(arr.length);for(var i=0;i<ret.length;++i){ret[i]=arr[i].listener||arr[i]}return ret}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return mapTooltipProvider}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var react_dom_server__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26);var react_dom_server__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_1__);function getToolTipContent(details){return react_dom_server__WEBPACK_IMPORTED_MODULE_1___default.a.renderToStaticMarkup(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody",null,details.map((detail,i)=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",{key:i},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{className:"visTooltip__label"},detail.label),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{className:"visTooltip__value"},detail.value))))))}function mapTooltipProvider(element,formatter){return(...args)=>{const details=formatter(...args);return details&&getToolTipContent(details)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _external_basemap_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20);var _external_basemap_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_external_basemap_types__WEBPACK_IMPORTED_MODULE_0__);for(var __WEBPACK_IMPORT_KEY__ in _external_basemap_types__WEBPACK_IMPORTED_MODULE_0__)if(["default"].indexOf(__WEBPACK_IMPORT_KEY__)<0)(function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _external_basemap_types__WEBPACK_IMPORTED_MODULE_0__[key]}))})(__WEBPACK_IMPORT_KEY__);var _map_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21);__webpack_require__.d(__webpack_exports__,"MapTypes",(function(){return _map_types__WEBPACK_IMPORTED_MODULE_1__["a"]}));var _region_map_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22);var _region_map_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_region_map_types__WEBPACK_IMPORTED_MODULE_2__);for(var __WEBPACK_IMPORT_KEY__ in _region_map_types__WEBPACK_IMPORTED_MODULE_2__)if(["default","MapTypes"].indexOf(__WEBPACK_IMPORT_KEY__)<0)(function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _region_map_types__WEBPACK_IMPORTED_MODULE_2__[key]}))})(__WEBPACK_IMPORT_KEY__)},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MapTypes}));let MapTypes;(function(MapTypes){MapTypes["ScaledCircleMarkers"]="Scaled Circle Markers";MapTypes["ShadedCircleMarkers"]="Shaded Circle Markers";MapTypes["ShadedGeohashGrid"]="Shaded Geohash Grid";MapTypes["Heatmap"]="Heatmap"})(MapTypes||(MapTypes={}))},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LegacyMapDeprecationMessage}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__);function LegacyMapDeprecationMessage(props){const getMapsMessage=!props.isMapsAvailable?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"maps_legacy.defaultDistributionMessage",defaultMessage:"To get Maps, upgrade to the {defaultDistribution} of Elasticsearch and Kibana.",values:{defaultDistribution:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiLink"],{color:"accent",external:true,href:"https://www.elastic.co/downloads/kibana",target:"_blank"},"default distribution")}}):null;const button=props.isMapsAvailable?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiButton"],{onClick:props.onClick,size:"s"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"maps_legacy.openInMapsButtonLabel",defaultMessage:"View in Maps"}))):null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiCallOut"],{className:"hide-for-sharing","data-test-subj":"deprecatedVisInfo",size:"s",title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("maps_legacy.legacyMapDeprecationTitle",{defaultMessage:"{label} will migrate to Maps in 8.0.",values:{label:props.visualizationLabel}})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"maps_legacy.legacyMapDeprecationMessage",defaultMessage:"With Maps, you can add multiple layers and indices, plot individual documents, symbolize features from data values, add heatmaps, grids, and clusters, and more. {getMapsMessage}",values:{getMapsMessage:getMapsMessage}})),button)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return convertToGeoJson}));var decode_geo_hash=__webpack_require__(6);const gridAtEquator={1:[5009400,4992600],2:[1252300,624100],3:[156500,156e3],4:[39100,19500],5:[4900,4900],6:[1200,609.4],7:[152.9,152.4],8:[38.2,19],9:[4.8,4.8],10:[1.2,.595],11:[.149,.149],12:[.037,.019]};function gridDimensions(precision){return gridAtEquator[precision]}function convertToGeoJson(tabifiedResponse,{geohash:geohash,geocentroid:geocentroid,metric:metric}){let features;let min=Infinity;let max=-Infinity;if(tabifiedResponse&&tabifiedResponse.rows){const table=tabifiedResponse;const geohashColumn=geohash?table.columns[geohash.accessor]:null;if(!geohashColumn){features=[]}else{const metricColumn=table.columns[metric.accessor];const geocentroidColumn=geocentroid?table.columns[geocentroid.accessor]:null;features=table.rows.map(row=>{const geohashValue=row[geohashColumn.id];if(!geohashValue)return false;const geohashLocation=Object(decode_geo_hash["a"])(geohashValue);let pointCoordinates;if(geocentroidColumn){const location=row[geocentroidColumn.id];pointCoordinates=[location.lon,location.lat]}else{pointCoordinates=[geohashLocation.longitude[2],geohashLocation.latitude[2]]}const rectangle=[[geohashLocation.latitude[0],geohashLocation.longitude[0]],[geohashLocation.latitude[0],geohashLocation.longitude[1]],[geohashLocation.latitude[1],geohashLocation.longitude[1]],[geohashLocation.latitude[1],geohashLocation.longitude[0]]];const centerLatLng=[geohashLocation.latitude[2],geohashLocation.longitude[2]];if(geohash.params.useGeocentroid){pointCoordinates[0]=clampGrid(pointCoordinates[0],geohashLocation.longitude[0],geohashLocation.longitude[1]);pointCoordinates[1]=clampGrid(pointCoordinates[1],geohashLocation.latitude[0],geohashLocation.latitude[1])}const value=row[metricColumn.id];min=Math.min(min,value);max=Math.max(max,value);return{type:"Feature",geometry:{type:"Point",coordinates:pointCoordinates},properties:{geohash:geohashValue,geohash_meta:{center:centerLatLng,rectangle:rectangle},value:value}}}).filter(row=>row)}}else{features=[]}const featureCollection={type:"FeatureCollection",features:features};return{featureCollection:featureCollection,meta:{min:min,max:max,geohashPrecision:geohash&&geohash.params.precision,geohashGridDimensionsAtEquator:geohash&&gridDimensions(geohash.params.precision)}}}function clampGrid(val,min,max){if(val>max)val=max;else if(val<min)val=min;return val}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return WmsOptions}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(5);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(1);var public_=__webpack_require__(4);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function WmsInternalOptions({wms:wms,setValue:setValue}){const wmsLink=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:"http://www.opengeospatial.org/standards/wms",target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsLinkText",defaultMessage:"OGC standard"}));const footnoteText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("span",{"aria-hidden":"true"},"*"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.mapLoadFailDescription",defaultMessage:"If this parameter is incorrect, maps will fail to load."}));const footnote=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,footnoteText));const setOptions=(paramName,value)=>setValue("options",_objectSpread(_objectSpread({},wms.options),{},{[paramName]:value}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsDescription",defaultMessage:"WMS is an {wmsLink} for map image services.",values:{wmsLink:wmsLink}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_["TextInputOption"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsUrlLabel",defaultMessage:"WMS url"}),external_kbnSharedDeps_React_default.a.createElement("span",{"aria-hidden":"true"},"*")),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.urlOfWMSWebServiceTip",defaultMessage:"The URL of the WMS web service."}),footnote),paramName:"url",value:wms.url,setValue:setValue}),external_kbnSharedDeps_React_default.a.createElement(public_["TextInputOption"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsLayersLabel",defaultMessage:"WMS layers"}),external_kbnSharedDeps_React_default.a.createElement("span",{"aria-hidden":"true"},"*")),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.listOfLayersToUseTip",defaultMessage:"A comma separated list of layers to use."}),footnote),paramName:"layers",value:wms.options.layers,setValue:setOptions}),external_kbnSharedDeps_React_default.a.createElement(public_["TextInputOption"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsVersionLabel",defaultMessage:"WMS version"}),external_kbnSharedDeps_React_default.a.createElement("span",{"aria-hidden":"true"},"*")),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.versionOfWMSserverSupportsTip",defaultMessage:"The version of WMS the server supports."}),footnote),paramName:"version",value:wms.options.version,setValue:setOptions}),external_kbnSharedDeps_React_default.a.createElement(public_["TextInputOption"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsFormatLabel",defaultMessage:"WMS format"}),external_kbnSharedDeps_React_default.a.createElement("span",{"aria-hidden":"true"},"*")),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.imageFormatToUseTip",defaultMessage:"Usually image/png or image/jpeg. Use png if the server will return transparent layers."}),footnote),paramName:"format",value:wms.options.format,setValue:setOptions}),external_kbnSharedDeps_React_default.a.createElement(public_["TextInputOption"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsAttributionLabel",defaultMessage:"WMS attribution"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.attributionStringTip",defaultMessage:"Attribution string for the lower right corner."}),paramName:"attribution",value:wms.options.attribution,setValue:setOptions}),external_kbnSharedDeps_React_default.a.createElement(public_["TextInputOption"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsStylesLabel",defaultMessage:"WMS styles"}),external_kbnSharedDeps_React_default.a.createElement("span",{"aria-hidden":"true"},"*")),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.wmsServerSupportedStylesListTip",defaultMessage:"A comma separated list of WMS server supported styles to use. Blank in most cases."}),footnote),paramName:"styles",value:wms.options.styles,setValue:setOptions}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("p",{"aria-hidden":"true"},footnoteText)))}function wms_options_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function wms_options_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){wms_options_ownKeys(Object(source),true).forEach((function(key){wms_options_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{wms_options_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function wms_options_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const mapLayerForOption=({id:id})=>({text:id,value:id});function WmsOptions({stateParams:stateParams,setValue:setValue,vis:vis}){const wms=stateParams.wms;const tmsLayers=vis.type.editorConfig.collections.tmsLayers;const tmsLayerOptions=Object(external_kbnSharedDeps_React_["useMemo"])(()=>tmsLayers.map(mapLayerForOption),[tmsLayers]);const setWmsOption=(paramName,value)=>setValue("wms",wms_options_objectSpread(wms_options_objectSpread({},wms),{},{[paramName]:value}));const selectTmsLayer=id=>{const layer=tmsLayers.find(l=>l.id===id);if(layer){setWmsOption("selectedTmsLayer",layer)}};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"maps_legacy.wmsOptions.baseLayerSettingsTitle",defaultMessage:"Base layer settings"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(public_["SwitchOption"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("maps_legacy.wmsOptions.wmsMapServerLabel",{defaultMessage:"WMS map server"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("maps_legacy.wmsOptions.useWMSCompliantMapTileServerTip",{defaultMessage:"Use WMS compliant map tile server. For advanced users only."}),paramName:"enabled",value:wms.enabled,setValue:setWmsOption}),!wms.enabled&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(public_["SelectOption"],{id:"wmsOptionsSelectTmsLayer",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("maps_legacy.wmsOptions.layersLabel",{defaultMessage:"Layers"}),options:tmsLayerOptions,paramName:"selectedTmsLayer",value:wms.selectedTmsLayer&&wms.selectedTmsLayer.id,setValue:(param,value)=>selectTmsLayer(value)})),wms.enabled&&external_kbnSharedDeps_React_default.a.createElement(WmsInternalOptions,{wms:wms,setValue:setWmsOption}))}},function(module,exports){module.exports=__kbnSharedDeps__.ReactDomServer},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return plugin_MapsLegacyPlugin}));var kibana_services=__webpack_require__(3);var decode_geo_hash=__webpack_require__(6);const DEFAULT_PRECISION=2;function getMaxPrecision(){const config=Object(kibana_services["e"])();return parseInt(config.get("visualization:tileMap:maxPrecision"),10)||12}function getZoomPrecision(){const zoomPrecision={};const minGeohashPixels=16;const maxPrecision=getMaxPrecision();for(let zoom=0;zoom<=21;zoom+=1){const worldPixels=256*Math.pow(2,zoom);zoomPrecision[zoom]=1;for(let precision=2;precision<=maxPrecision;precision+=1){const columns=Object(decode_geo_hash["c"])(precision);if(worldPixels/columns>=minGeohashPixels){zoomPrecision[zoom]=precision}else{break}}}return zoomPrecision}function getPrecision(val){let precision=parseInt(val,10);const maxPrecision=getMaxPrecision();if(Number.isNaN(precision)){precision=DEFAULT_PRECISION}if(precision>maxPrecision){return maxPrecision}return precision}var external_kbnSharedDeps_KbnI18n_=__webpack_require__(5);var external_kbnSharedDeps_Rxjs_=__webpack_require__(11);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(13);var lazy_load_bundle=__webpack_require__(8);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}let loadPromise;function getServiceSettings(){return _getServiceSettings.apply(this,arguments)}function _getServiceSettings(){_getServiceSettings=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(typeof loadPromise!=="undefined")){_context2.next=2;break}return _context2.abrupt("return",loadPromise);case 2:loadPromise=new Promise(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(resolve){var modules,config;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Object(lazy_load_bundle["a"])();case 2:modules=_context.sent;config=Object(kibana_services["c"])();resolve(new modules.ServiceSettings(config,config.tilemap));case 5:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}());return _context2.abrupt("return",loadPromise);case 4:case"end":return _context2.stop()}}),_callee2)})));return _getServiceSettings.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function base_maps_visualization_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function base_maps_visualization_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){base_maps_visualization_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){base_maps_visualization_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const WMS_MINZOOM=0;const WMS_MAXZOOM=22;function BaseMapsVisualizationProvider(){return class BaseMapsVisualization{constructor(element,vis){this.vis=vis;this._container=element;this._kibanaMap=null;this._chartData=null;this._baseLayerDirty=true;this._mapIsLoaded=this._makeKibanaMap()}isLoaded(){return this._mapIsLoaded}destroy(){if(this._kibanaMap){this._kibanaMap.destroy();this._kibanaMap=null}}render(esResponse,visParams){var _this=this;return base_maps_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this._kibanaMap){_context.next=2;break}return _context.abrupt("return");case 2:_context.next=4;return _this._mapIsLoaded;case 4:_this._kibanaMap.resize();_this._params=visParams;_context.next=8;return _this._updateParams();case 8:if(!_this._hasESResponseChanged(esResponse)){_context.next=11;break}_context.next=11;return _this._updateData(esResponse);case 11:_this._kibanaMap.useUiStateFromVisualization(_this.vis);_context.next=14;return _this._whenBaseLayerIsLoaded();case 14:case"end":return _context.stop()}}),_callee)})))()}_makeKibanaMap(){var _this2=this;return base_maps_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var options,uiState,zoomFromUiState,centerFromUIState,modules;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:options={};uiState=_this2.vis.getUiState();zoomFromUiState=parseInt(uiState.get("mapZoom"));centerFromUIState=uiState.get("mapCenter");options.zoom=!isNaN(zoomFromUiState)?zoomFromUiState:_this2.vis.params.mapZoom;options.center=centerFromUIState?centerFromUIState:_this2.vis.params.mapCenter;_context2.next=8;return Object(lazy_load_bundle["a"])();case 8:modules=_context2.sent;_this2._kibanaMap=new modules.KibanaMap(_this2._container,options);_this2._kibanaMap.setMinZoom(WMS_MINZOOM);_this2._kibanaMap.setMaxZoom(WMS_MAXZOOM);_this2._kibanaMap.addLegendControl();_this2._kibanaMap.addFitControl();_this2._kibanaMap.persistUiStateForVisualization(_this2.vis);_this2._kibanaMap.on("baseLayer:loaded",()=>{_this2._baseLayerDirty=false});_this2._kibanaMap.on("baseLayer:loading",()=>{_this2._baseLayerDirty=true});_context2.next=19;return _this2._updateBaseLayer();case 19:case"end":return _context2.stop()}}),_callee2)})))()}_tmsConfigured(){const _this$_getMapsParams=this._getMapsParams(),wms=_this$_getMapsParams.wms;const hasTmsBaseLayer=wms&&!!wms.selectedTmsLayer;return hasTmsBaseLayer}_wmsConfigured(){const _this$_getMapsParams2=this._getMapsParams(),wms=_this$_getMapsParams2.wms;const hasWmsBaseLayer=wms&&!!wms.enabled;return hasWmsBaseLayer}_updateBaseLayer(){var _this3=this;return base_maps_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var emsTileLayerId,mapParams,serviceSettings,tmsServices,userConfiguredTmsLayer,initBasemapLayer,selectedTmsLayer;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:emsTileLayerId=Object(kibana_services["a"])();if(_this3._kibanaMap){_context3.next=3;break}return _context3.abrupt("return");case 3:mapParams=_this3._getMapsParams();if(_this3._tmsConfigured()){_context3.next=22;break}_context3.prev=5;_context3.next=8;return getServiceSettings();case 8:serviceSettings=_context3.sent;_context3.next=11;return serviceSettings.getTMSServices();case 11:tmsServices=_context3.sent;userConfiguredTmsLayer=tmsServices[0];initBasemapLayer=userConfiguredTmsLayer?userConfiguredTmsLayer:tmsServices.find(s=>s.id===emsTileLayerId.bright);if(initBasemapLayer){_this3._setTmsLayer(initBasemapLayer)}_context3.next=21;break;case 17:_context3.prev=17;_context3.t0=_context3["catch"](5);Object(kibana_services["d"])().addWarning(_context3.t0.message);return _context3.abrupt("return");case 21:return _context3.abrupt("return");case 22:try{if(_this3._wmsConfigured()){if(WMS_MINZOOM>_this3._kibanaMap.getMaxZoomLevel()){_this3._kibanaMap.setMinZoom(WMS_MINZOOM);_this3._kibanaMap.setMaxZoom(WMS_MAXZOOM)}_this3._kibanaMap.setBaseLayer({baseLayerType:"wms",options:_objectSpread({minZoom:WMS_MINZOOM,maxZoom:WMS_MAXZOOM,url:mapParams.wms.url},mapParams.wms.options)})}else if(_this3._tmsConfigured()){selectedTmsLayer=mapParams.wms.selectedTmsLayer;_this3._setTmsLayer(selectedTmsLayer)}}catch(tmsLoadingError){Object(kibana_services["d"])().addWarning(tmsLoadingError.message)}case 23:case"end":return _context3.stop()}}),_callee3,null,[[5,17]])})))()}_setTmsLayer(tmsLayer){var _this4=this;return base_maps_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var isDesaturated,isDarkMode,serviceSettings,meta,showZoomMessage,options;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_this4._kibanaMap.setMinZoom(tmsLayer.minZoom);_this4._kibanaMap.setMaxZoom(tmsLayer.maxZoom);if(_this4._kibanaMap.getZoomLevel()>tmsLayer.maxZoom){_this4._kibanaMap.setZoomLevel(tmsLayer.maxZoom)}isDesaturated=_this4._getMapsParams().isDesaturated;if(typeof isDesaturated!=="boolean"){isDesaturated=true}isDarkMode=Object(kibana_services["e"])().get("theme:darkMode");_context4.next=8;return getServiceSettings();case 8:serviceSettings=_context4.sent;_context4.next=11;return serviceSettings.getAttributesForTMSLayer(tmsLayer,isDesaturated,isDarkMode);case 11:meta=_context4.sent;showZoomMessage=serviceSettings.shouldShowZoomMessage(tmsLayer);options=_objectSpread({},tmsLayer);delete options.id;delete options.subdomains;_this4._kibanaMap.setBaseLayer({baseLayerType:"tms",options:_objectSpread(_objectSpread({},options),{},{showZoomMessage:showZoomMessage},meta)});case 17:case"end":return _context4.stop()}}),_callee4)})))()}_updateData(){return base_maps_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("maps_legacy.baseMapsVisualization.childShouldImplementMethodErrorMessage",{defaultMessage:"Child should implement this method to respond to data-update"}));case 1:case"end":return _context5.stop()}}),_callee5)})))()}_hasESResponseChanged(data){return this._chartData!==data}_updateParams(){var _this5=this;return base_maps_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var mapParams;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:mapParams=_this5._getMapsParams();_context6.next=3;return _this5._updateBaseLayer();case 3:_this5._kibanaMap.setLegendPosition(mapParams.legendPosition);_this5._kibanaMap.setShowTooltip(mapParams.addTooltip);_this5._kibanaMap.useUiStateFromVisualization(_this5.vis);case 6:case"end":return _context6.stop()}}),_callee6)})))()}_getMapsParams(){return _objectSpread(_objectSpread({},this.vis.type.visConfig.defaults),{},{type:this.vis.type.name},this._params)}_whenBaseLayerIsLoaded(){if(!this._tmsConfigured()){return true}const maxTimeForBaseLayer=1e4;const interval$=external_kbnSharedDeps_Rxjs_["interval"](10).pipe(Object(external_kbnSharedDeps_RxjsOperators_["filter"])(()=>!this._baseLayerDirty));const timer$=external_kbnSharedDeps_Rxjs_["timer"](maxTimeForBaseLayer);return external_kbnSharedDeps_Rxjs_["race"](interval$,timer$).pipe(Object(external_kbnSharedDeps_RxjsOperators_["first"])()).toPromise()}}}function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const bindSetupCoreAndPlugins=(core,config,kibanaVersion)=>{Object(kibana_services["h"])(core.notifications.toasts);Object(kibana_services["i"])(core.uiSettings);Object(kibana_services["f"])(kibanaVersion);Object(kibana_services["g"])(config)};class plugin_MapsLegacyPlugin{constructor(initializerContext){plugin_defineProperty(this,"_initializerContext",void 0);this._initializerContext=initializerContext}setup(core,plugins){const config=this._initializerContext.config.get();const kibanaVersion=this._initializerContext.env.packageInfo.version;bindSetupCoreAndPlugins(core,config,kibanaVersion);const getBaseMapsVis=()=>new BaseMapsVisualizationProvider;return{getServiceSettings:getServiceSettings,getZoomPrecision:getZoomPrecision,getPrecision:getPrecision,config:config,getBaseMapsVis:getBaseMapsVis}}start(core,plugins){}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_mapsLegacy_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29);var _node_modules_val_loader_dist_cjs_js_key_mapsLegacy_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_mapsLegacy_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/mapsLegacy/public",__webpack_require__,30);__kbnBundles__.define("plugin/mapsLegacy/common",__webpack_require__,12)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["mapsLegacy"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return plugin}));var _plugin__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27);var _map_color_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15);__webpack_require__.d(__webpack_exports__,"colorUtil",(function(){return _map_color_util__WEBPACK_IMPORTED_MODULE_1__}));var _map_kibana_map_layer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16);__webpack_require__.d(__webpack_exports__,"KibanaMapLayer",(function(){return _map_kibana_map_layer__WEBPACK_IMPORTED_MODULE_2__["a"]}));var _map_convert_to_geojson__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24);__webpack_require__.d(__webpack_exports__,"convertToGeoJson",(function(){return _map_convert_to_geojson__WEBPACK_IMPORTED_MODULE_3__["a"]}));var _map_decode_geo_hash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"getPrecision",(function(){return _map_decode_geo_hash__WEBPACK_IMPORTED_MODULE_4__["getPrecision"]}));__webpack_require__.d(__webpack_exports__,"geoContains",(function(){return _map_decode_geo_hash__WEBPACK_IMPORTED_MODULE_4__["b"]}));var _map_service_settings_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7);var _map_service_settings_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_map_service_settings_types__WEBPACK_IMPORTED_MODULE_5__);__webpack_require__.d(__webpack_exports__,"IServiceSettings",(function(){return _map_service_settings_types__WEBPACK_IMPORTED_MODULE_5__["IServiceSettings"]}));__webpack_require__.d(__webpack_exports__,"VectorLayer",(function(){return _map_service_settings_types__WEBPACK_IMPORTED_MODULE_5__["VectorLayer"]}));__webpack_require__.d(__webpack_exports__,"FileLayerField",(function(){return _map_service_settings_types__WEBPACK_IMPORTED_MODULE_5__["FileLayerField"]}));__webpack_require__.d(__webpack_exports__,"FileLayer",(function(){return _map_service_settings_types__WEBPACK_IMPORTED_MODULE_5__["FileLayer"]}));__webpack_require__.d(__webpack_exports__,"TmsLayer",(function(){return _map_service_settings_types__WEBPACK_IMPORTED_MODULE_5__["TmsLayer"]}));var _tooltip_provider__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18);__webpack_require__.d(__webpack_exports__,"mapTooltipProvider",(function(){return _tooltip_provider__WEBPACK_IMPORTED_MODULE_6__["a"]}));var _map_index_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(31);var _map_index_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_map_index_scss__WEBPACK_IMPORTED_MODULE_7__);var _common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(12);__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_FILE_API_URL",(function(){return _common__WEBPACK_IMPORTED_MODULE_8__["DEFAULT_EMS_FILE_API_URL"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_TILE_API_URL",(function(){return _common__WEBPACK_IMPORTED_MODULE_8__["DEFAULT_EMS_TILE_API_URL"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_LANDING_PAGE_URL",(function(){return _common__WEBPACK_IMPORTED_MODULE_8__["DEFAULT_EMS_LANDING_PAGE_URL"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_EMS_FONT_LIBRARY_URL",(function(){return _common__WEBPACK_IMPORTED_MODULE_8__["DEFAULT_EMS_FONT_LIBRARY_URL"]}));var _common_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(19);for(var __WEBPACK_IMPORT_KEY__ in _common_types__WEBPACK_IMPORTED_MODULE_9__)if(["default","plugin","getPrecision","geoContains","colorUtil","convertToGeoJson","IServiceSettings","KibanaMapLayer","VectorLayer","FileLayerField","FileLayer","TmsLayer","mapTooltipProvider","ORIGIN","WmsOptions","LegacyMapDeprecationMessage","lazyLoadMapsLegacyModules","DEFAULT_EMS_FILE_API_URL","DEFAULT_EMS_TILE_API_URL","DEFAULT_EMS_LANDING_PAGE_URL","DEFAULT_EMS_FONT_LIBRARY_URL"].indexOf(__WEBPACK_IMPORT_KEY__)<0)(function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _common_types__WEBPACK_IMPORTED_MODULE_9__[key]}))})(__WEBPACK_IMPORT_KEY__);var _common_constants_origin__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"ORIGIN",(function(){return _common_constants_origin__WEBPACK_IMPORTED_MODULE_10__["a"]}));var _components_wms_options__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(25);__webpack_require__.d(__webpack_exports__,"WmsOptions",(function(){return _components_wms_options__WEBPACK_IMPORTED_MODULE_11__["a"]}));var _components_legacy_map_deprecation_message__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(23);__webpack_require__.d(__webpack_exports__,"LegacyMapDeprecationMessage",(function(){return _components_legacy_map_deprecation_message__WEBPACK_IMPORTED_MODULE_12__["a"]}));var _lazy_load_bundle__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8);__webpack_require__.d(__webpack_exports__,"lazyLoadMapsLegacyModules",(function(){return _lazy_load_bundle__WEBPACK_IMPORTED_MODULE_13__["a"]}));function plugin(initializerContext){return new _plugin__WEBPACK_IMPORTED_MODULE_0__["a"](initializerContext)}},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(32);case"v7light":return __webpack_require__(34);case"v8dark":return __webpack_require__(36);case"v8light":return __webpack_require__(38)}},function(module,exports,__webpack_require__){var api=__webpack_require__(9);var content=__webpack_require__(33);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(10);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".leaflet-touch .leaflet-bar,\n.leaflet-draw-actions {\n  box-shadow: 0 6px 12px -1px rgba(0, 0, 0, 0.2), 0 4px 4px -1px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.2);\n  border: none; }\n\n.leaflet-container {\n  background: #1D1E24;\n  min-width: 1px !important;\n  min-height: 1px !important; }\n\n.leaflet-clickable:hover {\n  stroke-width: 8px;\n  stroke-opacity: 0.8; }\n\n/**\n * 1. Since Leaflet is an external library, we also have to provide EUI variables\n *    to non-override colors for darkmode.\n */\n.leaflet-draw-actions a,\n.leaflet-control a {\n  background-color: #343741;\n  /* 1 */\n  border-color: #535966 !important;\n  /* 1 */\n  color: #DFE5EF !important;\n  /* 1 */ }\n  .leaflet-draw-actions a:hover,\n  .leaflet-control a:hover {\n    background-color: #25262E; }\n\n.leaflet-touch .leaflet-bar a:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px; }\n\n.leaflet-touch .leaflet-bar a:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px; }\n\n.leaflet-retina .leaflet-draw-toolbar a {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 60' height='60' width='600'%3E%3Cg fill='rgb%28223, 229, 239%29'%3E%3Cg%3E%3Cpath d='M18 36v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M36 18v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M23.142 39.145l-2.285-2.29 16-15.998 2.285 2.285z'/%3E%3C/g%3E%3Cpath d='M100 24.565l-2.096 14.83L83.07 42 76 28.773 86.463 18z'/%3E%3Cpath d='M140 20h20v20h-20z'/%3E%3Cpath d='M221 30c0 6.078-4.926 11-11 11s-11-4.922-11-11c0-6.074 4.926-11 11-11s11 4.926 11 11z'/%3E%3Cpath d='M270,19c-4.971,0-9,4.029-9,9c0,4.971,5.001,12,9,14c4.001-2,9-9.029,9-14C279,23.029,274.971,19,270,19z M270,31.5c-2.484,0-4.5-2.014-4.5-4.5c0-2.484,2.016-4.5,4.5-4.5c2.485,0,4.5,2.016,4.5,4.5C274.5,29.486,272.485,31.5,270,31.5z'/%3E%3Cg%3E%3Cpath d='M337,30.156v0.407v5.604c0,1.658-1.344,3-3,3h-10c-1.655,0-3-1.342-3-3v-10c0-1.657,1.345-3,3-3h6.345 l3.19-3.17H324c-3.313,0-6,2.687-6,6v10c0,3.313,2.687,6,6,6h10c3.314,0,6-2.687,6-6v-8.809L337,30.156'/%3E%3Cpath d='M338.72 24.637l-8.892 8.892H327V30.7l8.89-8.89z'/%3E%3Cpath d='M338.697 17.826h4v4h-4z' transform='rotate(-134.99 340.703 19.817)'/%3E%3C/g%3E%3Cg%3E%3Cpath d='M381 42h18V24h-18v18zm14-16h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26z'/%3E%3Cpath d='M395 20v-4h-10v4h-6v2h22v-2h-6zm-2 0h-6v-2h6v2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n  /* 1 */ }\n\n.leaflet-control-layers-expanded {\n  padding: 0;\n  margin: 0;\n  font-size: 11px;\n  font-size: 0.6875rem;\n  font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5; }\n  .leaflet-control-layers-expanded label {\n    font-weight: 500;\n    margin: 0;\n    padding: 0; }\n\n/* over-rides leaflet popup styles to look like kibana tooltip */\n.leaflet-popup-content-wrapper {\n  margin: 0;\n  padding: 0;\n  background: #1a1a1a;\n  color: #FFF;\n  border-radius: 4px !important; }\n\n.leaflet-popup {\n  pointer-events: none; }\n\n.leaflet-popup-content {\n  margin: 0;\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  font-weight: 400;\n  word-wrap: break-word;\n  overflow: hidden;\n  pointer-events: none; }\n  .leaflet-popup-content > * {\n    margin: 8px 8px 0; }\n  .leaflet-popup-content > :last-child {\n    margin-bottom: 8px; }\n  .leaflet-popup-content table td, .leaflet-popup-content table th {\n    padding: 4px; }\n\n.leaflet-popup-tip-container,\n.leaflet-popup-close-button,\n.leaflet-draw-tooltip {\n  display: none !important; }\n\n.leaflet-container .leaflet-control-attribution {\n  background-color: rgba(29, 30, 36, 0.3);\n  color: #98A2B3; }\n  .leaflet-container .leaflet-control-attribution p {\n    display: inline; }\n\n.leaflet-touch .leaflet-control-zoom-in,\n.leaflet-touch .leaflet-control-zoom-out {\n  text-indent: -10000px;\n  background-repeat: no-repeat;\n  background-position: center; }\n\n.leaflet-touch .leaflet-control-zoom-in {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%28223, 229, 239%29' d='M8,7 L8,3.5 C8,3.22385763 7.77614237,3 7.5,3 C7.22385763,3 7,3.22385763 7,3.5 L7,7 L3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L7,8 L7,11.5 C7,11.7761424 7.22385763,12 7.5,12 C7.77614237,12 8,11.7761424 8,11.5 L8,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L8,7 Z M7.5,15 C3.35786438,15 0,11.6421356 0,7.5 C0,3.35786438 3.35786438,0 7.5,0 C11.6421356,0 15,3.35786438 15,7.5 C15,11.6421356 11.6421356,15 7.5,15 Z' /%3E%3C/svg%3E\"); }\n\n.leaflet-touch .leaflet-control-zoom-out {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%28223, 229, 239%29' d='M7.5,0 C11.6355882,0 15,3.36441176 15,7.5 C15,11.6355882 11.6355882,15 7.5,15 C3.36441176,15 0,11.6355882 0,7.5 C0,3.36441176 3.36441176,0 7.5,0 Z M3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L3.5,7 Z' /%3E%3C/svg%3E\"); }\n\nimg.leaflet-tile {\n  -webkit-filter: invert(1) brightness(1.75) grayscale(1);\n          filter: invert(1) brightness(1.75) grayscale(1); }\n\nimg.leaflet-tile.filters-off {\n  -webkit-filter: none;\n          filter: none; }\n\n.visMapLegend {\n  font-size: 11px;\n  font-size: 0.6875rem;\n  box-shadow: 0 6px 12px -1px rgba(0, 0, 0, 0.1), 0 4px 4px -1px rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\n  font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5;\n  color: #98A2B3;\n  padding: 8px;\n  background: rgba(29, 30, 36, 0.8);\n  border-radius: 4px; }\n  .visMapLegend i {\n    width: 10px;\n    height: 10px;\n    display: inline-block;\n    margin: 3px 4px 0 0;\n    border-radius: 50%;\n    border: 1px solid #98A2B3;\n    background: #98A2B3; }\n\n.visMapLegend__title {\n  font-weight: 700; }\n\n.leaflet-top.leaflet-left .visMapLegend__wrapper {\n  position: absolute;\n  left: 40px;\n  white-space: nowrap; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(9);var content=__webpack_require__(35);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(10);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".leaflet-touch .leaflet-bar,\n.leaflet-draw-actions {\n  box-shadow: 0 6px 12px -1px rgba(103, 75, 75, 0.2), 0 4px 4px -1px rgba(103, 75, 75, 0.2), 0 2px 2px 0 rgba(103, 75, 75, 0.2);\n  border: none; }\n\n.leaflet-container {\n  background: #FFF;\n  min-width: 1px !important;\n  min-height: 1px !important; }\n\n.leaflet-clickable:hover {\n  stroke-width: 8px;\n  stroke-opacity: 0.8; }\n\n/**\n * 1. Since Leaflet is an external library, we also have to provide EUI variables\n *    to non-override colors for darkmode.\n */\n.leaflet-draw-actions a,\n.leaflet-control a {\n  background-color: #FFF;\n  /* 1 */\n  border-color: #E6E6E6 !important;\n  /* 1 */\n  color: #252834 !important;\n  /* 1 */ }\n  .leaflet-draw-actions a:hover,\n  .leaflet-control a:hover {\n    background-color: #F8F8F8; }\n\n.leaflet-touch .leaflet-bar a:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px; }\n\n.leaflet-touch .leaflet-bar a:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px; }\n\n.leaflet-retina .leaflet-draw-toolbar a {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 60' height='60' width='600'%3E%3Cg fill='rgb%2837, 40, 52%29'%3E%3Cg%3E%3Cpath d='M18 36v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M36 18v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M23.142 39.145l-2.285-2.29 16-15.998 2.285 2.285z'/%3E%3C/g%3E%3Cpath d='M100 24.565l-2.096 14.83L83.07 42 76 28.773 86.463 18z'/%3E%3Cpath d='M140 20h20v20h-20z'/%3E%3Cpath d='M221 30c0 6.078-4.926 11-11 11s-11-4.922-11-11c0-6.074 4.926-11 11-11s11 4.926 11 11z'/%3E%3Cpath d='M270,19c-4.971,0-9,4.029-9,9c0,4.971,5.001,12,9,14c4.001-2,9-9.029,9-14C279,23.029,274.971,19,270,19z M270,31.5c-2.484,0-4.5-2.014-4.5-4.5c0-2.484,2.016-4.5,4.5-4.5c2.485,0,4.5,2.016,4.5,4.5C274.5,29.486,272.485,31.5,270,31.5z'/%3E%3Cg%3E%3Cpath d='M337,30.156v0.407v5.604c0,1.658-1.344,3-3,3h-10c-1.655,0-3-1.342-3-3v-10c0-1.657,1.345-3,3-3h6.345 l3.19-3.17H324c-3.313,0-6,2.687-6,6v10c0,3.313,2.687,6,6,6h10c3.314,0,6-2.687,6-6v-8.809L337,30.156'/%3E%3Cpath d='M338.72 24.637l-8.892 8.892H327V30.7l8.89-8.89z'/%3E%3Cpath d='M338.697 17.826h4v4h-4z' transform='rotate(-134.99 340.703 19.817)'/%3E%3C/g%3E%3Cg%3E%3Cpath d='M381 42h18V24h-18v18zm14-16h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26z'/%3E%3Cpath d='M395 20v-4h-10v4h-6v2h22v-2h-6zm-2 0h-6v-2h6v2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n  /* 1 */ }\n\n.leaflet-control-layers-expanded {\n  padding: 0;\n  margin: 0;\n  font-size: 11px;\n  font-size: 0.6875rem;\n  font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5; }\n  .leaflet-control-layers-expanded label {\n    font-weight: 500;\n    margin: 0;\n    padding: 0; }\n\n/* over-rides leaflet popup styles to look like kibana tooltip */\n.leaflet-popup-content-wrapper {\n  margin: 0;\n  padding: 0;\n  background: #595959;\n  color: #FFF;\n  border-radius: 4px !important; }\n\n.leaflet-popup {\n  pointer-events: none; }\n\n.leaflet-popup-content {\n  margin: 0;\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  font-weight: 400;\n  word-wrap: break-word;\n  overflow: hidden;\n  pointer-events: none; }\n  .leaflet-popup-content > * {\n    margin: 8px 8px 0; }\n  .leaflet-popup-content > :last-child {\n    margin-bottom: 8px; }\n  .leaflet-popup-content table td, .leaflet-popup-content table th {\n    padding: 4px; }\n\n.leaflet-popup-tip-container,\n.leaflet-popup-close-button,\n.leaflet-draw-tooltip {\n  display: none !important; }\n\n.leaflet-container .leaflet-control-attribution {\n  background-color: rgba(255, 255, 255, 0.3);\n  color: #6D6D6D; }\n  .leaflet-container .leaflet-control-attribution p {\n    display: inline; }\n\n.leaflet-touch .leaflet-control-zoom-in,\n.leaflet-touch .leaflet-control-zoom-out {\n  text-indent: -10000px;\n  background-repeat: no-repeat;\n  background-position: center; }\n\n.leaflet-touch .leaflet-control-zoom-in {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%2837, 40, 52%29' d='M8,7 L8,3.5 C8,3.22385763 7.77614237,3 7.5,3 C7.22385763,3 7,3.22385763 7,3.5 L7,7 L3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L7,8 L7,11.5 C7,11.7761424 7.22385763,12 7.5,12 C7.77614237,12 8,11.7761424 8,11.5 L8,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L8,7 Z M7.5,15 C3.35786438,15 0,11.6421356 0,7.5 C0,3.35786438 3.35786438,0 7.5,0 C11.6421356,0 15,3.35786438 15,7.5 C15,11.6421356 11.6421356,15 7.5,15 Z' /%3E%3C/svg%3E\"); }\n\n.leaflet-touch .leaflet-control-zoom-out {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%2837, 40, 52%29' d='M7.5,0 C11.6355882,0 15,3.36441176 15,7.5 C15,11.6355882 11.6355882,15 7.5,15 C3.36441176,15 0,11.6355882 0,7.5 C0,3.36441176 3.36441176,0 7.5,0 Z M3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L3.5,7 Z' /%3E%3C/svg%3E\"); }\n\nimg.leaflet-tile {\n  -webkit-filter: brightness(1.03) grayscale(0.73);\n          filter: brightness(1.03) grayscale(0.73); }\n\nimg.leaflet-tile.filters-off {\n  -webkit-filter: none;\n          filter: none; }\n\n.visMapLegend {\n  font-size: 11px;\n  font-size: 0.6875rem;\n  box-shadow: 0 6px 12px -1px rgba(103, 75, 75, 0.1), 0 4px 4px -1px rgba(103, 75, 75, 0.1), 0 2px 2px 0 rgba(103, 75, 75, 0.1);\n  font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5;\n  color: #6D6D6D;\n  padding: 8px;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 4px; }\n  .visMapLegend i {\n    width: 10px;\n    height: 10px;\n    display: inline-block;\n    margin: 3px 4px 0 0;\n    border-radius: 50%;\n    border: 1px solid #6D6D6D;\n    background: #6D6D6D; }\n\n.visMapLegend__title {\n  font-weight: 700; }\n\n.leaflet-top.leaflet-left .visMapLegend__wrapper {\n  position: absolute;\n  left: 40px;\n  white-space: nowrap; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(9);var content=__webpack_require__(37);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(10);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".leaflet-touch .leaflet-bar,\n.leaflet-draw-actions {\n  box-shadow: 0 0.9px 4px -1px rgba(0, 0, 0, 0.2), 0 2.6px 8px -1px rgba(0, 0, 0, 0.15), 0 5.7px 12px -1px rgba(0, 0, 0, 0.125), 0 15px 15px -1px rgba(0, 0, 0, 0.1);\n  border: none; }\n\n.leaflet-container {\n  background: #1D1E24;\n  min-width: 1px !important;\n  min-height: 1px !important; }\n\n.leaflet-clickable:hover {\n  stroke-width: 8px;\n  stroke-opacity: 0.8; }\n\n/**\n * 1. Since Leaflet is an external library, we also have to provide EUI variables\n *    to non-override colors for darkmode.\n */\n.leaflet-draw-actions a,\n.leaflet-control a {\n  background-color: #343741;\n  /* 1 */\n  border-color: #535966 !important;\n  /* 1 */\n  color: #DFE5EF !important;\n  /* 1 */ }\n  .leaflet-draw-actions a:hover,\n  .leaflet-control a:hover {\n    background-color: #25262E; }\n\n.leaflet-touch .leaflet-bar a:first-child {\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px; }\n\n.leaflet-touch .leaflet-bar a:last-child {\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px; }\n\n.leaflet-retina .leaflet-draw-toolbar a {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 60' height='60' width='600'%3E%3Cg fill='rgb%28223, 229, 239%29'%3E%3Cg%3E%3Cpath d='M18 36v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M36 18v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M23.142 39.145l-2.285-2.29 16-15.998 2.285 2.285z'/%3E%3C/g%3E%3Cpath d='M100 24.565l-2.096 14.83L83.07 42 76 28.773 86.463 18z'/%3E%3Cpath d='M140 20h20v20h-20z'/%3E%3Cpath d='M221 30c0 6.078-4.926 11-11 11s-11-4.922-11-11c0-6.074 4.926-11 11-11s11 4.926 11 11z'/%3E%3Cpath d='M270,19c-4.971,0-9,4.029-9,9c0,4.971,5.001,12,9,14c4.001-2,9-9.029,9-14C279,23.029,274.971,19,270,19z M270,31.5c-2.484,0-4.5-2.014-4.5-4.5c0-2.484,2.016-4.5,4.5-4.5c2.485,0,4.5,2.016,4.5,4.5C274.5,29.486,272.485,31.5,270,31.5z'/%3E%3Cg%3E%3Cpath d='M337,30.156v0.407v5.604c0,1.658-1.344,3-3,3h-10c-1.655,0-3-1.342-3-3v-10c0-1.657,1.345-3,3-3h6.345 l3.19-3.17H324c-3.313,0-6,2.687-6,6v10c0,3.313,2.687,6,6,6h10c3.314,0,6-2.687,6-6v-8.809L337,30.156'/%3E%3Cpath d='M338.72 24.637l-8.892 8.892H327V30.7l8.89-8.89z'/%3E%3Cpath d='M338.697 17.826h4v4h-4z' transform='rotate(-134.99 340.703 19.817)'/%3E%3C/g%3E%3Cg%3E%3Cpath d='M381 42h18V24h-18v18zm14-16h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26z'/%3E%3Cpath d='M395 20v-4h-10v4h-6v2h22v-2h-6zm-2 0h-6v-2h6v2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n  /* 1 */ }\n\n.leaflet-control-layers-expanded {\n  padding: 0;\n  margin: 0;\n  font-size: 11px;\n  font-size: 0.78571rem;\n  font-family: \"Source Sans 3\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5; }\n  .leaflet-control-layers-expanded label {\n    font-weight: 500;\n    margin: 0;\n    padding: 0; }\n\n/* over-rides leaflet popup styles to look like kibana tooltip */\n.leaflet-popup-content-wrapper {\n  margin: 0;\n  padding: 0;\n  background: #1a1a1a;\n  color: #FFF;\n  border-radius: 6px !important; }\n\n.leaflet-popup {\n  pointer-events: none; }\n\n.leaflet-popup-content {\n  margin: 0;\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.5;\n  font-weight: 400;\n  word-wrap: break-word;\n  overflow: hidden;\n  pointer-events: none; }\n  .leaflet-popup-content > * {\n    margin: 8px 8px 0; }\n  .leaflet-popup-content > :last-child {\n    margin-bottom: 8px; }\n  .leaflet-popup-content table td, .leaflet-popup-content table th {\n    padding: 4px; }\n\n.leaflet-popup-tip-container,\n.leaflet-popup-close-button,\n.leaflet-draw-tooltip {\n  display: none !important; }\n\n.leaflet-container .leaflet-control-attribution {\n  background-color: rgba(29, 30, 36, 0.3);\n  color: #98A2B3; }\n  .leaflet-container .leaflet-control-attribution p {\n    display: inline; }\n\n.leaflet-touch .leaflet-control-zoom-in,\n.leaflet-touch .leaflet-control-zoom-out {\n  text-indent: -10000px;\n  background-repeat: no-repeat;\n  background-position: center; }\n\n.leaflet-touch .leaflet-control-zoom-in {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%28223, 229, 239%29' d='M8,7 L8,3.5 C8,3.22385763 7.77614237,3 7.5,3 C7.22385763,3 7,3.22385763 7,3.5 L7,7 L3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L7,8 L7,11.5 C7,11.7761424 7.22385763,12 7.5,12 C7.77614237,12 8,11.7761424 8,11.5 L8,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L8,7 Z M7.5,15 C3.35786438,15 0,11.6421356 0,7.5 C0,3.35786438 3.35786438,0 7.5,0 C11.6421356,0 15,3.35786438 15,7.5 C15,11.6421356 11.6421356,15 7.5,15 Z' /%3E%3C/svg%3E\"); }\n\n.leaflet-touch .leaflet-control-zoom-out {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%28223, 229, 239%29' d='M7.5,0 C11.6355882,0 15,3.36441176 15,7.5 C15,11.6355882 11.6355882,15 7.5,15 C3.36441176,15 0,11.6355882 0,7.5 C0,3.36441176 3.36441176,0 7.5,0 Z M3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L3.5,7 Z' /%3E%3C/svg%3E\"); }\n\nimg.leaflet-tile {\n  -webkit-filter: invert(1) brightness(1.75) grayscale(1);\n          filter: invert(1) brightness(1.75) grayscale(1); }\n\nimg.leaflet-tile.filters-off {\n  -webkit-filter: none;\n          filter: none; }\n\n.visMapLegend {\n  font-size: 11px;\n  font-size: 0.78571rem;\n  box-shadow: 0 0.9px 4px -1px rgba(0, 0, 0, 0.2), 0 2.6px 8px -1px rgba(0, 0, 0, 0.15), 0 5.7px 12px -1px rgba(0, 0, 0, 0.125), 0 15px 15px -1px rgba(0, 0, 0, 0.1);\n  font-family: \"Source Sans 3\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5;\n  color: #98A2B3;\n  padding: 8px;\n  background: rgba(29, 30, 36, 0.8);\n  border-radius: 6px; }\n  .visMapLegend i {\n    width: 10px;\n    height: 10px;\n    display: inline-block;\n    margin: 3px 4px 0 0;\n    border-radius: 50%;\n    border: 1px solid #98A2B3;\n    background: #98A2B3; }\n\n.visMapLegend__title {\n  font-weight: 700; }\n\n.leaflet-top.leaflet-left .visMapLegend__wrapper {\n  position: absolute;\n  left: 40px;\n  white-space: nowrap; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(9);var content=__webpack_require__(39);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(10);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".leaflet-touch .leaflet-bar,\n.leaflet-draw-actions {\n  box-shadow: 0 0.9px 4px -1px rgba(34, 34, 34, 0.08), 0 2.6px 8px -1px rgba(34, 34, 34, 0.06), 0 5.7px 12px -1px rgba(34, 34, 34, 0.05), 0 15px 15px -1px rgba(34, 34, 34, 0.04);\n  border: none; }\n\n.leaflet-container {\n  background: #FFF;\n  min-width: 1px !important;\n  min-height: 1px !important; }\n\n.leaflet-clickable:hover {\n  stroke-width: 8px;\n  stroke-opacity: 0.8; }\n\n/**\n * 1. Since Leaflet is an external library, we also have to provide EUI variables\n *    to non-override colors for darkmode.\n */\n.leaflet-draw-actions a,\n.leaflet-control a {\n  background-color: #FFF;\n  /* 1 */\n  border-color: #E6E6E6 !important;\n  /* 1 */\n  color: #464646 !important;\n  /* 1 */ }\n  .leaflet-draw-actions a:hover,\n  .leaflet-control a:hover {\n    background-color: #F8F8F8; }\n\n.leaflet-touch .leaflet-bar a:first-child {\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px; }\n\n.leaflet-touch .leaflet-bar a:last-child {\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px; }\n\n.leaflet-retina .leaflet-draw-toolbar a {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 60' height='60' width='600'%3E%3Cg fill='rgb%2870, 70, 70%29'%3E%3Cg%3E%3Cpath d='M18 36v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M36 18v6h6v-6h-6zm4 4h-2v-2h2v2z'/%3E%3Cpath d='M23.142 39.145l-2.285-2.29 16-15.998 2.285 2.285z'/%3E%3C/g%3E%3Cpath d='M100 24.565l-2.096 14.83L83.07 42 76 28.773 86.463 18z'/%3E%3Cpath d='M140 20h20v20h-20z'/%3E%3Cpath d='M221 30c0 6.078-4.926 11-11 11s-11-4.922-11-11c0-6.074 4.926-11 11-11s11 4.926 11 11z'/%3E%3Cpath d='M270,19c-4.971,0-9,4.029-9,9c0,4.971,5.001,12,9,14c4.001-2,9-9.029,9-14C279,23.029,274.971,19,270,19z M270,31.5c-2.484,0-4.5-2.014-4.5-4.5c0-2.484,2.016-4.5,4.5-4.5c2.485,0,4.5,2.016,4.5,4.5C274.5,29.486,272.485,31.5,270,31.5z'/%3E%3Cg%3E%3Cpath d='M337,30.156v0.407v5.604c0,1.658-1.344,3-3,3h-10c-1.655,0-3-1.342-3-3v-10c0-1.657,1.345-3,3-3h6.345 l3.19-3.17H324c-3.313,0-6,2.687-6,6v10c0,3.313,2.687,6,6,6h10c3.314,0,6-2.687,6-6v-8.809L337,30.156'/%3E%3Cpath d='M338.72 24.637l-8.892 8.892H327V30.7l8.89-8.89z'/%3E%3Cpath d='M338.697 17.826h4v4h-4z' transform='rotate(-134.99 340.703 19.817)'/%3E%3C/g%3E%3Cg%3E%3Cpath d='M381 42h18V24h-18v18zm14-16h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26zm-4 0h2v14h-2V26z'/%3E%3Cpath d='M395 20v-4h-10v4h-6v2h22v-2h-6zm-2 0h-6v-2h6v2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n  /* 1 */ }\n\n.leaflet-control-layers-expanded {\n  padding: 0;\n  margin: 0;\n  font-size: 11px;\n  font-size: 0.78571rem;\n  font-family: \"Source Sans 3\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5; }\n  .leaflet-control-layers-expanded label {\n    font-weight: 500;\n    margin: 0;\n    padding: 0; }\n\n/* over-rides leaflet popup styles to look like kibana tooltip */\n.leaflet-popup-content-wrapper {\n  margin: 0;\n  padding: 0;\n  background: #595959;\n  color: #FFF;\n  border-radius: 6px !important; }\n\n.leaflet-popup {\n  pointer-events: none; }\n\n.leaflet-popup-content {\n  margin: 0;\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.5;\n  font-weight: 400;\n  word-wrap: break-word;\n  overflow: hidden;\n  pointer-events: none; }\n  .leaflet-popup-content > * {\n    margin: 8px 8px 0; }\n  .leaflet-popup-content > :last-child {\n    margin-bottom: 8px; }\n  .leaflet-popup-content table td, .leaflet-popup-content table th {\n    padding: 4px; }\n\n.leaflet-popup-tip-container,\n.leaflet-popup-close-button,\n.leaflet-draw-tooltip {\n  display: none !important; }\n\n.leaflet-container .leaflet-control-attribution {\n  background-color: rgba(255, 255, 255, 0.3);\n  color: #6D6D6D; }\n  .leaflet-container .leaflet-control-attribution p {\n    display: inline; }\n\n.leaflet-touch .leaflet-control-zoom-in,\n.leaflet-touch .leaflet-control-zoom-out {\n  text-indent: -10000px;\n  background-repeat: no-repeat;\n  background-position: center; }\n\n.leaflet-touch .leaflet-control-zoom-in {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%2870, 70, 70%29' d='M8,7 L8,3.5 C8,3.22385763 7.77614237,3 7.5,3 C7.22385763,3 7,3.22385763 7,3.5 L7,7 L3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L7,8 L7,11.5 C7,11.7761424 7.22385763,12 7.5,12 C7.77614237,12 8,11.7761424 8,11.5 L8,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L8,7 Z M7.5,15 C3.35786438,15 0,11.6421356 0,7.5 C0,3.35786438 3.35786438,0 7.5,0 C11.6421356,0 15,3.35786438 15,7.5 C15,11.6421356 11.6421356,15 7.5,15 Z' /%3E%3C/svg%3E\"); }\n\n.leaflet-touch .leaflet-control-zoom-out {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb%2870, 70, 70%29' d='M7.5,0 C11.6355882,0 15,3.36441176 15,7.5 C15,11.6355882 11.6355882,15 7.5,15 C3.36441176,15 0,11.6355882 0,7.5 C0,3.36441176 3.36441176,0 7.5,0 Z M3.5,7 C3.22385763,7 3,7.22385763 3,7.5 C3,7.77614237 3.22385763,8 3.5,8 L11.5,8 C11.7761424,8 12,7.77614237 12,7.5 C12,7.22385763 11.7761424,7 11.5,7 L3.5,7 Z' /%3E%3C/svg%3E\"); }\n\nimg.leaflet-tile {\n  -webkit-filter: brightness(1.03) grayscale(0.73);\n          filter: brightness(1.03) grayscale(0.73); }\n\nimg.leaflet-tile.filters-off {\n  -webkit-filter: none;\n          filter: none; }\n\n.visMapLegend {\n  font-size: 11px;\n  font-size: 0.78571rem;\n  box-shadow: 0 0.9px 4px -1px rgba(34, 34, 34, 0.08), 0 2.6px 8px -1px rgba(34, 34, 34, 0.06), 0 5.7px 12px -1px rgba(34, 34, 34, 0.05), 0 15px 15px -1px rgba(34, 34, 34, 0.04);\n  font-family: \"Source Sans 3\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  font-weight: 500;\n  line-height: 1.5;\n  color: #6D6D6D;\n  padding: 8px;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 6px; }\n  .visMapLegend i {\n    width: 10px;\n    height: 10px;\n    display: inline-block;\n    margin: 3px 4px 0 0;\n    border-radius: 50%;\n    border: 1px solid #6D6D6D;\n    background: #6D6D6D; }\n\n.visMapLegend__title {\n  font-weight: 700; }\n\n.leaflet-top.leaflet-left .visMapLegend__wrapper {\n  position: absolute;\n  left: 40px;\n  white-space: nowrap; }\n",""]);module.exports=exports},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Jquery}]);