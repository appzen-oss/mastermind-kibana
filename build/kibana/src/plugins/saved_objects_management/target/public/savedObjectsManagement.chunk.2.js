(window["savedObjectsManagement_bundle_jsonpfunction"]=window["savedObjectsManagement_bundle_jsonpfunction"]||[]).push([[2],{22:function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},23:function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},24:function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(25);const decodeComponent=__webpack_require__(26);const splitOnFirst=__webpack_require__(27);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},25:function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},26:function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},27:function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},84:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var saveAs=saveAs||function(view){"use strict";if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)((function(){throw ex}),0)},force_saveable_type="application/octet-stream",fs_min_size=0,arbitrary_revoke_timeout=500,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file)}else{file.remove()}};if(view.chrome){revoker()}else{setTimeout(revoker,arbitrary_revoke_timeout)}},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},auto_bom=function(blob){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob(["\ufeff",blob],{type:blob.type})}return blob},FileSaver=function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_URL().createObjectURL(blob)}if(target_view){target_view.location.href=object_url}else{var new_tab=view.open(object_url,"_blank");if(new_tab==undefined&&typeof safari!=="undefined"){view.location.href=object_url}}filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url)},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_URL().createObjectURL(blob);save_link.href=object_url;save_link.download=name;setTimeout((function(){click(save_link);dispatch_all();revoke(object_url);filesaver.readyState=filesaver.DONE}));return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable((function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable((function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable((function(file){file.createWriter(abortable((function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event);revoke(file)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach((function(event){writer["on"+event]=filesaver["on"+event]}));writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING})),fs_error)})),fs_error)};dir.getFile(name,{create:false},abortable((function(file){file.remove();save()})),abortable((function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}})))})),fs_error)})),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name,no_auto_bom)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}return navigator.msSaveOrOpenBlob(blob,name||"download")}}FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(true&&module.exports){module.exports.saveAs=saveAs}else if(true&&__webpack_require__(85)!==null&&__webpack_require__(86)!=null){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}},85:function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},86:function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})},87:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(88);case"v7light":return __webpack_require__(90);case"v8dark":return __webpack_require__(92);case"v8light":return __webpack_require__(94)}},88:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(89);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},89:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #01A3E1; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #ff7575; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},90:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(91);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},91:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #19825a; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #D61600; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},92:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(93);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},93:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #01A3E1; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #ff7575; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},94:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(95);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},95:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #19825a; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #D31510; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},96:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",(function(){return SavedObjectsTablePage}));var external_kbnSharedDeps_React_=__webpack_require__(12);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(15);var external_kbnSharedDeps_Lodash_=__webpack_require__(0);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(13);var query_string=__webpack_require__(24);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var file_saver=__webpack_require__(84);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(14);var public_=__webpack_require__(17);var lib=__webpack_require__(4);const Header=({onExportAll:onExportAll,onImport:onImport,onRefresh:onRefresh,filteredCount:filteredCount})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"baseline"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.savedObjectsTitle",defaultMessage:"Saved Objects"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"baseline",gutterSize:"m",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"exportAction","data-test-subj":"exportAllObjects",onClick:onExportAll},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.exportButtonLabel",defaultMessage:"Export {filteredCount, plural, one{# object} other {# objects}}",values:{filteredCount:filteredCount}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"importAction","data-test-subj":"importObjects",onClick:onImport},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.importButtonLabel",defaultMessage:"Import"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"refresh",onClick:onRefresh},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.refreshButtonLabel",defaultMessage:"Refresh"})))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.howToDeleteSavedObjectsDescription",defaultMessage:"Manage and share your saved objects. To edit the underlying data of an object, go to its associated application."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class table_Table extends external_kbnSharedDeps_React_["PureComponent"]{constructor(props){var _this;super(props);_this=this;_defineProperty(this,"state",{isSearchTextValid:true,parseErrorMessage:null,isExportPopoverOpen:false,isIncludeReferencesDeepChecked:true,activeAction:undefined,isColumnDataLoaded:false});_defineProperty(this,"loadColumnData",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Promise.all(_this.props.columnRegistry.getAll().map(column=>column.loadData()));case 2:_this.setState({isColumnDataLoaded:true});case 3:case"end":return _context.stop()}}),_callee)}))));_defineProperty(this,"onChange",({query:query,error:error})=>{if(error){this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}this.setState({isSearchTextValid:true,parseErrorMessage:null});this.props.onQueryChange({query:query})});_defineProperty(this,"closeExportPopover",()=>{this.setState({isExportPopoverOpen:false})});_defineProperty(this,"toggleExportPopoverVisibility",()=>{this.setState(state=>({isExportPopoverOpen:!state.isExportPopoverOpen}))});_defineProperty(this,"toggleIsIncludeReferencesDeepChecked",()=>{this.setState(state=>({isIncludeReferencesDeepChecked:!state.isIncludeReferencesDeepChecked}))});_defineProperty(this,"onExportClick",()=>{const onExport=this.props.onExport;const isIncludeReferencesDeepChecked=this.state.isIncludeReferencesDeepChecked;onExport(isIncludeReferencesDeepChecked);this.setState({isExportPopoverOpen:false})})}componentDidMount(){this.loadColumnData()}render(){var _this$state$activeAct,_this$state$activeAct2;const _this$props=this.props,pageIndex=_this$props.pageIndex,pageSize=_this$props.pageSize,itemId=_this$props.itemId,items=_this$props.items,totalItemCount=_this$props.totalItemCount,isSearching=_this$props.isSearching,filterOptions=_this$props.filterOptions,selection=_this$props.selectionConfig,capabilities=_this$props.capabilities,onDelete=_this$props.onDelete,onActionRefresh=_this$props.onActionRefresh,selectedSavedObjects=_this$props.selectedSavedObjects,onTableChange=_this$props.onTableChange,goInspectObject=_this$props.goInspectObject,onShowRelationships=_this$props.onShowRelationships,basePath=_this$props.basePath,actionRegistry=_this$props.actionRegistry,columnRegistry=_this$props.columnRegistry,taggingApi=_this$props.taggingApi;const pagination={pageIndex:pageIndex,pageSize:pageSize,totalItemCount:totalItemCount,pageSizeOptions:[5,10,20,50]};const filters=[{type:"field_value_selection",field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.typeFilterName",{defaultMessage:"Type"}),multiSelect:"or",options:filterOptions},...taggingApi?[taggingApi.ui.getSearchBarFilter({useName:true})]:[]];const columns=[{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTypeName",{defaultMessage:"Type"}),width:"50px",align:"center",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTypeDescription",{defaultMessage:"Type of the saved object"}),sortable:false,"data-test-subj":"savedObjectsTableRowType",render:(type,object)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:object.meta.icon||"apps",size:"s","data-test-subj":"objectType"}))},{field:"meta.title",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTitleName",{defaultMessage:"Title"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTitleDescription",{defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,"data-test-subj":"savedObjectsTableRowTitle",render:(title,object)=>{const _ref2=object.meta.inAppUrl||{},_ref2$path=_ref2.path,path=_ref2$path===void 0?"":_ref2$path;const canGoInApp=this.props.canGoInApp(object);if(!canGoInApp){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},title||Object(lib["getDefaultTitle"])(object))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:basePath.prepend(path)},title||Object(lib["getDefaultTitle"])(object))}},...taggingApi?[taggingApi.ui.getTableColumnDefinition()]:[],...columnRegistry.getAll().map(column=>_objectSpread(_objectSpread({},column.euiColumn),{},{sortable:false,"data-test-subj":"savedObjectsTableColumn-".concat(column.id)})),{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActionsName",{defaultMessage:"Actions"}),width:"80px",actions:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.inspectActionName",{defaultMessage:"Inspect"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.inspectActionDescription",{defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect",onClick:object=>goInspectObject(object),available:object=>!!object.meta.editUrl,"data-test-subj":"savedObjectsTableAction-inspect"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.viewRelationshipsActionName",{defaultMessage:"Relationships"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.viewRelationshipsActionDescription",{defaultMessage:"View the relationships this saved object has to other saved objects"}),type:"icon",icon:"kqlSelector",onClick:object=>onShowRelationships(object),"data-test-subj":"savedObjectsTableAction-relationships"},...actionRegistry.getAll().map(action=>{action.setActionContext({capabilities:capabilities});return _objectSpread(_objectSpread({},action.euiAction),{},{"data-test-subj":"savedObjectsTableAction-".concat(action.id),onClick:object=>{this.setState({activeAction:action});action.registerOnFinishCallback(()=>{this.setState({activeAction:undefined});const _action$refreshOnFini=action.refreshOnFinish,refreshOnFinish=_action$refreshOnFini===void 0?()=>false:_action$refreshOnFini;if(refreshOnFinish()){onActionRefresh(object)}});if(action.euiAction.onClick){action.euiAction.onClick(object)}}})})]}];let queryParseError;if(!this.state.isSearchTextValid){const parseErrorMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.searchBar.unableToParseQueryErrorMessage",{defaultMessage:"Unable to parse query"});queryParseError=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormErrorText"],null,"".concat(parseErrorMsg,". ").concat(this.state.parseErrorMessage))}const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"arrowDown",iconSide:"right",onClick:this.toggleExportPopoverVisibility,isDisabled:selectedSavedObjects.length===0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.exportPopoverButtonLabel",defaultMessage:"Export"}));const activeActionContents=(_this$state$activeAct=(_this$state$activeAct2=this.state.activeAction)===null||_this$state$activeAct2===void 0?void 0:_this$state$activeAct2.render())!==null&&_this$state$activeAct!==void 0?_this$state$activeAct:null;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,activeActionContents,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSearchBar"],{box:{"data-test-subj":"savedObjectSearchBar"},filters:filters,onChange:this.onChange,defaultQuery:this.props.initialQuery,toolsRight:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{key:"deleteSO",iconType:"trash",color:"danger",onClick:onDelete,isDisabled:selectedSavedObjects.length===0||!capabilities.savedObjectsManagement.delete,title:capabilities.savedObjectsManagement.delete?undefined:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.deleteButtonTitle",{defaultMessage:"Unable to delete saved objects"}),"data-test-subj":"savedObjectsManagementDelete"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.deleteButtonLabel",defaultMessage:"Delete"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{key:"exportSOOptions",button:button,isOpen:this.state.isExportPopoverOpen,closePopover:this.closeExportPopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.exportOptionsLabel",defaultMessage:"Options"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{name:"includeReferencesDeep",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related objects"}),checked:this.state.isIncludeReferencesDeepChecked,onChange:this.toggleIsIncludeReferencesDeepChecked})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{key:"exportSO",iconType:"exportAction",onClick:this.onExportClick,fill:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.exportButtonLabel",defaultMessage:"Export"}))))]}),queryParseError,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"savedObjectsTable"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{loading:isSearching,itemId:itemId,items:items,columns:columns,pagination:pagination,selection:selection,onChange:onTableChange,rowProps:item=>({"data-test-subj":"savedObjectsTableRow row-".concat(item.id)})})))}}var resolve_saved_objects=__webpack_require__(2);var external_kbnSharedDeps_Moment_=__webpack_require__(18);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const OverwriteModal=({conflict:conflict,onFinish:onFinish})=>{const obj=conflict.obj,error=conflict.error;let initialDestinationId;let selectControl=null;if(error.type==="conflict"){initialDestinationId=error.destinationId}else{initialDestinationId=error.destinations[0].id}const _useState=Object(external_kbnSharedDeps_React_["useState"])(initialDestinationId),_useState2=_slicedToArray(_useState,2),destinationId=_useState2[0],setDestinationId=_useState2[1];if(error.type==="ambiguous_conflict"){const selectProps={options:error.destinations.map(destination=>{var _destination$title;const header=(_destination$title=destination.title)!==null&&_destination$title!==void 0?_destination$title:"".concat(type," [id=").concat(destination.id,"]");const lastUpdated=destination.updatedAt?external_kbnSharedDeps_Moment_default()(destination.updatedAt).fromNow():"never";const idText="ID: ".concat(destination.id);const lastUpdatedText="Last updated: ".concat(lastUpdated);return{value:destination.id,inputDisplay:destination.id,dropdownDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,header),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",{className:"euiTextColor--subdued"},idText,external_kbnSharedDeps_React_default.a.createElement("br",null),lastUpdatedText)))}}),onChange:value=>{setDestinationId(value)}};selectControl=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSuperSelect"],{options:selectProps.options,valueOfSelected:destinationId,onChange:selectProps.onChange,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.selectControlLabel",{defaultMessage:"Object ID"}),hasDividers:true,fullWidth:true,compressed:true})}const type=obj.type,meta=obj.meta;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const bodyText=error.type==="conflict"?external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.body.conflict",{defaultMessage:'"{title}" conflicts with an existing object. Overwrite it?',values:{title:title}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.body.ambiguousConflict",{defaultMessage:'"{title}" conflicts with multiple existing objects. Overwrite one?',values:{title:title}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.title",{defaultMessage:"Overwrite {type}?",values:{type:type}}),cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.cancelButtonText",{defaultMessage:"Skip"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.overwriteButtonText",{defaultMessage:"Overwrite"}),buttonColor:"danger",onCancel:()=>onFinish(false),onConfirm:()=>onFinish(true,destinationId),defaultFocusedButton:external_kbnSharedDeps_ElasticEui_["EUI_MODAL_CONFIRM_BUTTON"],maxWidth:"500px"},external_kbnSharedDeps_React_default.a.createElement("p",null,bodyText),selectControl))};function import_mode_control_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function import_mode_control_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){import_mode_control_ownKeys(Object(source),true).forEach((function(key){import_mode_control_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{import_mode_control_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function import_mode_control_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function import_mode_control_slicedToArray(arr,i){return import_mode_control_arrayWithHoles(arr)||import_mode_control_iterableToArrayLimit(arr,i)||import_mode_control_unsupportedIterableToArray(arr,i)||import_mode_control_nonIterableRest()}function import_mode_control_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function import_mode_control_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return import_mode_control_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return import_mode_control_arrayLikeToArray(o,minLen)}function import_mode_control_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function import_mode_control_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function import_mode_control_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const createNewCopiesDisabled={id:"createNewCopiesDisabled",text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.disabledTitle",{defaultMessage:"Check for existing objects"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.disabledText",{defaultMessage:"Check if objects were previously copied or imported."})};const createNewCopiesEnabled={id:"createNewCopiesEnabled",text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.enabledTitle",{defaultMessage:"Create new objects with random IDs"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.enabledText",{defaultMessage:"Use this option to create one or more copies of the object."})};const overwriteEnabled={id:"overwriteEnabled",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.overwrite.enabledLabel",{defaultMessage:"Automatically overwrite conflicts"})};const overwriteDisabled={id:"overwriteDisabled",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.overwrite.disabledLabel",{defaultMessage:"Request action on conflict"})};const importOptionsTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.importOptionsTitle",{defaultMessage:"Import options"});const createLabel=({text:text,tooltip:tooltip})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,text)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{content:tooltip,position:"left",type:"iInCircle"})));const ImportModeControl=({initialValues:initialValues,isLegacyFile:isLegacyFile,updateSelection:updateSelection})=>{const _useState=Object(external_kbnSharedDeps_React_["useState"])(initialValues.createNewCopies),_useState2=import_mode_control_slicedToArray(_useState,2),createNewCopies=_useState2[0],setCreateNewCopies=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])(initialValues.overwrite),_useState4=import_mode_control_slicedToArray(_useState3,2),overwrite=_useState4[0],setOverwrite=_useState4[1];const _onChange=partial=>{if(partial.createNewCopies!==undefined){setCreateNewCopies(partial.createNewCopies)}else if(partial.overwrite!==undefined){setOverwrite(partial.overwrite)}updateSelection(import_mode_control_objectSpread({createNewCopies:createNewCopies,overwrite:overwrite},partial))};const overwriteRadio=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiRadioGroup"],{options:[overwriteEnabled,overwriteDisabled],idSelected:overwrite?overwriteEnabled.id:overwriteDisabled.id,onChange:id=>_onChange({overwrite:id===overwriteEnabled.id}),disabled:createNewCopies,"data-test-subj":"savedObjectsManagement-importModeControl-overwriteRadioGroup"});if(isLegacyFile){return overwriteRadio}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormFieldset"],{legend:{children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,importOptionsTitle))}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckableCard"],{id:createNewCopiesDisabled.id,label:createLabel(createNewCopiesDisabled),checked:!createNewCopies,onChange:()=>_onChange({createNewCopies:false})},overwriteRadio),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckableCard"],{id:createNewCopiesEnabled.id,label:createLabel(createNewCopiesEnabled),checked:createNewCopies,onChange:()=>_onChange({createNewCopies:true})}))};var import_summary=__webpack_require__(87);const DEFAULT_ICON="apps";const unsupportedTypeErrorMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importSummary.unsupportedTypeError",{defaultMessage:"Unsupported object type"});const getErrorMessage=({error:error})=>{if(error.type==="unknown"){return error.message}else if(error.type==="unsupported_type"){return unsupportedTypeErrorMessage}};const mapFailedImport=failure=>{const obj=failure.obj;const type=obj.type,id=obj.id,meta=obj.meta;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const icon=meta.icon||DEFAULT_ICON;const errorMessage=getErrorMessage(failure);return{type:type,id:id,title:title,icon:icon,outcome:"error",errorMessage:errorMessage}};const mapImportSuccess=obj=>{const type=obj.type,id=obj.id,meta=obj.meta,overwrite=obj.overwrite;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const icon=meta.icon||DEFAULT_ICON;const outcome=overwrite?"overwritten":"created";return{type:type,id:id,title:title,icon:icon,outcome:outcome}};const getCountIndicators=importItems=>{if(!importItems.length){return null}const outcomeCounts=importItems.reduce((acc,{outcome:outcome})=>{var _acc$get;return acc.set(outcome,((_acc$get=acc.get(outcome))!==null&&_acc$get!==void 0?_acc$get:0)+1)},new Map);const createdCount=outcomeCounts.get("created");const overwrittenCount=outcomeCounts.get("overwritten");const errorCount=outcomeCounts.get("error");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,createdCount&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__createdCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.createdCountHeader",defaultMessage:"{createdCount} new",values:{createdCount:createdCount}})))),overwrittenCount&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__overwrittenCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.overwrittenCountHeader",defaultMessage:"{overwrittenCount} overwritten",values:{overwrittenCount:overwrittenCount}})))),errorCount&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__errorCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.errorCountHeader",defaultMessage:"{errorCount} error",values:{errorCount:errorCount}})))))};const getStatusIndicator=({outcome:outcome,errorMessage:errorMessage="Error"})=>{switch(outcome){case"created":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"checkInCircleFilled",color:"success",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.importSummary.createdOutcomeLabel",{defaultMessage:"Created"})});case"overwritten":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"check",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.importSummary.overwrittenOutcomeLabel",{defaultMessage:"Overwritten"})});case"error":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"alert",color:"danger",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.importSummary.errorOutcomeLabel",{defaultMessage:"{errorMessage}",values:{errorMessage:errorMessage}})})}};const ImportSummary=({failedImports:failedImports,successfulImports:successfulImports})=>{const importItems=external_kbnSharedDeps_Lodash_default.a.sortBy([...failedImports.map(x=>mapFailedImport(x)),...successfulImports.map(x=>mapImportSuccess(x))],["type","title"]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s","data-test-subj":importItems.length?"importSavedObjectsSuccess":"importSavedObjectsSuccessNoneImported"},external_kbnSharedDeps_React_default.a.createElement("h3",null,importItems.length===1?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.headerLabelSingular",defaultMessage:"1 object imported"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.headerLabelPlural",defaultMessage:"{importCount} objects imported",values:{importCount:importItems.length}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),getCountIndicators(importItems),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),importItems.map((item,index)=>{const type=item.type,title=item.title,icon=item.icon;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,key:index,alignItems:"center",gutterSize:"s",className:"savedObjectsManagementImportSummary__row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:icon,size:"s"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"savedObjectsManagementImportSummary__title"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",{className:"eui-textTruncate",title:title},title))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("div",{className:"eui-textRight"},getStatusIndicator(item))))}))};function flyout_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function flyout_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){flyout_ownKeys(Object(source),true).forEach((function(key){flyout_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{flyout_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function flyout_slicedToArray(arr,i){return flyout_arrayWithHoles(arr)||flyout_iterableToArrayLimit(arr,i)||flyout_unsupportedIterableToArray(arr,i)||flyout_nonIterableRest()}function flyout_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function flyout_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function flyout_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=flyout_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=true;err=_e3},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function flyout_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return flyout_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return flyout_arrayLikeToArray(o,minLen)}function flyout_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function flyout_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function flyout_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const CREATE_NEW_COPIES_DEFAULT=false;const OVERWRITE_ALL_DEFAULT=true;const flyout_getErrorMessage=e=>{var _e$body,_e$body2;const errorMessage=((_e$body=e.body)===null||_e$body===void 0?void 0:_e$body.error)&&((_e$body2=e.body)===null||_e$body2===void 0?void 0:_e$body2.message)?"".concat(e.body.error,": ").concat(e.body.message):e.message;return external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFileErrorMessage",{defaultMessage:'The file could not be processed due to error: "{error}"',values:{error:errorMessage}})};class flyout_Flyout extends external_kbnSharedDeps_React_["Component"]{constructor(props){var _this;super(props);_this=this;flyout_defineProperty(this,"fetchIndexPatterns",flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$_this$props$in;var indexPatterns;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPatterns.getCache();case 2:_context.t1=_yield$_this$props$in=_context.sent;_context.t0=_context.t1===null;if(_context.t0){_context.next=6;break}_context.t0=_yield$_this$props$in===void 0;case 6:if(!_context.t0){_context.next=10;break}_context.t2=void 0;_context.next=11;break;case 10:_context.t2=_yield$_this$props$in.map(savedObject=>({id:savedObject.id,title:savedObject.attributes.title}));case 11:indexPatterns=_context.t2;_this.setState({indexPatterns:indexPatterns});case 13:case"end":return _context.stop()}}),_callee)}))));flyout_defineProperty(this,"changeImportMode",importMode=>{this.setState(()=>({importMode:importMode}))});flyout_defineProperty(this,"setImportFile",files=>{if(!files||!files[0]){this.setState({file:undefined,isLegacyFile:false});return}const file=files[0];this.setState({file:file,isLegacyFile:/\.json$/i.test(file.name)||file.type==="application/json"})});flyout_defineProperty(this,"import",flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var http,_this$state,file,importMode,response;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:http=_this.props.http;_this$state=_this.state,file=_this$state.file,importMode=_this$state.importMode;_this.setState({status:"loading",error:undefined});_context2.prev=3;_context2.next=6;return Object(lib["importFile"])(http,file,importMode);case 6:response=_context2.sent;_this.setState(Object(lib["processImportResponse"])(response),()=>{var _this$state$unmatched;if(((_this$state$unmatched=_this.state.unmatchedReferences)===null||_this$state$unmatched===void 0?void 0:_this$state$unmatched.length)===0){_this.resolveImportErrors()}});_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](3);_this.setState({status:"error",error:flyout_getErrorMessage(_context2.t0)});return _context2.abrupt("return");case 14:case"end":return _context2.stop()}}),_callee2,null,[[3,10]])}))));flyout_defineProperty(this,"getConflictResolutions",function(){var _ref3=flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee3(failures){var resolutions,_iterator,_step,conflict,_yield$Promise,_yield$Promise2,overwrite,destinationId,_conflict$obj,type,id;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:resolutions={};_iterator=_createForOfIteratorHelper(failures);_context3.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context3.next=16;break}conflict=_step.value;_context3.next=8;return new Promise(done=>{_this.setState({conflictingRecord:{conflict:conflict,done:done}})});case 8:_yield$Promise=_context3.sent;_yield$Promise2=flyout_slicedToArray(_yield$Promise,2);overwrite=_yield$Promise2[0];destinationId=_yield$Promise2[1];if(overwrite){_conflict$obj=conflict.obj,type=_conflict$obj.type,id=_conflict$obj.id;resolutions["".concat(type,":").concat(id)]={retry:true,options:flyout_objectSpread({overwrite:true},destinationId&&{destinationId:destinationId})}}_this.setState({conflictingRecord:undefined});case 14:_context3.next=4;break;case 16:_context3.next=21;break;case 18:_context3.prev=18;_context3.t0=_context3["catch"](2);_iterator.e(_context3.t0);case 21:_context3.prev=21;_iterator.f();return _context3.finish(21);case 24:return _context3.abrupt("return",resolutions);case 25:case"end":return _context3.stop()}}),_callee3,null,[[2,18,21,24]])})));return function(_x){return _ref3.apply(this,arguments)}}());flyout_defineProperty(this,"resolveImportErrors",flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var updatedState;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_this.setState({error:undefined,status:"loading",loadingMessage:undefined});_context4.prev=1;_context4.next=4;return Object(lib["resolveImportErrors"])({http:_this.props.http,state:_this.state,getConflictResolutions:_this.getConflictResolutions});case 4:updatedState=_context4.sent;_this.setState(updatedState);_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4["catch"](1);_this.setState({status:"error",error:flyout_getErrorMessage(_context4.t0)});case 11:case"end":return _context4.stop()}}),_callee4,null,[[1,8]])}))));flyout_defineProperty(this,"legacyImport",flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var _this$props,serviceRegistry,indexPatterns,overlays,http,allowedTypes,_this$state2,file,importMode,contents,_yield$resolveSavedOb,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,importedObjectCount,failedImports,byId,unmatchedReferences;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_this$props=_this.props,serviceRegistry=_this$props.serviceRegistry,indexPatterns=_this$props.indexPatterns,overlays=_this$props.overlays,http=_this$props.http,allowedTypes=_this$props.allowedTypes;_this$state2=_this.state,file=_this$state2.file,importMode=_this$state2.importMode;_this.setState({status:"loading",error:undefined});Object(lib["logLegacyImport"])(http);_context5.prev=4;_context5.next=7;return Object(lib["importLegacyFile"])(file);case 7:contents=_context5.sent;_context5.next=14;break;case 10:_context5.prev=10;_context5.t0=_context5["catch"](4);_this.setState({status:"error",error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importLegacyFileErrorMessage",{defaultMessage:"The file could not be processed."})});return _context5.abrupt("return");case 14:if(Array.isArray(contents)){_context5.next=17;break}_this.setState({status:"error",error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.invalidFormatOfImportedFileErrorMessage",{defaultMessage:"Saved objects file format is invalid and cannot be imported."})});return _context5.abrupt("return");case 17:contents=contents.filter(content=>allowedTypes.includes(content._type)).map(doc=>flyout_objectSpread(flyout_objectSpread({},doc),{},{_migrationVersion:doc._migrationVersion||{}}));_context5.next=20;return Object(resolve_saved_objects["b"])(contents,importMode.overwrite,serviceRegistry.all().map(e=>e.service),indexPatterns,overlays.openConfirm);case 20:_yield$resolveSavedOb=_context5.sent;conflictedIndexPatterns=_yield$resolveSavedOb.conflictedIndexPatterns;conflictedSavedObjectsLinkedToSavedSearches=_yield$resolveSavedOb.conflictedSavedObjectsLinkedToSavedSearches;conflictedSearchDocs=_yield$resolveSavedOb.conflictedSearchDocs;importedObjectCount=_yield$resolveSavedOb.importedObjectCount;failedImports=_yield$resolveSavedOb.failedImports;byId={};conflictedIndexPatterns.map(({doc:doc,obj:obj})=>({doc:doc,obj:obj._serialize()})).forEach(({doc:doc,obj:obj})=>obj.references.forEach(ref=>{byId[ref.id]=byId[ref.id]!=null?byId[ref.id].concat({doc:doc,obj:obj}):[{doc:doc,obj:obj}]}));unmatchedReferences=Object.entries(byId).reduce((accum,[existingIndexPatternId,list])=>{accum.push({existingIndexPatternId:existingIndexPatternId,newIndexPatternId:undefined,list:list.map(({doc:doc})=>({id:existingIndexPatternId,type:doc._type,title:doc._source.title}))});return accum},[]);_this.setState({conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports,unmatchedReferences:unmatchedReferences,importCount:importedObjectCount,status:unmatchedReferences.length===0?"success":"idle"});case 30:case"end":return _context5.stop()}}),_callee5,null,[[4,10]])}))));flyout_defineProperty(this,"confirmLegacyImport",flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var _this$state3,conflictedIndexPatterns,importMode,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,failedImports,_this$props2,serviceRegistry,indexPatterns,search,importCount,resolutions;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_this$state3=_this.state,conflictedIndexPatterns=_this$state3.conflictedIndexPatterns,importMode=_this$state3.importMode,conflictedSavedObjectsLinkedToSavedSearches=_this$state3.conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs=_this$state3.conflictedSearchDocs,failedImports=_this$state3.failedImports;_this$props2=_this.props,serviceRegistry=_this$props2.serviceRegistry,indexPatterns=_this$props2.indexPatterns,search=_this$props2.search;_this.setState({error:undefined,status:"loading",loadingMessage:undefined});importCount=_this.state.importCount;if(!_this.hasUnmatchedReferences){_context6.next=34;break}_context6.prev=5;resolutions=_this.resolutions;_this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.resolvingConflictsLoadingMessage",{defaultMessage:"Resolving conflicts…"})});if(!resolutions.length){_context6.next=13;break}_context6.t0=importCount;_context6.next=12;return Object(resolve_saved_objects["a"])(resolutions,conflictedIndexPatterns,importMode.overwrite,{indexPatterns:indexPatterns,search:search});case 12:importCount=_context6.t0+=_context6.sent;case 13:_this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.savingConflictsLoadingMessage",{defaultMessage:"Saving conflicts…"})});_context6.t1=importCount;_context6.next=17;return Object(resolve_saved_objects["e"])(conflictedSavedObjectsLinkedToSavedSearches,importMode.overwrite);case 17:importCount=_context6.t1+=_context6.sent;_this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.savedSearchAreLinkedProperlyLoadingMessage",{defaultMessage:"Ensure saved searches are linked properly…"})});_context6.t2=importCount;_context6.next=22;return Object(resolve_saved_objects["c"])(conflictedSearchDocs,serviceRegistry.all().map(e=>e.service),indexPatterns,importMode.overwrite);case 22:importCount=_context6.t2+=_context6.sent;_this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.retryingFailedObjectsLoadingMessage",{defaultMessage:"Retrying failed objects…"})});_context6.t3=importCount;_context6.next=27;return Object(resolve_saved_objects["e"])(failedImports.map(({obj:obj})=>obj),importMode.overwrite);case 27:importCount=_context6.t3+=_context6.sent;_context6.next=34;break;case 30:_context6.prev=30;_context6.t4=_context6["catch"](5);_this.setState({status:"error",error:flyout_getErrorMessage(_context6.t4),loadingMessage:undefined});return _context6.abrupt("return");case 34:_this.setState({status:"success",importCount:importCount});case 35:case"end":return _context6.stop()}}),_callee6,null,[[5,30]])}))));flyout_defineProperty(this,"onIndexChanged",(id,e)=>{const value=e.target.value;this.setState(state=>{var _state$unmatchedRefer;const conflictIndex=(_state$unmatchedRefer=state.unmatchedReferences)===null||_state$unmatchedRefer===void 0?void 0:_state$unmatchedRefer.findIndex(conflict=>conflict.existingIndexPatternId===id);if(conflictIndex===undefined||conflictIndex===-1){return state}return{unmatchedReferences:[...state.unmatchedReferences.slice(0,conflictIndex),flyout_objectSpread(flyout_objectSpread({},state.unmatchedReferences[conflictIndex]),{},{newIndexPatternId:value}),...state.unmatchedReferences.slice(conflictIndex+1)]}})});this.state={conflictedIndexPatterns:undefined,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined,unmatchedReferences:undefined,unmatchedReferencesTablePagination:{pageIndex:0,pageSize:5},conflictingRecord:undefined,error:undefined,file:undefined,importCount:0,indexPatterns:undefined,importMode:{createNewCopies:CREATE_NEW_COPIES_DEFAULT,overwrite:OVERWRITE_ALL_DEFAULT},loadingMessage:undefined,isLegacyFile:false,status:"idle"}}componentDidMount(){this.fetchIndexPatterns()}get hasUnmatchedReferences(){return this.state.unmatchedReferences&&this.state.unmatchedReferences.length>0}get resolutions(){return this.state.unmatchedReferences.reduce((accum,{existingIndexPatternId:existingIndexPatternId,newIndexPatternId:newIndexPatternId})=>{if(newIndexPatternId){accum.push({oldId:existingIndexPatternId,newId:newIndexPatternId})}return accum},[])}renderUnmatchedReferences(){const _this$state4=this.state,unmatchedReferences=_this$state4.unmatchedReferences,tablePagination=_this$state4.unmatchedReferencesTablePagination;if(!unmatchedReferences){return null}const columns=[{field:"existingIndexPatternId",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnIdName",{defaultMessage:"ID"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnIdDescription",{defaultMessage:"ID of the index pattern"}),sortable:true},{field:"list",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnCountName",{defaultMessage:"Count"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnCountDescription",{defaultMessage:"How many affected objects"}),render:list=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,list.length)},{field:"list",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsName",{defaultMessage:"Sample of affected objects"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsDescription",{defaultMessage:"Sample of affected objects"}),render:list=>external_kbnSharedDeps_React_default.a.createElement("ul",{style:{listStyle:"none"}},Object(external_kbnSharedDeps_Lodash_["take"])(list,3).map((obj,key)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:key},obj.title)))},{field:"existingIndexPatternId",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnNewIndexPatternName",{defaultMessage:"New index pattern"}),render:id=>{var _unmatchedReferences$,_unmatchedReferences$2;const options=[{text:"-- Skip Import --",value:""},...this.state.indexPatterns.map(indexPattern=>({text:indexPattern.title,value:indexPattern.id,"data-test-subj":"indexPatternOption-".concat(indexPattern.title)}))];const selectedValue=(_unmatchedReferences$=unmatchedReferences===null||unmatchedReferences===void 0?void 0:(_unmatchedReferences$2=unmatchedReferences.find(unmatchedRef=>unmatchedRef.existingIndexPatternId===id))===null||_unmatchedReferences$2===void 0?void 0:_unmatchedReferences$2.newIndexPatternId)!==null&&_unmatchedReferences$!==void 0?_unmatchedReferences$:"";return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{value:selectedValue,"data-test-subj":"managementChangeIndexSelection-".concat(id),onChange:e=>this.onIndexChanged(id,e),options:options})}}];const pagination=flyout_objectSpread(flyout_objectSpread({},tablePagination),{},{pageSizeOptions:[5,10,25]});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:unmatchedReferences,columns:columns,pagination:pagination,onTableChange:({page:page})=>{if(page){this.setState({unmatchedReferencesTablePagination:{pageSize:page.size,pageIndex:page.index}})}}})}renderError(){const _this$state5=this.state,error=_this$state5.error,status=_this$state5.status;if(status!=="error"){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.errorCalloutTitle",defaultMessage:"Sorry, there was an error"}),color:"danger"},external_kbnSharedDeps_React_default.a.createElement("p",{"data-test-subj":"importSavedObjectsErrorText"},error)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))}renderBody(){const _this$state6=this.state,status=_this$state6.status,loadingMessage=_this$state6.loadingMessage,importCount=_this$state6.importCount,_this$state6$failedIm=_this$state6.failedImports,failedImports=_this$state6$failedIm===void 0?[]:_this$state6$failedIm,_this$state6$successf=_this$state6.successfulImports,successfulImports=_this$state6$successf===void 0?[]:_this$state6$successf,isLegacyFile=_this$state6.isLegacyFile,importMode=_this$state6.importMode;if(status==="loading"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingElastic"],{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,loadingMessage))))}if(isLegacyFile===false&&status==="success"){return external_kbnSharedDeps_React_default.a.createElement(ImportSummary,{failedImports:failedImports,successfulImports:successfulImports})}if(failedImports.length&&!this.hasUnmatchedReferences){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsFailedWarning",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importFailedTitle",defaultMessage:"Import failed"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importFailedDescription",defaultMessage:"Failed to import {failedImportCount} of {totalImportCount} objects. Import failed",values:{failedImportCount:failedImports.length,totalImportCount:importCount+failedImports.length}})),external_kbnSharedDeps_React_default.a.createElement("p",null,failedImports.map(({error:error,obj:obj})=>{var _message;if(error.type==="missing_references"){return error.references.map(reference=>external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFailedMissingReference",{defaultMessage:"{type} [id={id}] could not locate {refType} [id={refId}]",values:{id:obj.id,type:obj.type,refId:reference.id,refType:reference.type}}))}else if(error.type==="unsupported_type"){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFailedUnsupportedType",{defaultMessage:"{type} [id={id}] unsupported type",values:{id:obj.id,type:obj.type}})}return Object(external_kbnSharedDeps_Lodash_["get"])(error,"body.message",(_message=error.message)!==null&&_message!==void 0?_message:"")}).join(" ")))}if(status==="success"){if(importCount===0){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsSuccessNoneImported",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulCallout.noObjectsImportedTitle",defaultMessage:"No objects imported"}),color:"primary"})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsSuccess",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulTitle",defaultMessage:"Import successful"}),color:"success",iconType:"check"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulDescription",defaultMessage:"Successfully imported {importCount} objects.",values:{importCount:importCount}})))}if(this.hasUnmatchedReferences){return this.renderUnmatchedReferences()}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.selectFileToImportFormRowLabel",defaultMessage:"Select a file to import"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFilePicker"],{accept:".ndjson, .json",fullWidth:true,initialPromptText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importPromptText",defaultMessage:"Import"}),onChange:this.setImportFile})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(ImportModeControl,{initialValues:importMode,isLegacyFile:isLegacyFile,updateSelection:newValues=>this.changeImportMode(newValues)})))}renderFooter(){const _this$state7=this.state,isLegacyFile=_this$state7.isLegacyFile,status=_this$state7.status;const _this$props3=this.props,done=_this$props3.done,close=_this$props3.close;let confirmButton;if(status==="success"){confirmButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:done,size:"s",fill:true,"data-test-subj":"importSavedObjectsDoneBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessful.confirmButtonLabel",defaultMessage:"Done"}))}else if(this.hasUnmatchedReferences){confirmButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:isLegacyFile?this.confirmLegacyImport:this.resolveImportErrors,size:"s",fill:true,isLoading:status==="loading","data-test-subj":"importSavedObjectsConfirmBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessful.confirmAllChangesButtonLabel",defaultMessage:"Confirm all changes"}))}else{confirmButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:isLegacyFile?this.legacyImport:this.import,size:"s",fill:true,isLoading:status==="loading","data-test-subj":"importSavedObjectsImportBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.import.confirmButtonLabel",defaultMessage:"Import"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:close,size:"s",disabled:status==="loading"||isLegacyFile===false&&status==="success","data-test-subj":"importSavedObjectsCancelBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.import.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},confirmButton))}renderSubheader(){if(this.state.status==="loading"||this.state.status==="success"){return null}let legacyFileWarning;if(this.state.isLegacyFile){legacyFileWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsLegacyWarning",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.legacyFileUsedTitle",defaultMessage:"Support for JSON files is going away"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.legacyFileUsedBody",defaultMessage:"Use our updated export to generate NDJSON files, and you'll be all set."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}let indexPatternConflictsWarning;if(this.hasUnmatchedReferences){indexPatternConflictsWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsConflictsWarning",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsTitle",defaultMessage:"Index Pattern Conflicts"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsDescription",defaultMessage:"The following saved objects use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can {indexPatternLink} if necessary.",values:{indexPatternLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:this.props.newIndexPatternUrl},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsCalloutLinkText",defaultMessage:"create a new index pattern"}))}})))}if(!legacyFileWarning&&!indexPatternConflictsWarning){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,legacyFileWarning&&external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),legacyFileWarning),indexPatternConflictsWarning&&external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),indexPatternConflictsWarning))}render(){const close=this.props.close;let confirmOverwriteModal;const conflictingRecord=this.state.conflictingRecord;if(conflictingRecord){const conflict=conflictingRecord.conflict;const onFinish=(overwrite,destinationId)=>conflictingRecord.done([overwrite,destinationId]);confirmOverwriteModal=external_kbnSharedDeps_React_default.a.createElement(OverwriteModal,{conflict:conflict,onFinish:onFinish})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:close,size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSavedObjectTitle",defaultMessage:"Import saved objects"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderSubheader(),this.renderError(),this.renderBody()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,this.renderFooter()),confirmOverwriteModal)}}function relationships_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function relationships_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){relationships_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){relationships_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}class relationships_Relationships extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);this.state={relationships:[],isLoading:false,error:undefined}}UNSAFE_componentWillMount(){this.getRelationshipData()}UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.savedObject.id!==this.props.savedObject.id){this.getRelationshipData()}}getRelationshipData(){var _this=this;return relationships_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props,savedObject,getRelationships,relationships;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props=_this.props,savedObject=_this$props.savedObject,getRelationships=_this$props.getRelationships;_this.setState({isLoading:true});_context.prev=2;_context.next=5;return getRelationships(savedObject.type,savedObject.id);case 5:relationships=_context.sent;_this.setState({relationships:relationships,isLoading:false,error:undefined});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);_this.setState({error:_context.t0.message,isLoading:false});case 12:case"end":return _context.stop()}}),_callee,null,[[2,9]])})))()}renderError(){const error=this.state.error;if(!error){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.renderErrorMessage",defaultMessage:"Error"}),color:"danger"},error)}renderRelationships(){const _this$props2=this.props,goInspectObject=_this$props2.goInspectObject,savedObject=_this$props2.savedObject,basePath=_this$props2.basePath;const _this$state=this.state,relationships=_this$state.relationships,isLoading=_this$state.isLoading,error=_this$state.error;if(error){return this.renderError()}if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingElastic"],{size:"xl"})}const columns=[{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeName",{defaultMessage:"Type"}),width:"50px",align:"center",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeDescription",{defaultMessage:"Type of the saved object"}),sortable:false,render:(type,object)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:object.meta.icon||"apps",size:"s","data-test-subj":"relationshipsObjectType"}))},{field:"relationship",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnRelationshipName",{defaultMessage:"Direct relationship"}),dataType:"string",sortable:false,width:"125px","data-test-subj":"directRelationship",render:relationship=>{if(relationship==="parent"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.columnRelationship.parentAsValue",defaultMessage:"Parent"}))}if(relationship==="child"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.columnRelationship.childAsValue",defaultMessage:"Child"}))}}},{field:"meta.title",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTitleName",{defaultMessage:"Title"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTitleDescription",{defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,render:(title,object)=>{const _ref=object.meta.inAppUrl||{},_ref$path=_ref.path,path=_ref$path===void 0?"":_ref$path;const canGoInApp=this.props.canGoInApp(object);if(!canGoInApp){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s","data-test-subj":"relationshipsTitle"},title||Object(lib["getDefaultTitle"])(object))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:basePath.prepend(path),"data-test-subj":"relationshipsTitle"},title||Object(lib["getDefaultTitle"])(object))}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActionsName",{defaultMessage:"Actions"}),actions:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActions.inspectActionName",{defaultMessage:"Inspect"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActions.inspectActionDescription",{defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect","data-test-subj":"relationshipsTableAction-inspect",onClick:object=>goInspectObject(object),available:object=>!!object.meta.editUrl}]}];const filterTypesMap=new Map(relationships.map(relationship=>[relationship.type,{value:relationship.type,name:relationship.type,view:relationship.type}]));const search={filters:[{type:"field_value_selection",field:"relationship",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.name",{defaultMessage:"Direct relationship"}),multiSelect:"or",options:[{value:"parent",name:"parent",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.parentAsValue.view",{defaultMessage:"Parent"})},{value:"child",name:"child",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.childAsValue.view",{defaultMessage:"Child"})}]},{type:"field_value_selection",field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.type.name",{defaultMessage:"Type"}),multiSelect:"or",options:[...filterTypesMap.values()]}]};return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.relationshipsTitle",{defaultMessage:"Here are the saved objects related to {title}. "+"Deleting this {type} affects its parent objects, but not its children.",values:{type:savedObject.type,title:savedObject.meta.title||Object(lib["getDefaultTitle"])(savedObject)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:relationships,columns:columns,pagination:true,search:search,rowProps:()=>({"data-test-subj":"relationshipsTableRow"})}))}render(){const _this$props3=this.props,close=_this$props3.close,savedObject=_this$props3.savedObject;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:close},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(savedObject.type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(savedObject.type),size:"m",type:savedObject.meta.icon||"apps"})),"  ",savedObject.meta.title||Object(lib["getDefaultTitle"])(savedObject)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderRelationships()))}}function saved_objects_table_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function saved_objects_table_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){saved_objects_table_ownKeys(Object(source),true).forEach((function(key){saved_objects_table_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{saved_objects_table_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function saved_objects_table_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function saved_objects_table_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){saved_objects_table_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){saved_objects_table_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function saved_objects_table_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class saved_objects_table_SavedObjectsTable extends external_kbnSharedDeps_React_["Component"]{constructor(props){var _this,_props$initialQuery;super(props);_this=this;saved_objects_table_defineProperty(this,"_isMounted",false);saved_objects_table_defineProperty(this,"fetchCounts",saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props,allowedTypes,taggingApi,_parseQuery,queryText,visibleTypes,selectedTags,selectedTypes,references,filteredSavedObjectCounts,exportAllOptions,exportAllSelectedOptions,savedObjectCounts;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props=_this.props,allowedTypes=_this$props.allowedTypes,taggingApi=_this$props.taggingApi;_parseQuery=Object(lib["parseQuery"])(_this.state.activeQuery),queryText=_parseQuery.queryText,visibleTypes=_parseQuery.visibleTypes,selectedTags=_parseQuery.selectedTags;selectedTypes=allowedTypes.filter(type=>!visibleTypes||visibleTypes.includes(type));references=Object(lib["getTagFindReferences"])({selectedTags:selectedTags,taggingApi:taggingApi});_context.next=6;return Object(lib["getSavedObjectCounts"])({http:_this.props.http,typesToInclude:selectedTypes,searchString:queryText,references:references});case 6:filteredSavedObjectCounts=_context.sent;exportAllOptions=Object.entries(filteredSavedObjectCounts).map(([id,count])=>({id:id,label:"".concat(id," (").concat(count||0,")")}));exportAllSelectedOptions=exportAllOptions.reduce((record,{id:id})=>saved_objects_table_objectSpread(saved_objects_table_objectSpread({},record),{},{[id]:true}),{});_context.next=11;return Object(lib["getSavedObjectCounts"])({http:_this.props.http,typesToInclude:allowedTypes,searchString:queryText});case 11:savedObjectCounts=_context.sent;_this.setState(state=>saved_objects_table_objectSpread(saved_objects_table_objectSpread({},state),{},{savedObjectCounts:savedObjectCounts,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions}));case 13:case"end":return _context.stop()}}),_callee)}))));saved_objects_table_defineProperty(this,"fetchSavedObjects",()=>{this.setState({isSearching:true},this.debouncedFetchObjects)});saved_objects_table_defineProperty(this,"fetchSavedObject",(type,id)=>{this.setState({isSearching:true},()=>this.debouncedFetchObject(type,id))});saved_objects_table_defineProperty(this,"debouncedFetchObjects",Object(external_kbnSharedDeps_Lodash_["debounce"])(saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _this$state,query,page,perPage,_this$props2,notifications,http,allowedTypes,taggingApi,_parseQuery2,queryText,visibleTypes,selectedTags,findOptions,resp;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,query=_this$state.activeQuery,page=_this$state.page,perPage=_this$state.perPage;_this$props2=_this.props,notifications=_this$props2.notifications,http=_this$props2.http,allowedTypes=_this$props2.allowedTypes,taggingApi=_this$props2.taggingApi;_parseQuery2=Object(lib["parseQuery"])(query),queryText=_parseQuery2.queryText,visibleTypes=_parseQuery2.visibleTypes,selectedTags=_parseQuery2.selectedTags;findOptions={search:queryText?"".concat(queryText,"*"):undefined,perPage:perPage,page:page+1,fields:["id"],type:allowedTypes.filter(type=>!visibleTypes||visibleTypes.includes(type))};if(findOptions.type.length>1){findOptions.sortField="type"}findOptions.hasReference=Object(lib["getTagFindReferences"])({selectedTags:selectedTags,taggingApi:taggingApi});_context2.prev=6;_context2.next=9;return Object(lib["findObjects"])(http,findOptions);case 9:resp=_context2.sent;if(_this._isMounted){_context2.next=12;break}return _context2.abrupt("return");case 12:_this.setState(({activeQuery:activeQuery})=>{if(activeQuery.text!==query.text){return null}return{savedObjects:resp.savedObjects,filteredItemCount:resp.total,isSearching:false}});_context2.next=19;break;case 15:_context2.prev=15;_context2.t0=_context2["catch"](6);if(_this._isMounted){_this.setState({isSearching:false})}notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableFindSavedObjectsNotificationMessage",{defaultMessage:"Unable find saved objects"}),text:"".concat(_context2.t0)});case 19:case"end":return _context2.stop()}}),_callee2,null,[[6,15]])}))),300));saved_objects_table_defineProperty(this,"debouncedFetchObject",Object(external_kbnSharedDeps_Lodash_["debounce"])(function(){var _ref3=saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee3(type,id){var _this$props3,notifications,http,resp;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this$props3=_this.props,notifications=_this$props3.notifications,http=_this$props3.http;_context3.prev=1;_context3.next=4;return Object(lib["findObject"])(http,type,id);case 4:resp=_context3.sent;if(_this._isMounted){_context3.next=7;break}return _context3.abrupt("return");case 7:_this.setState(({savedObjects:savedObjects,filteredItemCount:filteredItemCount})=>{const refreshedSavedObjects=savedObjects.map(object=>object.type===type&&object.id===id?resp:object);return{savedObjects:refreshedSavedObjects,filteredItemCount:filteredItemCount,isSearching:false}});_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3["catch"](1);if(_this._isMounted){_this.setState({isSearching:false})}notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableFindSavedObjectNotificationMessage",{defaultMessage:"Unable to find saved object"}),text:"".concat(_context3.t0)});case 14:case"end":return _context3.stop()}}),_callee3,null,[[1,10]])})));return function(_x,_x2){return _ref3.apply(this,arguments)}}(),300));saved_objects_table_defineProperty(this,"refreshObjects",saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all([_this.fetchSavedObjects(),_this.fetchCounts()]);case 2:case"end":return _context4.stop()}}),_callee4)}))));saved_objects_table_defineProperty(this,"refreshObject",function(){var _ref5=saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee5({type:type,id:id}){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this.fetchSavedObject(type,id);case 2:case"end":return _context5.stop()}}),_callee5)})));return function(_x3){return _ref5.apply(this,arguments)}}());saved_objects_table_defineProperty(this,"onSelectionChanged",selection=>{this.setState({selectedSavedObjects:selection})});saved_objects_table_defineProperty(this,"onQueryChange",({query:query})=>{this.setState({activeQuery:query,page:0,selectedSavedObjects:[]},()=>{this.fetchSavedObjects();this.fetchCounts()})});saved_objects_table_defineProperty(this,"onTableChange",function(){var _ref6=saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee6(table){var _ref7,page,perPage;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_ref7=table.page||{},page=_ref7.index,perPage=_ref7.size;_this.setState({page:page,perPage:perPage,selectedSavedObjects:[]},_this.fetchSavedObjects);case 2:case"end":return _context6.stop()}}),_callee6)})));return function(_x4){return _ref6.apply(this,arguments)}}());saved_objects_table_defineProperty(this,"onShowRelationships",object=>{this.setState({isShowingRelationships:true,relationshipObject:object})});saved_objects_table_defineProperty(this,"onHideRelationships",()=>{this.setState({isShowingRelationships:false,relationshipObject:undefined})});saved_objects_table_defineProperty(this,"onExport",function(){var _ref8=saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee7(includeReferencesDeep){var selectedSavedObjects,_this$props4,notifications,http,objectsToExport,blob,exportDetails;return regeneratorRuntime.wrap((function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:selectedSavedObjects=_this.state.selectedSavedObjects;_this$props4=_this.props,notifications=_this$props4.notifications,http=_this$props4.http;objectsToExport=selectedSavedObjects.map(obj=>({id:obj.id,type:obj.type}));_context7.prev=3;_context7.next=6;return Object(lib["fetchExportObjects"])(http,objectsToExport,includeReferencesDeep);case 6:blob=_context7.sent;_context7.next=13;break;case 9:_context7.prev=9;_context7.t0=_context7["catch"](3);notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.dangerNotification",{defaultMessage:"Unable to generate export"})});throw _context7.t0;case 13:Object(file_saver["saveAs"])(blob,"export.ndjson");_context7.next=16;return Object(lib["extractExportDetails"])(blob);case 16:exportDetails=_context7.sent;_this.showExportSuccessMessage(exportDetails);case 18:case"end":return _context7.stop()}}),_callee7,null,[[3,9]])})));return function(_x5){return _ref8.apply(this,arguments)}}());saved_objects_table_defineProperty(this,"onExportAll",saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var _this$state2,exportAllSelectedOptions,isIncludeReferencesDeepChecked,activeQuery,_this$props5,notifications,http,taggingApi,_parseQuery3,queryText,selectedTags,exportTypes,references,blob,exportDetails;return regeneratorRuntime.wrap((function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_this$state2=_this.state,exportAllSelectedOptions=_this$state2.exportAllSelectedOptions,isIncludeReferencesDeepChecked=_this$state2.isIncludeReferencesDeepChecked,activeQuery=_this$state2.activeQuery;_this$props5=_this.props,notifications=_this$props5.notifications,http=_this$props5.http,taggingApi=_this$props5.taggingApi;_parseQuery3=Object(lib["parseQuery"])(activeQuery),queryText=_parseQuery3.queryText,selectedTags=_parseQuery3.selectedTags;exportTypes=Object.entries(exportAllSelectedOptions).reduce((accum,[id,selected])=>{if(selected){accum.push(id)}return accum},[]);references=Object(lib["getTagFindReferences"])({selectedTags:selectedTags,taggingApi:taggingApi});_context8.prev=5;_context8.next=8;return Object(lib["fetchExportByTypeAndSearch"])({http:http,search:queryText?"".concat(queryText,"*"):undefined,types:exportTypes,references:references,includeReferencesDeep:isIncludeReferencesDeepChecked});case 8:blob=_context8.sent;_context8.next=15;break;case 11:_context8.prev=11;_context8.t0=_context8["catch"](5);notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.dangerNotification",{defaultMessage:"Unable to generate export"})});throw _context8.t0;case 15:Object(file_saver["saveAs"])(blob,"export.ndjson");_context8.next=18;return Object(lib["extractExportDetails"])(blob);case 18:exportDetails=_context8.sent;_this.showExportSuccessMessage(exportDetails);_this.setState({isShowingExportAllOptionsModal:false});case 21:case"end":return _context8.stop()}}),_callee8,null,[[5,11]])}))));saved_objects_table_defineProperty(this,"showExportSuccessMessage",exportDetails=>{const notifications=this.props.notifications;if(exportDetails&&exportDetails.missingReferences.length>0){notifications.toasts.addWarning({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.successWithMissingRefsNotification",{defaultMessage:"Your file is downloading in the background. "+"Some related objects could not be found. "+"Please see the last line in the exported file for a list of missing objects."})})}else{notifications.toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.successNotification",{defaultMessage:"Your file is downloading in the background"})})}});saved_objects_table_defineProperty(this,"finishImport",()=>{this.hideImportFlyout();this.fetchSavedObjects();this.fetchCounts()});saved_objects_table_defineProperty(this,"showImportFlyout",()=>{this.setState({isShowingImportFlyout:true})});saved_objects_table_defineProperty(this,"hideImportFlyout",()=>{this.setState({isShowingImportFlyout:false})});saved_objects_table_defineProperty(this,"onDelete",()=>{this.setState({isShowingDeleteConfirmModal:true})});saved_objects_table_defineProperty(this,"delete",saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee9(){var savedObjectsClient,_this$state3,selectedSavedObjects,isDeleting,indexPatterns,objects,deletes;return regeneratorRuntime.wrap((function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;_this$state3=_this.state,selectedSavedObjects=_this$state3.selectedSavedObjects,isDeleting=_this$state3.isDeleting;if(!isDeleting){_context9.next=4;break}return _context9.abrupt("return");case 4:_this.setState({isDeleting:true});indexPatterns=selectedSavedObjects.filter(object=>object.type==="index-pattern");if(!indexPatterns.length){_context9.next=9;break}_context9.next=9;return _this.props.indexPatterns.clearCache();case 9:_context9.next=11;return savedObjectsClient.bulkGet(selectedSavedObjects);case 11:objects=_context9.sent;deletes=objects.savedObjects.map(object=>savedObjectsClient.delete(object.type,object.id,{force:true}));_context9.next=15;return Promise.all(deletes);case 15:_this.setState({selectedSavedObjects:[]});_context9.next=18;return _this.fetchSavedObjects();case 18:_context9.next=20;return _this.fetchCounts();case 20:_this.setState({isShowingDeleteConfirmModal:false,isDeleting:false});case 21:case"end":return _context9.stop()}}),_callee9)}))));saved_objects_table_defineProperty(this,"getRelationships",function(){var _ref11=saved_objects_table_asyncToGenerator(regeneratorRuntime.mark((function _callee10(type,id){var _this$props6,allowedTypes,http;return regeneratorRuntime.wrap((function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_this$props6=_this.props,allowedTypes=_this$props6.allowedTypes,http=_this$props6.http;_context10.next=3;return Object(lib["getRelationships"])(http,type,id,allowedTypes);case 3:return _context10.abrupt("return",_context10.sent);case 4:case"end":return _context10.stop()}}),_callee10)})));return function(_x6,_x7){return _ref11.apply(this,arguments)}}());saved_objects_table_defineProperty(this,"changeIncludeReferencesDeep",()=>{this.setState(state=>({isIncludeReferencesDeepChecked:!state.isIncludeReferencesDeepChecked}))});saved_objects_table_defineProperty(this,"closeExportAllModal",()=>{this.setState({isShowingExportAllOptionsModal:false})});this.state={totalCount:0,page:0,perPage:props.perPageConfig||50,savedObjects:[],savedObjectCounts:props.allowedTypes.reduce((typeToCountMap,type)=>{typeToCountMap[type]=0;return typeToCountMap},{}),activeQuery:(_props$initialQuery=props.initialQuery)!==null&&_props$initialQuery!==void 0?_props$initialQuery:external_kbnSharedDeps_ElasticEui_["Query"].parse(""),selectedSavedObjects:[],isShowingImportFlyout:false,isSearching:false,filteredItemCount:0,isShowingRelationships:false,relationshipObject:undefined,isShowingDeleteConfirmModal:false,isShowingExportAllOptionsModal:false,isDeleting:false,exportAllOptions:[],exportAllSelectedOptions:{},isIncludeReferencesDeepChecked:true}}componentDidMount(){this._isMounted=true;this.fetchSavedObjects();this.fetchCounts()}componentWillUnmount(){this._isMounted=false;this.debouncedFetchObjects.cancel()}renderFlyout(){if(!this.state.isShowingImportFlyout){return null}const applications=this.props.applications;const newIndexPatternUrl=applications.getUrlForApp("management",{path:"kibana/indexPatterns"});return external_kbnSharedDeps_React_default.a.createElement(flyout_Flyout,{close:this.hideImportFlyout,done:this.finishImport,http:this.props.http,serviceRegistry:this.props.serviceRegistry,indexPatterns:this.props.indexPatterns,newIndexPatternUrl:newIndexPatternUrl,allowedTypes:this.props.allowedTypes,overlays:this.props.overlays,search:this.props.search})}renderRelationships(){if(!this.state.isShowingRelationships){return null}return external_kbnSharedDeps_React_default.a.createElement(relationships_Relationships,{basePath:this.props.http.basePath,savedObject:this.state.relationshipObject,getRelationships:this.getRelationships,close:this.onHideRelationships,goInspectObject:this.props.goInspectObject,canGoInApp:this.props.canGoInApp})}renderDeleteConfirmModal(){const _this$state4=this.state,isShowingDeleteConfirmModal=_this$state4.isShowingDeleteConfirmModal,isDeleting=_this$state4.isDeleting,selectedSavedObjects=_this$state4.selectedSavedObjects;if(!isShowingDeleteConfirmModal){return null}let modal;if(isDeleting){modal=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingElastic"],{size:"xl"})}else{const onCancel=()=>{this.setState({isShowingDeleteConfirmModal:false})};const onConfirm=()=>{this.delete()};modal=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModalTitle",defaultMessage:"Delete saved objects"}),onCancel:onCancel,onConfirm:onConfirm,buttonColor:"danger",cancelButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:isDeleting?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.deleteProcessButtonLabel",defaultMessage:"Deleting…"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:external_kbnSharedDeps_ElasticEui_["EUI_MODAL_CONFIRM_BUTTON"]},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.deleteSavedObjectsConfirmModalDescription",defaultMessage:"This action will delete the following saved objects:"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:selectedSavedObjects,columns:[{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.typeColumnName",{defaultMessage:"Type"}),width:"50px",render:(type,object)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:object.meta.icon||"apps"}))},{field:"id",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.idColumnName",{defaultMessage:"Id"})},{field:"meta.title",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.titleColumnName",{defaultMessage:"Title"})}],pagination:true,sorting:false}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,modal)}renderExportAllOptionsModal(){const _this$state5=this.state,isShowingExportAllOptionsModal=_this$state5.isShowingExportAllOptionsModal,filteredItemCount=_this$state5.filteredItemCount,exportAllOptions=_this$state5.exportAllOptions,exportAllSelectedOptions=_this$state5.exportAllSelectedOptions,isIncludeReferencesDeepChecked=_this$state5.isIncludeReferencesDeepChecked;if(!isShowingExportAllOptionsModal){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModal"],{onClose:this.closeExportAllModal},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModalTitle",defaultMessage:"Export {filteredItemCount, plural, one{# object} other {# objects}}",values:{filteredItemCount:filteredItemCount}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModalDescription",defaultMessage:"Select which types to export"}),labelType:"legend"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckboxGroup"],{options:exportAllOptions,idToSelectedMap:exportAllSelectedOptions,onChange:optionId=>{const newExportAllSelectedOptions=saved_objects_table_objectSpread(saved_objects_table_objectSpread({},exportAllSelectedOptions),{[optionId]:!exportAllSelectedOptions[optionId]});this.setState({exportAllSelectedOptions:newExportAllSelectedOptions})}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{name:"includeReferencesDeep",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related objects"}),checked:isIncludeReferencesDeepChecked,onChange:this.changeIncludeReferencesDeep})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:this.closeExportAllModal},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,onClick:this.onExportAll},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.exportAllButtonLabel",defaultMessage:"Export all"})))))))))}render(){const _this$state6=this.state,selectedSavedObjects=_this$state6.selectedSavedObjects,page=_this$state6.page,perPage=_this$state6.perPage,savedObjects=_this$state6.savedObjects,filteredItemCount=_this$state6.filteredItemCount,isSearching=_this$state6.isSearching,savedObjectCounts=_this$state6.savedObjectCounts;const _this$props7=this.props,http=_this$props7.http,taggingApi=_this$props7.taggingApi,allowedTypes=_this$props7.allowedTypes,applications=_this$props7.applications;const selectionConfig={onSelectionChange:this.onSelectionChanged};const filterOptions=allowedTypes.map(type=>({value:type,name:type,view:"".concat(type," (").concat(savedObjectCounts[type]||0,")")}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center"},this.renderFlyout(),this.renderRelationships(),this.renderDeleteConfirmModal(),this.renderExportAllOptionsModal(),external_kbnSharedDeps_React_default.a.createElement(Header,{onExportAll:()=>this.setState({isShowingExportAllOptionsModal:true}),onImport:this.showImportFlyout,onRefresh:this.refreshObjects,filteredCount:filteredItemCount}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(public_["RedirectAppLinks"],{application:applications},external_kbnSharedDeps_React_default.a.createElement(table_Table,{basePath:http.basePath,taggingApi:taggingApi,initialQuery:this.props.initialQuery,itemId:"id",actionRegistry:this.props.actionRegistry,columnRegistry:this.props.columnRegistry,selectionConfig:selectionConfig,selectedSavedObjects:selectedSavedObjects,onQueryChange:this.onQueryChange,onTableChange:this.onTableChange,filterOptions:filterOptions,onExport:this.onExport,capabilities:applications.capabilities,onDelete:this.onDelete,onActionRefresh:this.refreshObject,goInspectObject:this.props.goInspectObject,pageIndex:page,pageSize:perPage,items:savedObjects,totalItemCount:filteredItemCount,isSearching:isSearching,onShowRelationships:this.onShowRelationships,canGoInApp:this.props.canGoInApp})))}}const SavedObjectsTablePage=({coreStart:coreStart,dataStart:dataStart,taggingApi:taggingApi,allowedTypes:allowedTypes,serviceRegistry:serviceRegistry,actionRegistry:actionRegistry,columnRegistry:columnRegistry,setBreadcrumbs:setBreadcrumbs})=>{const capabilities=coreStart.application.capabilities;const itemsPerPage=coreStart.uiSettings.get("savedObjects:perPage",50);const _useLocation=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])(),search=_useLocation.search;const initialQuery=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const query=Object(query_string["parse"])(search);try{var _ref;return external_kbnSharedDeps_ElasticEui_["Query"].parse((_ref=query.initialQuery)!==null&&_ref!==void 0?_ref:"")}catch(e){return external_kbnSharedDeps_ElasticEui_["Query"].parse("")}},[search]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setBreadcrumbs([{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.breadcrumb.index",{defaultMessage:"Saved objects"}),href:"/"}])},[setBreadcrumbs]);return external_kbnSharedDeps_React_default.a.createElement(saved_objects_table_SavedObjectsTable,{initialQuery:initialQuery,allowedTypes:allowedTypes,serviceRegistry:serviceRegistry,actionRegistry:actionRegistry,columnRegistry:columnRegistry,taggingApi:taggingApi,savedObjectsClient:coreStart.savedObjects.client,indexPatterns:dataStart.indexPatterns,search:dataStart.search,http:coreStart.http,overlays:coreStart.overlays,notifications:coreStart.notifications,applications:coreStart.application,perPageConfig:itemsPerPage,goInspectObject:savedObject=>{const editUrl=savedObject.meta.editUrl;if(editUrl){return coreStart.application.navigateToUrl(coreStart.http.basePath.prepend("/app".concat(editUrl)))}},canGoInApp:savedObject=>{const inAppUrl=savedObject.meta.inAppUrl;return inAppUrl?Boolean(Object(external_kbnSharedDeps_Lodash_["get"])(capabilities,inAppUrl.uiCapabilitiesPath)):false}})}}}]);