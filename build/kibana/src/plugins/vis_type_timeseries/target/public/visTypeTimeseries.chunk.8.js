(window["visTypeTimeseries_bundle_jsonpfunction"]=window["visTypeTimeseries_bundle_jsonpfunction"]||[]).push([[8],{133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return visWithSplits}));var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);function getDisplayName(Component){return Component.displayName||Component.name||"Component"}var label_date_formatter=__webpack_require__(59);var external_kbnSharedDeps_Lodash_=__webpack_require__(13);var calculate_label=__webpack_require__(56);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function visWithSplits(WrappedComponent){function SplitVisComponent(props){const model=props.model,visData=props.visData;if(!model||!visData||!visData[model.id])return external_kbnSharedDeps_React_default.a.createElement(WrappedComponent,props);if(visData[model.id].series.every(s=>s.id.split(":").length===1)){return external_kbnSharedDeps_React_default.a.createElement(WrappedComponent,props)}const splitsVisData=visData[model.id].series.reduce((acc,series)=>{const _series$id$split=series.id.split(":"),_series$id$split2=_slicedToArray(_series$id$split,2),seriesId=_series$id$split2[0],splitId=_series$id$split2[1];const seriesModel=model.series.find(s=>s.id===seriesId);if(!seriesModel||!splitId)return acc;const metric=Object(external_kbnSharedDeps_Lodash_["last"])(seriesModel.metrics);const label=Object(calculate_label["a"])(metric,seriesModel.metrics);if(!acc[splitId]){acc[splitId]={series:[],label:series.label.toString(),labelFormatted:series.labelFormatted}}const labelHasKeyPlaceholder=/{{\s*key\s*}}/.test(seriesModel.label);acc[splitId].series.push(_objectSpread(_objectSpread({},series),{},{id:seriesId,color:series.color||seriesModel.color,label:seriesModel.label&&!labelHasKeyPlaceholder?seriesModel.label:label}));return acc},{});const nonSplitSeries=Object(external_kbnSharedDeps_Lodash_["first"])(visData[model.id].series.filter(series=>{const seriesModel=model.series.find(s=>s.id===series.id);if(!seriesModel)return false;return["everything","filter"].includes(seriesModel.split_mode)}));const indexOfNonSplit=nonSplitSeries?Object(external_kbnSharedDeps_Lodash_["findIndex"])(model.series,s=>s.id===nonSplitSeries.id):null;const rows=Object.keys(splitsVisData).map(key=>{const splitData=splitsVisData[key];const series=splitData.series,label=splitData.label,labelFormatted=splitData.labelFormatted;let additionalLabel=label;if(labelFormatted){additionalLabel=Object(label_date_formatter["a"])(labelFormatted)}const newSeries=indexOfNonSplit!=null&&indexOfNonSplit>0?[...series,nonSplitSeries]:[nonSplitSeries,...series];const newVisData={[model.id]:{id:model.id,series:newSeries||series}};return external_kbnSharedDeps_React_default.a.createElement("div",{key:key,className:"tvbSplitVis__split"},external_kbnSharedDeps_React_default.a.createElement(WrappedComponent,{model:model,visData:newVisData,onBrush:props.onBrush,additionalLabel:additionalLabel,backgroundColor:props.backgroundColor,getConfig:props.getConfig}))});return external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbSplitVis"},rows)}SplitVisComponent.displayName="SplitVisComponent(".concat(getDisplayName(WrappedComponent),")");return SplitVisComponent}},354:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",(function(){return vis_gauge}));var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var vis_with_splits=__webpack_require__(133);var tick_formatter=__webpack_require__(50);var external_kbnSharedDeps_Lodash_=__webpack_require__(13);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var classnames=__webpack_require__(78);var classnames_default=__webpack_require__.n(classnames);var set_is_reversed=__webpack_require__(80);var get_last_value=__webpack_require__(52);const getValueBy=(fn,data)=>{if(external_kbnSharedDeps_Lodash_default.a.isNumber(data))return data;if(!Array.isArray(data))return 0;const values=data.map(v=>v[1]);return external_kbnSharedDeps_Lodash_default.a[fn](values)};var lib=__webpack_require__(93);var lib_default=__webpack_require__.n(lib);var calculate_coordinates=__webpack_require__(97);var chart=__webpack_require__(48);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}class gauge_vis_GaugeVis extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);this.state={scale:1,top:0,left:0,translateX:1,translateY:1};this.handleResize=this.handleResize.bind(this)}UNSAFE_componentWillMount(){const check=()=>{this.timeout=setTimeout(()=>{const newState=Object(calculate_coordinates["a"])(this.inner,this.resize,this.state);if(newState&&this.state&&!external_kbnSharedDeps_Lodash_default.a.isEqual(newState,this.state)){this.handleResize()}check()},500)};check()}componentWillUnmount(){clearTimeout(this.timeout)}componentDidMount(){this.handleResize()}handleResize(){const newState=Object(calculate_coordinates["a"])(this.inner,this.resize,this.state);this.setState(newState)}render(){const _this$props=this.props,type=_this$props.type,value=_this$props.value,max=_this$props.max,color=_this$props.color;const _this$state=this.state,scale=_this$state.scale,translateX=_this$state.translateX,translateY=_this$state.translateY;const size=2*Math.PI*50;const sliceSize=type==="half"?.6:1;const percent=value<max?value/max:1;const styles=lib_default()({default:{resize:{position:"relative",display:"flex",rowDirection:"column",flex:"1 0 auto",overflow:"hidden"},svg:{position:"absolute",top:this.state.top,left:this.state.left,transform:"matrix(".concat(scale,", 0, 0, ").concat(scale,", ").concat(translateX,", ").concat(translateY,")")},innerLine:{strokeWidth:this.props.innerLine},gaugeLine:{strokeWidth:this.props.gaugeLine}},half:{svg:{transform:"matrix(".concat(scale,", 0, 0, ").concat(scale,", ").concat(translateX,", ").concat(translateY,")")}}},{half:type==="half"});const props={circle:{r:50,cx:60,cy:60,fill:"rgba(0,0,0,0)",stroke:color,strokeWidth:this.props.gaugeLine,strokeDasharray:"".concat(percent*sliceSize*size," ").concat(size),transform:"rotate(-90 60 60)"},circleBackground:{r:50,cx:60,cy:60,fill:"rgba(0,0,0,0)",stroke:chart["a"].LINE_COLOR,strokeDasharray:"".concat(sliceSize*size," ").concat(size),strokeWidth:this.props.innerLine}};if(type==="half"){props.circle.transform="rotate(-197.8 60 60)";props.circleBackground.transform="rotate(162 60 60)"}if(this.props.innerColor){props.circleBackground.stroke=this.props.innerColor}let svg;if(type==="half"){svg=external_kbnSharedDeps_React_default.a.createElement("svg",{width:120.72,height:78.72},external_kbnSharedDeps_React_default.a.createElement("circle",_extends({},props.circleBackground,{style:styles.innerLine})),external_kbnSharedDeps_React_default.a.createElement("circle",_extends({},props.circle,{style:styles.gaugeLine})))}else{svg=external_kbnSharedDeps_React_default.a.createElement("svg",{width:120.72,height:120.72},external_kbnSharedDeps_React_default.a.createElement("circle",props.circleBackground),external_kbnSharedDeps_React_default.a.createElement("circle",props.circle))}return external_kbnSharedDeps_React_default.a.createElement("div",{ref:el=>this.resize=el,style:styles.resize},external_kbnSharedDeps_React_default.a.createElement("div",{style:styles.svg,ref:el=>this.inner=el},svg))}}gauge_vis_GaugeVis.defaultProps={innerLine:2,gaugeLine:10};class gauge_Gauge extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);this.state={scale:1,top:0,left:0,translateX:1,translateY:1};this.handleResize=this.handleResize.bind(this)}UNSAFE_componentWillMount(){const check=()=>{this.timeout=setTimeout(()=>{const newState=Object(calculate_coordinates["a"])(this.inner,this.resize,this.state);if(newState&&this.state&&!external_kbnSharedDeps_Lodash_default.a.isEqual(newState,this.state)){this.handleResize()}check()},500)};check()}componentWillUnmount(){clearTimeout(this.timeout)}componentDidMount(){this.handleResize()}handleResize(){const newState=Object(calculate_coordinates["a"])(this.inner,this.resize,this.state);this.setState(newState)}render(){const _this$props=this.props,metric=_this$props.metric,type=_this$props.type;const _this$state=this.state,scale=_this$state.scale,translateX=_this$state.translateX,translateY=_this$state.translateY;const value=metric&&Object(get_last_value["a"])(metric.data)||0;const max=metric&&getValueBy("max",metric.data)||1;const formatter=metric&&(metric.tickFormatter||metric.formatter)||this.props.tickFormatter||(v=>v);const title=metric&&metric.label||"";const styles=lib_default()({default:{inner:{top:this.state.top||0,left:this.state.left||0,transform:"matrix(".concat(scale,", 0, 0, ").concat(scale,", ").concat(translateX,", ").concat(translateY,")")}},valueColor:{value:{color:this.props.valueColor}}},this.props);const gaugeProps={value:value,reversed:Object(set_is_reversed["a"])(this.props.backgroundColor),gaugeLine:this.props.gaugeLine,innerLine:this.props.innerLine,innerColor:this.props.innerColor,max:this.props.max||max,color:metric&&metric.color||"#8ac336",type:type};let metrics;let additionalLabel;if(this.props.additionalLabel){additionalLabel=external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisGauge__additionalLabel"},this.props.additionalLabel)}if(type==="half"){metrics=external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisHalfGauge__metrics",ref:el=>this.inner=el,style:styles.inner},external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisGauge__label",ref:"title"},title),external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisGauge__value",style:styles.value,ref:"label"},formatter(value)),additionalLabel)}else{metrics=external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisCircleGauge__metrics",ref:el=>this.inner=el,style:styles.inner},external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisGauge__value",style:styles.value,ref:"label"},formatter(value)),external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVisGauge__label",ref:"title"},title),additionalLabel)}const classes=classnames_default()({tvbVisHalfGauge:type==="half",tvbVisCircleGauge:type==="circle","tvbVisGauge--reversed":Object(set_is_reversed["b"])(this.props.backgroundColor)});return external_kbnSharedDeps_React_default.a.createElement("div",{className:classes},external_kbnSharedDeps_React_default.a.createElement("div",{ref:el=>this.resize=el,className:"tvbVisGauge__resize","data-test-subj":"tvbVisGaugeContainer"},metrics,external_kbnSharedDeps_React_default.a.createElement(gauge_vis_GaugeVis,gaugeProps)))}}gauge_Gauge.defaultProps={type:"half",innerLine:2,gaugeLine:10};function getColors(props){const model=props.model,visData=props.visData;const series=Object(external_kbnSharedDeps_Lodash_["get"])(visData,"".concat(model.id,".series"),[]).filter(s=>!Object(external_kbnSharedDeps_Lodash_["isUndefined"])(s));let text;let gauge;if(model.gauge_color_rules){model.gauge_color_rules.forEach(rule=>{if(rule.operator&&rule.value!=null){const value=series[0]&&Object(get_last_value["a"])(series[0].data)||0;if(external_kbnSharedDeps_Lodash_default.a[rule.operator](value,rule.value)){gauge=rule.gauge;text=rule.text}}})}return{text:text,gauge:gauge}}function GaugeVisualization(props){const backgroundColor=props.backgroundColor,model=props.model,visData=props.visData;const colors=getColors(props);const series=Object(external_kbnSharedDeps_Lodash_["get"])(visData,"".concat(model.id,".series"),[]).filter(row=>row).map((row,i)=>{const seriesDef=model.series.find(s=>Object(external_kbnSharedDeps_Lodash_["includes"])(row.id,s.id));const newProps={};if(seriesDef){newProps.formatter=Object(tick_formatter["a"])(seriesDef.formatter,seriesDef.value_template,props.getConfig)}if(i===0&&colors.gauge)newProps.color=colors.gauge;return Object(external_kbnSharedDeps_Lodash_["assign"])({},row,newProps)});const panelBackgroundColor=model.background_color||backgroundColor;const style={backgroundColor:panelBackgroundColor};const params={metric:series[0],type:model.gauge_style||"half",additionalLabel:props.additionalLabel,backgroundColor:panelBackgroundColor};if(colors.text){params.valueColor=colors.text}if(model.gauge_width)params.gaugeLine=model.gauge_width;if(model.gauge_inner_color)params.innerColor=model.gauge_inner_color;if(model.gauge_inner_width)params.innerLine=model.gauge_inner_width;if(model.gauge_max!=null)params.max=model.gauge_max;return external_kbnSharedDeps_React_default.a.createElement("div",{className:"tvbVis",style:style},external_kbnSharedDeps_React_default.a.createElement(gauge_Gauge,params))}const vis_gauge=Object(vis_with_splits["a"])(GaugeVisualization)},47:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return lookup}));__webpack_require__.d(__webpack_exports__,"a",(function(){return isBasicAgg}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__);const lookup={count:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.countLabel",{defaultMessage:"Count"}),calculation:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.calculationLabel",{defaultMessage:"Calculation"}),std_deviation:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.deviationLabel",{defaultMessage:"Std. Deviation"}),variance:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.varianceLabel",{defaultMessage:"Variance"}),sum_of_squares:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.sumOfSqLabel",{defaultMessage:"Sum of Sq."}),avg:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.averageLabel",{defaultMessage:"Average"}),max:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.maxLabel",{defaultMessage:"Max"}),min:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.minLabel",{defaultMessage:"Min"}),sum:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.sumLabel",{defaultMessage:"Sum"}),percentile:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.percentileLabel",{defaultMessage:"Percentile"}),percentile_rank:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.percentileRankLabel",{defaultMessage:"Percentile Rank"}),cardinality:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.cardinalityLabel",{defaultMessage:"Cardinality"}),value_count:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.valueCountLabel",{defaultMessage:"Value Count"}),derivative:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.derivativeLabel",{defaultMessage:"Derivative"}),cumulative_sum:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.cumulativeSumLabel",{defaultMessage:"Cumulative Sum"}),moving_average:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.movingAverageLabel",{defaultMessage:"Moving Average"}),avg_bucket:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.overallAverageLabel",{defaultMessage:"Overall Average"}),min_bucket:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.overallMinLabel",{defaultMessage:"Overall Min"}),max_bucket:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.overallMaxLabel",{defaultMessage:"Overall Max"}),sum_bucket:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.overallSumLabel",{defaultMessage:"Overall Sum"}),variance_bucket:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.overallVarianceLabel",{defaultMessage:"Overall Variance"}),sum_of_squares_bucket:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.overallSumOfSqLabel",{defaultMessage:"Overall Sum of Sq."}),std_deviation_bucket:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.overallStdDeviationLabel",{defaultMessage:"Overall Std. Deviation"}),series_agg:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.seriesAggLabel",{defaultMessage:"Series Agg"}),math:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.mathLabel",{defaultMessage:"Math"}),serial_diff:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.serialDifferenceLabel",{defaultMessage:"Serial Difference"}),filter_ratio:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.filterRatioLabel",{defaultMessage:"Filter Ratio"}),positive_only:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.positiveOnlyLabel",{defaultMessage:"Positive Only"}),static:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.staticValueLabel",{defaultMessage:"Static Value"}),top_hit:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.topHitLabel",{defaultMessage:"Top Hit"}),positive_rate:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("visTypeTimeseries.aggLookup.positiveRateLabel",{defaultMessage:"Counter Rate"})};const pipeline=["calculation","derivative","cumulative_sum","moving_average","avg_bucket","min_bucket","max_bucket","sum_bucket","variance_bucket","sum_of_squares_bucket","std_deviation_bucket","series_agg","math","serial_diff","positive_only"];const byType={_all:lookup,pipeline:pipeline,basic:lodash__WEBPACK_IMPORTED_MODULE_0___default.a.omit(lookup,pipeline),metrics:lodash__WEBPACK_IMPORTED_MODULE_0___default.a.pick(lookup,["count","avg","min","max","sum","cardinality","value_count"])};function isBasicAgg(item){return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.includes(Object.keys(byType.basic),item.type)}},48:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return COLORS}));__webpack_require__.d(__webpack_exports__,"b",(function(){return GRID_LINE_CONFIG}));__webpack_require__.d(__webpack_exports__,"e",(function(){return X_ACCESSOR_INDEX}));__webpack_require__.d(__webpack_exports__,"d",(function(){return STACK_ACCESSORS}));__webpack_require__.d(__webpack_exports__,"g",(function(){return Y_ACCESSOR_INDEXES}));__webpack_require__.d(__webpack_exports__,"f",(function(){return Y0_ACCESSOR_INDEXES}));__webpack_require__.d(__webpack_exports__,"c",(function(){return STACKED_OPTIONS}));const COLORS={LINE_COLOR:"rgba(105,112,125,0.2)",TEXT_COLOR:"rgba(0,0,0,0.4)",TEXT_COLOR_REVERSED:"rgba(255,255,255,0.5)",VALUE_COLOR:"rgba(0,0,0,0.7)",VALUE_COLOR_REVERSED:"rgba(255,255,255,0.8)"};const GRID_LINE_CONFIG={stroke:"rgba(125,125,125,0.1)"};const X_ACCESSOR_INDEX=0;const STACK_ACCESSORS=[0];const Y_ACCESSOR_INDEXES=[1];const Y0_ACCESSOR_INDEXES=[2];const STACKED_OPTIONS={NONE:"none",PERCENT:"percent",STACKED:"stacked",STACKED_WITHIN_SERIES:"stacked_within_series"}},56:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateLabel}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _agg_lookup__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_2__);const paths=["cumulative_sum","derivative","moving_average","avg_bucket","sum_bucket","min_bucket","max_bucket","std_deviation_bucket","variance_bucket","sum_of_squares_bucket","serial_diff","positive_only"];function calculateLabel(metric,metrics){if(!metric){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.unknownLabel",{defaultMessage:"Unknown"})}if(metric.alias){return metric.alias}if(metric.type==="count"){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.countLabel",{defaultMessage:"Count"})}if(metric.type==="calculation"){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.bucketScriptsLabel",{defaultMessage:"Bucket Script"})}if(metric.type==="math"){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.mathLabel",{defaultMessage:"Math"})}if(metric.type==="series_agg"){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.seriesAggLabel",{defaultMessage:"Series Agg ({metricFunction})",values:{metricFunction:metric.function}})}if(metric.type==="filter_ratio"){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.filterRatioLabel",{defaultMessage:"Filter Ratio"})}if(metric.type==="positive_rate"){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.positiveRateLabel",{defaultMessage:"Counter Rate of {field}",values:{field:metric.field}})}if(metric.type==="static"){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.staticValueLabel",{defaultMessage:"Static Value of {metricValue}",values:{metricValue:metric.value}})}if(Object(lodash__WEBPACK_IMPORTED_MODULE_0__["includes"])(paths,metric.type)){const targetMetric=metrics.find(m=>Object(lodash__WEBPACK_IMPORTED_MODULE_0__["startsWith"])(metric.field,m.id));const targetLabel=calculateLabel(targetMetric,metrics);if(targetMetric&&targetMetric.type==="percentile"){const percentileValueMatch=/\[([0-9\.]+)\]$/;const matches=metric.field.match(percentileValueMatch);if(matches){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.lookupMetricTypeOfTargetWithAdditionalLabel",{defaultMessage:"{lookupMetricType} of {targetLabel} ({additionalLabel})",values:{lookupMetricType:_agg_lookup__WEBPACK_IMPORTED_MODULE_1__["b"][metric.type],targetLabel:targetLabel,additionalLabel:matches[1]}})}}return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.lookupMetricTypeOfTargetLabel",{defaultMessage:"{lookupMetricType} of {targetLabel}",values:{lookupMetricType:_agg_lookup__WEBPACK_IMPORTED_MODULE_1__["b"][metric.type],targetLabel:targetLabel}})}return _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("visTypeTimeseries.calculateLabel.lookupMetricTypeOfMetricFieldRankLabel",{defaultMessage:"{lookupMetricType} of {metricField}",values:{lookupMetricType:_agg_lookup__WEBPACK_IMPORTED_MODULE_1__["b"][metric.type],metricField:metric.field}})}},78:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},97:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateCoordinates}));var external_kbnSharedDeps_ReactDom_=__webpack_require__(4);function calcDimensions(el,scale){const newWidth=Math.floor(el.clientWidth*scale);const newHeight=Math.floor(el.clientHeight*scale);return[newWidth,newHeight]}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function calculateCoordinates(innerRef,resizeRef,state){const inner=Object(external_kbnSharedDeps_ReactDom_["findDOMNode"])(innerRef);const resize=Object(external_kbnSharedDeps_ReactDom_["findDOMNode"])(resizeRef);let scale=state.scale;if(resize.clientWidth-resize.clientHeight<0){scale=resize.clientWidth/inner.clientWidth}else{scale=resize.clientHeight/inner.clientHeight}let _calcDimensions=calcDimensions(inner,scale),_calcDimensions2=_slicedToArray(_calcDimensions,2),newWidth=_calcDimensions2[0],newHeight=_calcDimensions2[1];if(newWidth>resize.clientWidth){scale=resize.clientWidth/inner.clientWidth}if(newHeight>resize.clientHeight){scale=resize.clientHeight/inner.clientHeight}var _calcDimensions3=calcDimensions(inner,scale);var _calcDimensions4=_slicedToArray(_calcDimensions3,2);newWidth=_calcDimensions4[0];newHeight=_calcDimensions4[1];const translateX=(newWidth-inner.clientWidth)/2;const translateY=(newHeight-inner.clientHeight)/2;const top=Math.floor((resize.clientHeight-newHeight)/2);const left=Math.floor((resize.clientWidth-newWidth)/2);return{scale:scale,top:top,left:left,translateY:translateY,translateX:translateX}}}}]);