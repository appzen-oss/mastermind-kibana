(window["dashboard_bundle_jsonpfunction"]=window["dashboard_bundle_jsonpfunction"]||[]).push([[1],Array(122).concat([function(module,exports,__webpack_require__){const SemVer=__webpack_require__(128);const compare=(a,b,loose)=>new SemVer(a,loose).compare(new SemVer(b,loose));module.exports=compare},function(module,exports){},function(module,exports,__webpack_require__){(function(process){const debug=typeof process==="object"&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...args)=>console.error("SEMVER",...args):()=>{};module.exports=debug}).call(this,__webpack_require__(149))},function(module,exports){const looseOption=Object.freeze({loose:true});const emptyOpts=Object.freeze({});const parseOptions=options=>{if(!options){return emptyOpts}if(typeof options!=="object"){return looseOption}return options};module.exports=parseOptions},function(module,exports,__webpack_require__){const{MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH:MAX_SAFE_BUILD_LENGTH,MAX_LENGTH:MAX_LENGTH}=__webpack_require__(127);const debug=__webpack_require__(124);exports=module.exports={};const re=exports.re=[];const safeRe=exports.safeRe=[];const src=exports.src=[];const t=exports.t={};let R=0;const LETTERDASHNUMBER="[a-zA-Z0-9-]";const safeRegexReplacements=[["\\s",1],["\\d",MAX_LENGTH],[LETTERDASHNUMBER,MAX_SAFE_BUILD_LENGTH]];const makeSafeRegex=value=>{for(const[token,max]of safeRegexReplacements){value=value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`)}return value};const createToken=(name,value,isGlobal)=>{const safe=makeSafeRegex(value);const index=R++;debug(name,index,value);t[name]=index;src[index]=value;re[index]=new RegExp(value,isGlobal?"g":undefined);safeRe[index]=new RegExp(safe,isGlobal?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","\\d+");createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);createToken("MAINVERSION",`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER",`${LETTERDASHNUMBER}+`);createToken("BUILD",`(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);createToken("FULL",`^${src[t.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);createToken("LOOSE",`^${src[t.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${MAX_SAFE_COMPONENT_LENGTH}})`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",src[t.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${src[t.LONETILDE]}\\s+`,true);exports.tildeTrimReplace="$1~";createToken("TILDE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${src[t.LONECARET]}\\s+`,true);exports.caretTrimReplace="$1^";createToken("CARET",`^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`,true);exports.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${src[t.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${src[t.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(module,exports){const SEMVER_SPEC_VERSION="2.0.0";const MAX_LENGTH=256;const MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;const MAX_SAFE_COMPONENT_LENGTH=16;const MAX_SAFE_BUILD_LENGTH=MAX_LENGTH-6;const RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];module.exports={MAX_LENGTH:MAX_LENGTH,MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH:MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,RELEASE_TYPES:RELEASE_TYPES,SEMVER_SPEC_VERSION:SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(module,exports,__webpack_require__){const debug=__webpack_require__(124);const{MAX_LENGTH:MAX_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=__webpack_require__(127);const{safeRe:re,t:t}=__webpack_require__(126);const parseOptions=__webpack_require__(125);const{compareIdentifiers:compareIdentifiers}=__webpack_require__(152);class SemVer{constructor(version,options){options=parseOptions(options);if(version instanceof SemVer){if(version.loose===!!options.loose&&version.includePrerelease===!!options.includePrerelease){return version}else{version=version.version}}else if(typeof version!=="string"){throw new TypeError(`Invalid version. Must be a string. Got type "${typeof version}".`)}if(version.length>MAX_LENGTH){throw new TypeError(`version is longer than ${MAX_LENGTH} characters`)}debug("SemVer",version,options);this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;const m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m){throw new TypeError(`Invalid Version: ${version}`)}this.raw=version;this.major=+m[1];this.minor=+m[2];this.patch=+m[3];if(this.major>MAX_SAFE_INTEGER||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>MAX_SAFE_INTEGER||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>MAX_SAFE_INTEGER||this.patch<0){throw new TypeError("Invalid patch version")}if(!m[4]){this.prerelease=[]}else{this.prerelease=m[4].split(".").map(id=>{if(/^[0-9]+$/.test(id)){const num=+id;if(num>=0&&num<MAX_SAFE_INTEGER){return num}}return id})}this.build=m[5]?m[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(other){debug("SemVer.compare",this.version,this.options,other);if(!(other instanceof SemVer)){if(typeof other==="string"&&other===this.version){return 0}other=new SemVer(other,this.options)}if(other.version===this.version){return 0}return this.compareMain(other)||this.comparePre(other)}compareMain(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)}comparePre(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}if(this.prerelease.length&&!other.prerelease.length){return-1}else if(!this.prerelease.length&&other.prerelease.length){return 1}else if(!this.prerelease.length&&!other.prerelease.length){return 0}let i=0;do{const a=this.prerelease[i];const b=other.prerelease[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}compareBuild(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}let i=0;do{const a=this.build[i];const b=other.build[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}inc(release,identifier,identifierBase){switch(release){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",identifier,identifierBase);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",identifier,identifierBase);break;case"prepatch":this.prerelease.length=0;this.inc("patch",identifier,identifierBase);this.inc("pre",identifier,identifierBase);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",identifier,identifierBase)}this.inc("pre",identifier,identifierBase);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":{const base=Number(identifierBase)?1:0;if(!identifier&&identifierBase===false){throw new Error("invalid increment argument: identifier is empty")}if(this.prerelease.length===0){this.prerelease=[base]}else{let i=this.prerelease.length;while(--i>=0){if(typeof this.prerelease[i]==="number"){this.prerelease[i]++;i=-2}}if(i===-1){if(identifier===this.prerelease.join(".")&&identifierBase===false){throw new Error("invalid increment argument: identifier already exists")}this.prerelease.push(base)}}if(identifier){let prerelease=[identifier,base];if(identifierBase===false){prerelease=[identifier]}if(compareIdentifiers(this.prerelease[0],identifier)===0){if(isNaN(this.prerelease[1])){this.prerelease=prerelease}}else{this.prerelease=prerelease}}break}default:throw new Error(`invalid increment argument: ${release}`)}this.raw=this.format();if(this.build.length){this.raw+=`+${this.build.join(".")}`}return this}}module.exports=SemVer},function(module,exports,__webpack_require__){__webpack_require__(143);module.exports="ngSanitize"},function(module,exports,__webpack_require__){const Range=__webpack_require__(131);const satisfies=(version,range,options)=>{try{range=new Range(range,options)}catch(er){return false}return range.test(version)};module.exports=satisfies},function(module,exports,__webpack_require__){class Range{constructor(range,options){options=parseOptions(options);if(range instanceof Range){if(range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease){return range}else{return new Range(range.raw,options)}}if(range instanceof Comparator){this.raw=range.value;this.set=[[range]];this.format();return this}this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;this.raw=range.trim().split(/\s+/).join(" ");this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(c=>c.length);if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${this.raw}`)}if(this.set.length>1){const first=this.set[0];this.set=this.set.filter(c=>!isNullSet(c[0]));if(this.set.length===0){this.set=[first]}else if(this.set.length>1){for(const c of this.set){if(c.length===1&&isAny(c[0])){this.set=[c];break}}}}this.format()}format(){this.range=this.set.map(comps=>comps.join(" ").trim()).join("||").trim();return this.range}toString(){return this.range}parseRange(range){const memoOpts=(this.options.includePrerelease&&FLAG_INCLUDE_PRERELEASE)|(this.options.loose&&FLAG_LOOSE);const memoKey=memoOpts+":"+range;const cached=cache.get(memoKey);if(cached){return cached}const loose=this.options.loose;const hr=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr,hyphenReplace(this.options.includePrerelease));debug("hyphen replace",range);range=range.replace(re[t.COMPARATORTRIM],comparatorTrimReplace);debug("comparator trim",range);range=range.replace(re[t.TILDETRIM],tildeTrimReplace);debug("tilde trim",range);range=range.replace(re[t.CARETTRIM],caretTrimReplace);debug("caret trim",range);let rangeList=range.split(" ").map(comp=>parseComparator(comp,this.options)).join(" ").split(/\s+/).map(comp=>replaceGTE0(comp,this.options));if(loose){rangeList=rangeList.filter(comp=>{debug("loose invalid filter",comp,this.options);return!!comp.match(re[t.COMPARATORLOOSE])})}debug("range list",rangeList);const rangeMap=new Map;const comparators=rangeList.map(comp=>new Comparator(comp,this.options));for(const comp of comparators){if(isNullSet(comp)){return[comp]}rangeMap.set(comp.value,comp)}if(rangeMap.size>1&&rangeMap.has("")){rangeMap.delete("")}const result=[...rangeMap.values()];cache.set(memoKey,result);return result}intersects(range,options){if(!(range instanceof Range)){throw new TypeError("a Range is required")}return this.set.some(thisComparators=>isSatisfiable(thisComparators,options)&&range.set.some(rangeComparators=>isSatisfiable(rangeComparators,options)&&thisComparators.every(thisComparator=>rangeComparators.every(rangeComparator=>thisComparator.intersects(rangeComparator,options)))))}test(version){if(!version){return false}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}for(let i=0;i<this.set.length;i++){if(testSet(this.set[i],version,this.options)){return true}}return false}}module.exports=Range;const LRU=__webpack_require__(145);const cache=new LRU({max:1e3});const parseOptions=__webpack_require__(125);const Comparator=__webpack_require__(148);const debug=__webpack_require__(124);const SemVer=__webpack_require__(128);const{safeRe:re,t:t,comparatorTrimReplace:comparatorTrimReplace,tildeTrimReplace:tildeTrimReplace,caretTrimReplace:caretTrimReplace}=__webpack_require__(126);const{FLAG_INCLUDE_PRERELEASE:FLAG_INCLUDE_PRERELEASE,FLAG_LOOSE:FLAG_LOOSE}=__webpack_require__(127);const isNullSet=c=>c.value==="<0.0.0-0";const isAny=c=>c.value==="";const isSatisfiable=(comparators,options)=>{let result=true;const remainingComparators=comparators.slice();let testComparator=remainingComparators.pop();while(result&&remainingComparators.length){result=remainingComparators.every(otherComparator=>testComparator.intersects(otherComparator,options));testComparator=remainingComparators.pop()}return result};const parseComparator=(comp,options)=>{debug("comp",comp,options);comp=replaceCarets(comp,options);debug("caret",comp);comp=replaceTildes(comp,options);debug("tildes",comp);comp=replaceXRanges(comp,options);debug("xrange",comp);comp=replaceStars(comp,options);debug("stars",comp);return comp};const isX=id=>!id||id.toLowerCase()==="x"||id==="*";const replaceTildes=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceTilde(c,options)).join(" ");const replaceTilde=(comp,options)=>{const r=options.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(_,M,m,p,pr)=>{debug("tilde",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0 <${+M+1}.0.0-0`}else if(isX(p)){ret=`>=${M}.${m}.0 <${M}.${+m+1}.0-0`}else if(pr){debug("replaceTilde pr",pr);ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.${p} <${M}.${+m+1}.0-0`}debug("tilde return",ret);return ret})};const replaceCarets=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceCaret(c,options)).join(" ");const replaceCaret=(comp,options)=>{debug("caret",comp,options);const r=options.loose?re[t.CARETLOOSE]:re[t.CARET];const z=options.includePrerelease?"-0":"";return comp.replace(r,(_,M,m,p,pr)=>{debug("caret",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0${z} <${+M+1}.0.0-0`}else if(isX(p)){if(M==="0"){ret=`>=${M}.${m}.0${z} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.0${z} <${+M+1}.0.0-0`}}else if(pr){debug("replaceCaret pr",pr);if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}-${pr} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p}-${pr} <${+M+1}.0.0-0`}}else{debug("no pr");if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}${z} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}${z} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p} <${+M+1}.0.0-0`}}debug("caret return",ret);return ret})};const replaceXRanges=(comp,options)=>{debug("replaceXRanges",comp,options);return comp.split(/\s+/).map(c=>replaceXRange(c,options)).join(" ")};const replaceXRange=(comp,options)=>{comp=comp.trim();const r=options.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(ret,gtlt,M,m,p,pr)=>{debug("xRange",comp,ret,gtlt,M,m,p,pr);const xM=isX(M);const xm=xM||isX(m);const xp=xm||isX(p);const anyX=xp;if(gtlt==="="&&anyX){gtlt=""}pr=options.includePrerelease?"-0":"";if(xM){if(gtlt===">"||gtlt==="<"){ret="<0.0.0-0"}else{ret="*"}}else if(gtlt&&anyX){if(xm){m=0}p=0;if(gtlt===">"){gtlt=">=";if(xm){M=+M+1;m=0;p=0}else{m=+m+1;p=0}}else if(gtlt==="<="){gtlt="<";if(xm){M=+M+1}else{m=+m+1}}if(gtlt==="<"){pr="-0"}ret=`${gtlt+M}.${m}.${p}${pr}`}else if(xm){ret=`>=${M}.0.0${pr} <${+M+1}.0.0-0`}else if(xp){ret=`>=${M}.${m}.0${pr} <${M}.${+m+1}.0-0`}debug("xRange return",ret);return ret})};const replaceStars=(comp,options)=>{debug("replaceStars",comp,options);return comp.trim().replace(re[t.STAR],"")};const replaceGTE0=(comp,options)=>{debug("replaceGTE0",comp,options);return comp.trim().replace(re[options.includePrerelease?t.GTE0PRE:t.GTE0],"")};const hyphenReplace=incPr=>($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb)=>{if(isX(fM)){from=""}else if(isX(fm)){from=`>=${fM}.0.0${incPr?"-0":""}`}else if(isX(fp)){from=`>=${fM}.${fm}.0${incPr?"-0":""}`}else if(fpr){from=`>=${from}`}else{from=`>=${from}${incPr?"-0":""}`}if(isX(tM)){to=""}else if(isX(tm)){to=`<${+tM+1}.0.0-0`}else if(isX(tp)){to=`<${tM}.${+tm+1}.0-0`}else if(tpr){to=`<=${tM}.${tm}.${tp}-${tpr}`}else if(incPr){to=`<${tM}.${tm}.${+tp+1}-0`}else{to=`<=${to}`}return`${from} ${to}`.trim()};const testSet=(set,version,options)=>{for(let i=0;i<set.length;i++){if(!set[i].test(version)){return false}}if(version.prerelease.length&&!options.includePrerelease){for(let i=0;i<set.length;i++){debug(set[i].semver);if(set[i].semver===Comparator.ANY){continue}if(set[i].semver.prerelease.length>0){const allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch){return true}}}return false}return true}},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(135);case"v7light":return __webpack_require__(137);case"v8dark":return __webpack_require__(139);case"v8light":return __webpack_require__(141)}},function(module,exports,__webpack_require__){var api=__webpack_require__(35);var content=__webpack_require__(136);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(36);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".react-grid-layout .gs-w {\n  z-index: auto; }\n\n/**\n * 1. Due to https://github.com/STRML/react-grid-layout/issues/240 we have to manually hide the resizable\n * element.\n */\n.dshLayout--viewing .react-resizable-handle {\n  display: none;\n  /* 1 */ }\n\n/**\n * 1. If we don't give the resizable handler a larger z index value the layout will hide it.\n */\n.dshLayout--editing .react-resizable-handle {\n  width: 24px;\n  height: 24px;\n  z-index: 1000;\n  /* 1 */\n  right: 0;\n  bottom: 0;\n  padding-right: 8px;\n  padding-bottom: 8px; }\n\n/**\n * 1. Need to override the react grid layout height when a single panel is expanded. Important is required because\n * otherwise the height is set inline.\n */\n.dshLayout-isMaximizedPanel {\n  height: 100% !important;\n  /* 1. */\n  width: 100%;\n  position: absolute !important;\n  /* 1 */ }\n\n/**\n * .dshLayout-withoutMargins only affects the panel styles themselves, see ../panel\n */\n/**\n * When a single panel is expanded, all the other panels are hidden in the grid.\n */\n.dshDashboardGrid__item--hidden {\n  display: none; }\n\n/**\n * 1. We need to mark this as important because react grid layout sets the width and height of the panels inline.\n */\n.dshDashboardGrid__item--expanded {\n  height: 100% !important;\n  /* 1 */\n  width: 100% !important;\n  /* 1 */\n  top: 0 !important;\n  /* 1 */\n  left: 0 !important;\n  /* 1 */ }\n\n.react-grid-item {\n  /**\n   * Disable transitions from the library on each grid element.\n   */\n  transition: none;\n  /**\n    * Copy over and overwrite the fill color with EUI color mixin (for theming)\n    */\n  /**\n   * Dragged/Resized panels in dashboard should always appear above other panels\n   * and above the placeholder\n   */\n  /**\n   * Overwrites red coloring that comes from this library by default.\n   */ }\n  .react-grid-item > .react-resizable-handle {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='6' height='6' viewBox='0 0 6 6'%3E%3Cpolygon fill='rgb%28152, 162, 179%29' points='6 6 0 6 0 4.2 4 4.2 4.2 4.2 4.2 0 6 0' /%3E%3C/svg%3E%0A\"); }\n    .react-grid-item > .react-resizable-handle::after {\n      border: none !important;\n      /** overrides library default visual indicator **/ }\n    .react-grid-item > .react-resizable-handle:hover, .react-grid-item > .react-resizable-handle:focus {\n      background-color: rgba(255, 206, 122, 0.3); }\n  .react-grid-item.resizing, .react-grid-item.react-draggable-dragging {\n    z-index: 2000 !important; }\n  .react-grid-item.react-draggable-dragging {\n    transition: box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1);\n    box-shadow: 0 40px 64px 0 rgba(0, 0, 0, 0.1), 0 24px 32px 0 rgba(0, 0, 0, 0.1), 0 16px 16px 0 rgba(0, 0, 0, 0.1), 0 8px 8px 0 rgba(0, 0, 0, 0.1), 0 4px 4px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\n    border-radius: 4px; }\n  .react-grid-item.react-grid-placeholder {\n    border-radius: 4px;\n    background: #FFCE7A; }\n\n@media only screen and (max-width: 574px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n/**\n  * EDITING MODE\n  * Use .dshLayout--editing to target editing state because\n  * .embPanel--editing doesn't get updating without a hard refresh\n  */\n.dshLayout-withoutMargins .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  box-shadow: none;\n  border-radius: 0; }\n\n.dshLayout-withoutMargins:not(.dshLayout--editing) .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  border-color: transparent; }\n\n.dshDashboardViewport {\n  width: 100%; }\n\n.dshDashboardViewport-withMargins {\n  width: 100%; }\n\n/**\n * Needs to correspond with the react root nested inside angular.\n */\n#dashboardViewport {\n  flex: 1;\n  display: flex;\n  flex-direction: column; }\n  #dashboardViewport [data-reactroot] {\n    flex: 1; }\n\n.dshAppContainer {\n  display: flex;\n  flex-direction: column;\n  flex: 1; }\n\n.dshStartScreen {\n  text-align: center; }\n\n.dshStartScreen__pageContent {\n  padding: 40px; }\n\n.dshStartScreen__panelDesc {\n  max-width: 260px;\n  margin: 0 auto; }\n\n.dshEmptyWidget {\n  border: 1px solid #343741;\n  border-style: dashed;\n  border-radius: 4px;\n  padding: 80px;\n  max-width: 400px;\n  margin-left: 8px;\n  text-align: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(35);var content=__webpack_require__(138);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(36);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".react-grid-layout .gs-w {\n  z-index: auto; }\n\n/**\n * 1. Due to https://github.com/STRML/react-grid-layout/issues/240 we have to manually hide the resizable\n * element.\n */\n.dshLayout--viewing .react-resizable-handle {\n  display: none;\n  /* 1 */ }\n\n/**\n * 1. If we don't give the resizable handler a larger z index value the layout will hide it.\n */\n.dshLayout--editing .react-resizable-handle {\n  width: 24px;\n  height: 24px;\n  z-index: 1000;\n  /* 1 */\n  right: 0;\n  bottom: 0;\n  padding-right: 8px;\n  padding-bottom: 8px; }\n\n/**\n * 1. Need to override the react grid layout height when a single panel is expanded. Important is required because\n * otherwise the height is set inline.\n */\n.dshLayout-isMaximizedPanel {\n  height: 100% !important;\n  /* 1. */\n  width: 100%;\n  position: absolute !important;\n  /* 1 */ }\n\n/**\n * .dshLayout-withoutMargins only affects the panel styles themselves, see ../panel\n */\n/**\n * When a single panel is expanded, all the other panels are hidden in the grid.\n */\n.dshDashboardGrid__item--hidden {\n  display: none; }\n\n/**\n * 1. We need to mark this as important because react grid layout sets the width and height of the panels inline.\n */\n.dshDashboardGrid__item--expanded {\n  height: 100% !important;\n  /* 1 */\n  width: 100% !important;\n  /* 1 */\n  top: 0 !important;\n  /* 1 */\n  left: 0 !important;\n  /* 1 */ }\n\n.react-grid-item {\n  /**\n   * Disable transitions from the library on each grid element.\n   */\n  transition: none;\n  /**\n    * Copy over and overwrite the fill color with EUI color mixin (for theming)\n    */\n  /**\n   * Dragged/Resized panels in dashboard should always appear above other panels\n   * and above the placeholder\n   */\n  /**\n   * Overwrites red coloring that comes from this library by default.\n   */ }\n  .react-grid-item > .react-resizable-handle {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='6' height='6' viewBox='0 0 6 6'%3E%3Cpolygon fill='rgb%28109, 109, 109%29' points='6 6 0 6 0 4.2 4 4.2 4.2 4.2 4.2 0 6 0' /%3E%3C/svg%3E%0A\"); }\n    .react-grid-item > .react-resizable-handle::after {\n      border: none !important;\n      /** overrides library default visual indicator **/ }\n    .react-grid-item > .react-resizable-handle:hover, .react-grid-item > .react-resizable-handle:focus {\n      background-color: rgba(251, 176, 59, 0.1); }\n  .react-grid-item.resizing, .react-grid-item.react-draggable-dragging {\n    z-index: 2000 !important; }\n  .react-grid-item.react-draggable-dragging {\n    transition: box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1);\n    box-shadow: 0 40px 64px 0 rgba(103, 75, 75, 0.1), 0 24px 32px 0 rgba(103, 75, 75, 0.1), 0 16px 16px 0 rgba(103, 75, 75, 0.1), 0 8px 8px 0 rgba(103, 75, 75, 0.1), 0 4px 4px 0 rgba(103, 75, 75, 0.1), 0 2px 2px 0 rgba(103, 75, 75, 0.1);\n    border-radius: 4px; }\n  .react-grid-item.react-grid-placeholder {\n    border-radius: 4px;\n    background: #FBB03B; }\n\n@media only screen and (max-width: 574px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n/**\n  * EDITING MODE\n  * Use .dshLayout--editing to target editing state because\n  * .embPanel--editing doesn't get updating without a hard refresh\n  */\n.dshLayout-withoutMargins .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  box-shadow: none;\n  border-radius: 0; }\n\n.dshLayout-withoutMargins:not(.dshLayout--editing) .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  border-color: transparent; }\n\n.dshDashboardViewport {\n  width: 100%; }\n\n.dshDashboardViewport-withMargins {\n  width: 100%; }\n\n/**\n * Needs to correspond with the react root nested inside angular.\n */\n#dashboardViewport {\n  flex: 1;\n  display: flex;\n  flex-direction: column; }\n  #dashboardViewport [data-reactroot] {\n    flex: 1; }\n\n.dshAppContainer {\n  display: flex;\n  flex-direction: column;\n  flex: 1; }\n\n.dshStartScreen {\n  text-align: center; }\n\n.dshStartScreen__pageContent {\n  padding: 40px; }\n\n.dshStartScreen__panelDesc {\n  max-width: 260px;\n  margin: 0 auto; }\n\n.dshEmptyWidget {\n  border: 1px solid #E6E6E6;\n  border-style: dashed;\n  border-radius: 4px;\n  padding: 80px;\n  max-width: 400px;\n  margin-left: 8px;\n  text-align: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(35);var content=__webpack_require__(140);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(36);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".react-grid-layout .gs-w {\n  z-index: auto; }\n\n/**\n * 1. Due to https://github.com/STRML/react-grid-layout/issues/240 we have to manually hide the resizable\n * element.\n */\n.dshLayout--viewing .react-resizable-handle {\n  display: none;\n  /* 1 */ }\n\n/**\n * 1. If we don't give the resizable handler a larger z index value the layout will hide it.\n */\n.dshLayout--editing .react-resizable-handle {\n  width: 24px;\n  height: 24px;\n  z-index: 1000;\n  /* 1 */\n  right: 0;\n  bottom: 0;\n  padding-right: 8px;\n  padding-bottom: 8px; }\n\n/**\n * 1. Need to override the react grid layout height when a single panel is expanded. Important is required because\n * otherwise the height is set inline.\n */\n.dshLayout-isMaximizedPanel {\n  height: 100% !important;\n  /* 1. */\n  width: 100%;\n  position: absolute !important;\n  /* 1 */ }\n\n/**\n * .dshLayout-withoutMargins only affects the panel styles themselves, see ../panel\n */\n/**\n * When a single panel is expanded, all the other panels are hidden in the grid.\n */\n.dshDashboardGrid__item--hidden {\n  display: none; }\n\n/**\n * 1. We need to mark this as important because react grid layout sets the width and height of the panels inline.\n */\n.dshDashboardGrid__item--expanded {\n  height: 100% !important;\n  /* 1 */\n  width: 100% !important;\n  /* 1 */\n  top: 0 !important;\n  /* 1 */\n  left: 0 !important;\n  /* 1 */ }\n\n.react-grid-item {\n  /**\n   * Disable transitions from the library on each grid element.\n   */\n  transition: none;\n  /**\n    * Copy over and overwrite the fill color with EUI color mixin (for theming)\n    */\n  /**\n   * Dragged/Resized panels in dashboard should always appear above other panels\n   * and above the placeholder\n   */\n  /**\n   * Overwrites red coloring that comes from this library by default.\n   */ }\n  .react-grid-item > .react-resizable-handle {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='6' height='6' viewBox='0 0 6 6'%3E%3Cpolygon fill='rgb%28152, 162, 179%29' points='6 6 0 6 0 4.2 4 4.2 4.2 4.2 4.2 0 6 0' /%3E%3C/svg%3E%0A\"); }\n    .react-grid-item > .react-resizable-handle::after {\n      border: none !important;\n      /** overrides library default visual indicator **/ }\n    .react-grid-item > .react-resizable-handle:hover, .react-grid-item > .react-resizable-handle:focus {\n      background-color: rgba(255, 206, 122, 0.3); }\n  .react-grid-item.resizing, .react-grid-item.react-draggable-dragging {\n    z-index: 2000 !important; }\n  .react-grid-item.react-draggable-dragging {\n    transition: box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1);\n    box-shadow: 0 2.7px 9px rgba(0, 0, 0, 0.325), 0 9.4px 24px rgba(0, 0, 0, 0.225), 0 21.8px 43px rgba(0, 0, 0, 0.2);\n    border-radius: 6px; }\n  .react-grid-item.react-grid-placeholder {\n    border-radius: 6px;\n    background: #FFCE7A; }\n\n@media only screen and (max-width: 574px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n/**\n  * EDITING MODE\n  * Use .dshLayout--editing to target editing state because\n  * .embPanel--editing doesn't get updating without a hard refresh\n  */\n.dshLayout-withoutMargins .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  box-shadow: none;\n  border-radius: 0; }\n\n.dshLayout-withoutMargins:not(.dshLayout--editing) .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  border-color: transparent; }\n\n.dshDashboardViewport {\n  width: 100%; }\n\n.dshDashboardViewport-withMargins {\n  width: 100%; }\n\n/**\n * Needs to correspond with the react root nested inside angular.\n */\n#dashboardViewport {\n  flex: 1;\n  display: flex;\n  flex-direction: column; }\n  #dashboardViewport [data-reactroot] {\n    flex: 1; }\n\n.dshAppContainer {\n  display: flex;\n  flex-direction: column;\n  flex: 1; }\n\n.dshStartScreen {\n  text-align: center; }\n\n.dshStartScreen__pageContent {\n  padding: 40px; }\n\n.dshStartScreen__panelDesc {\n  max-width: 260px;\n  margin: 0 auto; }\n\n.dshEmptyWidget {\n  border: 1px solid #343741;\n  border-style: dashed;\n  border-radius: 6px;\n  padding: 80px;\n  max-width: 400px;\n  margin-left: 8px;\n  text-align: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(35);var content=__webpack_require__(142);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(36);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".react-grid-layout .gs-w {\n  z-index: auto; }\n\n/**\n * 1. Due to https://github.com/STRML/react-grid-layout/issues/240 we have to manually hide the resizable\n * element.\n */\n.dshLayout--viewing .react-resizable-handle {\n  display: none;\n  /* 1 */ }\n\n/**\n * 1. If we don't give the resizable handler a larger z index value the layout will hide it.\n */\n.dshLayout--editing .react-resizable-handle {\n  width: 24px;\n  height: 24px;\n  z-index: 1000;\n  /* 1 */\n  right: 0;\n  bottom: 0;\n  padding-right: 8px;\n  padding-bottom: 8px; }\n\n/**\n * 1. Need to override the react grid layout height when a single panel is expanded. Important is required because\n * otherwise the height is set inline.\n */\n.dshLayout-isMaximizedPanel {\n  height: 100% !important;\n  /* 1. */\n  width: 100%;\n  position: absolute !important;\n  /* 1 */ }\n\n/**\n * .dshLayout-withoutMargins only affects the panel styles themselves, see ../panel\n */\n/**\n * When a single panel is expanded, all the other panels are hidden in the grid.\n */\n.dshDashboardGrid__item--hidden {\n  display: none; }\n\n/**\n * 1. We need to mark this as important because react grid layout sets the width and height of the panels inline.\n */\n.dshDashboardGrid__item--expanded {\n  height: 100% !important;\n  /* 1 */\n  width: 100% !important;\n  /* 1 */\n  top: 0 !important;\n  /* 1 */\n  left: 0 !important;\n  /* 1 */ }\n\n.react-grid-item {\n  /**\n   * Disable transitions from the library on each grid element.\n   */\n  transition: none;\n  /**\n    * Copy over and overwrite the fill color with EUI color mixin (for theming)\n    */\n  /**\n   * Dragged/Resized panels in dashboard should always appear above other panels\n   * and above the placeholder\n   */\n  /**\n   * Overwrites red coloring that comes from this library by default.\n   */ }\n  .react-grid-item > .react-resizable-handle {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='6' height='6' viewBox='0 0 6 6'%3E%3Cpolygon fill='rgb%28109, 109, 109%29' points='6 6 0 6 0 4.2 4 4.2 4.2 4.2 4.2 0 6 0' /%3E%3C/svg%3E%0A\"); }\n    .react-grid-item > .react-resizable-handle::after {\n      border: none !important;\n      /** overrides library default visual indicator **/ }\n    .react-grid-item > .react-resizable-handle:hover, .react-grid-item > .react-resizable-handle:focus {\n      background-color: rgba(246, 133, 17, 0.1); }\n  .react-grid-item.resizing, .react-grid-item.react-draggable-dragging {\n    z-index: 2000 !important; }\n  .react-grid-item.react-draggable-dragging {\n    transition: box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1);\n    box-shadow: 0 2.7px 9px rgba(34, 34, 34, 0.13), 0 9.4px 24px rgba(34, 34, 34, 0.09), 0 21.8px 43px rgba(34, 34, 34, 0.08);\n    border-radius: 6px; }\n  .react-grid-item.react-grid-placeholder {\n    border-radius: 6px;\n    background: #F68511; }\n\n@media only screen and (max-width: 574px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .dshLayout--viewing .react-grid-item {\n    position: static !important;\n    width: calc(100% - 16px) !important;\n    margin: 8px; }\n  .dshLayout--viewing.dshLayout-withoutMargins .react-grid-item {\n    width: 100% !important;\n    margin: 0; } }\n\n/**\n  * EDITING MODE\n  * Use .dshLayout--editing to target editing state because\n  * .embPanel--editing doesn't get updating without a hard refresh\n  */\n.dshLayout-withoutMargins .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  box-shadow: none;\n  border-radius: 0; }\n\n.dshLayout-withoutMargins:not(.dshLayout--editing) .embPanel,\n.dshDashboardGrid__item--expanded .embPanel {\n  border-color: transparent; }\n\n.dshDashboardViewport {\n  width: 100%; }\n\n.dshDashboardViewport-withMargins {\n  width: 100%; }\n\n/**\n * Needs to correspond with the react root nested inside angular.\n */\n#dashboardViewport {\n  flex: 1;\n  display: flex;\n  flex-direction: column; }\n  #dashboardViewport [data-reactroot] {\n    flex: 1; }\n\n.dshAppContainer {\n  display: flex;\n  flex-direction: column;\n  flex: 1; }\n\n.dshStartScreen {\n  text-align: center; }\n\n.dshStartScreen__pageContent {\n  padding: 40px; }\n\n.dshStartScreen__panelDesc {\n  max-width: 260px;\n  margin: 0 auto; }\n\n.dshEmptyWidget {\n  border: 1px solid #E6E6E6;\n  border-style: dashed;\n  border-radius: 6px;\n  padding: 80px;\n  max-width: 400px;\n  margin-left: 8px;\n  text-align: center; }\n",""]);module.exports=exports},function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isArray;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var hasBeenInstantiated=false;var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){hasBeenInstantiated=true;if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,(function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};this.addValidElements=function(elements){if(!hasBeenInstantiated){if(isArray(elements)){elements={htmlElements:elements}}addElementsTo(svgElements,elements.svgElements);addElementsTo(voidElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlElements)}return this};this.addValidAttrs=function(attrs){if(!hasBeenInstantiated){extend(validAttrs,arrayToMap(attrs,true))}return this};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isArray=angular.isArray;isDefined=angular.isDefined;lowercase=angular.$$lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=stringToMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=stringToMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var obj={},i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}function addElementsTo(elementsMap,newElements){if(newElements&&newElements.length){extend(elementsMap,arrayToMap(newElements))}}var getInertBodyElement=function(window,document){var inertDocument;if(document&&document.implementation){inertDocument=document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!inertBodyElement.querySelector("svg")){return getInertBodyElement_XHR}else{inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(inertBodyElement.querySelector("svg img")){return getInertBodyElement_DOMParser}else{return getInertBodyElement_InertDocument}}function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document";xhr.open("GET","data:text/html;charset=utf-8,"+html,false);xhr.send(null);var body=xhr.response.body;body.firstChild.remove();return body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=html;if(document.documentMode){stripCustomNsAttrs(inertBodyElement)}return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}nextNode=getNonDescendant("nextSibling",node);if(!nextNode){while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(value){return"&#"+value.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,(function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}}));out(">")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function(chars){if(!ignoreCurrentElement){out(encodeEntities(chars))}}}}function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode)){throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText)}return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.8.0"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=="object"&&typeof b=="object"){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return false;return true}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(!equal(a[key],b[key]))return false}return true}return a!==a&&b!==b}},function(module,exports,__webpack_require__){"use strict";const Yallist=__webpack_require__(146);const MAX=Symbol("max");const LENGTH=Symbol("length");const LENGTH_CALCULATOR=Symbol("lengthCalculator");const ALLOW_STALE=Symbol("allowStale");const MAX_AGE=Symbol("maxAge");const DISPOSE=Symbol("dispose");const NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet");const LRU_LIST=Symbol("lruList");const CACHE=Symbol("cache");const UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(options){if(typeof options==="number")options={max:options};if(!options)options={};if(options.max&&(typeof options.max!=="number"||options.max<0))throw new TypeError("max must be a non-negative number");const max=this[MAX]=options.max||Infinity;const lc=options.length||naiveLength;this[LENGTH_CALCULATOR]=typeof lc!=="function"?naiveLength:lc;this[ALLOW_STALE]=options.stale||false;if(options.maxAge&&typeof options.maxAge!=="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0;this[DISPOSE]=options.dispose;this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||false;this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||false;this.reset()}set max(mL){if(typeof mL!=="number"||mL<0)throw new TypeError("max must be a non-negative number");this[MAX]=mL||Infinity;trim(this)}get max(){return this[MAX]}set allowStale(allowStale){this[ALLOW_STALE]=!!allowStale}get allowStale(){return this[ALLOW_STALE]}set maxAge(mA){if(typeof mA!=="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=mA;trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(lC){if(typeof lC!=="function")lC=naiveLength;if(lC!==this[LENGTH_CALCULATOR]){this[LENGTH_CALCULATOR]=lC;this[LENGTH]=0;this[LRU_LIST].forEach(hit=>{hit.length=this[LENGTH_CALCULATOR](hit.value,hit.key);this[LENGTH]+=hit.length})}trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].tail;walker!==null;){const prev=walker.prev;forEachStep(this,fn,walker,thisp);walker=prev}}forEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].head;walker!==null;){const next=walker.next;forEachStep(this,fn,walker,thisp);walker=next}}keys(){return this[LRU_LIST].toArray().map(k=>k.key)}values(){return this[LRU_LIST].toArray().map(k=>k.value)}reset(){if(this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length){this[LRU_LIST].forEach(hit=>this[DISPOSE](hit.key,hit.value))}this[CACHE]=new Map;this[LRU_LIST]=new Yallist;this[LENGTH]=0}dump(){return this[LRU_LIST].map(hit=>isStale(this,hit)?false:{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}).toArray().filter(h=>h)}dumpLru(){return this[LRU_LIST]}set(key,value,maxAge){maxAge=maxAge||this[MAX_AGE];if(maxAge&&typeof maxAge!=="number")throw new TypeError("maxAge must be a number");const now=maxAge?Date.now():0;const len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX]){del(this,this[CACHE].get(key));return false}const node=this[CACHE].get(key);const item=node.value;if(this[DISPOSE]){if(!this[NO_DISPOSE_ON_SET])this[DISPOSE](key,item.value)}item.now=now;item.maxAge=maxAge;item.value=value;this[LENGTH]+=len-item.length;item.length=len;this.get(key);trim(this);return true}const hit=new Entry(key,value,len,now,maxAge);if(hit.length>this[MAX]){if(this[DISPOSE])this[DISPOSE](key,value);return false}this[LENGTH]+=hit.length;this[LRU_LIST].unshift(hit);this[CACHE].set(key,this[LRU_LIST].head);trim(this);return true}has(key){if(!this[CACHE].has(key))return false;const hit=this[CACHE].get(key).value;return!isStale(this,hit)}get(key){return get(this,key,true)}peek(key){return get(this,key,false)}pop(){const node=this[LRU_LIST].tail;if(!node)return null;del(this,node);return node.value}del(key){del(this,this[CACHE].get(key))}load(arr){this.reset();const now=Date.now();for(let l=arr.length-1;l>=0;l--){const hit=arr[l];const expiresAt=hit.e||0;if(expiresAt===0)this.set(hit.k,hit.v);else{const maxAge=expiresAt-now;if(maxAge>0){this.set(hit.k,hit.v,maxAge)}}}}prune(){this[CACHE].forEach((value,key)=>get(this,key,false))}}const get=(self,key,doUse)=>{const node=self[CACHE].get(key);if(node){const hit=node.value;if(isStale(self,hit)){del(self,node);if(!self[ALLOW_STALE])return undefined}else{if(doUse){if(self[UPDATE_AGE_ON_GET])node.value.now=Date.now();self[LRU_LIST].unshiftNode(node)}}return hit.value}};const isStale=(self,hit)=>{if(!hit||!hit.maxAge&&!self[MAX_AGE])return false;const diff=Date.now()-hit.now;return hit.maxAge?diff>hit.maxAge:self[MAX_AGE]&&diff>self[MAX_AGE]};const trim=self=>{if(self[LENGTH]>self[MAX]){for(let walker=self[LRU_LIST].tail;self[LENGTH]>self[MAX]&&walker!==null;){const prev=walker.prev;del(self,walker);walker=prev}}};const del=(self,node)=>{if(node){const hit=node.value;if(self[DISPOSE])self[DISPOSE](hit.key,hit.value);self[LENGTH]-=hit.length;self[CACHE].delete(hit.key);self[LRU_LIST].removeNode(node)}};class Entry{constructor(key,value,length,now,maxAge){this.key=key;this.value=value;this.length=length;this.now=now;this.maxAge=maxAge||0}}const forEachStep=(self,fn,node,thisp)=>{let hit=node.value;if(isStale(self,hit)){del(self,node);if(!self[ALLOW_STALE])hit=undefined}if(hit)fn.call(thisp,hit.value,hit.key,self)};module.exports=LRUCache},function(module,exports,__webpack_require__){"use strict";module.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(list){var self=this;if(!(self instanceof Yallist)){self=new Yallist}self.tail=null;self.head=null;self.length=0;if(list&&typeof list.forEach==="function"){list.forEach((function(item){self.push(item)}))}else if(arguments.length>0){for(var i=0,l=arguments.length;i<l;i++){self.push(arguments[i])}}return self}Yallist.prototype.removeNode=function(node){if(node.list!==this){throw new Error("removing node which does not belong to this list")}var next=node.next;var prev=node.prev;if(next){next.prev=prev}if(prev){prev.next=next}if(node===this.head){this.head=next}if(node===this.tail){this.tail=prev}node.list.length--;node.next=null;node.prev=null;node.list=null;return next};Yallist.prototype.unshiftNode=function(node){if(node===this.head){return}if(node.list){node.list.removeNode(node)}var head=this.head;node.list=this;node.next=head;if(head){head.prev=node}this.head=node;if(!this.tail){this.tail=node}this.length++};Yallist.prototype.pushNode=function(node){if(node===this.tail){return}if(node.list){node.list.removeNode(node)}var tail=this.tail;node.list=this;node.prev=tail;if(tail){tail.next=node}this.tail=node;if(!this.head){this.head=node}this.length++};Yallist.prototype.push=function(){for(var i=0,l=arguments.length;i<l;i++){push(this,arguments[i])}return this.length};Yallist.prototype.unshift=function(){for(var i=0,l=arguments.length;i<l;i++){unshift(this,arguments[i])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var res=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return res};Yallist.prototype.shift=function(){if(!this.head){return undefined}var res=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return res};Yallist.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this.head,i=0;walker!==null;i++){fn.call(thisp,walker.value,i,this);walker=walker.next}};Yallist.prototype.forEachReverse=function(fn,thisp){thisp=thisp||this;for(var walker=this.tail,i=this.length-1;walker!==null;i--){fn.call(thisp,walker.value,i,this);walker=walker.prev}};Yallist.prototype.get=function(n){for(var i=0,walker=this.head;walker!==null&&i<n;i++){walker=walker.next}if(i===n&&walker!==null){return walker.value}};Yallist.prototype.getReverse=function(n){for(var i=0,walker=this.tail;walker!==null&&i<n;i++){walker=walker.prev}if(i===n&&walker!==null){return walker.value}};Yallist.prototype.map=function(fn,thisp){thisp=thisp||this;var res=new Yallist;for(var walker=this.head;walker!==null;){res.push(fn.call(thisp,walker.value,this));walker=walker.next}return res};Yallist.prototype.mapReverse=function(fn,thisp){thisp=thisp||this;var res=new Yallist;for(var walker=this.tail;walker!==null;){res.push(fn.call(thisp,walker.value,this));walker=walker.prev}return res};Yallist.prototype.reduce=function(fn,initial){var acc;var walker=this.head;if(arguments.length>1){acc=initial}else if(this.head){walker=this.head.next;acc=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var i=0;walker!==null;i++){acc=fn(acc,walker.value,i);walker=walker.next}return acc};Yallist.prototype.reduceReverse=function(fn,initial){var acc;var walker=this.tail;if(arguments.length>1){acc=initial}else if(this.tail){walker=this.tail.prev;acc=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var i=this.length-1;walker!==null;i--){acc=fn(acc,walker.value,i);walker=walker.prev}return acc};Yallist.prototype.toArray=function(){var arr=new Array(this.length);for(var i=0,walker=this.head;walker!==null;i++){arr[i]=walker.value;walker=walker.next}return arr};Yallist.prototype.toArrayReverse=function(){var arr=new Array(this.length);for(var i=0,walker=this.tail;walker!==null;i++){arr[i]=walker.value;walker=walker.prev}return arr};Yallist.prototype.slice=function(from,to){to=to||this.length;if(to<0){to+=this.length}from=from||0;if(from<0){from+=this.length}var ret=new Yallist;if(to<from||to<0){return ret}if(from<0){from=0}if(to>this.length){to=this.length}for(var i=0,walker=this.head;walker!==null&&i<from;i++){walker=walker.next}for(;walker!==null&&i<to;i++,walker=walker.next){ret.push(walker.value)}return ret};Yallist.prototype.sliceReverse=function(from,to){to=to||this.length;if(to<0){to+=this.length}from=from||0;if(from<0){from+=this.length}var ret=new Yallist;if(to<from||to<0){return ret}if(from<0){from=0}if(to>this.length){to=this.length}for(var i=this.length,walker=this.tail;walker!==null&&i>to;i--){walker=walker.prev}for(;walker!==null&&i>from;i--,walker=walker.prev){ret.push(walker.value)}return ret};Yallist.prototype.splice=function(start,deleteCount,...nodes){if(start>this.length){start=this.length-1}if(start<0){start=this.length+start}for(var i=0,walker=this.head;walker!==null&&i<start;i++){walker=walker.next}var ret=[];for(var i=0;walker&&i<deleteCount;i++){ret.push(walker.value);walker=this.removeNode(walker)}if(walker===null){walker=this.tail}if(walker!==this.head&&walker!==this.tail){walker=walker.prev}for(var i=0;i<nodes.length;i++){walker=insert(this,walker,nodes[i])}return ret};Yallist.prototype.reverse=function(){var head=this.head;var tail=this.tail;for(var walker=head;walker!==null;walker=walker.prev){var p=walker.prev;walker.prev=walker.next;walker.next=p}this.head=tail;this.tail=head;return this};function insert(self,node,value){var inserted=node===self.head?new Node(value,null,node,self):new Node(value,node,node.next,self);if(inserted.next===null){self.tail=inserted}if(inserted.prev===null){self.head=inserted}self.length++;return inserted}function push(self,item){self.tail=new Node(item,self.tail,null,self);if(!self.head){self.head=self.tail}self.length++}function unshift(self,item){self.head=new Node(item,null,self.head,self);if(!self.tail){self.tail=self.head}self.length++}function Node(value,prev,next,list){if(!(this instanceof Node)){return new Node(value,prev,next,list)}this.list=list;this.value=value;if(prev){prev.next=this;this.prev=prev}else{this.prev=null}if(next){next.prev=this;this.next=next}else{this.next=null}}try{__webpack_require__(147)(Yallist)}catch(er){}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Yallist){Yallist.prototype[Symbol.iterator]=function*(){for(let walker=this.head;walker;walker=walker.next){yield walker.value}}}},function(module,exports,__webpack_require__){const ANY=Symbol("SemVer ANY");class Comparator{static get ANY(){return ANY}constructor(comp,options){options=parseOptions(options);if(comp instanceof Comparator){if(comp.loose===!!options.loose){return comp}else{comp=comp.value}}comp=comp.trim().split(/\s+/).join(" ");debug("comparator",comp,options);this.options=options;this.loose=!!options.loose;this.parse(comp);if(this.semver===ANY){this.value=""}else{this.value=this.operator+this.semver.version}debug("comp",this)}parse(comp){const r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR];const m=comp.match(r);if(!m){throw new TypeError(`Invalid comparator: ${comp}`)}this.operator=m[1]!==undefined?m[1]:"";if(this.operator==="="){this.operator=""}if(!m[2]){this.semver=ANY}else{this.semver=new SemVer(m[2],this.options.loose)}}toString(){return this.value}test(version){debug("Comparator.test",version,this.options.loose);if(this.semver===ANY||version===ANY){return true}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}return cmp(version,this.operator,this.semver,this.options)}intersects(comp,options){if(!(comp instanceof Comparator)){throw new TypeError("a Comparator is required")}if(this.operator===""){if(this.value===""){return true}return new Range(comp.value,options).test(this.value)}else if(comp.operator===""){if(comp.value===""){return true}return new Range(this.value,options).test(comp.semver)}options=parseOptions(options);if(options.includePrerelease&&(this.value==="<0.0.0-0"||comp.value==="<0.0.0-0")){return false}if(!options.includePrerelease&&(this.value.startsWith("<0.0.0")||comp.value.startsWith("<0.0.0"))){return false}if(this.operator.startsWith(">")&&comp.operator.startsWith(">")){return true}if(this.operator.startsWith("<")&&comp.operator.startsWith("<")){return true}if(this.semver.version===comp.semver.version&&this.operator.includes("=")&&comp.operator.includes("=")){return true}if(cmp(this.semver,"<",comp.semver,options)&&this.operator.startsWith(">")&&comp.operator.startsWith("<")){return true}if(cmp(this.semver,">",comp.semver,options)&&this.operator.startsWith("<")&&comp.operator.startsWith(">")){return true}return false}}module.exports=Comparator;const parseOptions=__webpack_require__(125);const{safeRe:re,t:t}=__webpack_require__(126);const cmp=__webpack_require__(150);const debug=__webpack_require__(124);const SemVer=__webpack_require__(128);const Range=__webpack_require__(131)},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){const eq=__webpack_require__(151);const neq=__webpack_require__(153);const gt=__webpack_require__(154);const gte=__webpack_require__(155);const lt=__webpack_require__(156);const lte=__webpack_require__(157);const cmp=(a,op,b,loose)=>{switch(op){case"===":if(typeof a==="object"){a=a.version}if(typeof b==="object"){b=b.version}return a===b;case"!==":if(typeof a==="object"){a=a.version}if(typeof b==="object"){b=b.version}return a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError(`Invalid operator: ${op}`)}};module.exports=cmp},function(module,exports,__webpack_require__){const compare=__webpack_require__(122);const eq=(a,b,loose)=>compare(a,b,loose)===0;module.exports=eq},function(module,exports){const numeric=/^[0-9]+$/;const compareIdentifiers=(a,b)=>{const anum=numeric.test(a);const bnum=numeric.test(b);if(anum&&bnum){a=+a;b=+b}return a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1};const rcompareIdentifiers=(a,b)=>compareIdentifiers(b,a);module.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},function(module,exports,__webpack_require__){const compare=__webpack_require__(122);const neq=(a,b,loose)=>compare(a,b,loose)!==0;module.exports=neq},function(module,exports,__webpack_require__){const compare=__webpack_require__(122);const gt=(a,b,loose)=>compare(a,b,loose)>0;module.exports=gt},function(module,exports,__webpack_require__){const compare=__webpack_require__(122);const gte=(a,b,loose)=>compare(a,b,loose)>=0;module.exports=gte},function(module,exports,__webpack_require__){const compare=__webpack_require__(122);const lt=(a,b,loose)=>compare(a,b,loose)<0;module.exports=lt},function(module,exports,__webpack_require__){const compare=__webpack_require__(122);const lte=(a,b,loose)=>compare(a,b,loose)<=0;module.exports=lte},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(159)}else{}},function(module,exports,__webpack_require__){"use strict";function _interopDefault(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(__webpack_require__(160)),valueEqual=_interopDefault(__webpack_require__(161));__webpack_require__(162);var invariant=_interopDefault(__webpack_require__(163));function _extends(){return(_extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n}).apply(this,arguments)}function addLeadingSlash(n){return"/"===n.charAt(0)?n:"/"+n}function stripLeadingSlash(n){return"/"===n.charAt(0)?n.substr(1):n}function hasBasename(n,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(n)}function stripBasename(n,t){return hasBasename(n,t)?n.substr(t.length):n}function stripTrailingSlash(n){return"/"===n.charAt(n.length-1)?n.slice(0,-1):n}function parsePath(n){var t=n||"/",e="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(e=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===e?"":e,hash:"#"===a?"":a}}function createPath(n){var t=n.pathname,e=n.search,a=n.hash,o=t||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function createLocation(n,t,e,a){var o;"string"==typeof n?(o=parsePath(n)).state=t:(void 0===(o=_extends({},n)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(n){throw n instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):n}return e&&(o.key=e),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=resolvePathname(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function locationsAreEqual(n,t){return n.pathname===t.pathname&&n.search===t.search&&n.hash===t.hash&&n.key===t.key&&valueEqual(n.state,t.state)}function createTransitionManager(){var r=null;var a=[];return{setPrompt:function(n){return r=n,function(){r===n&&(r=null)}},confirmTransitionTo:function(n,t,e,a){if(null!=r){var o="function"==typeof r?r(n,t):r;"string"==typeof o?"function"==typeof e?e(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(n){var t=!0;function e(){t&&n.apply(void 0,arguments)}return a.push(e),function(){t=!1,a=a.filter((function(n){return n!==e}))}},notifyListeners:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];a.forEach((function(n){return n.apply(void 0,t)}))}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(n,t){t(window.confirm(n))}function supportsHistory(){var n=window.navigator.userAgent;return(-1===n.indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}function isExtraneousPopstateEvent(n){void 0===n.state&&navigator.userAgent.indexOf("CriOS")}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(n){return{}}}function createBrowserHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var c=window.history,s=supportsHistory(),t=!supportsPopStateOnHashChange(),e=n,a=e.forceRefresh,h=void 0!==a&&a,o=e.getUserConfirmation,u=void 0===o?getConfirmation:o,r=e.keyLength,i=void 0===r?6:r,f=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"";function l(n){var t=n||{},e=t.key,a=t.state,o=window.location,r=o.pathname+o.search+o.hash;return f&&(r=stripBasename(r,f)),createLocation(r,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(n){_extends(T,n),T.length=c.length,v.notifyListeners(T.location,T.action)}function g(n){isExtraneousPopstateEvent(n)||w(l(n.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(t){if(m)m=!1,p();else{v.confirmTransitionTo(t,"POP",u,(function(n){n?p({action:"POP",location:t}):function(n){var t=T.location,e=H.indexOf(t.key);-1===e&&(e=0);var a=H.indexOf(n.key);-1===a&&(a=0);var o=e-a;o&&(m=!0,L(o))}(t)}))}}var y=l(getHistoryState()),H=[y.key];function x(n){return f+createPath(n)}function L(n){c.go(n)}var O=0;function E(n){1===(O+=n)&&1===n?(window.addEventListener(PopStateEvent,g),t&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),t&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:c.length,action:"POP",location:y,createHref:x,push:function(n,t){var i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,"PUSH",u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.pushState({key:e,state:a},null,t),h)window.location.href=t;else{var o=H.indexOf(T.location.key),r=H.slice(0,-1===o?0:o+1);r.push(i.key),H=r,p({action:"PUSH",location:i})}else window.location.href=t}}))},replace:function(n,t){var r="REPLACE",i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,r,u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.replaceState({key:e,state:a},null,t),h)window.location.replace(t);else{var o=H.indexOf(T.location.key);-1!==o&&(H[o]=i.key),p({action:r,location:i})}else window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(n){void 0===n&&(n=!1);var t=v.setPrompt(n);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(n){var t=v.appendListener(n);return E(1),function(){E(-1),t()}}};return T}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+stripLeadingSlash(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function getHashPath(){var n=window.location.href,t=n.indexOf("#");return-1===t?"":n.substring(t+1)}function pushHashPath(n){window.location.hash=n}function replaceHashPath(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+n)}function createHashHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var t=window.history,e=(supportsGoWithoutReloadUsingHash(),n),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,o=e.hashType,r=void 0===o?"slash":o,c=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"",s=HashPathCoders[r],h=s.encodePath,u=s.decodePath;function f(){var n=u(getHashPath());return c&&(n=stripBasename(n,c)),createLocation(n)}var l=createTransitionManager();function d(n){_extends(E,n),E.length=t.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var n=getHashPath(),t=h(n);if(n!==t)replaceHashPath(t);else{var e=f(),a=E.location;if(!v&&locationsAreEqual(a,e))return;if(p===createPath(e))return;p=null,function(t){if(v)v=!1,d();else{l.confirmTransitionTo(t,"POP",i,(function(n){n?d({action:"POP",location:t}):function(n){var t=E.location,e=y.lastIndexOf(createPath(t));-1===e&&(e=0);var a=y.lastIndexOf(createPath(n));-1===a&&(a=0);var o=e-a;o&&(v=!0,H(o))}(t)}))}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(n){t.go(n)}var x=0;function L(n){1===(x+=n)&&1===n?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:t.length,action:"POP",location:w,createHref:function(n){return"#"+h(c+createPath(n))},push:function(n,t){var r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,"PUSH",i,(function(n){if(n){var t=createPath(r),e=h(c+t);if(getHashPath()!==e){p=t,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),o=y.slice(0,-1===a?0:a+1);o.push(t),y=o,d({action:"PUSH",location:r})}else d()}}))},replace:function(n,t){var o="REPLACE",r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,o,i,(function(n){if(n){var t=createPath(r),e=h(c+t);getHashPath()!==e&&(p=t,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=t),d({action:o,location:r})}}))},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(n){void 0===n&&(n=!1);var t=l.setPrompt(n);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),t()}},listen:function(n){var t=l.appendListener(n);return L(1),function(){L(-1),t()}}};return E}function clamp(n,t,e){return Math.min(Math.max(n,t),e)}function createMemoryHistory(n){void 0===n&&(n={});var t=n,o=t.getUserConfirmation,e=t.initialEntries,a=void 0===e?["/"]:e,r=t.initialIndex,i=void 0===r?0:r,c=t.keyLength,s=void 0===c?6:c,h=createTransitionManager();function u(n){_extends(g,n),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,s)}var l=clamp(i,0,a.length-1),d=a.map((function(n){return createLocation(n,void 0,"string"==typeof n?f():n.key||f())})),v=createPath;function p(n){var t=clamp(g.index+n,0,g.entries.length-1),e=g.entries[t];h.confirmTransitionTo(e,"POP",o,(function(n){n?u({action:"POP",location:e,index:t}):u()}))}var g={length:d.length,action:"POP",location:d[l],index:l,entries:d,createHref:v,push:function(n,t){var a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,"PUSH",o,(function(n){if(n){var t=g.index+1,e=g.entries.slice(0);e.length>t?e.splice(t,e.length-t,a):e.push(a),u({action:"PUSH",location:a,index:t,entries:e})}}))},replace:function(n,t){var e="REPLACE",a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,e,o,(function(n){n&&(g.entries[g.index]=a,u({action:e,location:a}))}))},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(n){var t=g.index+n;return 0<=t&&t<g.entries.length},block:function(n){return void 0===n&&(n=!1),h.setPrompt(n)},listen:function(n){return h.appendListener(n)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function isAbsolute(pathname){return pathname.charAt(0)==="/"}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()}function resolvePathname(to){var from=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length)return"/";var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs)for(;up--;up){fromParts.unshift("..")}if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0])))fromParts.unshift("");var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/")result+="/";return result}exports.default=resolvePathname;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function valueEqual(a,b){if(a===b)return true;if(a==null||b==null)return false;if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every((function(item,index){return valueEqual(item,b[index])}))}var aType=typeof a==="undefined"?"undefined":_typeof(a);var bType=typeof b==="undefined"?"undefined":_typeof(b);if(aType!==bType)return false;if(aType==="object"){var aValue=a.valueOf();var bValue=b.valueOf();if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);var aKeys=Object.keys(a);var bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return false;return aKeys.every((function(key){return valueEqual(a[key],b[key])}))}return false}exports.default=valueEqual;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";function warning(condition,message){if(!isProduction){if(condition){return}var text="Warning: "+message;if(typeof console!=="undefined"){console.warn(text)}try{throw Error(text)}catch(x){}}}module.exports=warning},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";var prefix="Invariant failed";function invariant(condition,message){if(condition){return}if(isProduction){throw new Error(prefix)}else{throw new Error(prefix+": "+(message||""))}}module.exports=invariant},function(module,exports,__webpack_require__){__webpack_require__(165);module.exports="ngRoute"},function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function routeToRegExp(path,opts){var keys=[];var pattern=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,(function(_,slash,key,option){var optional=option==="?"||option==="*?";var star=option==="*"||option==="*?";keys.push({name:key,optional:optional});slash=slash||"";return(optional?"(?:"+slash:slash+"(?:")+(star?"(.+?)":"([^/]+)")+(optional?"?)?":")")})).replace(/([/$*])/g,"\\$1");if(opts.ignoreTrailingSlashes){pattern=pattern.replace(/\/+$/,"")+"/*"}return{keys:keys,regexp:new RegExp("^"+pattern+"(?:[?#]|$)",opts.caseInsensitiveMatch?"i":"")}}var isArray;var isObject;var isDefined;var noop;var ngRouteModule=angular.module("ngRoute",[]).info({angularVersion:"1.8.0"}).provider("$route",$RouteProvider).run(instantiateRoute);var $routeMinErr=angular.$$minErr("ngRoute");var isEagerInstantiationEnabled;function $RouteProvider(){isArray=angular.isArray;isObject=angular.isObject;isDefined=angular.isDefined;noop=angular.noop;function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}var routes={};this.when=function(path,route){var routeCopy=shallowCopy(route);if(angular.isUndefined(routeCopy.reloadOnUrl)){routeCopy.reloadOnUrl=true}if(angular.isUndefined(routeCopy.reloadOnSearch)){routeCopy.reloadOnSearch=true}if(angular.isUndefined(routeCopy.caseInsensitiveMatch)){routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch}routes[path]=angular.extend(routeCopy,{originalPath:path},path&&routeToRegExp(path,routeCopy));if(path){var redirectPath=path[path.length-1]==="/"?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({originalPath:path,redirectTo:path},routeToRegExp(redirectPath,routeCopy))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(params){if(typeof params==="string"){params={redirectTo:params}}this.when(null,params);return this};isEagerInstantiationEnabled=true;this.eagerInstantiationEnabled=function eagerInstantiationEnabled(enabled){if(isDefined(enabled)){isEagerInstantiationEnabled=enabled;return this}return isEagerInstantiationEnabled};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var forceReload=false,preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false}};$rootScope.$evalAsync((function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute()}))},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,newParams));$location.search(newParams)}else{throw $routeMinErr("norout","Tried updating route with no current route")}}};$rootScope.$on("$locationChangeStart",prepareRoute);$rootScope.$on("$locationChangeSuccess",commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val){params[key.name]=val}}return params}function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=isNavigationUpdateOnly(preparedRoute,lastRoute);if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute)){if($rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented){if($locationEvent){$locationEvent.preventDefault()}}}}function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast("$routeUpdate",lastRoute)}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;var nextRoutePromise=$q.resolve(nextRoute);$browser.$$incOutstandingRequestCount("$route");nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then((function(keepProcessingRoute){return keepProcessingRoute&&nextRoutePromise.then(resolveLocals).then((function(locals){if(nextRoute===$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams)}$rootScope.$broadcast("$routeChangeSuccess",nextRoute,lastRoute)}}))})).catch((function(error){if(nextRoute===$route.current){$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}})).finally((function(){$browser.$$completeOutstandingRequest(noop,"$route")}))}}function getRedirectionData(route){var data={route:route,hasRedirection:false};if(route){if(route.redirectTo){if(angular.isString(route.redirectTo)){data.path=interpolate(route.redirectTo,route.params);data.search=route.params;data.hasRedirection=true}else{var oldPath=$location.path();var oldSearch=$location.search();var newUrl=route.redirectTo(route.pathParams,oldPath,oldSearch);if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}}}else if(route.resolveRedirectTo){return $q.resolve($injector.invoke(route.resolveRedirectTo)).then((function(newUrl){if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}return data}))}}return data}function handlePossibleRedirection(data){var keepProcessingRoute=true;if(data.route!==$route.current){keepProcessingRoute=false}else if(data.hasRedirection){var oldUrl=$location.url();var newUrl=data.url;if(newUrl){$location.url(newUrl).replace()}else{newUrl=$location.path(data.path).search(data.search).replace().url()}if(newUrl!==oldUrl){keepProcessingRoute=false}}return keepProcessingRoute}function resolveLocals(route){if(route){var locals=angular.extend({},route.resolve);angular.forEach(locals,(function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)}));var template=getTemplateFor(route);if(angular.isDefined(template)){locals["$template"]=template}return $q.all(locals)}}function getTemplateFor(route){var template,templateUrl;if(angular.isDefined(template=route.template)){if(angular.isFunction(template)){template=template(route.params)}}else if(angular.isDefined(templateUrl=route.templateUrl)){if(angular.isFunction(templateUrl)){templateUrl=templateUrl(route.params)}if(angular.isDefined(templateUrl)){route.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl)}}return template}function parseRoute(){var params,match;angular.forEach(routes,(function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route}}));return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function isNavigationUpdateOnly(newRoute,oldRoute){return!forceReload&&newRoute&&oldRoute&&newRoute.$$route===oldRoute.$$route&&(!newRoute.reloadOnUrl||!newRoute.reloadOnSearch&&angular.equals(newRoute.pathParams,oldRoute.pathParams))}function interpolate(string,params){var result=[];angular.forEach((string||"").split(":"),(function(segment,i){if(i===0){result.push(segment)}else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||"");delete params[key]}}));return result.join("")}}]}instantiateRoute.$inject=["$injector"];function instantiateRoute($injector){if(isEagerInstantiationEnabled){$injector.get("$route")}}ngRouteModule.provider("$routeParams",$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{}}}ngRouteModule.directive("ngView",ngViewFactory);ngRouteModule.directive("ngView",ngViewFillContentFactory);ngViewFactory.$inject=["$route","$anchorScroll","$animate"];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.done((function(response){if(response!==false)previousLeaveAnimation=null}));currentElement=null}}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,(function(clone){$animate.enter(clone,null,currentElement||$element).done((function onNgViewEnter(response){if(response!==false&&angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}}));cleanupLastView()}));currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit("$viewContentLoaded");currentScope.$eval(onloadExp)}else{cleanupLastView()}}}}}ngViewFillContentFactory.$inject=["$compile","$controller","$route"];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs){scope[current.controllerAs]=controller}$element.data("$ngControllerController",controller);$element.children().data("$ngControllerController",controller)}scope[current.resolveAs||"$resolve"]=locals;link(scope)}}}})(window,window.angular)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderApp",(function(){return renderApp}));var application=__webpack_require__(134);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(7);var external_kbnSharedDeps_Angular_=__webpack_require__(118);var external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_);var angular_sanitize=__webpack_require__(129);var external_kbnSharedDeps_KbnI18nAngular_=__webpack_require__(120);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var query_string=__webpack_require__(34);var dashboard_app='<dashboard-app\n  class="app-container dshAppContainer"\n  ng-class="{\'dshAppContainer--withMargins\': model.useMargins}"\n>\n  <div id="dashboardChrome"></div>\n  <h1 class="euiScreenReaderOnly">{{screenTitle}}</h1>\n  <div id="dashboardViewport"></div>\n\n</dashboard-app>\n';var dashboard_listing_ng_wrapper='<dashboard-listing\n  core="core"\n  create-item="create"\n  get-view-url="getViewUrl"\n  edit-item="editItem"\n  find-items="find"\n  delete-items="delete"\n  listing-limit="listingLimit"\n  hide-write-controls="hideWriteControls"\n  initial-filter="initialFilter"\n  initial-page-size="initialPageSize"\n  tagging-api="taggingApi"\n></dashboard-listing>\n';var node_modules_history=__webpack_require__(158);var external_kbnSharedDeps_Lodash_=__webpack_require__(8);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(11);var external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);var fast_deep_equal=__webpack_require__(144);var fast_deep_equal_default=__webpack_require__.n(fast_deep_equal);var external_kbnSharedDeps_Rxjs_=__webpack_require__(38);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(33);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(24);const emptyDashboardTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.emptyDashboardTitle",{defaultMessage:"This dashboard is empty."});const emptyDashboardAdditionalPrivilege=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.emptyDashboardAdditionalPrivilege",{defaultMessage:"You need additional privileges to edit this dashboard."});const fillDashboardTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.fillDashboardTitle",{defaultMessage:"This dashboard is empty. Let’s fill it up!"});const howToStartWorkingOnNewDashboardDescription1=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.howToStartWorkingOnNewDashboardDescription1",{defaultMessage:"Click"});const howToStartWorkingOnNewDashboardDescription2=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.howToStartWorkingOnNewDashboardDescription2",{defaultMessage:"in the menu bar above to start adding panels."});const howToStartWorkingOnNewDashboardEditLinkText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.howToStartWorkingOnNewDashboardEditLinkText",{defaultMessage:"Edit"});const howToStartWorkingOnNewDashboardEditLinkAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.howToStartWorkingOnNewDashboardEditLinkAriaLabel",{defaultMessage:"Edit dashboard"});const addExistingVisualizationLinkText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.addExistingVisualizationLinkText",{defaultMessage:"Add an existing"});const addExistingVisualizationLinkAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.addVisualizationLinkAriaLabel",{defaultMessage:"Add an existing visualization"});const addNewVisualizationDescription=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.addNewVisualizationText",{defaultMessage:"or new object to this dashboard"});const createNewVisualizationButton=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.createNewVisualizationButton",{defaultMessage:"Create new"});const createNewVisualizationButtonAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.createNewVisualizationButtonAriaLabel",{defaultMessage:"Create new visualization button"});function DashboardEmptyScreen({showLinkToVisualize:showLinkToVisualize,onLinkClick:onLinkClick,onVisualizeClick:onVisualizeClick,uiSettings:uiSettings,http:http,isReadonlyMode:isReadonlyMode}){const IS_DARK_THEME=uiSettings.get("theme:darkMode");const emptyStateGraphicURL=IS_DARK_THEME?"/plugins/home/assets/welcome_graphic_dark_2x.png":"/plugins/home/assets/welcome_graphic_light_2x.png";const linkToVisualizeParagraph=external_kbnSharedDeps_React_default.a.createElement("p",{"data-test-subj":"linkToVisualizeParagraph"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconSide:"left",size:"s",iconType:"plusInCircle",onClick:onVisualizeClick,"data-test-subj":"addVisualizationButton","aria-label":createNewVisualizationButtonAriaLabel},createNewVisualizationButton));const paragraph=(description1,description2,linkText,ariaLabel,dataTestSubj)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"m",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",null,description1,description1&&external_kbnSharedDeps_React_default.a.createElement("span",null," "),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:onLinkClick,"aria-label":ariaLabel,"data-test-subj":dataTestSubj||""},linkText),external_kbnSharedDeps_React_default.a.createElement("span",null," "),description2));const enterEditModeParagraph=paragraph(howToStartWorkingOnNewDashboardDescription1,howToStartWorkingOnNewDashboardDescription2,howToStartWorkingOnNewDashboardEditLinkText,howToStartWorkingOnNewDashboardEditLinkAriaLabel);const enterViewModeParagraph=paragraph(null,addNewVisualizationDescription,addExistingVisualizationLinkText,addExistingVisualizationLinkAriaLabel);const page=(mainText,showAdditionalParagraph,additionalText)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],{className:"dshStartScreen",restrictWidth:"500px"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center",paddingSize:"none",className:"dshStartScreen__pageContent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiImage"],{url:http.basePath.prepend(emptyStateGraphicURL),alt:""}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("p",{style:{fontWeight:"bold"}},mainText)),additionalText?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"m",color:"subdued"},additionalText):null,showAdditionalParagraph?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement("div",{className:"dshStartScreen__panelDesc"},enterEditModeParagraph)):null)));const readonlyMode=page(emptyDashboardTitle,false,emptyDashboardAdditionalPrivilege);const viewMode=page(fillDashboardTitle,true);const editMode=external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"emptyDashboardWidget",className:"dshEmptyWidget"},enterViewModeParagraph,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),linkToVisualizeParagraph);const actionableMode=showLinkToVisualize?editMode:viewMode;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,isReadonlyMode?readonlyMode:actionableMode)}var public_=__webpack_require__(17);var savedObjects_public_=__webpack_require__(18);var application_embeddable=__webpack_require__(12);var embeddable_public_=__webpack_require__(2);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class options_OptionsMenu extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);_defineProperty(this,"state",{useMargins:this.props.useMargins,hidePanelTitles:this.props.hidePanelTitles});_defineProperty(this,"handleUseMarginsChange",evt=>{const isChecked=evt.target.checked;this.props.onUseMarginsChange(isChecked);this.setState({useMargins:isChecked})});_defineProperty(this,"handleHidePanelTitlesChange",evt=>{const isChecked=!evt.target.checked;this.props.onHidePanelTitlesChange(isChecked);this.setState({hidePanelTitles:isChecked})})}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],{"data-test-subj":"dashboardOptionsMenu"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNav.options.useMarginsBetweenPanelsSwitchLabel",{defaultMessage:"Use margins between panels"}),checked:this.state.useMargins,onChange:this.handleUseMarginsChange,"data-test-subj":"dashboardMarginsCheckbox"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNav.options.hideAllPanelTitlesSwitchLabel",{defaultMessage:"Show panel titles"}),checked:!this.state.hidePanelTitles,onChange:this.handleHidePanelTitlesChange,"data-test-subj":"dashboardPanelTitlesCheckbox"})))}}let isOpen=false;const show_options_popover_container=document.createElement("div");const onClose=()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(show_options_popover_container);isOpen=false};function showOptionsPopover({anchorElement:anchorElement,useMargins:useMargins,onUseMarginsChange:onUseMarginsChange,hidePanelTitles:hidePanelTitles,onHidePanelTitlesChange:onHidePanelTitlesChange}){if(isOpen){onClose();return}isOpen=true;document.body.appendChild(show_options_popover_container);const element=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiWrappingPopover"],{id:"popover",button:anchorElement,isOpen:true,closePopover:onClose},external_kbnSharedDeps_React_default.a.createElement(options_OptionsMenu,{useMargins:useMargins,onUseMarginsChange:onUseMarginsChange,hidePanelTitles:hidePanelTitles,onHidePanelTitlesChange:onHidePanelTitlesChange})));external_kbnSharedDeps_ReactDom_default.a.render(element,show_options_popover_container)}function save_modal_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class save_modal_DashboardSaveModal extends external_kbnSharedDeps_React_default.a.Component{constructor(props){var _this$props$tags;super(props);save_modal_defineProperty(this,"state",{description:this.props.description,timeRestore:this.props.timeRestore,tags:(_this$props$tags=this.props.tags)!==null&&_this$props$tags!==void 0?_this$props$tags:[]});save_modal_defineProperty(this,"saveDashboard",({newTitle:newTitle,newCopyOnSave:newCopyOnSave,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate})=>{this.props.onSave({newTitle:newTitle,newDescription:this.state.description,newCopyOnSave:newCopyOnSave,newTimeRestore:this.state.timeRestore,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate,newTags:this.state.tags})});save_modal_defineProperty(this,"onDescriptionChange",event=>{this.setState({description:event.target.value})});save_modal_defineProperty(this,"onTimeRestoreChange",event=>{this.setState({timeRestore:event.target.checked})})}renderDashboardSaveOptions(){const savedObjectsTagging=this.props.savedObjectsTagging;const tagSelector=savedObjectsTagging?external_kbnSharedDeps_React_default.a.createElement(savedObjectsTagging.ui.components.SavedObjectSaveModalTagSelector,{initialSelection:this.state.tags,onTagsSelected:tags=>{this.setState({tags:tags})}}):undefined;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.saveModal.descriptionFormRowLabel",defaultMessage:"Description"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextArea"],{"data-test-subj":"dashboardDescription",value:this.state.description,onChange:this.onDescriptionChange})),tagSelector,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.saveModal.storeTimeWithDashboardFormRowHelpText",defaultMessage:"This changes the time filter to the currently selected time each time this dashboard is loaded."})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{"data-test-subj":"storeTimeWithDashboard",checked:this.state.timeRestore,onChange:this.onTimeRestoreChange,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.saveModal.storeTimeWithDashboardFormRowLabel",defaultMessage:"Store time with dashboard"})})))}render(){return external_kbnSharedDeps_React_default.a.createElement(savedObjects_public_["SavedObjectSaveModal"],{onSave:this.saveDashboard,onClose:this.props.onClose,title:this.props.title,showCopyOnSave:this.props.showCopyOnSave,objectType:"dashboard",options:this.renderDashboardSaveOptions(),showDescription:false})}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function clone_modal_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class clone_modal_DashboardCloneModal extends external_kbnSharedDeps_React_default.a.Component{constructor(props){var _this;super(props);_this=this;clone_modal_defineProperty(this,"isMounted",false);clone_modal_defineProperty(this,"onTitleDuplicate",()=>{this.setState({isTitleDuplicateConfirmed:true,hasTitleDuplicate:true})});clone_modal_defineProperty(this,"cloneDashboard",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.next=3;return _this.props.onClone(_this.state.newDashboardName,_this.state.isTitleDuplicateConfirmed,_this.onTitleDuplicate);case 3:if(_this.isMounted){_this.setState({isLoading:false})}case 4:case"end":return _context.stop()}}),_callee)}))));clone_modal_defineProperty(this,"onInputChange",event=>{this.setState({newDashboardName:event.target.value,isTitleDuplicateConfirmed:false,hasTitleDuplicate:false})});clone_modal_defineProperty(this,"renderDuplicateTitleCallout",()=>{if(!this.state.hasTitleDuplicate){return}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"s",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNav.cloneModal.dashboardExistsTitle",{defaultMessage:"A dashboard with the title {newDashboardName} already exists.",values:{newDashboardName:"'".concat(this.state.newDashboardName,"'")}}),color:"warning","data-test-subj":"titleDupicateWarnMsg"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.cloneModal.dashboardExistsDescription",defaultMessage:"Click {confirmClone} to clone the dashboard with the duplicate title.",values:{confirmClone:external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.cloneModal.confirmCloneDescription",defaultMessage:"Confirm Clone"}))}}))))});this.state={newDashboardName:props.title,isTitleDuplicateConfirmed:false,hasTitleDuplicate:false,isLoading:false}}componentDidMount(){this.isMounted=true}componentWillUnmount(){this.isMounted=false}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModal"],{"data-test-subj":"dashboardCloneModal",className:"dshCloneModal",onClose:this.props.onClose},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.cloneModal.cloneDashboardModalHeaderTitle",defaultMessage:"Clone dashboard"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.cloneModal.enterNewNameForDashboardDescription",defaultMessage:"Please enter a new name for your dashboard."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{autoFocus:true,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.cloneModal.cloneDashboardTitleAriaLabel",{defaultMessage:"Cloned Dashboard Title"}),"data-test-subj":"clonedDashboardTitle",value:this.state.newDashboardName,onChange:this.onInputChange,isInvalid:this.state.hasTitleDuplicate}),this.renderDuplicateTitleCallout()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"data-test-subj":"cloneCancelButton",onClick:this.props.onClose},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.cloneModal.cancelButtonLabel",defaultMessage:"Cancel"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,"data-test-subj":"cloneConfirmButton",onClick:this.cloneDashboard,isLoading:this.state.isLoading},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.topNav.cloneModal.confirmButtonLabel",defaultMessage:"Confirm Clone"})))))}}function show_clone_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function show_clone_modal_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){show_clone_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){show_clone_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function showCloneModal(onClone,title){const container=document.createElement("div");const closeModal=()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(container);document.body.removeChild(container)};const onCloneConfirmed=function(){var _ref=show_clone_modal_asyncToGenerator(regeneratorRuntime.mark((function _callee(newTitle,isTitleDuplicateConfirmed,onTitleDuplicate){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:onClone(newTitle,isTitleDuplicateConfirmed,onTitleDuplicate).then(response=>{if(response.error||response.id){closeModal()}});case 1:case"end":return _context.stop()}}),_callee)})));return function onCloneConfirmed(_x,_x2,_x3){return _ref.apply(this,arguments)}}();document.body.appendChild(container);const element=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(clone_modal_DashboardCloneModal,{onClone:onCloneConfirmed,onClose:closeModal,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNav.showCloneModal.dashboardCopyTitle",{defaultMessage:"{title} Copy",values:{title:title}})}));external_kbnSharedDeps_ReactDom_default.a.render(element,container)}var external_kbnSharedDeps_Moment_=__webpack_require__(121);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);class filter_utils_FilterUtils{static convertTimeToUTCString(time){if(external_kbnSharedDeps_Moment_default()(time).isValid()){return external_kbnSharedDeps_Moment_default()(time).utc().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")}else{return time}}static areTimesEqual(timeA,timeB){return this.convertTimeToUTCString(timeA)===this.convertTimeToUTCString(timeB)}static cleanFiltersForComparison(filters){return external_kbnSharedDeps_Lodash_default.a.map(filters,filter=>{const f=external_kbnSharedDeps_Lodash_default.a.omit(filter,["$$hashKey","$state"]);if(f.meta){return external_kbnSharedDeps_Lodash_default.a.omit(f.meta,["value"])}return f})}}function updateSavedDashboard(savedDashboard,appState,timeFilter,hasTaggingCapabilities,toJson){savedDashboard.title=appState.title;savedDashboard.description=appState.description;savedDashboard.timeRestore=appState.timeRestore;savedDashboard.panelsJSON=toJson(appState.panels);savedDashboard.optionsJSON=toJson(appState.options);if(hasTaggingCapabilities(savedDashboard)){savedDashboard.setTags(appState.tags)}savedDashboard.timeFrom=savedDashboard.timeRestore?filter_utils_FilterUtils.convertTimeToUTCString(timeFilter.getTime().from):undefined;savedDashboard.timeTo=savedDashboard.timeRestore?filter_utils_FilterUtils.convertTimeToUTCString(timeFilter.getTime().to):undefined;const timeRestoreObj=external_kbnSharedDeps_Lodash_default.a.pick(timeFilter.getRefreshInterval(),["display","pause","section","value"]);savedDashboard.refreshInterval=savedDashboard.timeRestore?timeRestoreObj:undefined;const unpinnedFilters=savedDashboard.getFilters().filter(filter=>!public_["esFilters"].isFilterPinned(filter));savedDashboard.searchSource.setField("filter",unpinnedFilters)}function saveDashboard(toJson,timeFilter,dashboardStateManager,saveOptions){const savedDashboard=dashboardStateManager.savedDashboard;const appState=dashboardStateManager.appState;const hasTaggingCapabilities=dashboardStateManager.hasTaggingCapabilities;updateSavedDashboard(savedDashboard,appState,timeFilter,hasTaggingCapabilities,toJson);return savedDashboard.save(saveOptions).then(id=>{if(id){dashboardStateManager.lastSavedDashboardFilters=dashboardStateManager.getFilterState();dashboardStateManager.resetState()}return id})}var embeddable_plugin=__webpack_require__(5);function getAppStateDefaults(savedDashboard,hideWriteControls,hasTaggingCapabilities){return{fullScreenMode:false,title:savedDashboard.title,description:savedDashboard.description||"",tags:hasTaggingCapabilities(savedDashboard)?savedDashboard.getTags():[],timeRestore:savedDashboard.timeRestore,panels:savedDashboard.panelsJSON?JSON.parse(savedDashboard.panelsJSON):[],options:savedDashboard.optionsJSON?JSON.parse(savedDashboard.optionsJSON):{},query:savedDashboard.getQuery(),filters:savedDashboard.getFilters(),viewMode:savedDashboard.id||hideWriteControls?embeddable_plugin["ViewMode"].VIEW:embeddable_plugin["ViewMode"].EDIT}}var satisfies=__webpack_require__(130);var satisfies_default=__webpack_require__.n(satisfies);function wrapArray(subj){return Array.isArray(subj)?subj:[subj]}class UnreachableCaseError extends Error{constructor(val){super("Unreachable case: ".concat(val))}}function createUiStatsMetric({type:type,appName:appName,eventName:eventName,count:count=1}){return{type:type,appName:appName,eventName:eventName,count:count}}var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(119);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);function application_usage_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class application_usage_ApplicationUsage{constructor(){application_usage_defineProperty(this,"currentUsage",void 0)}start(){if(window)window.addEventListener("click",()=>this.currentUsage&&this.currentUsage.numberOfClicks++)}appChanged(appId){const currentUsage=this.currentUsage;if(appId){this.currentUsage={type:METRIC_TYPE.APPLICATION_USAGE,appId:appId,startTime:external_kbnSharedDeps_MomentTimezone_default()(),numberOfClicks:0}}else{this.currentUsage=void 0}return currentUsage}}var stats=__webpack_require__(132);function trackUsageAgent(appName){const userAgent=window&&window.navigator&&window.navigator.userAgent||"";return{type:METRIC_TYPE.USER_AGENT,appName:appName,userAgent:userAgent}}let METRIC_TYPE;(function(METRIC_TYPE){METRIC_TYPE["COUNT"]="count";METRIC_TYPE["LOADED"]="loaded";METRIC_TYPE["CLICK"]="click";METRIC_TYPE["USER_AGENT"]="user_agent";METRIC_TYPE["APPLICATION_USAGE"]="application_usage"})(METRIC_TYPE||(METRIC_TYPE={}));function storage_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class ReportStorageManager{constructor(storageKey,storage){storage_defineProperty(this,"storageKey",void 0);storage_defineProperty(this,"storage",void 0);this.storageKey=storageKey;this.storage=storage}get(){if(!this.storage)return;return this.storage.get(this.storageKey)}store(report){if(!this.storage)return;this.storage.set(this.storageKey,report)}}function report_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const REPORT_VERSION=1;class report_ReportManager{constructor(report){report_defineProperty(this,"report",void 0);this.report=report||report_ReportManager.createReport()}static createReport(){return{reportVersion:REPORT_VERSION}}clearReport(){this.report=report_ReportManager.createReport()}isReportEmpty(){const _this$report=this.report,uiStatsMetrics=_this$report.uiStatsMetrics,userAgent=_this$report.userAgent,appUsage=_this$report.application_usage;const noUiStats=!uiStatsMetrics||Object.keys(uiStatsMetrics).length===0;const noUserAgent=!userAgent||Object.keys(userAgent).length===0;const noAppUsage=!appUsage||Object.keys(appUsage).length===0;return noUiStats&&noUserAgent&&noAppUsage}incrementStats(count,stats){const _ref=stats||{},_ref$min=_ref.min,min=_ref$min===void 0?0:_ref$min,_ref$max=_ref.max,max=_ref$max===void 0?0:_ref$max,_ref$sum=_ref.sum,sum=_ref$sum===void 0?0:_ref$sum;const newMin=Math.min(min,count);const newMax=Math.max(max,count);const newAvg=newMin+newMax/2;const newSum=sum+count;return{min:newMin,max:newMax,avg:newAvg,sum:newSum}}assignReports(newMetrics){wrapArray(newMetrics).forEach(newMetric=>this.assignReport(this.report,newMetric));return{report:this.report}}static createMetricKey(metric){switch(metric.type){case METRIC_TYPE.USER_AGENT:{const appName=metric.appName,type=metric.type;return"".concat(appName,"-").concat(type)}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{const appName=metric.appName,eventName=metric.eventName,type=metric.type;return"".concat(appName,"-").concat(type,"-").concat(eventName)}case METRIC_TYPE.APPLICATION_USAGE:return metric.appId;default:throw new UnreachableCaseError(metric)}}assignReport(report,metric){const key=report_ReportManager.createMetricKey(metric);switch(metric.type){case METRIC_TYPE.USER_AGENT:{const appName=metric.appName,type=metric.type,userAgent=metric.userAgent;if(userAgent){report.userAgent={[key]:{key:key,appName:appName,type:type,userAgent:metric.userAgent}}}return}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{const appName=metric.appName,type=metric.type,eventName=metric.eventName,count=metric.count;report.uiStatsMetrics=report.uiStatsMetrics||{};const existingStats=(report.uiStatsMetrics[key]||{}).stats;report.uiStatsMetrics[key]={key:key,appName:appName,eventName:eventName,type:type,stats:this.incrementStats(count,existingStats)};return}case METRIC_TYPE.APPLICATION_USAGE:const numberOfClicks=metric.numberOfClicks,startTime=metric.startTime;const minutesOnScreen=external_kbnSharedDeps_MomentTimezone_default()().diff(startTime,"minutes",true);report.application_usage=report.application_usage||{};const appExistingData=report.application_usage[key]||{minutesOnScreen:0,numberOfClicks:0};report.application_usage[key]={minutesOnScreen:appExistingData.minutesOnScreen+minutesOnScreen,numberOfClicks:appExistingData.numberOfClicks+numberOfClicks};break;default:throw new UnreachableCaseError(metric)}}}report_defineProperty(report_ReportManager,"REPORT_VERSION",REPORT_VERSION);function reporter_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function reporter_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){reporter_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){reporter_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function reporter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class reporter_Reporter{constructor(config){var _this=this;reporter_defineProperty(this,"checkInterval",void 0);reporter_defineProperty(this,"interval",void 0);reporter_defineProperty(this,"lastAppId",void 0);reporter_defineProperty(this,"http",void 0);reporter_defineProperty(this,"reportManager",void 0);reporter_defineProperty(this,"storageManager",void 0);reporter_defineProperty(this,"applicationUsage",void 0);reporter_defineProperty(this,"debug",void 0);reporter_defineProperty(this,"retryCount",0);reporter_defineProperty(this,"maxRetries",3);reporter_defineProperty(this,"started",false);reporter_defineProperty(this,"start",()=>{if(!this.interval){this.interval=setTimeout(()=>{this.interval=undefined;this.sendReports()},this.checkInterval)}if(this.started){return}if(window&&document){window.addEventListener("beforeunload",()=>this.reportApplicationUsage());document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"&&this.lastAppId){this.reportApplicationUsage(this.lastAppId)}else if(document.visibilityState==="hidden"){this.reportApplicationUsage()}})}this.started=true;this.applicationUsage.start()});reporter_defineProperty(this,"reportUiStats",(appName,type,eventNames,count)=>{const metrics=wrapArray(eventNames).map(eventName=>{this.log("".concat(type," Metric -> (").concat(appName,":").concat(eventName,"):"));const report=createUiStatsMetric({type:type,appName:appName,eventName:eventName,count:count});this.log(report);return report});this.saveToReport(metrics)});reporter_defineProperty(this,"reportUserAgent",appName=>{this.log("Reporting user-agent.");const report=trackUsageAgent(appName);this.saveToReport([report])});reporter_defineProperty(this,"sendReports",reporter_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var versionMismatch;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this.reportManager.isReportEmpty()){_context.next=13;break}_context.prev=1;_context.next=4;return _this.http(_this.reportManager.report);case 4:_this.flushReport();_context.next=13;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);_this.log("Error Sending Metrics Report ".concat(_context.t0));_this.retryCount=_this.retryCount+1;versionMismatch=_this.reportManager.report.reportVersion!==report_ReportManager.REPORT_VERSION;if(versionMismatch||_this.retryCount>_this.maxRetries){_this.flushReport()}case 13:_this.start();case 14:case"end":return _context.stop()}}),_callee,null,[[1,7]])}))));const http=config.http,storage=config.storage,debug=config.debug,_config$checkInterval=config.checkInterval,checkInterval=_config$checkInterval===void 0?9e4:_config$checkInterval,_config$storageKey=config.storageKey,storageKey=_config$storageKey===void 0?"analytics":_config$storageKey;this.http=http;this.checkInterval=checkInterval;this.applicationUsage=new application_usage_ApplicationUsage;this.storageManager=new ReportStorageManager(storageKey,storage);const storedReport=this.storageManager.get();this.reportManager=new report_ReportManager(storedReport);this.debug=!!debug}saveToReport(newMetrics){this.reportManager.assignReports(newMetrics);this.storageManager.store(this.reportManager.report)}flushReport(){this.retryCount=0;this.reportManager.clearReport();this.storageManager.store(this.reportManager.report)}log(message){if(this.debug){console.debug(message)}}reportApplicationUsage(appId){this.log("Reporting application changed to ".concat(appId));this.lastAppId=appId||this.lastAppId;const appChangedReport=this.applicationUsage.appChanged(appId);if(appChangedReport)this.saveToReport([appChangedReport])}}var types=__webpack_require__(133);var bwc_types=__webpack_require__(123);var common_types=__webpack_require__(23);var uuid=__webpack_require__(20);var uuid_default=__webpack_require__.n(uuid);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){migrate_to_730_panels_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function migrate_to_730_panels_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const PANEL_HEIGHT_SCALE_FACTOR=5;const PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS=4;const PANEL_WIDTH_SCALE_FACTOR=4;function isPre61Panel(panel){return panel.row!==undefined}function is61Panel(panel){return satisfies_default()(panel.version,"6.1.x")}function is62Panel(panel){return satisfies_default()(panel.version,"6.2.x")}function is63Panel(panel){return satisfies_default()(panel.version,"6.3.x")}function is640To720Panel(panel){return satisfies_default()(panel.version,">6.3")&&satisfies_default()(panel.version,"<7.3")}function migratePre61PanelToLatest(panel,version,useMargins,uiState){if(panel.col===undefined||panel.row===undefined){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.unableToMigratePanelDataForSixOneZeroErrorMessage",{defaultMessage:'Unable to migrate panel data for "6.1.0" backwards compatibility, panel does not contain expected col and/or row fields'}))}const embeddableConfig=uiState?uiState["P-".concat(panel.panelIndex)]||{}:{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}const heightScaleFactor=useMargins?PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS:PANEL_HEIGHT_SCALE_FACTOR;const DASHBOARD_GRID_COLUMN_COUNT=48;const DEFAULT_PANEL_WIDTH=DASHBOARD_GRID_COLUMN_COUNT/2;const DEFAULT_PANEL_HEIGHT=15;const columns=panel.columns,sort=panel.sort,row=panel.row,col=panel.col,sizeX=panel.size_x,sizeY=panel.size_y,rest=_objectWithoutProperties(panel,["columns","sort","row","col","size_x","size_y"]);const panelIndex=panel.panelIndex?panel.panelIndex.toString():uuid_default.a.v4();return _objectSpread(_objectSpread({},rest),{},{version:version,panelIndex:panelIndex,gridData:{x:(col-1)*PANEL_WIDTH_SCALE_FACTOR,y:(row-1)*heightScaleFactor,w:sizeX?sizeX*PANEL_WIDTH_SCALE_FACTOR:DEFAULT_PANEL_WIDTH,h:sizeY?sizeY*heightScaleFactor:DEFAULT_PANEL_HEIGHT,i:panelIndex},embeddableConfig:embeddableConfig})}function migrate610PanelToLatest(panel,version,useMargins,uiState){["w","x","h","y"].forEach(key=>{if(panel.gridData[key]===undefined){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.unableToMigratePanelDataForSixThreeZeroErrorMessage",{defaultMessage:'Unable to migrate panel data for "6.3.0" backwards compatibility, panel does not contain expected field: {key}',values:{key:key}}))}});const embeddableConfig=uiState?uiState["P-".concat(panel.panelIndex)]||{}:{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}const heightScaleFactor=useMargins?PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS:PANEL_HEIGHT_SCALE_FACTOR;const columns=panel.columns,sort=panel.sort,rest=_objectWithoutProperties(panel,["columns","sort"]);const panelIndex=panel.panelIndex?panel.panelIndex.toString():uuid_default.a.v4();return _objectSpread(_objectSpread({},rest),{},{version:version,panelIndex:panelIndex,gridData:{w:panel.gridData.w*PANEL_WIDTH_SCALE_FACTOR,h:panel.gridData.h*heightScaleFactor,x:panel.gridData.x*PANEL_WIDTH_SCALE_FACTOR,y:panel.gridData.y*heightScaleFactor,i:panel.gridData.i},embeddableConfig:embeddableConfig})}function migrate620PanelToLatest(panel,version,useMargins){const embeddableConfig=panel.embeddableConfig||{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}const heightScaleFactor=useMargins?PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS:PANEL_HEIGHT_SCALE_FACTOR;const columns=panel.columns,sort=panel.sort,rest=_objectWithoutProperties(panel,["columns","sort"]);const panelIndex=panel.panelIndex?panel.panelIndex.toString():uuid_default.a.v4();return _objectSpread(_objectSpread({},rest),{},{version:version,panelIndex:panelIndex,gridData:{w:panel.gridData.w*PANEL_WIDTH_SCALE_FACTOR,h:panel.gridData.h*heightScaleFactor,x:panel.gridData.x*PANEL_WIDTH_SCALE_FACTOR,y:panel.gridData.y*heightScaleFactor,i:panel.gridData.i},embeddableConfig:embeddableConfig})}function migrate630PanelToLatest(panel,version){const embeddableConfig=panel.embeddableConfig||{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}const columns=panel.columns,sort=panel.sort,rest=_objectWithoutProperties(panel,["columns","sort"]);const panelIndex=panel.panelIndex?panel.panelIndex.toString():uuid_default.a.v4();return _objectSpread(_objectSpread({},rest),{},{version:version,panelIndex:panelIndex,embeddableConfig:embeddableConfig})}function migrate640To720PanelsToLatest(panel,version){const panelIndex=panel.panelIndex?panel.panelIndex.toString():uuid_default.a.v4();return _objectSpread(_objectSpread({},panel),{},{version:version,panelIndex:panelIndex})}function migratePanelsTo730(panels,version,useMargins,uiState){return panels.map(panel=>{if(isPre61Panel(panel)){return migratePre61PanelToLatest(panel,version,useMargins,uiState)}if(is61Panel(panel)){return migrate610PanelToLatest(panel,version,useMargins,uiState)}if(is62Panel(panel)){return migrate620PanelToLatest(panel,version,useMargins)}if(is63Panel(panel)){return migrate630PanelToLatest(panel,version)}if(is640To720Panel(panel)){return migrate640To720PanelsToLatest(panel,version)}return panel})}function migrateAppState(appState,kibanaVersion,usageCollection){if(!appState.panels){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.invalidData",{defaultMessage:"Invalid data in url"}))}const panelNeedsMigration=appState.panels.some(panel=>{if(panel.version===undefined)return true;const version=panel.version;if(usageCollection){usageCollection.reportUiStats("DashboardPanelVersionInUrl",METRIC_TYPE.LOADED,"".concat(version))}return satisfies_default()(version,"<7.3")});if(panelNeedsMigration){appState.panels=migratePanelsTo730(appState.panels,kibanaVersion,appState.useMargins,appState.uiState);delete appState.uiState}return appState}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function getDashboardIdFromUrl(url){var _url$match;const _ref=(_url$match=url.match(/view\/(.*?)(\/|\?|$)/))!==null&&_url$match!==void 0?_url$match:[undefined,undefined],_ref2=_slicedToArray(_ref,2),dashboardId=_ref2[1];return dashboardId!==null&&dashboardId!==void 0?dashboardId:undefined}function migrateLegacyQuery(query){if(!Object(external_kbnSharedDeps_Lodash_["has"])(query,"language")){return{query:query,language:"lucene"}}return query}var kibanaUtils_public_=__webpack_require__(16);var embeddable_saved_object_converters=__webpack_require__(21);function dashboard_state_manager_objectWithoutProperties(source,excluded){if(source==null)return{};var target=dashboard_state_manager_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function dashboard_state_manager_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function dashboard_state_manager_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function dashboard_state_manager_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){dashboard_state_manager_ownKeys(Object(source),true).forEach((function(key){dashboard_state_manager_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{dashboard_state_manager_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function dashboard_state_manager_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class dashboard_state_manager_DashboardStateManager{get appState(){return this.stateContainer.get()}get appState$(){return this.stateContainer.state$}constructor({savedDashboard:savedDashboard,hideWriteControls:hideWriteControls,kibanaVersion:kibanaVersion,kbnUrlStateStorage:kbnUrlStateStorage,history:history,usageCollection:usageCollection,hasTaggingCapabilities:hasTaggingCapabilities}){dashboard_state_manager_defineProperty(this,"savedDashboard",void 0);dashboard_state_manager_defineProperty(this,"lastSavedDashboardFilters",void 0);dashboard_state_manager_defineProperty(this,"stateDefaults",void 0);dashboard_state_manager_defineProperty(this,"hideWriteControls",void 0);dashboard_state_manager_defineProperty(this,"kibanaVersion",void 0);dashboard_state_manager_defineProperty(this,"isDirty",void 0);dashboard_state_manager_defineProperty(this,"changeListeners",void 0);dashboard_state_manager_defineProperty(this,"stateContainer",void 0);dashboard_state_manager_defineProperty(this,"stateContainerChangeSub",void 0);dashboard_state_manager_defineProperty(this,"STATE_STORAGE_KEY","_a");dashboard_state_manager_defineProperty(this,"kbnUrlStateStorage",void 0);dashboard_state_manager_defineProperty(this,"stateSyncRef",void 0);dashboard_state_manager_defineProperty(this,"history",void 0);dashboard_state_manager_defineProperty(this,"usageCollection",void 0);dashboard_state_manager_defineProperty(this,"hasTaggingCapabilities",void 0);this.history=history;this.kibanaVersion=kibanaVersion;this.savedDashboard=savedDashboard;this.hideWriteControls=hideWriteControls;this.usageCollection=usageCollection;this.hasTaggingCapabilities=hasTaggingCapabilities;this.stateDefaults=migrateAppState(getAppStateDefaults(this.savedDashboard,this.hideWriteControls,this.hasTaggingCapabilities),kibanaVersion,usageCollection);this.kbnUrlStateStorage=kbnUrlStateStorage;const initialState=migrateAppState(dashboard_state_manager_objectSpread(dashboard_state_manager_objectSpread({},this.stateDefaults),this.kbnUrlStateStorage.get(this.STATE_STORAGE_KEY)),kibanaVersion,usageCollection);this.stateContainer=Object(kibanaUtils_public_["createStateContainer"])(initialState,{set:state=>(prop,value)=>dashboard_state_manager_objectSpread(dashboard_state_manager_objectSpread({},state),{},{[prop]:value}),setOption:state=>(option,value)=>dashboard_state_manager_objectSpread(dashboard_state_manager_objectSpread({},state),{},{options:dashboard_state_manager_objectSpread(dashboard_state_manager_objectSpread({},state.options),{},{[option]:value})})});this.isDirty=false;this.lastSavedDashboardFilters=this.getFilterState();this.changeListeners=[];this.stateContainerChangeSub=this.stateContainer.state$.subscribe(()=>{this.isDirty=this.checkIsDirty();this.changeListeners.forEach(listener=>listener({dirty:this.isDirty}))});this.stateSyncRef=Object(kibanaUtils_public_["syncState"])({storageKey:this.STATE_STORAGE_KEY,stateContainer:dashboard_state_manager_objectSpread(dashboard_state_manager_objectSpread({},this.stateContainer),{},{get:()=>this.toUrlState(this.stateContainer.get()),set:state=>{if(state){const currentDashboardIdInUrl=getDashboardIdFromUrl(history.location.pathname);if(currentDashboardIdInUrl!==this.savedDashboard.id)return;this.stateContainer.set(dashboard_state_manager_objectSpread(dashboard_state_manager_objectSpread({},this.stateDefaults),state))}else{}}}),stateStorage:this.kbnUrlStateStorage})}startStateSyncing(){this.saveState({replace:true});this.stateSyncRef.start()}registerChangeListener(callback){this.changeListeners.push(callback)}handleDashboardContainerChanges(dashboardContainer){let dirty=false;let dirtyBecauseOfInitialStateMigration=false;const savedDashboardPanelMap={};const input=dashboardContainer.getInput();this.getPanels().forEach(savedDashboardPanel=>{if(input.panels[savedDashboardPanel.panelIndex]!==undefined){savedDashboardPanelMap[savedDashboardPanel.panelIndex]=savedDashboardPanel}else{dirty=true}});const convertedPanelStateMap={};Object.values(input.panels).forEach(panelState=>{if(savedDashboardPanelMap[panelState.explicitInput.id]===undefined){dirty=true}convertedPanelStateMap[panelState.explicitInput.id]=Object(embeddable_saved_object_converters["a"])(panelState,this.kibanaVersion);if(!external_kbnSharedDeps_Lodash_default.a.isEqual(convertedPanelStateMap[panelState.explicitInput.id],savedDashboardPanelMap[panelState.explicitInput.id])){var _savedDashboardPanelM,_convertedPanelStateM;dirty=true;const oldVersion=(_savedDashboardPanelM=savedDashboardPanelMap[panelState.explicitInput.id])===null||_savedDashboardPanelM===void 0?void 0:_savedDashboardPanelM.version;const newVersion=(_convertedPanelStateM=convertedPanelStateMap[panelState.explicitInput.id])===null||_convertedPanelStateM===void 0?void 0:_convertedPanelStateM.version;if(oldVersion&&newVersion&&oldVersion!==newVersion){dirtyBecauseOfInitialStateMigration=true}}});if(dirty){this.stateContainer.transitions.set("panels",Object.values(convertedPanelStateMap));if(dirtyBecauseOfInitialStateMigration){this.saveState({replace:true})}}if(input.isFullScreenMode!==this.getFullScreenMode()){this.setFullScreenMode(input.isFullScreenMode)}if(input.expandedPanelId!==this.getExpandedPanelId()){this.setExpandedPanelId(input.expandedPanelId)}if(!external_kbnSharedDeps_Lodash_default.a.isEqual(input.query,this.getQuery())){this.setQuery(input.query)}this.changeListeners.forEach(listener=>listener({dirty:dirty}))}getFullScreenMode(){return this.appState.fullScreenMode}setFullScreenMode(fullScreenMode){this.stateContainer.transitions.set("fullScreenMode",fullScreenMode)}getExpandedPanelId(){return this.appState.expandedPanelId}setExpandedPanelId(expandedPanelId){this.stateContainer.transitions.set("expandedPanelId",expandedPanelId)}setFilters(filters){this.stateContainer.transitions.set("filters",filters)}resetState(){this.savedDashboard.title=this.savedDashboard.lastSavedTitle;this.stateDefaults=migrateAppState(getAppStateDefaults(this.savedDashboard,this.hideWriteControls,this.hasTaggingCapabilities),this.kibanaVersion,this.usageCollection);this.stateDefaults.query=this.lastSavedDashboardFilters.query;this.stateDefaults.filters=[...this.getLastSavedFilterBars()];this.isDirty=false;this.stateContainer.set(this.stateDefaults)}getFilterState(){return{timeTo:this.savedDashboard.timeTo,timeFrom:this.savedDashboard.timeFrom,filterBars:this.savedDashboard.getFilters(),query:this.savedDashboard.getQuery()}}getTitle(){return this.appState.title}isSaved(){return!!this.savedDashboard.id}isNew(){return!this.isSaved()}getDescription(){return this.appState.description}getTags(){return this.appState.tags}setDescription(description){this.stateContainer.transitions.set("description",description)}setTitle(title){this.savedDashboard.title=title;this.stateContainer.transitions.set("title",title)}setTags(tags){this.stateContainer.transitions.set("tags",tags)}getAppState(){return this.stateContainer.get()}getQuery(){return migrateLegacyQuery(this.stateContainer.get().query)}getSavedQueryId(){return this.stateContainer.get().savedQuery}setSavedQueryId(id){this.stateContainer.transitions.set("savedQuery",id)}getUseMargins(){return this.appState.options.useMargins===undefined?false:this.appState.options.useMargins}setUseMargins(useMargins){this.stateContainer.transitions.setOption("useMargins",useMargins)}getHidePanelTitles(){return this.appState.options.hidePanelTitles}setHidePanelTitles(hidePanelTitles){this.stateContainer.transitions.setOption("hidePanelTitles",hidePanelTitles)}getTimeRestore(){return this.appState.timeRestore}setTimeRestore(timeRestore){this.stateContainer.transitions.set("timeRestore",timeRestore)}getIsTimeSavedWithDashboard(){return this.savedDashboard.timeRestore}getLastSavedFilterBars(){return this.lastSavedDashboardFilters.filterBars}getLastSavedQuery(){return this.lastSavedDashboardFilters.query}getQueryChanged(){const currentQuery=this.appState.query;const lastSavedQuery=this.getLastSavedQuery();const query=migrateLegacyQuery(currentQuery);const isLegacyStringQuery=external_kbnSharedDeps_Lodash_default.a.isString(lastSavedQuery)&&external_kbnSharedDeps_Lodash_default.a.isPlainObject(currentQuery)&&external_kbnSharedDeps_Lodash_default.a.has(currentQuery,"query");if(isLegacyStringQuery){return lastSavedQuery!==query.query}return!external_kbnSharedDeps_Lodash_default.a.isEqual(currentQuery,lastSavedQuery)}getFilterBarChanged(){return!external_kbnSharedDeps_Lodash_default.a.isEqual(filter_utils_FilterUtils.cleanFiltersForComparison(this.appState.filters),filter_utils_FilterUtils.cleanFiltersForComparison(this.getLastSavedFilterBars()))}getTimeChanged(timeFilter){return!filter_utils_FilterUtils.areTimesEqual(this.lastSavedDashboardFilters.timeFrom,timeFilter.getTime().from)||!filter_utils_FilterUtils.areTimesEqual(this.lastSavedDashboardFilters.timeTo,timeFilter.getTime().to)}getViewMode(){return this.hideWriteControls?embeddable_plugin["ViewMode"].VIEW:this.appState.viewMode}getIsViewMode(){return this.getViewMode()===embeddable_plugin["ViewMode"].VIEW}getIsEditMode(){return this.getViewMode()===embeddable_plugin["ViewMode"].EDIT}getIsDirty(timeFilter){const hasTimeFilterChanged=timeFilter?this.getFiltersChanged(timeFilter):false;return this.getIsEditMode()&&(this.isDirty||hasTimeFilterChanged)}getPanels(){return this.appState.panels}updatePanel(panelIndex,panelAttributes){const foundPanel=this.getPanels().find(panel=>panel.panelIndex===panelIndex);Object.assign(foundPanel,panelAttributes);return foundPanel}getChangedFilterTypes(timeFilter){const changedFilters=[];if(this.getFilterBarChanged()){changedFilters.push("filter")}if(this.getQueryChanged()){changedFilters.push("query")}if(this.savedDashboard.timeRestore&&this.getTimeChanged(timeFilter)){changedFilters.push("time range")}return changedFilters}getFiltersChanged(timeFilter){return this.getChangedFilterTypes(timeFilter).length>0}syncTimefilterWithDashboardTime(timeFilter){if(!this.getIsTimeSavedWithDashboard()){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.stateManager.timeNotSavedWithDashboardErrorMessage",{defaultMessage:"The time is not saved with this dashboard so should not be synced."}))}if(this.savedDashboard.timeFrom&&this.savedDashboard.timeTo){timeFilter.setTime({from:this.savedDashboard.timeFrom,to:this.savedDashboard.timeTo})}}syncTimefilterWithDashboardRefreshInterval(timeFilter){if(!this.getIsTimeSavedWithDashboard()){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.stateManager.timeNotSavedWithDashboardErrorMessage",{defaultMessage:"The time is not saved with this dashboard so should not be synced."}))}if(this.savedDashboard.refreshInterval){timeFilter.setRefreshInterval(this.savedDashboard.refreshInterval)}}saveState({replace:replace}){this.kbnUrlStateStorage.set(this.STATE_STORAGE_KEY,this.toUrlState(this.stateContainer.get()));return this.kbnUrlStateStorage.flush({replace:replace})}changeDashboardUrl(pathname){const updated=this.saveState({replace:false});this.history[updated?"replace":"push"](dashboard_state_manager_objectSpread(dashboard_state_manager_objectSpread({},this.history.location),{},{pathname:pathname}))}setQuery(query){this.stateContainer.transitions.set("query",query)}applyFilters(query,filters){this.savedDashboard.searchSource.setField("query",query);this.savedDashboard.searchSource.setField("filter",filters);this.stateContainer.transitions.set("query",query)}switchViewMode(newMode){this.stateContainer.transitions.set("viewMode",newMode)}destroy(){this.stateContainerChangeSub.unsubscribe();this.savedDashboard.destroy();if(this.stateSyncRef){this.stateSyncRef.stop()}}checkIsDirty(){const propsToIgnore=["viewMode","filters","query"];const initial=external_kbnSharedDeps_Lodash_default.a.omit(this.stateDefaults,propsToIgnore);const current=external_kbnSharedDeps_Lodash_default.a.omit(this.stateContainer.get(),propsToIgnore);return!external_kbnSharedDeps_Lodash_default.a.isEqual(initial,current)}toUrlState(state){if(state.viewMode===embeddable_plugin["ViewMode"].VIEW){const panels=state.panels,stateWithoutPanels=dashboard_state_manager_objectWithoutProperties(state,["panels"]);return stateWithoutPanels}return state}}var dashboard_constants=__webpack_require__(6);const TopNavIds={SHARE:"share",OPTIONS:"options",SAVE:"save",EXIT_EDIT_MODE:"exitEditMode",ENTER_EDIT_MODE:"enterEditMode",CLONE:"clone",FULL_SCREEN:"fullScreenMode",VISUALIZE:"visualize",ADD_EXISTING:"addExisting"};function getTopNavConfig(dashboardMode,actions,hideWriteControls,onAppLeave){switch(dashboardMode){case embeddable_plugin["ViewMode"].VIEW:return hideWriteControls?[getFullScreenConfig(actions[TopNavIds.FULL_SCREEN]),getShareConfig(actions[TopNavIds.SHARE])]:[getFullScreenConfig(actions[TopNavIds.FULL_SCREEN]),getShareConfig(actions[TopNavIds.SHARE]),getCloneConfig(actions[TopNavIds.CLONE]),getEditConfig(actions[TopNavIds.ENTER_EDIT_MODE])];case embeddable_plugin["ViewMode"].EDIT:return[getOptionsConfig(actions[TopNavIds.OPTIONS]),getShareConfig(actions[TopNavIds.SHARE]),getAddConfig(actions[TopNavIds.ADD_EXISTING]),getViewConfig(actions[TopNavIds.EXIT_EDIT_MODE]),getSaveConfig(actions[TopNavIds.SAVE]),getCreateNewConfig(actions[TopNavIds.VISUALIZE])];default:return[]}}function getFullScreenConfig(action){return{id:"full-screen",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.fullScreenButtonAriaLabel",{defaultMessage:"full screen"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.fullScreenConfigDescription",{defaultMessage:"Full Screen Mode"}),testId:"dashboardFullScreenMode",run:action}}function getEditConfig(action){return{emphasize:true,id:"edit",iconType:"pencil",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.editButtonAriaLabel",{defaultMessage:"edit"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.editConfigDescription",{defaultMessage:"Switch to edit mode"}),testId:"dashboardEditMode",className:"eui-hideFor--s eui-hideFor--xs",run:action}}function getSaveConfig(action){return{id:"save",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.saveButtonAriaLabel",{defaultMessage:"save"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.saveConfigDescription",{defaultMessage:"Save your dashboard"}),testId:"dashboardSaveMenuItem",run:action}}function getViewConfig(action){return{id:"cancel",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.cancelButtonAriaLabel",{defaultMessage:"cancel"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.viewConfigDescription",{defaultMessage:"Cancel editing and switch to view-only mode"}),testId:"dashboardViewOnlyMode",run:action}}function getCloneConfig(action){return{id:"clone",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.cloneButtonAriaLabel",{defaultMessage:"clone"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.cloneConfigDescription",{defaultMessage:"Create a copy of your dashboard"}),testId:"dashboardClone",run:action}}function getAddConfig(action){return{id:"add",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.addButtonAriaLabel",{defaultMessage:"add"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.addConfigDescription",{defaultMessage:"Add a panel to the dashboard"}),testId:"dashboardAddPanelButton",run:action}}function getCreateNewConfig(action){return{emphasize:true,iconType:"plusInCircleFilled",id:"addNew",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.addNewButtonAriaLabel",{defaultMessage:"Create new"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.addNewConfigDescription",{defaultMessage:"Create a new panel on this dashboard"}),testId:"dashboardAddNewPanelButton",run:action}}function getShareConfig(action){return{id:"share",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.shareButtonAriaLabel",{defaultMessage:"share"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.shareConfigDescription",{defaultMessage:"Share Dashboard"}),testId:"shareTopNavButton",run:action,disableButton:!action}}function getOptionsConfig(action){return{id:"options",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.optionsButtonAriaLabel",{defaultMessage:"options"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.topNave.optionsConfigDescription",{defaultMessage:"Options"}),testId:"dashboardOptionsButton",run:action}}function getDashboardTitle(title,viewMode,isDirty,isNew){const isEditMode=viewMode===embeddable_plugin["ViewMode"].EDIT;let displayTitle;const newDashboardTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.savedDashboard.newDashboardTitle",{defaultMessage:"New Dashboard"});const dashboardTitle=isNew?newDashboardTitle:title;if(isEditMode&&isDirty){displayTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.strings.dashboardUnsavedEditTitle",{defaultMessage:"Editing {title} (unsaved)",values:{title:dashboardTitle}})}else if(isEditMode){displayTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.strings.dashboardEditTitle",{defaultMessage:"Editing {title}",values:{title:dashboardTitle}})}else{displayTitle=dashboardTitle}return displayTitle}var kibanaLegacy_public_=__webpack_require__(37);function dashboard_app_controller_slicedToArray(arr,i){return dashboard_app_controller_arrayWithHoles(arr)||dashboard_app_controller_iterableToArrayLimit(arr,i)||dashboard_app_controller_unsupportedIterableToArray(arr,i)||dashboard_app_controller_nonIterableRest()}function dashboard_app_controller_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dashboard_app_controller_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return dashboard_app_controller_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dashboard_app_controller_arrayLikeToArray(o,minLen)}function dashboard_app_controller_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function dashboard_app_controller_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function dashboard_app_controller_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function dashboard_app_controller_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function dashboard_app_controller_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){dashboard_app_controller_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){dashboard_app_controller_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function dashboard_app_controller_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function dashboard_app_controller_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){dashboard_app_controller_ownKeys(Object(source),true).forEach((function(key){dashboard_app_controller_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{dashboard_app_controller_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function dashboard_app_controller_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UrlParams;(function(UrlParams){UrlParams["SHOW_TOP_MENU"]="show-top-menu";UrlParams["SHOW_QUERY_INPUT"]="show-query-input";UrlParams["SHOW_TIME_FILTER"]="show-time-filter";UrlParams["SHOW_FILTER_BAR"]="show-filter-bar";UrlParams["HIDE_FILTER_BAR"]="hide-filter-bar"})(UrlParams||(UrlParams={}));const getSearchSessionIdFromURL=history=>Object(kibanaUtils_public_["getQueryParams"])(history.location)[dashboard_constants["a"].SEARCH_SESSION_ID];class dashboard_app_controller_DashboardAppController{constructor({pluginInitializerContext:pluginInitializerContext,$scope:$scope,$route:$route,$routeParams:$routeParams,dashboardConfig:dashboardConfig,indexPatterns:indexPatterns,savedQueryService:savedQueryService,embeddable:embeddable,share:share,dashboardCapabilities:dashboardCapabilities,scopedHistory:scopedHistory,embeddableCapabilities:{visualizeCapabilities:visualizeCapabilities,mapsCapabilities:mapsCapabilities},data:{query:queryService,search:searchService},core:{notifications:notifications,overlays:overlays,chrome:chrome,fatalErrors:fatalErrors,uiSettings:uiSettings,savedObjects:savedObjects,http:http,i18n:i18nStart},history:history,setHeaderActionMenu:setHeaderActionMenu,kbnUrlStateStorage:kbnUrlStateStorage,usageCollection:usageCollection,navigation:navigation,savedObjectsTagging:savedObjectsTagging}){var _savedObjectsTagging$;dashboard_app_controller_defineProperty(this,"appStatus",void 0);const filterManager=queryService.filterManager;const timefilter=queryService.timefilter.timefilter;const queryStringManager=queryService.queryString;const isEmbeddedExternally=Boolean($routeParams.embed);const shouldForceDisplay=param=>isEmbeddedExternally&&Boolean($routeParams[param]);const forceShowTopNavMenu=shouldForceDisplay(UrlParams.SHOW_TOP_MENU);const forceShowQueryInput=shouldForceDisplay(UrlParams.SHOW_QUERY_INPUT);const forceShowDatePicker=shouldForceDisplay(UrlParams.SHOW_TIME_FILTER);const forceHideFilterBar=shouldForceDisplay(UrlParams.HIDE_FILTER_BAR);let lastReloadRequestTime=0;const dash=$scope.dash=$route.current.locals.dash;if(dash.id){chrome.docTitle.change(dash.title)}let incomingEmbeddable=embeddable.getStateTransfer(scopedHistory()).getIncomingEmbeddablePackage();function defaultTaggingGuard(obj){return false}const dashboardStateManager=new dashboard_state_manager_DashboardStateManager({savedDashboard:dash,hideWriteControls:dashboardConfig.getHideWriteControls(),kibanaVersion:pluginInitializerContext.env.packageInfo.version,kbnUrlStateStorage:kbnUrlStateStorage,history:history,usageCollection:usageCollection,hasTaggingCapabilities:(_savedObjectsTagging$=savedObjectsTagging===null||savedObjectsTagging===void 0?void 0:savedObjectsTagging.ui.hasTagDecoration)!==null&&_savedObjectsTagging$!==void 0?_savedObjectsTagging$:defaultTaggingGuard});filterManager.setAppFilters(external_kbnSharedDeps_Lodash_default.a.cloneDeep(dashboardStateManager.appState.filters));queryStringManager.setQuery(migrateLegacyQuery(dashboardStateManager.appState.query));const stopSyncingAppFilters=Object(public_["connectToQueryState"])(queryService,{set:({filters:filters,query:query})=>{dashboardStateManager.setFilters(filters||[]);dashboardStateManager.setQuery(query||queryStringManager.getDefaultQuery())},get:()=>({filters:dashboardStateManager.appState.filters,query:dashboardStateManager.getQuery()}),state$:dashboardStateManager.appState$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["map"])(state=>({filters:state.filters,query:queryStringManager.formatQuery(state.query)})))},{filters:public_["esFilters"].FilterStateStore.APP_STATE,query:true});if(dashboardStateManager.getIsTimeSavedWithDashboard()){const initialGlobalStateInUrl=kbnUrlStateStorage.get("_g");if(!(initialGlobalStateInUrl===null||initialGlobalStateInUrl===void 0?void 0:initialGlobalStateInUrl.time)){dashboardStateManager.syncTimefilterWithDashboardTime(timefilter)}if(!(initialGlobalStateInUrl===null||initialGlobalStateInUrl===void 0?void 0:initialGlobalStateInUrl.refreshInterval)){dashboardStateManager.syncTimefilterWithDashboardRefreshInterval(timefilter)}}const _syncQueryStateWithUr=Object(public_["syncQueryStateWithUrl"])(queryService,kbnUrlStateStorage),stopSyncingQueryServiceStateWithUrl=_syncQueryStateWithUr.stop;dashboardStateManager.startStateSyncing();$scope.showSaveQuery=dashboardCapabilities.saveQuery;const getShouldShowEditHelp=()=>!dashboardStateManager.getPanels().length&&dashboardStateManager.getIsEditMode()&&!dashboardConfig.getHideWriteControls();const getShouldShowViewHelp=()=>!dashboardStateManager.getPanels().length&&dashboardStateManager.getIsViewMode()&&!dashboardConfig.getHideWriteControls();const shouldShowUnauthorizedEmptyState=()=>{const readonlyMode=!dashboardStateManager.getPanels().length&&!getShouldShowEditHelp()&&!getShouldShowViewHelp()&&dashboardConfig.getHideWriteControls();const userHasNoPermissions=!dashboardStateManager.getPanels().length&&!visualizeCapabilities.save&&!mapsCapabilities.save;return readonlyMode||userHasNoPermissions};const addVisualization=()=>{navActions[TopNavIds.VISUALIZE]()};function getDashboardIndexPatterns(container){let panelIndexPatterns=[];Object.values(container.getChildIds()).forEach(id=>{const embeddableInstance=container.getChild(id);if(Object(embeddable_public_["isErrorEmbeddable"])(embeddableInstance))return;const embeddableIndexPatterns=embeddableInstance.getOutput().indexPatterns;if(!embeddableIndexPatterns)return;panelIndexPatterns.push(...embeddableIndexPatterns)});panelIndexPatterns=Object(external_kbnSharedDeps_Lodash_["uniqBy"])(panelIndexPatterns,"id");return panelIndexPatterns}const updateIndexPatternsOperator=Object(external_kbnSharedDeps_Rxjs_["pipe"])(Object(external_kbnSharedDeps_RxjsOperators_["filter"])(container=>!!container&&!Object(embeddable_public_["isErrorEmbeddable"])(container)),Object(external_kbnSharedDeps_RxjsOperators_["map"])(getDashboardIndexPatterns),Object(external_kbnSharedDeps_RxjsOperators_["distinctUntilChanged"])((a,b)=>fast_deep_equal_default()(a.map(ip=>ip.id),b.map(ip=>ip.id))),Object(external_kbnSharedDeps_RxjsOperators_["switchMap"])(panelIndexPatterns=>new external_kbnSharedDeps_Rxjs_["Observable"](observer=>{if(panelIndexPatterns&&panelIndexPatterns.length>0){$scope.$evalAsync(()=>{if(observer.closed)return;$scope.indexPatterns=panelIndexPatterns;observer.complete()})}else{indexPatterns.getDefault().then(defaultIndexPattern=>{if(observer.closed)return;$scope.$evalAsync(()=>{if(observer.closed)return;$scope.indexPatterns=[defaultIndexPattern];observer.complete()})})}})));const getEmptyScreenProps=(shouldShowEditHelp,isEmptyInReadOnlyMode)=>{const emptyScreenProps={onLinkClick:shouldShowEditHelp?$scope.showAddPanel:$scope.enterEditMode,showLinkToVisualize:shouldShowEditHelp,uiSettings:uiSettings,http:http};if(shouldShowEditHelp){emptyScreenProps.onVisualizeClick=addVisualization}if(isEmptyInReadOnlyMode){emptyScreenProps.isReadonlyMode=true}return emptyScreenProps};const getDashboardInput=()=>{var _incomingEmbeddable;const embeddablesMap={};dashboardStateManager.getPanels().forEach(panel=>{embeddablesMap[panel.panelIndex]=Object(embeddable_saved_object_converters["b"])(panel)});if(((_incomingEmbeddable=incomingEmbeddable)===null||_incomingEmbeddable===void 0?void 0:_incomingEmbeddable.embeddableId)&&embeddablesMap[incomingEmbeddable.embeddableId]){const originalPanelState=embeddablesMap[incomingEmbeddable.embeddableId];embeddablesMap[incomingEmbeddable.embeddableId]={gridData:originalPanelState.gridData,type:incomingEmbeddable.type,explicitInput:dashboard_app_controller_objectSpread(dashboard_app_controller_objectSpread(dashboard_app_controller_objectSpread({},originalPanelState.explicitInput),incomingEmbeddable.input),{},{id:incomingEmbeddable.embeddableId})};incomingEmbeddable=undefined}const shouldShowEditHelp=getShouldShowEditHelp();const shouldShowViewHelp=getShouldShowViewHelp();const isEmptyInReadonlyMode=shouldShowUnauthorizedEmptyState();return{id:dashboardStateManager.savedDashboard.id||"",filters:filterManager.getFilters(),hidePanelTitles:dashboardStateManager.getHidePanelTitles(),query:$scope.model.query,timeRange:dashboard_app_controller_objectSpread({},external_kbnSharedDeps_Lodash_default.a.cloneDeep(timefilter.getTime())),refreshConfig:timefilter.getRefreshInterval(),viewMode:dashboardStateManager.getViewMode(),panels:embeddablesMap,isFullScreenMode:dashboardStateManager.getFullScreenMode(),isEmbeddedExternally:isEmbeddedExternally,isEmptyState:shouldShowEditHelp||shouldShowViewHelp||isEmptyInReadonlyMode,useMargins:dashboardStateManager.getUseMargins(),lastReloadRequestTime:lastReloadRequestTime,title:dashboardStateManager.getTitle(),description:dashboardStateManager.getDescription(),expandedPanelId:dashboardStateManager.getExpandedPanelId()}};const updateState=()=>{$scope.model={query:dashboardStateManager.getQuery(),filters:filterManager.getFilters(),timeRestore:dashboardStateManager.getTimeRestore(),title:dashboardStateManager.getTitle(),description:dashboardStateManager.getDescription(),timeRange:timefilter.getTime(),refreshInterval:timefilter.getRefreshInterval()};$scope.panels=dashboardStateManager.getPanels()};updateState();let dashboardContainer;let inputSubscription;let outputSubscription;const dashboardDom=document.getElementById("dashboardViewport");const dashboardFactory=embeddable.getEmbeddableFactory(application_embeddable["DASHBOARD_CONTAINER_TYPE"]);if(dashboardFactory){const searchSessionIdFromURL=getSearchSessionIdFromURL(history);if(searchSessionIdFromURL){searchService.session.restore(searchSessionIdFromURL)}const searchSessionId=searchSessionIdFromURL!==null&&searchSessionIdFromURL!==void 0?searchSessionIdFromURL:searchService.session.start();dashboardFactory.create(dashboard_app_controller_objectSpread(dashboard_app_controller_objectSpread({},getDashboardInput()),{},{searchSessionId:searchSessionId})).then(container=>{if(container&&!Object(embeddable_public_["isErrorEmbeddable"])(container)){dashboardContainer=container;dashboardContainer.renderEmpty=()=>{const shouldShowEditHelp=getShouldShowEditHelp();const shouldShowViewHelp=getShouldShowViewHelp();const isEmptyInReadOnlyMode=shouldShowUnauthorizedEmptyState();const isEmptyState=shouldShowEditHelp||shouldShowViewHelp||isEmptyInReadOnlyMode;return isEmptyState?external_kbnSharedDeps_React_default.a.createElement(DashboardEmptyScreen,getEmptyScreenProps(shouldShowEditHelp,isEmptyInReadOnlyMode)):null};outputSubscription=Object(external_kbnSharedDeps_Rxjs_["merge"])(dashboardContainer.getOutput$(),dashboardContainer.getOutput$().pipe(Object(external_kbnSharedDeps_RxjsOperators_["map"])(()=>dashboardContainer.getChildIds()),Object(external_kbnSharedDeps_RxjsOperators_["distinctUntilChanged"])(fast_deep_equal_default.a),Object(external_kbnSharedDeps_RxjsOperators_["switchMap"])(newChildIds=>Object(external_kbnSharedDeps_Rxjs_["merge"])(...newChildIds.map(childId=>dashboardContainer.getChild(childId).getOutput$().pipe(Object(external_kbnSharedDeps_RxjsOperators_["catchError"])(()=>external_kbnSharedDeps_Rxjs_["EMPTY"]))))))).pipe(Object(external_kbnSharedDeps_RxjsOperators_["mapTo"])(dashboardContainer),Object(external_kbnSharedDeps_RxjsOperators_["startWith"])(dashboardContainer),updateIndexPatternsOperator).subscribe();inputSubscription=dashboardContainer.getInput$().subscribe(()=>{let dirty=false;if(!public_["esFilters"].compareFilters(container.getInput().filters,filterManager.getFilters(),public_["esFilters"].COMPARE_ALL_OPTIONS)){filterManager.addFilters(external_kbnSharedDeps_Lodash_default.a.cloneDeep(container.getInput().filters));dashboardStateManager.applyFilters($scope.model.query,container.getInput().filters);dirty=true}dashboardStateManager.handleDashboardContainerChanges(container);$scope.$evalAsync(()=>{if(dirty){updateState()}})});dashboardStateManager.registerChangeListener(()=>{refreshDashboardContainer()});if(incomingEmbeddable&&(!incomingEmbeddable.embeddableId||!container.getInput().panels[incomingEmbeddable.embeddableId])){container.addNewEmbeddable(incomingEmbeddable.type,incomingEmbeddable.input)}}if(dashboardDom&&container){container.render(dashboardDom)}})}this.appStatus={dirty:!dash.id};dashboardStateManager.registerChangeListener(status=>{this.appStatus.dirty=status.dirty||!dash.id;updateState()});dashboardStateManager.applyFilters(dashboardStateManager.getQuery()||queryStringManager.getDefaultQuery(),filterManager.getFilters());const landingPageUrl=()=>"#".concat(dashboard_constants["a"].LANDING_PAGE_PATH);const getDashTitle=()=>getDashboardTitle(dashboardStateManager.getTitle(),dashboardStateManager.getViewMode(),dashboardStateManager.getIsDirty(timefilter),dashboardStateManager.isNew());const updateBreadcrumbs=()=>{chrome.setBreadcrumbs([{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.dashboardAppBreadcrumbsTitle",{defaultMessage:"Dashboard"}),href:landingPageUrl()},{text:getDashTitle()}])};updateBreadcrumbs();dashboardStateManager.registerChangeListener(updateBreadcrumbs);const getChangesFromAppStateForContainerState=()=>{const appStateDashboardInput=getDashboardInput();if(!dashboardContainer||Object(embeddable_public_["isErrorEmbeddable"])(dashboardContainer)){return appStateDashboardInput}const containerInput=dashboardContainer.getInput();const differences={};if(!public_["esFilters"].compareFilters(containerInput.filters,appStateDashboardInput.filters,public_["esFilters"].COMPARE_ALL_OPTIONS)){differences.filters=appStateDashboardInput.filters}Object.keys(external_kbnSharedDeps_Lodash_default.a.omit(containerInput,["filters","searchSessionId"])).forEach(key=>{const containerValue=containerInput[key];const appStateValue=appStateDashboardInput[key];if(!external_kbnSharedDeps_Lodash_default.a.isEqual(containerValue,appStateValue)){differences[key]=appStateValue}});return Object.values(differences).length===0?undefined:external_kbnSharedDeps_Lodash_default.a.cloneDeep(differences)};const refreshDashboardContainer=()=>{const changes=getChangesFromAppStateForContainerState();if(changes&&dashboardContainer){if(getSearchSessionIdFromURL(history)){Object(kibanaUtils_public_["removeQueryParam"])(history,dashboard_constants["a"].SEARCH_SESSION_ID,true)}dashboardContainer.updateInput(dashboard_app_controller_objectSpread(dashboard_app_controller_objectSpread({},changes),{},{searchSessionId:searchService.session.start()}))}};$scope.handleRefresh=function(_payload,isUpdate){if(isUpdate===false){lastReloadRequestTime=(new Date).getTime();refreshDashboardContainer()}};const updateStateFromSavedQuery=savedQuery=>{const allFilters=filterManager.getFilters();dashboardStateManager.applyFilters(savedQuery.attributes.query,allFilters);if(savedQuery.attributes.timefilter){timefilter.setTime({from:savedQuery.attributes.timefilter.from,to:savedQuery.attributes.timefilter.to});if(savedQuery.attributes.timefilter.refreshInterval){timefilter.setRefreshInterval(savedQuery.attributes.timefilter.refreshInterval)}}setTimeout(()=>{filterManager.setFilters(allFilters)},0)};$scope.$watch("savedQuery",newSavedQuery=>{if(!newSavedQuery)return;dashboardStateManager.setSavedQueryId(newSavedQuery.id);updateStateFromSavedQuery(newSavedQuery)});$scope.$watch(()=>dashboardStateManager.getSavedQueryId(),newSavedQueryId=>{if(!newSavedQueryId){$scope.savedQuery=undefined;return}if(!$scope.savedQuery||newSavedQueryId!==$scope.savedQuery.id){savedQueryService.getSavedQuery(newSavedQueryId).then(savedQuery=>{$scope.$evalAsync(()=>{$scope.savedQuery=savedQuery;updateStateFromSavedQuery(savedQuery)})})}});$scope.indexPatterns=[];$scope.$watch(()=>dashboardCapabilities.saveQuery,newCapability=>{$scope.showSaveQuery=newCapability});const onSavedQueryIdChange=savedQueryId=>{dashboardStateManager.setSavedQueryId(savedQueryId)};const shouldShowFilterBar=forceHide=>!forceHide&&($scope.model.filters.length>0||!dashboardStateManager.getFullScreenMode());const shouldShowNavBarComponent=forceShow=>(forceShow||$scope.isVisible)&&!dashboardStateManager.getFullScreenMode();const getNavBarProps=()=>{const isFullScreenMode=dashboardStateManager.getFullScreenMode();const screenTitle=dashboardStateManager.getTitle();const showTopNavMenu=shouldShowNavBarComponent(forceShowTopNavMenu);const showQueryInput=shouldShowNavBarComponent(forceShowQueryInput);const showDatePicker=shouldShowNavBarComponent(forceShowDatePicker);const showQueryBar=showQueryInput||showDatePicker;const showFilterBar=shouldShowFilterBar(forceHideFilterBar);const showSearchBar=showQueryBar||showFilterBar;return{appName:"dashboard",config:showTopNavMenu?$scope.topNavMenu:undefined,className:isFullScreenMode?"kbnTopNavMenu-isFullScreen":undefined,screenTitle:screenTitle,showTopNavMenu:showTopNavMenu,showSearchBar:showSearchBar,showQueryBar:showQueryBar,showQueryInput:showQueryInput,showDatePicker:showDatePicker,showFilterBar:showFilterBar,indexPatterns:$scope.indexPatterns,showSaveQuery:$scope.showSaveQuery,savedQuery:$scope.savedQuery,onSavedQueryIdChange:onSavedQueryIdChange,savedQueryId:dashboardStateManager.getSavedQueryId(),useDefaultBehaviors:true,onQuerySubmit:$scope.handleRefresh}};const dashboardNavBar=document.getElementById("dashboardChrome");const updateNavBar=()=>{external_kbnSharedDeps_ReactDom_default.a.render(external_kbnSharedDeps_React_default.a.createElement(navigation.ui.TopNavMenu,_extends({},getNavBarProps(),isEmbeddedExternally?{}:{setMenuMountPoint:setHeaderActionMenu})),dashboardNavBar)};const unmountNavBar=()=>{if(dashboardNavBar){external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(dashboardNavBar)}};$scope.timefilterSubscriptions$=new external_kbnSharedDeps_Rxjs_["Subscription"];const timeChanges$=Object(external_kbnSharedDeps_Rxjs_["merge"])(timefilter.getRefreshIntervalUpdate$(),timefilter.getTimeUpdate$());$scope.timefilterSubscriptions$.add(Object(kibanaLegacy_public_["subscribeWithScope"])($scope,timeChanges$,{next:()=>{updateState();refreshDashboardContainer()}},error=>Object(kibanaLegacy_public_["addFatalError"])(fatalErrors,error)));function updateViewMode(newMode){dashboardStateManager.switchViewMode(newMode)}const onChangeViewMode=newMode=>{const isPageRefresh=newMode===dashboardStateManager.getViewMode();const isLeavingEditMode=!isPageRefresh&&newMode===embeddable_public_["ViewMode"].VIEW;const willLoseChanges=isLeavingEditMode&&dashboardStateManager.getIsDirty(timefilter);if(!willLoseChanges){updateViewMode(newMode);return}function revertChangesAndExitEditMode(){dashboardStateManager.resetState();updateViewMode(embeddable_public_["ViewMode"].VIEW);if(dashboardStateManager.getIsTimeSavedWithDashboard()){dashboardStateManager.syncTimefilterWithDashboardTime(timefilter);dashboardStateManager.syncTimefilterWithDashboardRefreshInterval(timefilter)}dashboardStateManager.changeDashboardUrl(dash.id?Object(dashboard_constants["b"])(dash.id):dashboard_constants["a"].CREATE_NEW_DASHBOARD_URL)}overlays.openConfirm(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.changeViewModeConfirmModal.discardChangesDescription",{defaultMessage:"Once you discard your changes, there's no getting them back."}),{confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.changeViewModeConfirmModal.confirmButtonLabel",{defaultMessage:"Discard changes"}),cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.changeViewModeConfirmModal.cancelButtonLabel",{defaultMessage:"Continue editing"}),defaultFocusedButton:external_kbnSharedDeps_ElasticEui_["EUI_MODAL_CANCEL_BUTTON"],title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.changeViewModeConfirmModal.discardChangesTitle",{defaultMessage:"Discard changes to dashboard?"})}).then(isConfirmed=>{if(isConfirmed){revertChangesAndExitEditMode()}});updateNavBar()};function save(saveOptions){return saveDashboard(external_kbnSharedDeps_Angular_default.a.toJson,timefilter,dashboardStateManager,saveOptions).then((function(id){if(id){notifications.toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.dashboardWasSavedSuccessMessage",{defaultMessage:"Dashboard '{dashTitle}' was saved",values:{dashTitle:dash.title}}),"data-test-subj":"saveDashboardSuccess"});if(dash.id!==$routeParams.id){dashboardStateManager.changeDashboardUrl(Object(dashboard_constants["b"])(dash.id))}else{chrome.docTitle.change(dash.lastSavedTitle);updateViewMode(embeddable_public_["ViewMode"].VIEW)}}return{id:id}})).catch(error=>{notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.dashboardWasNotSavedDangerMessage",{defaultMessage:"Dashboard '{dashTitle}' was not saved. Error: {errorMessage}",values:{dashTitle:dash.title,errorMessage:error.message}}),"data-test-subj":"saveDashboardFailure"});return{error:error}})}$scope.showAddPanel=()=>{dashboardStateManager.setFullScreenMode(false);navActions[TopNavIds.ADD_EXISTING]()};$scope.enterEditMode=()=>{dashboardStateManager.setFullScreenMode(false);navActions[TopNavIds.ENTER_EDIT_MODE]()};const navActions={};navActions[TopNavIds.FULL_SCREEN]=()=>{dashboardStateManager.setFullScreenMode(true);updateNavBar()};navActions[TopNavIds.EXIT_EDIT_MODE]=()=>onChangeViewMode(embeddable_public_["ViewMode"].VIEW);navActions[TopNavIds.ENTER_EDIT_MODE]=()=>onChangeViewMode(embeddable_public_["ViewMode"].EDIT);navActions[TopNavIds.SAVE]=()=>{const currentTitle=dashboardStateManager.getTitle();const currentDescription=dashboardStateManager.getDescription();const currentTimeRestore=dashboardStateManager.getTimeRestore();let currentTags=[];if(savedObjectsTagging){const dashboard=dashboardStateManager.savedDashboard;if(savedObjectsTagging.ui.hasTagDecoration(dashboard)){currentTags=dashboard.getTags()}}const onSave=({newTitle:newTitle,newDescription:newDescription,newCopyOnSave:newCopyOnSave,newTimeRestore:newTimeRestore,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate,newTags:newTags})=>{dashboardStateManager.setTitle(newTitle);dashboardStateManager.setDescription(newDescription);dashboardStateManager.savedDashboard.copyOnSave=newCopyOnSave;dashboardStateManager.setTimeRestore(newTimeRestore);if(savedObjectsTagging&&newTags){dashboardStateManager.setTags(newTags)}const saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return save(saveOptions).then(response=>{if(!response.id){dashboardStateManager.setTitle(currentTitle);dashboardStateManager.setDescription(currentDescription);dashboardStateManager.setTimeRestore(currentTimeRestore);if(savedObjectsTagging){dashboardStateManager.setTags(currentTags)}}return response})};const dashboardSaveModal=external_kbnSharedDeps_React_default.a.createElement(save_modal_DashboardSaveModal,{onSave:onSave,onClose:()=>{},title:currentTitle,description:currentDescription,tags:currentTags,savedObjectsTagging:savedObjectsTagging,timeRestore:currentTimeRestore,showCopyOnSave:dash.id?true:false});Object(savedObjects_public_["showSaveModal"])(dashboardSaveModal,i18nStart.Context)};navActions[TopNavIds.CLONE]=()=>{const currentTitle=dashboardStateManager.getTitle();const onClone=(newTitle,isTitleDuplicateConfirmed,onTitleDuplicate)=>{dashboardStateManager.savedDashboard.copyOnSave=true;dashboardStateManager.setTitle(newTitle);const saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return save(saveOptions).then(response=>{if(response.error){dashboardStateManager.setTitle(currentTitle)}updateNavBar();return response})};showCloneModal(onClone,currentTitle)};navActions[TopNavIds.ADD_EXISTING]=()=>{if(dashboardContainer&&!Object(embeddable_public_["isErrorEmbeddable"])(dashboardContainer)){Object(embeddable_public_["openAddPanelFlyout"])({embeddable:dashboardContainer,getAllFactories:embeddable.getEmbeddableFactories,getFactory:embeddable.getEmbeddableFactory,notifications:notifications,overlays:overlays,SavedObjectFinder:Object(savedObjects_public_["getSavedObjectFinder"])(savedObjects,uiSettings)})}};navActions[TopNavIds.VISUALIZE]=dashboard_app_controller_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var type,factory,explicitInput;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:type="visualization";factory=embeddable.getEmbeddableFactory(type);if(factory){_context.next=4;break}throw new embeddable_public_["EmbeddableFactoryNotFoundError"](type);case 4:_context.next=6;return factory.getExplicitInput();case 6:explicitInput=_context.sent;if(!dashboardContainer){_context.next=10;break}_context.next=10;return dashboardContainer.addNewEmbeddable(type,explicitInput);case 10:case"end":return _context.stop()}}),_callee)})));navActions[TopNavIds.OPTIONS]=anchorElement=>{showOptionsPopover({anchorElement:anchorElement,useMargins:dashboardStateManager.getUseMargins(),onUseMarginsChange:isChecked=>{dashboardStateManager.setUseMargins(isChecked)},hidePanelTitles:dashboardStateManager.getHidePanelTitles(),onHidePanelTitlesChange:isChecked=>{dashboardStateManager.setHidePanelTitles(isChecked)}})};if(share){navActions[TopNavIds.SHARE]=anchorElement=>{const EmbedUrlParamExtension=({setParamValue:setParamValue})=>{const _useState=Object(external_kbnSharedDeps_React_["useState"])({[UrlParams.SHOW_TOP_MENU]:false,[UrlParams.SHOW_QUERY_INPUT]:false,[UrlParams.SHOW_TIME_FILTER]:false,[UrlParams.SHOW_FILTER_BAR]:true}),_useState2=dashboard_app_controller_slicedToArray(_useState,2),urlParamsSelectedMap=_useState2[0],setUrlParamsSelectedMap=_useState2[1];const checkboxes=[{id:UrlParams.SHOW_TOP_MENU,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.embedUrlParamExtension.topMenu",{defaultMessage:"Top menu"})},{id:UrlParams.SHOW_QUERY_INPUT,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.embedUrlParamExtension.query",{defaultMessage:"Query"})},{id:UrlParams.SHOW_TIME_FILTER,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.embedUrlParamExtension.timeFilter",{defaultMessage:"Time filter"})},{id:UrlParams.SHOW_FILTER_BAR,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.embedUrlParamExtension.filterBar",{defaultMessage:"Filter bar"})}];const handleChange=param=>{const urlParamsSelectedMapUpdate=dashboard_app_controller_objectSpread(dashboard_app_controller_objectSpread({},urlParamsSelectedMap),{},{[param]:!urlParamsSelectedMap[param]});setUrlParamsSelectedMap(urlParamsSelectedMapUpdate);const urlParamValues={[UrlParams.SHOW_TOP_MENU]:urlParamsSelectedMap[UrlParams.SHOW_TOP_MENU],[UrlParams.SHOW_QUERY_INPUT]:urlParamsSelectedMap[UrlParams.SHOW_QUERY_INPUT],[UrlParams.SHOW_TIME_FILTER]:urlParamsSelectedMap[UrlParams.SHOW_TIME_FILTER],[UrlParams.HIDE_FILTER_BAR]:!urlParamsSelectedMap[UrlParams.SHOW_FILTER_BAR],[param===UrlParams.SHOW_FILTER_BAR?UrlParams.HIDE_FILTER_BAR:param]:param===UrlParams.SHOW_FILTER_BAR?urlParamsSelectedMap[UrlParams.SHOW_FILTER_BAR]:!urlParamsSelectedMap[param]};setParamValue(urlParamValues)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckboxGroup"],{options:checkboxes,idToSelectedMap:urlParamsSelectedMap,onChange:handleChange,legend:{children:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.embedUrlParamExtension.include",{defaultMessage:"Include"})},"data-test-subj":"embedUrlParamExtension"})};share.toggleShareContextMenu({anchorElement:anchorElement,allowEmbed:true,allowShortUrl:!dashboardConfig.getHideWriteControls()||dashboardCapabilities.createShortUrl,shareableUrl:Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",dashboardStateManager.getAppState(),{useHash:false,storeInHashQuery:true},Object(kibanaUtils_public_["unhashUrl"])(window.location.href)),objectId:dash.id,objectType:"dashboard",sharingData:{title:dash.title},isDirty:dashboardStateManager.getIsDirty(),embedUrlParamExtensions:[{paramName:"embed",component:EmbedUrlParamExtension}]})}}updateViewMode(dashboardStateManager.getViewMode());const filterChanges=Object(external_kbnSharedDeps_Rxjs_["merge"])(filterManager.getUpdates$(),queryStringManager.getUpdates$()).pipe(Object(external_kbnSharedDeps_RxjsOperators_["debounceTime"])(100));const updateSubscription=filterChanges.subscribe({next:()=>{$scope.model.filters=filterManager.getFilters();$scope.model.query=queryStringManager.getQuery();dashboardStateManager.applyFilters($scope.model.query,$scope.model.filters)}});const visibleSubscription=chrome.getIsVisible$().subscribe(isVisible=>{$scope.$evalAsync(()=>{$scope.isVisible=isVisible;updateNavBar()})});dashboardStateManager.registerChangeListener(()=>{$scope.topNavMenu=getTopNavConfig(dashboardStateManager.getViewMode(),navActions,dashboardConfig.getHideWriteControls());updateNavBar()});$scope.$watch("indexPatterns",()=>{updateNavBar()});$scope.$on("$destroy",()=>{unmountNavBar();updateSubscription.unsubscribe();stopSyncingQueryServiceStateWithUrl();stopSyncingAppFilters();visibleSubscription.unsubscribe();$scope.timefilterSubscriptions$.unsubscribe();dashboardStateManager.destroy();if(inputSubscription){inputSubscription.unsubscribe()}if(outputSubscription){outputSubscription.unsubscribe()}if(dashboardContainer){dashboardContainer.destroy()}searchService.session.clear()})}}function dashboard_app_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function dashboard_app_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){dashboard_app_ownKeys(Object(source),true).forEach((function(key){dashboard_app_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{dashboard_app_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function dashboard_app_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function initDashboardAppDirective(app,deps){app.directive("dashboardApp",()=>({restrict:"E",controllerAs:"dashboardApp",controller:($scope,$route,$routeParams,kbnUrlStateStorage,history)=>new dashboard_app_controller_DashboardAppController(dashboard_app_objectSpread({$route:$route,$scope:$scope,$routeParams:$routeParams,indexPatterns:deps.data.indexPatterns,kbnUrlStateStorage:kbnUrlStateStorage,history:history},deps))}))}var kibanaReact_public_=__webpack_require__(10);const EMPTY_FILTER="";class dashboard_listing_DashboardListing extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props)}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["TableListView"],{headingId:"dashboardListingHeading",rowHeader:"title",createItem:this.props.hideWriteControls?null:this.props.createItem,findItems:this.props.findItems,deleteItems:this.props.hideWriteControls?null:this.props.deleteItems,editItem:this.props.hideWriteControls?null:this.props.editItem,tableColumns:this.getTableColumns(),listingLimit:this.props.listingLimit,initialFilter:this.props.initialFilter,initialPageSize:this.props.initialPageSize,noItemsFragment:this.getNoItemsMessage(),entityName:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.listing.table.entityName",{defaultMessage:"dashboard"}),entityNamePlural:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.listing.table.entityNamePlural",{defaultMessage:"dashboards"}),tableListTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.listing.dashboardsTitle",{defaultMessage:"Dashboards"}),tableCaption:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.listing.dashboardsTitle",{defaultMessage:"Dashboards"}),toastNotifications:this.props.core.notifications.toasts,uiSettings:this.props.core.uiSettings,searchFilters:this.props.taggingApi?[this.props.taggingApi.ui.getSearchBarFilter({useName:true})]:[]}))}getNoItemsMessage(){if(this.props.hideWriteControls){return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"visualizeApp",title:external_kbnSharedDeps_React_default.a.createElement("h1",{id:"dashboardListingHeading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.listing.noItemsMessage",defaultMessage:"Looks like you don't have any dashboards."}))}))}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"dashboardApp",title:external_kbnSharedDeps_React_default.a.createElement("h1",{id:"dashboardListingHeading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.listing.createNewDashboard.title",defaultMessage:"Create your first dashboard"})),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.listing.createNewDashboard.combineDataViewFromKibanaAppDescription",defaultMessage:"You can combine data views from any Kibana app into one dashboard and see everything in one place."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.listing.createNewDashboard.newToKibanaDescription",defaultMessage:"New to Kibana? {sampleDataInstallLink} to take a test drive.",values:{sampleDataInstallLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>this.props.core.application.navigateToApp("home",{path:"#/tutorial_directory/sampleData"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.listing.createNewDashboard.sampleDataInstallLinkText",defaultMessage:"Install some sample data"}))}}))),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:this.props.createItem,fill:true,iconType:"plusInCircle","data-test-subj":"createDashboardPromptButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"dashboard.listing.createNewDashboard.createButtonLabel",defaultMessage:"Create new dashboard"}))}))}getTableColumns(){const taggingApi=this.props.taggingApi;const tableColumns=[{field:"title",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.listing.table.titleColumnName",{defaultMessage:"Title"}),sortable:true,render:(field,record)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:this.props.getViewUrl(record),"data-test-subj":"dashboardListingTitleLink-".concat(record.title.split(" ").join("-"))},field)},{field:"description",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.listing.table.descriptionColumnName",{defaultMessage:"Description"}),dataType:"string",sortable:true},...taggingApi?[taggingApi.ui.getTableColumnDefinition()]:[]];return tableColumns}}dashboard_listing_DashboardListing.defaultProps={initialFilter:EMPTY_FILTER};function addHelpMenuToAppChrome(chrome,docLinks){chrome.setHelpExtension({appName:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.helpMenu.appName",{defaultMessage:"Dashboards"}),links:[{linkType:"documentation",href:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(docLinks.DOC_LINK_VERSION,"/dashboard.html")}]})}function legacy_app_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function legacy_app_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){legacy_app_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){legacy_app_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function legacy_app_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function legacy_app_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){legacy_app_ownKeys(Object(source),true).forEach((function(key){legacy_app_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{legacy_app_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function legacy_app_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function initDashboardApp(app,deps){initDashboardAppDirective(app,deps);app.directive("dashboardListing",(function(reactDirective){return reactDirective(dashboard_listing_DashboardListing,[["core",{watchDepth:"reference"}],["createItem",{watchDepth:"reference"}],["getViewUrl",{watchDepth:"reference"}],["editItem",{watchDepth:"reference"}],["findItems",{watchDepth:"reference"}],["deleteItems",{watchDepth:"reference"}],["listingLimit",{watchDepth:"reference"}],["hideWriteControls",{watchDepth:"reference"}],["initialFilter",{watchDepth:"reference"}],["initialPageSize",{watchDepth:"reference"}],["taggingApi",{watchDepth:"reference"}]])}));function createNewDashboardCtrl($scope){$scope.visitVisualizeAppLinkText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.visitVisualizeAppLinkText",{defaultMessage:"visit the Visualize app"});addHelpMenuToAppChrome(deps.chrome,deps.core.docLinks)}app.factory("history",()=>Object(node_modules_history["createHashHistory"])());app.factory("kbnUrlStateStorage",history=>Object(kibanaUtils_public_["createKbnUrlStateStorage"])(legacy_app_objectSpread({history:history,useHash:deps.uiSettings.get("state:storeInSessionStorage")},Object(kibanaUtils_public_["withNotifyOnErrors"])(deps.core.notifications.toasts))));app.config((function($routeProvider){const defaults={reloadOnSearch:false,requireUICapability:"dashboard.show",badge:()=>{if(deps.dashboardCapabilities.showWriteControls){return undefined}return{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.badge.readOnly.tooltip",{defaultMessage:"Unable to save dashboards"}),iconType:"glasses"}}};$routeProvider.when("/",{redirectTo:dashboard_constants["a"].LANDING_PAGE_PATH}).when(dashboard_constants["a"].LANDING_PAGE_PATH,legacy_app_objectSpread(legacy_app_objectSpread({},defaults),{},{template:dashboard_listing_ng_wrapper,controller:function controller($scope,kbnUrlStateStorage,history){deps.core.chrome.docTitle.change(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.dashboardPageTitle",{defaultMessage:"Dashboards"}));const service=deps.savedDashboards;const dashboardConfig=deps.dashboardConfig;const _syncQueryStateWithUr=Object(public_["syncQueryStateWithUrl"])(deps.data.query,kbnUrlStateStorage),stopSyncingQueryServiceStateWithUrl=_syncQueryStateWithUr.stop;$scope.listingLimit=deps.savedObjects.settings.getListingLimit();$scope.initialPageSize=deps.savedObjects.settings.getPerPage();$scope.taggingApi=deps.savedObjectsTagging;$scope.create=()=>{history.push(dashboard_constants["a"].CREATE_NEW_DASHBOARD_URL)};$scope.find=function(){var _ref=legacy_app_asyncToGenerator(regeneratorRuntime.mark((function _callee(search){var searchTerm,references,parsed;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:searchTerm=search;references=undefined;if(deps.savedObjectsTagging){parsed=deps.savedObjectsTagging.ui.parseSearchQuery(search,{useName:true});searchTerm=parsed.searchTerm;references=parsed.tagReferences}return _context.abrupt("return",service.find(searchTerm,{size:$scope.listingLimit,hasReference:references}));case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}();$scope.editItem=({id:id})=>{history.push("".concat(Object(dashboard_constants["b"])(id),"?_a=(viewMode:edit)"))};$scope.getViewUrl=({id:id})=>deps.addBasePath("#".concat(Object(dashboard_constants["b"])(id)));$scope.delete=dashboards=>service.delete(dashboards.map(d=>d.id));$scope.hideWriteControls=dashboardConfig.getHideWriteControls();$scope.initialFilter=Object(query_string["parse"])(history.location.search).filter||EMPTY_FILTER;deps.chrome.setBreadcrumbs([{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.dashboardBreadcrumbsTitle",{defaultMessage:"Dashboards"})}]);addHelpMenuToAppChrome(deps.chrome,deps.core.docLinks);$scope.core=deps.core;$scope.$on("$destroy",()=>{stopSyncingQueryServiceStateWithUrl()})},resolve:{dash:function dash($route,history){return deps.data.indexPatterns.ensureDefaultIndexPattern(history).then(()=>{const savedObjectsClient=deps.savedObjectsClient;const title=$route.current.params.title;if(title){return savedObjectsClient.find({search:'"'.concat(title,'"'),search_fields:"title",type:"dashboard"}).then(results=>{const matchingDashboards=results.savedObjects.filter(dashboard=>dashboard.attributes.title.toLowerCase()===title.toLowerCase());if(matchingDashboards.length===1){history.replace(Object(dashboard_constants["b"])(matchingDashboards[0].id))}else{history.replace("".concat(dashboard_constants["a"].LANDING_PAGE_PATH,'?filter="').concat(title,'"'));$route.reload()}return new Promise(()=>{})})}})}}})).when(dashboard_constants["a"].CREATE_NEW_DASHBOARD_URL,legacy_app_objectSpread(legacy_app_objectSpread({},defaults),{},{template:dashboard_app,controller:createNewDashboardCtrl,requireUICapability:"dashboard.createNew",resolve:{dash:history=>deps.data.indexPatterns.ensureDefaultIndexPattern(history).then(()=>deps.savedDashboards.get()).catch(Object(kibanaUtils_public_["redirectWhenMissing"])({history:history,navigateToApp:deps.core.application.navigateToApp,mapping:{dashboard:dashboard_constants["a"].LANDING_PAGE_PATH},toastNotifications:deps.core.notifications.toasts}))}})).when(Object(dashboard_constants["b"])(":id"),legacy_app_objectSpread(legacy_app_objectSpread({},defaults),{},{template:dashboard_app,controller:createNewDashboardCtrl,resolve:{dash:function dash($route,history){const id=$route.current.params.id;return deps.data.indexPatterns.ensureDefaultIndexPattern(history).then(()=>deps.savedDashboards.get(id)).then(savedDashboard=>{deps.chrome.recentlyAccessed.add(savedDashboard.getFullPath(),savedDashboard.title,id);return savedDashboard}).catch(error=>{if(error instanceof kibanaUtils_public_["SavedObjectNotFound"]&&id==="create"){history.replace(legacy_app_objectSpread(legacy_app_objectSpread({},history.location),{},{pathname:dashboard_constants["a"].CREATE_NEW_DASHBOARD_URL}));deps.core.notifications.toasts.addWarning(external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.urlWasRemovedInSixZeroWarningMessage",{defaultMessage:'The url "dashboard/create" was removed in 6.0. Please update your bookmarks.'}));return new Promise(()=>{})}else{deps.core.notifications.toasts.addDanger(error.message);history.push(dashboard_constants["a"].LANDING_PAGE_PATH);return new Promise(()=>{})}})}}})).otherwise({resolveRedirectTo:function resolveRedirectTo($rootScope){const path=window.location.hash.substr(1);deps.restorePreviousUrl();$rootScope.$applyAsync(()=>{const _deps$navigateToLegac=deps.navigateToLegacyKibanaUrl(path),navigated=_deps$navigateToLegac.navigated;if(!navigated){deps.navigateToDefaultApp()}});return new Promise(()=>{})}})}))}var angular_route=__webpack_require__(164);let angularModuleInstance=null;const renderApp=(element,appBasePath,deps)=>{if(!angularModuleInstance){angularModuleInstance=createLocalAngularModule();Object(kibanaLegacy_public_["configureAppAngularModule"])(angularModuleInstance,{core:deps.core,env:deps.pluginInitializerContext.env},true,deps.scopedHistory);initDashboardApp(angularModuleInstance,deps)}const $injector=mountDashboardApp(appBasePath,element);return()=>{$injector.get("kbnUrlStateStorage").cancel();$injector.get("$rootScope").$destroy()}};const mainTemplate=basePath=>'<div ng-view class="dshAppContainer">\n  <base href="'.concat(basePath,'" />\n</div>');const moduleName="app/dashboard";const thirdPartyAngularDependencies=["ngSanitize","ngRoute","react"];function mountDashboardApp(appBasePath,element){const mountpoint=document.createElement("div");mountpoint.setAttribute("class","dshAppContainer");mountpoint.innerHTML=mainTemplate(appBasePath);const $injector=external_kbnSharedDeps_Angular_default.a.bootstrap(mountpoint,[moduleName]);element.appendChild(mountpoint);return $injector}function createLocalAngularModule(){createLocalI18nModule();createLocalIconModule();const dashboardAngularModule=external_kbnSharedDeps_Angular_default.a.module(moduleName,[...thirdPartyAngularDependencies,"app/dashboard/I18n","app/dashboard/icon"]);return dashboardAngularModule}function createLocalIconModule(){external_kbnSharedDeps_Angular_default.a.module("app/dashboard/icon",["react"]).directive("icon",reactDirective=>reactDirective(external_kbnSharedDeps_ElasticEui_["EuiIcon"]))}function createLocalI18nModule(){external_kbnSharedDeps_Angular_default.a.module("app/dashboard/I18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_["I18nProvider"]).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_["i18nFilter"]).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_["i18nDirective"])}}])]);