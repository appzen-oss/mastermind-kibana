(window["visTypeVislib_bundle_jsonpfunction"]=window["visTypeVislib_bundle_jsonpfunction"]||[]).push([[7],{174:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",(function(){return PointSeriesOptions}));var external_kbnSharedDeps_React_=__webpack_require__(3);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(12);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(21);var external_kbnSharedDeps_Lodash_=__webpack_require__(10);var public_=__webpack_require__(4);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function GridPanel({stateParams:stateParams,setValue:setValue,hasHistogramAgg:hasHistogramAgg}){const setGrid=Object(external_kbnSharedDeps_React_["useCallback"])((paramName,value)=>setValue("grid",_objectSpread(_objectSpread({},stateParams.grid),{},{[paramName]:value})),[stateParams.grid,setValue]);const options=Object(external_kbnSharedDeps_React_["useMemo"])(()=>[...stateParams.valueAxes.map(({id:id,name:name})=>({text:name,value:id})),{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.controls.pointSeries.gridAxis.dontShowLabel",{defaultMessage:"Don't show"}),value:""}],[stateParams.valueAxes]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(hasHistogramAgg){setGrid("categoryLines",false)}},[hasHistogramAgg,setGrid]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVislib.controls.pointSeries.gridAxis.gridText",defaultMessage:"Grid"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_["SwitchOption"],{disabled:hasHistogramAgg,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.controls.pointSeries.gridAxis.xAxisLinesLabel",{defaultMessage:"Show X-axis lines"}),paramName:"categoryLines",tooltip:hasHistogramAgg?external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.controls.pointSeries.gridAxis.yAxisLinesDisabledTooltip",{defaultMessage:"X-axis lines can't show for histograms."}):undefined,value:stateParams.grid.categoryLines,setValue:setGrid,"data-test-subj":"showCategoryLines"}),external_kbnSharedDeps_React_default.a.createElement(public_["SelectOption"],{id:"gridAxis",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.controls.pointSeries.gridAxis.yAxisLinesLabel",{defaultMessage:"Y-axis lines"}),options:options,paramName:"valueAxis",value:stateParams.grid.valueAxis||"",setValue:setGrid}))}function threshold_panel_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function threshold_panel_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){threshold_panel_ownKeys(Object(source),true).forEach((function(key){threshold_panel_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{threshold_panel_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function threshold_panel_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function ThresholdPanel({stateParams:stateParams,setValue:setValue,setMultipleValidity:setMultipleValidity,vis:vis}){const setThresholdLine=Object(external_kbnSharedDeps_React_["useCallback"])((paramName,value)=>setValue("thresholdLine",threshold_panel_objectSpread(threshold_panel_objectSpread({},stateParams.thresholdLine),{},{[paramName]:value})),[stateParams.thresholdLine,setValue]);const setThresholdLineColor=Object(external_kbnSharedDeps_React_["useCallback"])(value=>setThresholdLine("color",value),[setThresholdLine]);const setThresholdLineValidity=Object(external_kbnSharedDeps_React_["useCallback"])((paramName,isValid)=>setMultipleValidity("thresholdLine__".concat(paramName),isValid),[setMultipleValidity]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVislib.editors.pointSeries.thresholdLineSettingsTitle",defaultMessage:"Threshold line"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_["SwitchOption"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.thresholdLine.showLabel",{defaultMessage:"Show threshold line"}),paramName:"show",value:stateParams.thresholdLine.show,setValue:setThresholdLine}),stateParams.thresholdLine.show&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(public_["RequiredNumberInputOption"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.thresholdLine.valueLabel",{defaultMessage:"Threshold value"}),paramName:"value",value:stateParams.thresholdLine.value,setValue:setThresholdLine,setValidity:setThresholdLineValidity}),external_kbnSharedDeps_React_default.a.createElement(public_["RequiredNumberInputOption"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.thresholdLine.widthLabel",{defaultMessage:"Line width"}),paramName:"width",min:1,step:1,value:stateParams.thresholdLine.width,setValue:setThresholdLine,setValidity:setThresholdLineValidity}),external_kbnSharedDeps_React_default.a.createElement(public_["SelectOption"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.thresholdLine.styleLabel",{defaultMessage:"Line style"}),options:vis.type.editorConfig.collections.thresholdLineStyles,paramName:"style",value:stateParams.thresholdLine.style,setValue:setThresholdLine}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.thresholdLine.colorLabel",{defaultMessage:"Line color"}),fullWidth:true,display:"rowCompressed"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiColorPicker"],{compressed:true,color:stateParams.thresholdLine.color,fullWidth:true,onChange:setThresholdLineColor}))))}var collections=__webpack_require__(1);function point_series_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function point_series_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){point_series_ownKeys(Object(source),true).forEach((function(key){point_series_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{point_series_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function point_series_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function PointSeriesOptions(props){const stateParams=props.stateParams,_setValue=props.setValue,vis=props.vis;const currentChartTypes=Object(external_kbnSharedDeps_React_["useMemo"])(()=>Object(external_kbnSharedDeps_Lodash_["uniq"])(stateParams.seriesParams.map(({type:type})=>type)),[stateParams.seriesParams]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVislib.editors.pointSeries.settingsTitle",defaultMessage:"Settings"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(public_["BasicOptions"],props),vis.data.aggs.aggs.some(agg=>agg.schema==="segment"&&agg.type.name==="date_histogram")?external_kbnSharedDeps_React_default.a.createElement(public_["SwitchOption"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.currentTimeMarkerLabel",{defaultMessage:"Current time marker"}),paramName:"addTimeMarker",value:stateParams.addTimeMarker,setValue:_setValue}):external_kbnSharedDeps_React_default.a.createElement(public_["SwitchOption"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.orderBucketsBySumLabel",{defaultMessage:"Order buckets by sum"}),paramName:"orderBucketsBySum",value:stateParams.orderBucketsBySum,setValue:_setValue}),currentChartTypes.includes(collections["e"].HISTOGRAM)&&external_kbnSharedDeps_React_default.a.createElement(public_["SwitchOption"],{"data-test-subj":"showValuesOnChart",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVislib.editors.pointSeries.showLabels",{defaultMessage:"Show values on chart"}),paramName:"show",value:stateParams.labels.show,setValue:(paramName,value)=>_setValue("labels",point_series_objectSpread(point_series_objectSpread({},stateParams.labels),{},{[paramName]:value}))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(GridPanel,props),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),stateParams.thresholdLine&&external_kbnSharedDeps_React_default.a.createElement(ThresholdPanel,props))}}}]);