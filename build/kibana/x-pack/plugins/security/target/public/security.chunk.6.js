/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["security_bundle_jsonpfunction"]=window["security_bundle_jsonpfunction"]||[]).push([[6],{282:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(283);case"v7light":return __webpack_require__(285);case"v8dark":return __webpack_require__(287);case"v8light":return __webpack_require__(289)}},283:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(284);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},284:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secUsersEditPage__content {\n  max-width: 460px;\n  margin-left: auto;\n  margin-right: auto;\n  flex-grow: 0; }\n",""]);module.exports=exports},285:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(286);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},286:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secUsersEditPage__content {\n  max-width: 460px;\n  margin-left: auto;\n  margin-right: auto;\n  flex-grow: 0; }\n",""]);module.exports=exports},287:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(288);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},288:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secUsersEditPage__content {\n  max-width: 460px;\n  margin-left: auto;\n  margin-right: auto;\n  flex-grow: 0; }\n",""]);module.exports=exports},289:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(290);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},290:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secUsersEditPage__content {\n  max-width: 460px;\n  margin-left: auto;\n  margin-right: auto;\n  flex-grow: 0; }\n",""]);module.exports=exports},305:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"EditUserPage",(function(){return edit_user_page_EditUserPage}));var edit_user_page=__webpack_require__(282);var external_kbnSharedDeps_Lodash_=__webpack_require__(14);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(5);var model=__webpack_require__(13);var components=__webpack_require__(93);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const validEmailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;const validUsernameRegex=/[a-zA-Z_][a-zA-Z0-9_@\-\$\.]*/;class validate_user_UserValidator{constructor(options={}){_defineProperty(this,"shouldValidate",void 0);this.shouldValidate=options.shouldValidate}enableValidation(){this.shouldValidate=true}disableValidation(){this.shouldValidate=false}validateUsername(user){if(!this.shouldValidate){return valid()}const username=user.username;if(!username){return invalid(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.requiredUsernameErrorMessage",{defaultMessage:"Username is required"}))}else if(username&&!username.match(validUsernameRegex)){return invalid(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.usernameAllowedCharactersErrorMessage",{defaultMessage:"Username must begin with a letter or underscore and contain only letters, underscores, and numbers"}))}return valid()}validateEmail(user){if(!this.shouldValidate){return valid()}const email=user.email;if(email&&!email.match(validEmailRegex)){return invalid(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.validEmailRequiredErrorMessage",{defaultMessage:"Email address is invalid"}))}return valid()}validatePassword(user){if(!this.shouldValidate){return valid()}const password=user.password;if(!password||password.length<6){return invalid(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.passwordLengthErrorMessage",{defaultMessage:"Password must be at least 6 characters"}))}return valid()}validateConfirmPassword(user){if(!this.shouldValidate){return valid()}const password=user.password,confirmPassword=user.confirmPassword;if(password&&confirmPassword!==null&&password!==confirmPassword){return invalid(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.passwordDoNotMatchErrorMessage",{defaultMessage:"Passwords do not match"}))}return valid()}validateForSave(user,isNewUser){const _this$validateUsernam=this.validateUsername(user),isUsernameInvalid=_this$validateUsernam.isInvalid;const _this$validateEmail=this.validateEmail(user),isEmailInvalid=_this$validateEmail.isInvalid;let isPasswordInvalid=false;let isConfirmPasswordInvalid=false;if(isNewUser){isPasswordInvalid=this.validatePassword(user).isInvalid;isConfirmPasswordInvalid=this.validateConfirmPassword(user).isInvalid}if(isUsernameInvalid||isEmailInvalid||isPasswordInvalid||isConfirmPasswordInvalid){return invalid()}return valid()}}function invalid(error){return{isInvalid:true,error:error}}function valid(){return{isInvalid:false}}var role_combo_box=__webpack_require__(92);var user_utils=__webpack_require__(89);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){edit_user_page_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function edit_user_page_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class edit_user_page_EditUserPage extends external_kbnSharedDeps_React_["Component"]{constructor(props){var _this;super(props);_this=this;edit_user_page_defineProperty(this,"validator",void 0);edit_user_page_defineProperty(this,"handleDelete",(usernames,errors)=>{if(errors.length===0){this.backToUserList()}});edit_user_page_defineProperty(this,"saveUser",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var result,userAPIClient,_this$state,user,isNewUser,selectedRoles,userToSave;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.validator.enableValidation();result=_this.validator.validateForSave(_this.state.user,_this.state.isNewUser);if(!result.isInvalid){_context.next=6;break}_this.setState({formError:result});_context.next=23;break;case 6:_this.setState({formError:null});userAPIClient=_this.props.userAPIClient;_this$state=_this.state,user=_this$state.user,isNewUser=_this$state.isNewUser,selectedRoles=_this$state.selectedRoles;userToSave=_objectSpread({},user);if(!isNewUser){delete userToSave.password}delete userToSave.confirmPassword;userToSave.roles=[...selectedRoles];_context.prev=13;_context.next=16;return userAPIClient.saveUser(userToSave);case 16:_this.props.notifications.toasts.addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.userSuccessfullySavedNotificationMessage",{defaultMessage:"Saved user {message}",values:{message:user.username}}));_this.backToUserList();_context.next=23;break;case 20:_context.prev=20;_context.t0=_context["catch"](13);_this.props.notifications.toasts.addDanger(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.savingUserErrorMessage",{defaultMessage:"Error saving user: {message}",values:{message:Object(external_kbnSharedDeps_Lodash_["get"])(_context.t0,"body.message","Unknown error")}}));case 23:case"end":return _context.stop()}}),_callee,null,[[13,20]])}))));edit_user_page_defineProperty(this,"passwordFields",()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.passwordFormRowLabel",{defaultMessage:"Password"})},this.validator.validatePassword(this.state.user)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{autoComplete:"new-password","data-test-subj":"passwordInput",name:"password",type:"password",onChange:this.onPasswordChange})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.confirmPasswordFormRowLabel",{defaultMessage:"Confirm password"})},this.validator.validateConfirmPassword(this.state.user)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{autoComplete:"new-password","data-test-subj":"passwordConfirmationInput",onChange:this.onConfirmPasswordChange,name:"confirm_password",type:"password"}))));edit_user_page_defineProperty(this,"changePasswordForm",()=>{const _this$state2=this.state,showChangePasswordForm=_this$state2.showChangePasswordForm,user=_this$state2.user,currentUser=_this$state2.currentUser;const userIsLoggedInUser=Boolean(currentUser&&user.username&&user.username===currentUser.username);if(!showChangePasswordForm){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),user.username==="kibana"||user.username==="kibana_system"?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.changePasswordExtraStepTitle",{defaultMessage:"Extra step needed"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.changePasswordUpdateKibanaTitle",defaultMessage:"After you change the password for the {username} user, you must update the {kibana} file and restart Kibana.",values:{kibana:"kibana.yml",username:user.username}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)):null,external_kbnSharedDeps_React_default.a.createElement(components["a"],{user:this.state.user,isUserChangingOwnPassword:userIsLoggedInUser,onChangePassword:this.toggleChangePasswordForm,userAPIClient:this.props.userAPIClient,notifications:this.props.notifications}))});edit_user_page_defineProperty(this,"toggleChangePasswordForm",()=>{const showChangePasswordForm=this.state.showChangePasswordForm;this.setState({showChangePasswordForm:!showChangePasswordForm})});edit_user_page_defineProperty(this,"onUsernameChange",e=>{const user=_objectSpread(_objectSpread({},this.state.user),{},{username:e.target.value||""});const formError=this.validator.validateForSave(user,this.state.isNewUser);this.setState({user:user,formError:formError})});edit_user_page_defineProperty(this,"onEmailChange",e=>{const user=_objectSpread(_objectSpread({},this.state.user),{},{email:e.target.value||""});const formError=this.validator.validateForSave(user,this.state.isNewUser);this.setState({user:user,formError:formError})});edit_user_page_defineProperty(this,"onFullNameChange",e=>{const user=_objectSpread(_objectSpread({},this.state.user),{},{full_name:e.target.value||""});const formError=this.validator.validateForSave(user,this.state.isNewUser);this.setState({user:user,formError:formError})});edit_user_page_defineProperty(this,"onPasswordChange",e=>{const user=_objectSpread(_objectSpread({},this.state.user),{},{password:e.target.value||""});const formError=this.validator.validateForSave(user,this.state.isNewUser);this.setState({user:user,formError:formError})});edit_user_page_defineProperty(this,"onConfirmPasswordChange",e=>{const user=_objectSpread(_objectSpread({},this.state.user),{},{confirmPassword:e.target.value||""});const formError=this.validator.validateForSave(user,this.state.isNewUser);this.setState({user:user,formError:formError})});edit_user_page_defineProperty(this,"onRolesChange",selectedRoles=>{this.setState({selectedRoles:selectedRoles})});edit_user_page_defineProperty(this,"cannotSaveUser",()=>{const _this$state3=this.state,user=_this$state3.user,isNewUser=_this$state3.isNewUser;const result=this.validator.validateForSave(user,isNewUser);return result.isInvalid});edit_user_page_defineProperty(this,"onCancelDelete",()=>{this.setState({showDeleteConfirmation:false})});this.validator=new validate_user_UserValidator({shouldValidate:false});this.state={isLoaded:false,isNewUser:true,currentUser:null,showChangePasswordForm:false,showDeleteConfirmation:false,user:{email:"",username:"",full_name:"",roles:[],enabled:true,password:"",confirmPassword:""},roles:[],selectedRoles:[],formError:null}}componentDidMount(){var _this2=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this2.setCurrentUser();case 2:case"end":return _context2.stop()}}),_callee2)})))()}componentDidUpdate(prevProps){var _this3=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!(prevProps.username!==_this3.props.username)){_context3.next=3;break}_context3.next=3;return _this3.setCurrentUser();case 3:case"end":return _context3.stop()}}),_callee3)})))()}backToUserList(){this.props.history.push("/")}setCurrentUser(){var _this4=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var _this4$props,username,userAPIClient,rolesAPIClient,notifications,authc,_this4$state,user,currentUser,roles;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_this4$props=_this4.props,username=_this4$props.username,userAPIClient=_this4$props.userAPIClient,rolesAPIClient=_this4$props.rolesAPIClient,notifications=_this4$props.notifications,authc=_this4$props.authc;_this4$state=_this4.state,user=_this4$state.user,currentUser=_this4$state.currentUser;if(!username){_context4.next=23;break}_context4.prev=3;_context4.t0=_objectSpread;_context4.t1=_objectSpread;_context4.t2={};_context4.next=9;return userAPIClient.getUser(username);case 9:_context4.t3=_context4.sent;_context4.t4=(0,_context4.t1)(_context4.t2,_context4.t3);_context4.t5={};_context4.t6={password:"",confirmPassword:""};user=(0,_context4.t0)(_context4.t4,_context4.t5,_context4.t6);_context4.next=16;return authc.getCurrentUser();case 16:currentUser=_context4.sent;_context4.next=23;break;case 19:_context4.prev=19;_context4.t7=_context4["catch"](3);notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.errorLoadingUserTitle",{defaultMessage:"Error loading user"}),text:Object(external_kbnSharedDeps_Lodash_["get"])(_context4.t7,"body.message")||_context4.t7.message});return _context4.abrupt("return",_this4.backToUserList());case 23:roles=[];_context4.prev=24;_context4.next=27;return rolesAPIClient.getRoles();case 27:roles=_context4.sent;_context4.next=33;break;case 30:_context4.prev=30;_context4.t8=_context4["catch"](24);notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.errorLoadingRolesTitle",{defaultMessage:"Error loading roles"}),text:Object(external_kbnSharedDeps_Lodash_["get"])(_context4.t8,"body.message")||_context4.t8.message});case 33:_this4.setState({isLoaded:true,isNewUser:!username,currentUser:currentUser,user:user,roles:roles,selectedRoles:user.roles||[]});case 34:case"end":return _context4.stop()}}),_callee4,null,[[3,19],[24,30]])})))()}render(){const _this$state4=this.state,user=_this$state4.user,selectedRoles=_this$state4.selectedRoles,roles=_this$state4.roles,showChangePasswordForm=_this$state4.showChangePasswordForm,isNewUser=_this$state4.isNewUser,showDeleteConfirmation=_this$state4.showDeleteConfirmation;const reserved=Object(user_utils["c"])(user);if(!user||!roles){return null}if(!this.state.isLoaded){return null}const hasAnyDeprecatedRolesAssigned=selectedRoles.some(selected=>{const role=roles.find(r=>r.name===selected);return role&&Object(model["f"])(role)});const roleHelpText=hasAnyDeprecatedRolesAssigned?external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"hasDeprecatedRolesAssignedHelpText"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.deprecatedRolesAssignedWarning",defaultMessage:"This user is assigned a deprecated role. Please migrate to a supported role."})):undefined;return external_kbnSharedDeps_React_default.a.createElement("div",{className:"secUsersEditPage"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{className:"secUsersEditPage__content"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeaderSection"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,isNewUser?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.newUserTitle",defaultMessage:"New user"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.editUserTitle",defaultMessage:"Edit {userName} user",values:{userName:user.username}})))),reserved&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeaderSection"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"lock",size:"l",color:"subdued"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentBody"],null,reserved&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.modifyingReservedUsersDescription",defaultMessage:"Reserved users are built-in and cannot be removed or modified. Only the password may be changed."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})),Object(user_utils["b"])(user)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"deprecatedUserWarning",title:Object(user_utils["a"])(user),color:"warning",iconType:"alert",size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})),showDeleteConfirmation?external_kbnSharedDeps_React_default.a.createElement(components["b"],{onCancel:this.onCancelDelete,usersToDelete:[user.username],callback:this.handleDelete,userAPIClient:this.props.userAPIClient,notifications:this.props.notifications}):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],this.state.formError,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({},this.validator.validateUsername(this.state.user),{helpText:!isNewUser&&!reserved?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.changingUserNameAfterCreationDescription",{defaultMessage:"Usernames can't be changed after creation."}):null,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.usernameFormRowLabel",{defaultMessage:"Username"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{value:user.username||"",name:"username","data-test-subj":"userFormUserNameInput",disabled:!isNewUser,onChange:this.onUsernameChange})),isNewUser?this.passwordFields():null,reserved?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.fullNameFormRowLabel",{defaultMessage:"Full name"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{"data-test-subj":"userFormFullNameInput",name:"full_name",value:user.full_name||"",onChange:this.onFullNameChange})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({},this.validator.validateEmail(this.state.user),{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.emailAddressFormRowLabel",{defaultMessage:"Email address"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{"data-test-subj":"userFormEmailInput",name:"email",value:user.email||"",onChange:this.onEmailChange}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.rolesFormRowLabel",{defaultMessage:"Roles"}),helpText:roleHelpText},external_kbnSharedDeps_React_default.a.createElement(role_combo_box["a"],{availableRoles:roles,selectedRoleNames:selectedRoles,onChange:this.onRolesChange,isDisabled:reserved})),isNewUser||showChangePasswordForm?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:"Password"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{"data-test-subj":"changePassword",onClick:this.toggleChangePasswordForm},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.changePasswordButtonLabel",defaultMessage:"Change password"}))),this.changePasswordForm(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),reserved&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:()=>this.backToUserList()},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.returnToUserListButtonLabel",defaultMessage:"Return to user list"})),reserved?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{disabled:this.cannotSaveUser(),fill:true,"data-test-subj":"userFormSaveButton",onClick:()=>this.saveUser()},isNewUser?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.createUserButtonLabel",defaultMessage:"Create user"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.updateUserButtonLabel",defaultMessage:"Update user"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"data-test-subj":"userFormCancelButton",onClick:()=>this.backToUserList()},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true}),isNewUser||reserved?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:()=>{this.setState({showDeleteConfirmation:true})},"data-test-subj":"userFormDeleteButton",color:"danger"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.editUser.deleteUserButtonLabel",defaultMessage:"Delete user"}))))))))}}},75:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return change_password_form_ChangePasswordForm}));var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var external_kbnSharedDeps_Lodash_=__webpack_require__(14);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(5);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getInitialState(){return{shouldValidate:false,currentPassword:"",newPassword:"",confirmPassword:"",currentPasswordError:false,changeInProgress:false}}class change_password_form_ChangePasswordForm extends external_kbnSharedDeps_React_["Component"]{constructor(props){var _this;super(props);_this=this;_defineProperty(this,"getForm",()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,this.props.isUserChangingOwnPassword&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({},this.validateCurrentPassword(),{fullWidth:true,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.changePasswordForm.currentPasswordLabel",defaultMessage:"Current password"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldPassword"],{autoComplete:"off","data-test-subj":"currentPassword",type:"dual",value:this.state.currentPassword,onChange:this.onCurrentPasswordChange,disabled:this.state.changeInProgress,fullWidth:true})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.changePasswordForm.passwordRequirements",defaultMessage:"Use at least 6 characters."})},this.validateNewPassword(),{fullWidth:true,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.changePasswordForm.newPasswordLabel",defaultMessage:"New password"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldPassword"],{autoComplete:"new-password","data-test-subj":"newPassword",type:"dual",value:this.state.newPassword,onChange:this.onNewPasswordChange,disabled:this.state.changeInProgress,fullWidth:true})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({},this.validateConfirmPassword(),{fullWidth:true,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.changePasswordForm.confirmPasswordLabel",defaultMessage:"Confirm new password"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldPassword"],{autoComplete:"new-password","data-test-subj":"confirmNewPassword",type:"dual",value:this.state.confirmPassword,onChange:this.onConfirmPasswordChange,disabled:this.state.changeInProgress,fullWidth:true})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:this.onChangePasswordClick,fill:true,isLoading:this.state.changeInProgress,"data-test-subj":"changePasswordButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.changePasswordForm.saveChangesButtonLabel",defaultMessage:"Change password"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:this.onCancelClick,isDisabled:this.state.changeInProgress},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.changePasswordForm.cancelButtonLabel",defaultMessage:"Reset"})))))));_defineProperty(this,"onCurrentPasswordChange",e=>{this.setState({currentPassword:e.target.value,currentPasswordError:false})});_defineProperty(this,"onNewPasswordChange",e=>{this.setState({newPassword:e.target.value})});_defineProperty(this,"onConfirmPasswordChange",e=>{this.setState({confirmPassword:e.target.value})});_defineProperty(this,"onCancelClick",()=>{this.setState(getInitialState())});_defineProperty(this,"onChangePasswordClick",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({shouldValidate:true,currentPasswordError:false},()=>{const _this$validateForm=_this.validateForm(),isInvalid=_this$validateForm.isInvalid;if(isInvalid){return}_this.setState({changeInProgress:true},()=>_this.performPasswordChange())});case 1:case"end":return _context.stop()}}),_callee)}))));_defineProperty(this,"validateCurrentPassword",(shouldValidate=this.state.shouldValidate)=>{if(!shouldValidate||!this.props.isUserChangingOwnPassword){return{isInvalid:false}}if(this.state.currentPasswordError){return{isInvalid:true,error:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.changePasswordForm.invalidPassword",defaultMessage:"Current password is incorrect."})}}if(!this.state.currentPassword){return{isInvalid:true,error:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.currentPasswordRequired",defaultMessage:"Current password is required."})}}return{isInvalid:false}});_defineProperty(this,"validateNewPassword",(shouldValidate=this.state.shouldValidate)=>{const newPassword=this.state.newPassword;const minPasswordLength=6;if(shouldValidate&&newPassword.length<minPasswordLength){return{isInvalid:true,error:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.passwordLengthDescription",defaultMessage:"Password is too short."})}}return{isInvalid:false}});_defineProperty(this,"validateConfirmPassword",(shouldValidate=this.state.shouldValidate)=>{const _this$state=this.state,newPassword=_this$state.newPassword,confirmPassword=_this$state.confirmPassword;if(shouldValidate&&newPassword!==confirmPassword){return{isInvalid:true,error:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.account.passwordsDoNotMatch",defaultMessage:"Passwords do not match."})}}return{isInvalid:false}});_defineProperty(this,"validateForm",()=>{const validation=[this.validateCurrentPassword(true),this.validateNewPassword(true),this.validateConfirmPassword(true)];const firstFailure=validation.find(result=>result.isInvalid);if(firstFailure){return firstFailure}return{isInvalid:false}});_defineProperty(this,"performPasswordChange",_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _this.props.userAPIClient.changePassword(_this.props.user.username,_this.state.newPassword,_this.state.currentPassword);case 3:_this.handleChangePasswordSuccess();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);_this.handleChangePasswordFailure(_context2.t0);case 9:_context2.prev=9;_this.setState({changeInProgress:false});return _context2.finish(9);case 12:case"end":return _context2.stop()}}),_callee2,null,[[0,6,9,12]])}))));_defineProperty(this,"handleChangePasswordSuccess",()=>{this.props.notifications.toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.account.changePasswordSuccess",{defaultMessage:"Your password has been changed."}),"data-test-subj":"passwordUpdateSuccess"});this.setState({currentPasswordError:false,shouldValidate:false,newPassword:"",currentPassword:"",confirmPassword:""});if(this.props.onChangePassword){this.props.onChangePassword()}});_defineProperty(this,"handleChangePasswordFailure",error=>{if(error.body&&error.body.statusCode===403){this.setState({currentPasswordError:true})}else{this.props.notifications.toasts.addDanger(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.settingPasswordErrorMessage",{defaultMessage:"Error setting password: {message}",values:{message:external_kbnSharedDeps_Lodash_default.a.get(error,"body.message")}}))}});this.state=getInitialState()}render(){return this.getForm()}}},89:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return isUserReserved}));__webpack_require__.d(__webpack_exports__,"b",(function(){return isUserDeprecated}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getExtendedUserDeprecationNotice}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);const isUserReserved=user=>{var _user$metadata$_reser,_user$metadata;return(_user$metadata$_reser=(_user$metadata=user.metadata)===null||_user$metadata===void 0?void 0:_user$metadata._reserved)!==null&&_user$metadata$_reser!==void 0?_user$metadata$_reser:false};const isUserDeprecated=user=>{var _user$metadata$_depre,_user$metadata2;return(_user$metadata$_depre=(_user$metadata2=user.metadata)===null||_user$metadata2===void 0?void 0:_user$metadata2._deprecated)!==null&&_user$metadata$_depre!==void 0?_user$metadata$_depre:false};const getExtendedUserDeprecationNotice=user=>{var _user$metadata$_depre2,_user$metadata3;const reason=(_user$metadata$_depre2=(_user$metadata3=user.metadata)===null||_user$metadata3===void 0?void 0:_user$metadata3._deprecated_reason)!==null&&_user$metadata$_depre2!==void 0?_user$metadata$_depre2:"";return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.security.management.users.extendedUserDeprecationNotice",{defaultMessage:"The {username} user is deprecated. {reason}",values:{username:user.username,reason:reason}})}},92:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RoleComboBox}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var model=__webpack_require__(13);const RoleComboBoxOption=({option:option})=>{var _option$value$isDepre,_option$value;const isDeprecated=(_option$value$isDepre=(_option$value=option.value)===null||_option$value===void 0?void 0:_option$value.isDeprecated)!==null&&_option$value$isDepre!==void 0?_option$value$isDepre:false;const deprecatedLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.deprecatedRoleText",{defaultMessage:"(deprecated)"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:option.color,"data-test-subj":"rolesDropdown-renderOption"},option.label," ",isDeprecated?deprecatedLabel:"")};const RoleComboBox=props=>{const onRolesChange=selectedItems=>{props.onChange(selectedItems.map(item=>item.label))};const roleNameToOption=roleName=>{var _ref;const roleDefinition=props.availableRoles.find(role=>role.name===roleName);const isDeprecated=(_ref=roleDefinition&&Object(model["f"])(roleDefinition))!==null&&_ref!==void 0?_ref:false;return{color:isDeprecated?"warning":"default","data-test-subj":"roleOption-".concat(roleName),label:roleName,value:{isDeprecated:isDeprecated}}};const options=props.availableRoles.map(role=>roleNameToOption(role.name));const selectedOptions=props.selectedRoleNames.map(roleNameToOption);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{"data-test-subj":"rolesDropdown",placeholder:props.placeholder||external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.editUser.addRolesPlaceholder",{defaultMessage:"Add roles"}),onChange:onRolesChange,isLoading:props.isLoading,isDisabled:props.isDisabled,options:options,selectedOptions:selectedOptions,renderOption:option=>external_kbnSharedDeps_React_default.a.createElement(RoleComboBoxOption,{option:option})})}},93:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return change_password_form["a"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return confirm_delete_users_ConfirmDeleteUsers}));var change_password_form=__webpack_require__(75);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(5);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class confirm_delete_users_ConfirmDeleteUsers extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);_defineProperty(this,"deleteUsers",()=>{const _this$props=this.props,usersToDelete=_this$props.usersToDelete,callback=_this$props.callback,userAPIClient=_this$props.userAPIClient,notifications=_this$props.notifications;const errors=[];usersToDelete.forEach(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(username){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return userAPIClient.deleteUser(username);case 3:notifications.toasts.addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.confirmDelete.userSuccessfullyDeletedNotificationMessage",{defaultMessage:"Deleted user {username}",values:{username:username}}));_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);errors.push(username);notifications.toasts.addDanger(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.confirmDelete.userDeletingErrorNotificationMessage",{defaultMessage:"Error deleting user {username}",values:{username:username}}));case 10:if(callback){callback(usersToDelete,errors)}case 11:case"end":return _context.stop()}}),_callee,null,[[0,6]])})));return function(_x){return _ref.apply(this,arguments)}}())})}render(){const _this$props2=this.props,usersToDelete=_this$props2.usersToDelete,onCancel=_this$props2.onCancel;const moreThanOne=usersToDelete.length>1;const title=moreThanOne?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.confirmDelete.deleteMultipleUsersTitle",{defaultMessage:"Delete {userLength} users",values:{userLength:usersToDelete.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.confirmDelete.deleteOneUserTitle",{defaultMessage:"Delete user {userLength}",values:{userLength:usersToDelete[0]}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:onCancel,onConfirm:this.deleteUsers,cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.confirmDelete.cancelButtonLabel",{defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.security.management.users.confirmDelete.confirmButtonLabel",{defaultMessage:"Delete"}),buttonColor:"danger"},external_kbnSharedDeps_React_default.a.createElement("div",null,moreThanOne?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.confirmDelete.removingUsersDescription",defaultMessage:"You are about to delete these users:"})),external_kbnSharedDeps_React_default.a.createElement("ul",null,usersToDelete.map(username=>external_kbnSharedDeps_React_default.a.createElement("li",{key:username},username)))):null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.security.management.users.confirmDelete.removingUsersWarningMessage",defaultMessage:"This operation cannot be undone."})))))}}}}]);