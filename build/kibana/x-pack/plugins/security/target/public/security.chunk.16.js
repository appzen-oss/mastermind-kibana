/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["security_bundle_jsonpfunction"]=window["security_bundle_jsonpfunction"]||[]).push([[16],{295:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"RoleMappingsAPIClient",(function(){return RoleMappingsAPIClient}));function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}class RoleMappingsAPIClient{constructor(http){this.http=http}checkRoleMappingFeatures(){var _this=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",_this.http.get("/internal/security/_check_role_mapping_features"));case 1:case"end":return _context.stop()}}),_callee)})))()}getRoleMappings(){var _this2=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",_this2.http.get("/internal/security/role_mapping"));case 1:case"end":return _context2.stop()}}),_callee2)})))()}getRoleMapping(name){var _this3=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",_this3.http.get("/internal/security/role_mapping/".concat(encodeURIComponent(name))));case 1:case"end":return _context3.stop()}}),_callee3)})))()}saveRoleMapping(roleMapping){var _this4=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var name,payload;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:name=roleMapping.name,payload=_objectWithoutProperties(roleMapping,["name"]);return _context4.abrupt("return",_this4.http.post("/internal/security/role_mapping/".concat(encodeURIComponent(name)),{body:JSON.stringify(payload)}));case 2:case"end":return _context4.stop()}}),_callee4)})))()}deleteRoleMappings(names){var _this5=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",Promise.all(names.map(name=>_this5.http.delete("/internal/security/role_mapping/".concat(encodeURIComponent(name))).then(()=>({success:true,name:name})).catch(error=>({success:false,name:name,error:error})))));case 1:case"end":return _context5.stop()}}),_callee5)})))()}}}}]);