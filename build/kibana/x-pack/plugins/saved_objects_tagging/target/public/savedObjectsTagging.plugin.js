/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"savedObjectsTagging.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["savedObjectsTagging_bundle_jsonpfunction"]=window["savedObjectsTagging_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=20)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getObjectTags}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getTagsFromReferences}));__webpack_require__.d(__webpack_exports__,"b",(function(){return convertTagNameToId}));__webpack_require__.d(__webpack_exports__,"a",(function(){return byNameTagSorter}));__webpack_require__.d(__webpack_exports__,"f",(function(){return testSubjFriendly}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getTagIdsFromReferences}));__webpack_require__.d(__webpack_exports__,"g",(function(){return updateTagsReferences}));var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8);const getObjectTags=(object,allTags)=>getTagsFromReferences(object.references,allTags);const getTagsFromReferences=(references,allTags)=>{const tagReferences=references.filter(ref=>ref.type===_common__WEBPACK_IMPORTED_MODULE_0__["d"]);const foundTags=[];const missingRefs=[];tagReferences.forEach(ref=>{const found=allTags.find(tag=>tag.id===ref.id);if(found){foundTags.push(found)}else{missingRefs.push(ref)}});return{tags:foundTags,missingRefs:missingRefs}};const convertTagNameToId=(tagName,allTags)=>{const found=allTags.find(tag=>tag.name===tagName);return found===null||found===void 0?void 0:found.id};const byNameTagSorter=(tagA,tagB)=>tagA.name.localeCompare(tagB.name);const testSubjFriendly=name=>name.replace(" ","_");const getTagIdsFromReferences=references=>references.filter(ref=>ref.type===_common__WEBPACK_IMPORTED_MODULE_0__["d"]).map(({id:id})=>id);const tagIdToReference=tagId=>({type:_common__WEBPACK_IMPORTED_MODULE_0__["d"],id:tagId,name:"tag-ref-".concat(tagId)});const updateTagsReferences=(references,newTagIds)=>[...references.filter(({type:type})=>type!==_common__WEBPACK_IMPORTED_MODULE_0__["d"]),...newTagIds.map(tagIdToReference)]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TagBadge}));__webpack_require__.d(__webpack_exports__,"b",(function(){return TagList}));__webpack_require__.d(__webpack_exports__,"d",(function(){return TagSelector}));__webpack_require__.d(__webpack_exports__,"c",(function(){return TagSearchBarOption}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);const TagBadge=({tag:tag})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:tag.color},tag.name);const TagList=({tags:tags})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadgeGroup"],null,tags.map(tag=>external_kbnSharedDeps_React_default.a.createElement(TagBadge,{key:tag.name,tag:tag})));var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(10);var utils=__webpack_require__(2);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const createOptionValue={type:"__create_option__"};function isTagOption(option){const value=option.value;return value.name!==undefined&&value.color!==undefined&&value.id!==undefined}function isCreateOption(option){const value=option.value;return value.type==="__create_option__"}const renderCreateOption=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{"data-test-subj":"tagSelectorOption-action__create",gutterSize:"xs",alignItems:"center",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"tag"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.savedObjectsTagging.components.tagSelector.createTagOptionLabel",defaultMessage:"Create tag"}))));const renderTagOption=(option,searchValue,contentClassName)=>{var _option$value;const _ref=(_option$value=option.value)!==null&&_option$value!==void 0?_option$value:{name:""},name=_ref.name,color=_ref.color;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:color,"data-test-subj":"tagSelectorOption-".concat(Object(utils["f"])(name))},external_kbnSharedDeps_React_default.a.createElement("span",{className:contentClassName},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHighlight"],{search:searchValue},name)))};const renderOption=(option,searchValue,contentClassName)=>{if(isCreateOption(option)){return renderCreateOption()}if(isTagOption(option)){return renderTagOption(option,searchValue,contentClassName)}};const TagSelector=_ref2=>{let tags=_ref2.tags,selected=_ref2.selected,onTagsSelected=_ref2.onTagsSelected,allowCreate=_ref2.allowCreate,openCreateModal=_ref2.openCreateModal,otherProps=_objectWithoutProperties(_ref2,["tags","selected","onTagsSelected","allowCreate","openCreateModal"]);const _useState=Object(external_kbnSharedDeps_React_["useState"])(""),_useState2=_slicedToArray(_useState,2),currentSearch=_useState2[0],setCurrentSearch=_useState2[1];const createTagOption=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({label:"".concat(currentSearch," "),color:"#FFFFFF",value:createOptionValue}),[currentSearch]);const options=Object(external_kbnSharedDeps_React_["useMemo"])(()=>[...tags.map(tag=>({label:tag.name,color:tag.color,value:tag})),...allowCreate?[createTagOption]:[]],[allowCreate,tags,createTagOption]);const selectedOptions=Object(external_kbnSharedDeps_React_["useMemo"])(()=>options.filter(option=>isTagOption(option)&&selected.includes(option.value.id)),[selected,options]);const onChange=Object(external_kbnSharedDeps_React_["useCallback"])(newSelectedOptions=>{const tagOptions=newSelectedOptions.filter(isTagOption);const selectedIds=tagOptions.map(option=>option.value.id);onTagsSelected(selectedIds);if(newSelectedOptions.find(isCreateOption)){openCreateModal({defaultValues:{name:currentSearch},onCreate:tag=>{onTagsSelected([...selected,tag.id])}})}},[selected,onTagsSelected,openCreateModal,currentSearch]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],_extends({placeholder:"",options:options,selectedOptions:selectedOptions,onSearchChange:setCurrentSearch,onChange:onChange,renderOption:renderOption},otherProps))};const TagSearchBarOption=({tag:tag})=>{const name=tag.name,color=tag.color;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:color,"data-test-subj":"tag-searchbar-option-".concat(Object(utils["f"])(name))},external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,name)))}},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return tagFeatureId}));__webpack_require__.d(__webpack_exports__,"c",(function(){return tagSavedObjectTypeName}));__webpack_require__.d(__webpack_exports__,"b",(function(){return tagManagementSectionId}));const tagFeatureId="savedObjectsTagging";const tagSavedObjectTypeName="tag";const tagManagementSectionId="tags"},function(module,exports){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(19);var react_1=__webpack_require__(0);var useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(22));function useObservable(observable$,initialValue){var _a=react_1.useState(initialValue),value=_a[0],update=_a[1];useIsomorphicLayoutEffect_1.default((function(){var s=observable$.subscribe(update);return function(){return s.unsubscribe()}}),[observable$]);return value}exports.default=useObservable},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return capabilities["a"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return constants["c"]}));__webpack_require__.d(__webpack_exports__,"e",(function(){return validateTagColor}));__webpack_require__.d(__webpack_exports__,"g",(function(){return validateTagName}));__webpack_require__.d(__webpack_exports__,"f",(function(){return validateTagDescription}));__webpack_require__.d(__webpack_exports__,"c",(function(){return tagNameMaxLength}));__webpack_require__.d(__webpack_exports__,"b",(function(){return tagDescriptionMaxLength}));var capabilities=__webpack_require__(9);var constants=__webpack_require__(5);var types=__webpack_require__(6);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(4);const tagNameMinLength=2;const tagNameMaxLength=50;const tagDescriptionMaxLength=100;const hexColorRegexp=/^#[0-9A-F]{6}$/i;const nameValidCharsRegexp=/^[0-9A-Z:\-_\s]+$/i;const isHexColor=color=>hexColorRegexp.test(color);const validateTagColor=color=>{if(!isHexColor(color)){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.validation.color.errorInvalid",{defaultMessage:"Tag color must be a valid hex color"})}};const validateTagName=name=>{if(name.length<tagNameMinLength){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.validation.name.errorTooShort",{defaultMessage:"Tag name must be at least {length} characters",values:{length:tagNameMinLength}})}if(name.length>tagNameMaxLength){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.validation.name.errorTooLong",{defaultMessage:"Tag name may not exceed {length} characters",values:{length:tagNameMaxLength}})}if(!nameValidCharsRegexp.test(name)){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.validation.name.errorInvalidCharacters",{defaultMessage:"Tag name can only include a-z, 0-9, _, -,:."})}};const validateTagDescription=description=>{if(description.length>tagDescriptionMaxLength){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.validation.description.errorTooLong",{defaultMessage:"Tag description may not exceed {length} characters",values:{length:tagDescriptionMaxLength}})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTagsCapabilities}));var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);const getTagsCapabilities=capabilities=>{var _ref,_ref2,_ref3,_ref4,_ref5,_ref6,_capabilities$savedOb;const rawTagCapabilities=capabilities[_constants__WEBPACK_IMPORTED_MODULE_0__["a"]];return{view:(_ref=rawTagCapabilities===null||rawTagCapabilities===void 0?void 0:rawTagCapabilities.view)!==null&&_ref!==void 0?_ref:false,create:(_ref2=rawTagCapabilities===null||rawTagCapabilities===void 0?void 0:rawTagCapabilities.create)!==null&&_ref2!==void 0?_ref2:false,edit:(_ref3=rawTagCapabilities===null||rawTagCapabilities===void 0?void 0:rawTagCapabilities.edit)!==null&&_ref3!==void 0?_ref3:false,delete:(_ref4=rawTagCapabilities===null||rawTagCapabilities===void 0?void 0:rawTagCapabilities.delete)!==null&&_ref4!==void 0?_ref4:false,assign:(_ref5=rawTagCapabilities===null||rawTagCapabilities===void 0?void 0:rawTagCapabilities.assign)!==null&&_ref5!==void 0?_ref5:false,viewConnections:(_ref6=(_capabilities$savedOb=capabilities.savedObjectsManagement)===null||_capabilities$savedOb===void 0?void 0:_capabilities$savedOb.read)!==null&&_ref6!==void 0?_ref6:false}}},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return TagsClient}));__webpack_require__.d(__webpack_exports__,"a",(function(){return tags_cache_TagsCache}));__webpack_require__.d(__webpack_exports__,"c",(function(){return isServerValidationError}));function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const trapErrors=fn=>{try{fn()}catch(e){}};class TagsClient{constructor({http:http,changeListener:changeListener}){_defineProperty(this,"http",void 0);_defineProperty(this,"changeListener",void 0);this.http=http;this.changeListener=changeListener}create(attributes){var _this=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$_this$http$pos,tag;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.http.post("/api/saved_objects_tagging/tags/create",{body:JSON.stringify(attributes)});case 2:_yield$_this$http$pos=_context.sent;tag=_yield$_this$http$pos.tag;trapErrors(()=>{if(_this.changeListener){_this.changeListener.onCreate(tag)}});return _context.abrupt("return",tag);case 6:case"end":return _context.stop()}}),_callee)})))()}update(id,attributes){var _this2=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _yield$_this2$http$po,tag;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this2.http.post("/api/saved_objects_tagging/tags/".concat(id),{body:JSON.stringify(attributes)});case 2:_yield$_this2$http$po=_context2.sent;tag=_yield$_this2$http$po.tag;trapErrors(()=>{if(_this2.changeListener){const newId=tag.id,newAttributes=_objectWithoutProperties(tag,["id"]);_this2.changeListener.onUpdate(newId,newAttributes)}});return _context2.abrupt("return",tag);case 6:case"end":return _context2.stop()}}),_callee2)})))()}get(id){var _this3=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var _yield$_this3$http$ge,tag;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this3.http.get("/api/saved_objects_tagging/tags/".concat(id));case 2:_yield$_this3$http$ge=_context3.sent;tag=_yield$_this3$http$ge.tag;return _context3.abrupt("return",tag);case 5:case"end":return _context3.stop()}}),_callee3)})))()}getAll(){var _this4=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var _yield$_this4$http$ge,tags;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this4.http.get("/api/saved_objects_tagging/tags");case 2:_yield$_this4$http$ge=_context4.sent;tags=_yield$_this4$http$ge.tags;trapErrors(()=>{if(_this4.changeListener){_this4.changeListener.onGetAll(tags)}});return _context4.abrupt("return",tags);case 6:case"end":return _context4.stop()}}),_callee4)})))()}delete(id){var _this5=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this5.http.delete("/api/saved_objects_tagging/tags/".concat(id));case 2:trapErrors(()=>{if(_this5.changeListener){_this5.changeListener.onDelete(id)}});case 3:case"end":return _context5.stop()}}),_callee5)})))()}find({page:page,perPage:perPage,search:search}){var _this6=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _this6.http.get("/internal/saved_objects_tagging/tags/_find",{query:{page:page,perPage:perPage,search:search}});case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}}),_callee6)})))()}bulkDelete(tagIds){var _this7=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee7(){return regeneratorRuntime.wrap((function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _this7.http.post("/internal/saved_objects_tagging/tags/_bulk_delete",{body:JSON.stringify({ids:tagIds})});case 2:trapErrors(()=>{if(_this7.changeListener){tagIds.forEach(tagId=>{_this7.changeListener.onDelete(tagId)})}});case 3:case"end":return _context7.stop()}}),_callee7)})))()}}var external_kbnSharedDeps_Rxjs_=__webpack_require__(12);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(17);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){tags_cache_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function tags_cache_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function tags_cache_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){tags_cache_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){tags_cache_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function tags_cache_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class tags_cache_TagsCache{constructor({refreshHandler:refreshHandler,refreshInterval:refreshInterval}){tags_cache_defineProperty(this,"refreshInterval",void 0);tags_cache_defineProperty(this,"refreshHandler",void 0);tags_cache_defineProperty(this,"intervalId",void 0);tags_cache_defineProperty(this,"internal$",void 0);tags_cache_defineProperty(this,"public$",void 0);tags_cache_defineProperty(this,"stop$",void 0);this.refreshHandler=refreshHandler;this.refreshInterval=refreshInterval;this.stop$=new external_kbnSharedDeps_Rxjs_["Subject"];this.internal$=new external_kbnSharedDeps_Rxjs_["BehaviorSubject"]([]);this.public$=this.internal$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["takeUntil"])(this.stop$))}initialize(){var _this=this;return tags_cache_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.refresh();case 2:if(_this.refreshInterval){_this.intervalId=window.setInterval(()=>{_this.refresh()},_this.refreshInterval.asMilliseconds())}case 3:case"end":return _context.stop()}}),_callee)})))()}refresh(){var _this2=this;return tags_cache_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var tags;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _this2.refreshHandler();case 3:tags=_context2.sent;_this2.internal$.next(tags);_context2.next=9;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,7]])})))()}getState(){return this.internal$.getValue()}getState$(){return this.public$}onDelete(id){this.internal$.next(this.internal$.value.filter(tag=>tag.id!==id))}onCreate(tag){this.internal$.next([...this.internal$.value.filter(f=>f.id!==tag.id),tag])}onUpdate(id,attributes){this.internal$.next(this.internal$.value.map(tag=>{if(tag.id===id){return _objectSpread(_objectSpread({},tag),attributes)}return tag}))}onGetAll(tags){this.internal$.next(tags)}stop(){if(this.intervalId){window.clearInterval(this.intervalId)}this.stop$.next()}}const isServerValidationError=error=>{var _error$attributes;return error&&error.statusCode===400&&typeof((_error$attributes=error.attributes)===null||_error$attributes===void 0?void 0:_error$attributes.valid)==="boolean"&&typeof error.attributes.errors==="object"}},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";var _base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);__webpack_require__.d(__webpack_exports__,"a",(function(){return _base__WEBPACK_IMPORTED_MODULE_0__["a"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return _base__WEBPACK_IMPORTED_MODULE_0__["c"]}))},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getCreateModalOpener}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getEditModalOpener}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var public_=__webpack_require__(13);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const getCreateModalOpener=({overlays:overlays,tagClient:tagClient})=>function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee({onCreate:onCreate,defaultValues:defaultValues}){var _yield$import,CreateTagModal,modal;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(2).then(__webpack_require__.bind(null,40));case 2:_yield$import=_context.sent;CreateTagModal=_yield$import.CreateTagModal;modal=overlays.openModal(Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(CreateTagModal,{defaultValues:defaultValues,onClose:()=>{modal.close()},onSave:tag=>{modal.close();onCreate(tag)},tagClient:tagClient})));return _context.abrupt("return",modal);case 6:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}();const getEditModalOpener=({overlays:overlays,tagClient:tagClient})=>function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2({tagId:tagId,onUpdate:onUpdate}){var _yield$import2,EditTagModal,tag,modal;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return __webpack_require__.e(3).then(__webpack_require__.bind(null,41));case 2:_yield$import2=_context2.sent;EditTagModal=_yield$import2.EditTagModal;_context2.next=6;return tagClient.get(tagId);case 6:tag=_context2.sent;modal=overlays.openModal(Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(EditTagModal,{tag:tag,onClose:()=>{modal.close()},onSave:saved=>{modal.close();onUpdate(saved)},tagClient:tagClient})));return _context2.abrupt("return",modal);case 9:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}()},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,exports){module.exports=__kbnSharedDeps__.TsLib},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_savedObjectsTagging_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21);var _node_modules_val_loader_dist_cjs_js_key_savedObjectsTagging_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_savedObjectsTagging_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/savedObjectsTagging/public",__webpack_require__,23)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["savedObjectsTagging"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useIsomorphicLayoutEffect=typeof window!=="undefined"?react_1.useLayoutEffect:react_1.useEffect;exports.default=useIsomorphicLayoutEffect},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"SavedObjectTaggingPluginStart",(function(){return types["SavedObjectTaggingPluginStart"]}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(4);var constants=__webpack_require__(5);var common_capabilities=__webpack_require__(9);var public_tags=__webpack_require__(11);var utils=__webpack_require__(2);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var useObservable=__webpack_require__(7);var useObservable_default=__webpack_require__.n(useObservable);var base=__webpack_require__(3);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const SavedObjectTagList=({object:object,tags:allTags})=>{const objectTags=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const _getObjectTags=Object(utils["c"])(object,allTags),tags=_getObjectTags.tags;tags.sort(utils["a"]);return tags},[object,allTags]);return external_kbnSharedDeps_React_default.a.createElement(base["b"],{tags:objectTags})};const getConnectedTagListComponent=({cache:cache})=>props=>{const tags=useObservable_default()(cache.getState$(),cache.getState());return external_kbnSharedDeps_React_default.a.createElement(SavedObjectTagList,_extends({},props,{tags:tags}))};function tag_selector_extends(){tag_selector_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return tag_selector_extends.apply(this,arguments)}const getConnectedTagSelectorComponent=({cache:cache,capabilities:capabilities,openCreateModal:openCreateModal})=>props=>{const tags=useObservable_default()(cache.getState$(),cache.getState());return external_kbnSharedDeps_React_default.a.createElement(base["d"],tag_selector_extends({},props,{tags:tags,allowCreate:capabilities.create,openCreateModal:openCreateModal}))};var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(10);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const getConnectedSavedObjectModalTagSelectorComponent=({cache:cache,capabilities:capabilities,openCreateModal:openCreateModal})=>({initialSelection:initialSelection,onTagsSelected:notifySelectionChange})=>{const tags=useObservable_default()(cache.getState$(),cache.getState());const _useState=Object(external_kbnSharedDeps_React_["useState"])(initialSelection),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];const setSelectedInternal=Object(external_kbnSharedDeps_React_["useCallback"])(newSelection=>{setSelected(newSelection);notifySelectionChange(newSelection)},[notifySelectionChange]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.savedObjectsTagging.uiApi.saveModal.label",defaultMessage:"Tags"})},external_kbnSharedDeps_React_default.a.createElement(base["d"],{selected:selected,onTagsSelected:setSelectedInternal,tags:tags,"data-test-subj":"savedObjectTagSelector",allowCreate:capabilities.create,openCreateModal:openCreateModal}))};var edition_modal=__webpack_require__(16);const getComponents=({capabilities:capabilities,cache:cache,overlays:overlays,tagClient:tagClient})=>{const openCreateModal=Object(edition_modal["a"])({overlays:overlays,tagClient:tagClient});return{TagList:getConnectedTagListComponent({cache:cache}),TagSelector:getConnectedTagSelectorComponent({cache:cache,capabilities:capabilities,openCreateModal:openCreateModal}),SavedObjectSaveModalTagSelector:getConnectedSavedObjectModalTagSelectorComponent({cache:cache,capabilities:capabilities,openCreateModal:openCreateModal})}};const buildGetTableColumnDefinition=({components:components,cache:cache})=>()=>({field:"references",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.uiApi.table.columnTagsName",{defaultMessage:"Tags"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.uiApi.table.columnTagsDescription",{defaultMessage:"Tags associated with this saved object"}),sortable:object=>{const _getTagsFromReference=Object(utils["e"])(object.references,cache.getState()),tags=_getTagsFromReference.tags;tags.sort(utils["a"]);return tags.length?tags[0].name:undefined},render:(references,object)=>external_kbnSharedDeps_React_default.a.createElement(components.TagList,{object:object}),"data-test-subj":"listingTableRowTags"});var public_components=__webpack_require__(14);const buildGetSearchBarFilter=({cache:cache})=>({useName:useName=true,tagField:tagField="tag"}={})=>({type:"field_value_selection",field:tagField,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.uiApi.searchBar.filterButtonLabel",{defaultMessage:"Tags"}),multiSelect:"or",options:()=>Promise.resolve(cache.getState().sort(utils["a"]).map(tag=>({value:useName?tag.name:tag.id,name:tag.name,view:external_kbnSharedDeps_React_default.a.createElement(public_components["b"],{tag:tag})})))});const buildParseSearchQuery=({cache:cache})=>(query,{tagField:tagField="tag",useName:useName=true}={})=>{const parsed=external_kbnSharedDeps_ElasticEui_["Query"].parse(query);if(!query){return{searchTerm:"",tagReferences:[]}}let searchTerm="";let tagReferences=[];if(parsed.ast.getTermClauses().length){searchTerm=parsed.ast.getTermClauses().map(clause=>clause.value).join(" ")}if(parsed.ast.getFieldClauses(tagField)){const selectedTags=parsed.ast.getFieldClauses(tagField)[0].value;if(useName){selectedTags.forEach(tagName=>{const found=cache.getState().find(tag=>tag.name===tagName);if(found){tagReferences.push({type:"tag",id:found.id})}})}else{tagReferences=selectedTags.map(tagId=>({type:"tag",id:tagId}))}}return{searchTerm:searchTerm,tagReferences:tagReferences.length?tagReferences:undefined}};const buildConvertNameToReference=({cache:cache})=>tagName=>{const tagId=Object(utils["b"])(tagName,cache.getState());return tagId?{type:"tag",id:tagId}:undefined};const hasTagDecoration=object=>"getTags"in object&&"setTags"in object;const getUiApi=({cache:cache,capabilities:capabilities,client:client,overlays:overlays})=>{const components=getComponents({cache:cache,capabilities:capabilities,overlays:overlays,tagClient:client});return{components:components,getTableColumnDefinition:buildGetTableColumnDefinition({components:components,cache:cache}),getSearchBarFilter:buildGetSearchBarFilter({cache:cache}),parseSearchQuery:buildParseSearchQuery({cache:cache}),convertNameToReference:buildConvertNameToReference({cache:cache}),hasTagDecoration:hasTagDecoration,getTagIdsFromReferences:utils["d"],getTagIdFromName:tagName=>Object(utils["b"])(tagName,cache.getState()),updateTagsReferences:utils["g"]}};var external_kbnSharedDeps_Moment_=__webpack_require__(18);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class config_SavedObjectsTaggingClientConfig{constructor(rawConfig){_defineProperty(this,"cacheRefreshInterval",void 0);this.cacheRefreshInterval=external_kbnSharedDeps_Moment_default.a.duration(rawConfig.cache_refresh_interval)}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class plugin_SavedObjectTaggingPlugin{constructor(context){plugin_defineProperty(this,"tagClient",void 0);plugin_defineProperty(this,"tagCache",void 0);plugin_defineProperty(this,"config",void 0);this.config=new config_SavedObjectsTaggingClientConfig(context.config.get())}setup(core,{management:management,savedObjectsTaggingOss:savedObjectsTaggingOss}){var _this=this;const kibanaSection=management.sections.section.kibana;kibanaSection.registerApp({id:constants["b"],title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.savedObjectsTagging.management.sectionLabel",{defaultMessage:"Tags"}),order:2,mount:function(){var _mount=_asyncToGenerator(regeneratorRuntime.mark((function _callee(mountParams){var _yield$import,mountSection;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(1).then(__webpack_require__.bind(null,42));case 2:_yield$import=_context.sent;mountSection=_yield$import.mountSection;return _context.abrupt("return",mountSection({tagClient:_this.tagClient,core:core,mountParams:mountParams}));case 5:case"end":return _context.stop()}}),_callee)})));function mount(_x){return _mount.apply(this,arguments)}return mount}()});savedObjectsTaggingOss.registerTaggingApi(core.getStartServices().then(([_core,_deps,startContract])=>startContract));return{}}start({http:http,application:application,overlays:overlays}){this.tagCache=new public_tags["a"]({refreshHandler:()=>this.tagClient.getAll(),refreshInterval:this.config.cacheRefreshInterval});this.tagClient=new public_tags["b"]({http:http,changeListener:this.tagCache});if(!http.anonymousPaths.isAnonymous(window.location.pathname)){this.tagCache.initialize().catch(()=>{})}return{client:this.tagClient,ui:getUiApi({cache:this.tagCache,client:this.tagClient,capabilities:Object(common_capabilities["a"])(application.capabilities),overlays:overlays})}}stop(){if(this.tagCache){this.tagCache.stop()}}}var types=__webpack_require__(15);const public_plugin=initializerContext=>new plugin_SavedObjectTaggingPlugin(initializerContext)},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom}]);