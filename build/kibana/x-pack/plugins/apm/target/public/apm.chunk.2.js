/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["apm_bundle_jsonpfunction"]=window["apm_bundle_jsonpfunction"]||[]).push([[2],Array(44).concat([function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs}else{module.exports=__webpack_require__(754)()}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Voronoi=__webpack_require__(296);var _react=__webpack_require__(2);var _animation=__webpack_require__(49);var _scalesUtils=__webpack_require__(58);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var propTypes=_extends({},(0,_scalesUtils.getScalePropTypesByAttribute)("x"),(0,_scalesUtils.getScalePropTypesByAttribute)("y"),(0,_scalesUtils.getScalePropTypesByAttribute)("size"),(0,_scalesUtils.getScalePropTypesByAttribute)("opacity"),(0,_scalesUtils.getScalePropTypesByAttribute)("color"),{width:_propTypes2.default.number,height:_propTypes2.default.number,data:_propTypes2.default.arrayOf(_propTypes2.default.object),onValueMouseOver:_propTypes2.default.func,onValueMouseOut:_propTypes2.default.func,onValueClick:_propTypes2.default.func,onValueRightClick:_propTypes2.default.func,onSeriesMouseOver:_propTypes2.default.func,onSeriesMouseOut:_propTypes2.default.func,onSeriesClick:_propTypes2.default.func,onSeriesRightClick:_propTypes2.default.func,onNearestX:_propTypes2.default.func,onNearestXY:_propTypes2.default.func,style:_propTypes2.default.object,animation:_animation.AnimationPropType});var defaultProps={className:"",style:{}};var AbstractSeries=function(_PureComponent){_inherits(AbstractSeries,_PureComponent);_createClass(AbstractSeries,null,[{key:"getParentConfig",value:function getParentConfig(){return{}}},{key:"requiresSVG",get:function get(){return true}}]);function AbstractSeries(props){_classCallCheck(this,AbstractSeries);var _this=_possibleConstructorReturn(this,(AbstractSeries.__proto__||Object.getPrototypeOf(AbstractSeries)).call(this,props));_this._seriesMouseOverHandler=_this._seriesMouseOverHandler.bind(_this);_this._valueMouseOverHandler=_this._valueMouseOverHandler.bind(_this);_this._seriesMouseOutHandler=_this._seriesMouseOutHandler.bind(_this);_this._valueMouseOutHandler=_this._valueMouseOutHandler.bind(_this);_this._seriesClickHandler=_this._seriesClickHandler.bind(_this);_this._valueClickHandler=_this._valueClickHandler.bind(_this);_this._seriesRightClickHandler=_this._seriesRightClickHandler.bind(_this);_this._valueRightClickHandler=_this._valueRightClickHandler.bind(_this);return _this}_createClass(AbstractSeries,[{key:"_valueMouseOverHandler",value:function _valueMouseOverHandler(d,event){var _props=this.props,onValueMouseOver=_props.onValueMouseOver,onSeriesMouseOver=_props.onSeriesMouseOver;if(onValueMouseOver){onValueMouseOver(d,{event:event})}if(onSeriesMouseOver){onSeriesMouseOver({event:event})}}},{key:"_seriesMouseOverHandler",value:function _seriesMouseOverHandler(event){var onSeriesMouseOver=this.props.onSeriesMouseOver;if(onSeriesMouseOver){onSeriesMouseOver({event:event})}}},{key:"_valueMouseOutHandler",value:function _valueMouseOutHandler(d,event){var _props2=this.props,onValueMouseOut=_props2.onValueMouseOut,onSeriesMouseOut=_props2.onSeriesMouseOut;if(onValueMouseOut){onValueMouseOut(d,{event:event})}if(onSeriesMouseOut){onSeriesMouseOut({event:event})}}},{key:"_seriesMouseOutHandler",value:function _seriesMouseOutHandler(event){var onSeriesMouseOut=this.props.onSeriesMouseOut;if(onSeriesMouseOut){onSeriesMouseOut({event:event})}}},{key:"_valueClickHandler",value:function _valueClickHandler(d,event){var _props3=this.props,onValueClick=_props3.onValueClick,onSeriesClick=_props3.onSeriesClick;if(onValueClick){onValueClick(d,{event:event})}if(onSeriesClick){onSeriesClick({event:event})}}},{key:"_valueRightClickHandler",value:function _valueRightClickHandler(d,event){var _props4=this.props,onValueRightClick=_props4.onValueRightClick,onSeriesRightClick=_props4.onSeriesRightClick;if(onValueRightClick){onValueRightClick(d,{event:event})}if(onSeriesRightClick){onSeriesRightClick({event:event})}}},{key:"_seriesClickHandler",value:function _seriesClickHandler(event){var onSeriesClick=this.props.onSeriesClick;if(onSeriesClick){onSeriesClick({event:event})}}},{key:"_seriesRightClickHandler",value:function _seriesRightClickHandler(event){var onSeriesRightClick=this.props.onSeriesRightClick;if(onSeriesRightClick){onSeriesRightClick({event:event})}}},{key:"_getAttributeFunctor",value:function _getAttributeFunctor(attr){return(0,_scalesUtils.getAttributeFunctor)(this.props,attr)}},{key:"_getAttr0Functor",value:function _getAttr0Functor(attr){return(0,_scalesUtils.getAttr0Functor)(this.props,attr)}},{key:"_getAttributeValue",value:function _getAttributeValue(attr){return(0,_scalesUtils.getAttributeValue)(this.props,attr)}},{key:"_getScaleDistance",value:function _getScaleDistance(attr){var scaleObject=(0,_scalesUtils.getScaleObjectFromProps)(this.props,attr);return scaleObject?scaleObject.distance:0}},{key:"_getXYCoordinateInContainer",value:function _getXYCoordinateInContainer(event){var _props5=this.props,_props5$marginTop=_props5.marginTop,marginTop=_props5$marginTop===undefined?0:_props5$marginTop,_props5$marginLeft=_props5.marginLeft,marginLeft=_props5$marginLeft===undefined?0:_props5$marginLeft;var _event$nativeEvent=event.nativeEvent,clientX=_event$nativeEvent.clientX,clientY=_event$nativeEvent.clientY,currentTarget=event.currentTarget;var rect=currentTarget.getBoundingClientRect();return{x:clientX-rect.left-currentTarget.clientLeft-marginLeft,y:clientY-rect.top-currentTarget.clientTop-marginTop}}},{key:"_handleNearestX",value:function _handleNearestX(event){var _props6=this.props,onNearestX=_props6.onNearestX,data=_props6.data;var minDistance=Number.POSITIVE_INFINITY;var value=null;var valueIndex=null;var coordinate=this._getXYCoordinateInContainer(event);var xScaleFn=this._getAttributeFunctor("x");data.forEach((function(item,i){var currentCoordinate=xScaleFn(item);var newDistance=Math.abs(coordinate.x-currentCoordinate);if(newDistance<minDistance){minDistance=newDistance;value=item;valueIndex=i}}));if(!value){return}onNearestX(value,{innerX:xScaleFn(value),index:valueIndex,event:event.nativeEvent})}},{key:"_handleNearestXY",value:function _handleNearestXY(event){var _props7=this.props,onNearestXY=_props7.onNearestXY,data=_props7.data;var coordinate=this._getXYCoordinateInContainer(event);var xScaleFn=this._getAttributeFunctor("x");var yScaleFn=this._getAttributeFunctor("y");var voronoiInstance=(0,_d3Voronoi.voronoi)().x(xScaleFn).y(yScaleFn);var foundPoint=voronoiInstance(data).find(coordinate.x,coordinate.y);var value=foundPoint.data;if(!value){return}onNearestXY(value,{innerX:foundPoint.x,innerY:foundPoint.y,index:foundPoint.index,event:event.nativeEvent})}},{key:"onParentMouseMove",value:function onParentMouseMove(event){var _props8=this.props,onNearestX=_props8.onNearestX,onNearestXY=_props8.onNearestXY,data=_props8.data;if(!onNearestX&&!onNearestXY||!data){return}if(onNearestXY){this._handleNearestXY(event)}else{this._handleNearestX(event)}}}]);return AbstractSeries}(_react.PureComponent);AbstractSeries.displayName="AbstractSeries";AbstractSeries.propTypes=propTypes;AbstractSeries.defaultProps=defaultProps;exports.default=AbstractSeries},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AnimationPropType=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.extractAnimatedPropValues=extractAnimatedPropValues;var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Interpolate=__webpack_require__(184);var _reactMotion=__webpack_require__(774);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var ANIMATION_PROPTYPES=_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.shape({stiffness:_propTypes2.default.number,nonAnimatedProps:_propTypes2.default.arrayOf(_propTypes2.default.string),damping:_propTypes2.default.number}),_propTypes2.default.bool]);var propTypes={animatedProps:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,animation:ANIMATION_PROPTYPES,onStart:_propTypes2.default.func,onEnd:_propTypes2.default.func};function getAnimationStyle(){var animationStyle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_reactMotion.presets.noWobble;if(typeof animationStyle==="string"){return _reactMotion.presets[animationStyle]||_reactMotion.presets.noWobble}var damping=animationStyle.damping,stiffness=animationStyle.stiffness;return _extends({damping:damping||_reactMotion.presets.noWobble.damping,stiffness:stiffness||_reactMotion.presets.noWobble.stiffness},animationStyle)}function extractAnimatedPropValues(props){var animatedProps=props.animatedProps,otherProps=_objectWithoutProperties(props,["animatedProps"]);return animatedProps.reduce((function(result,animatedPropName){if(otherProps.hasOwnProperty(animatedPropName)){result[animatedPropName]=otherProps[animatedPropName]}return result}),{})}var Animation=function(_PureComponent){_inherits(Animation,_PureComponent);function Animation(props){_classCallCheck(this,Animation);var _this=_possibleConstructorReturn(this,(Animation.__proto__||Object.getPrototypeOf(Animation)).call(this,props));_this._updateInterpolator(props);_this._renderChildren=_this._renderChildren.bind(_this);_this._motionEndHandler=_this._motionEndHandler.bind(_this);return _this}_createClass(Animation,[{key:"componentWillUpdate",value:function componentWillUpdate(props){this._updateInterpolator(this.props,props);if(props.onStart){props.onStart()}}},{key:"_updateInterpolator",value:function _updateInterpolator(oldProps,newProps){this._interpolator=(0,_d3Interpolate.interpolate)(extractAnimatedPropValues(oldProps),newProps?extractAnimatedPropValues(newProps):null)}},{key:"_renderChildren",value:function _renderChildren(_ref){var i=_ref.i;var children=this.props.children;var interpolator=this._interpolator;var child=_react2.default.Children.only(children);var interpolatedProps=interpolator?interpolator(i):interpolator;var data=interpolatedProps&&interpolatedProps.data||null;if(data&&child.props._data){data=data.map((function(row,index){var correspondingCell=child.props._data[index];return _extends({},row,{parent:correspondingCell.parent,children:correspondingCell.children})}))}return _react2.default.cloneElement(child,_extends({},child.props,interpolatedProps,{data:data||child.props.data||null,_animation:Math.random()}))}},{key:"_motionEndHandler",value:function _motionEndHandler(){if(this.props.onEnd){this.props.onEnd()}}},{key:"render",value:function render(){var animationStyle=getAnimationStyle(this.props.animation);var defaultStyle={i:0};var style={i:(0,_reactMotion.spring)(1,animationStyle)};var key=Math.random();return _react2.default.createElement(_reactMotion.Motion,_extends({defaultStyle:defaultStyle,style:style,key:key},{onRest:this._motionEndHandler}),this._renderChildren)}}]);return Animation}(_react.PureComponent);Animation.propTypes=propTypes;Animation.displayName="Animation";exports.default=Animation;var AnimationPropType=exports.AnimationPropType=ANIMATION_PROPTYPES},function(module,exports,__webpack_require__){var lodash;if(true){try{lodash={cloneDeep:__webpack_require__(663),constant:__webpack_require__(175),defaults:__webpack_require__(664),each:__webpack_require__(246),filter:__webpack_require__(249),find:__webpack_require__(665),flatten:__webpack_require__(276),forEach:__webpack_require__(247),forIn:__webpack_require__(672),has:__webpack_require__(260),isUndefined:__webpack_require__(261),last:__webpack_require__(673),map:__webpack_require__(262),mapValues:__webpack_require__(674),max:__webpack_require__(675),merge:__webpack_require__(677),min:__webpack_require__(683),minBy:__webpack_require__(684),now:__webpack_require__(685),pick:__webpack_require__(686),range:__webpack_require__(691),reduce:__webpack_require__(264),sortBy:__webpack_require__(694),uniqueId:__webpack_require__(699),values:__webpack_require__(269),zipObject:__webpack_require__(700)}}catch(e){}}if(!lodash){lodash=window._}module.exports=lodash},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useAPMHref}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getAPMHref}));__webpack_require__.d(__webpack_exports__,"a",(function(){return APMLink}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);var react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20);var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);var url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5);var url__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_4__);var _common_utils_pick_keys__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62);var _hooks_useApmPluginContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(45);var _hooks_useUrlParams__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(42);var _url_helpers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(46);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const PERSISTENT_APM_PARAMS=["kuery","rangeFrom","rangeTo","refreshPaused","refreshInterval","environment"];function useAPMHref(path,persistentFilters=PERSISTENT_APM_PARAMS){const _useUrlParams=Object(_hooks_useUrlParams__WEBPACK_IMPORTED_MODULE_7__["a"])(),urlParams=_useUrlParams.urlParams;const basePath=Object(_hooks_useApmPluginContext__WEBPACK_IMPORTED_MODULE_6__["a"])().core.http.basePath;const _useLocation=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useLocation"])(),search=_useLocation.search;const query=Object(_common_utils_pick_keys__WEBPACK_IMPORTED_MODULE_5__["a"])(urlParams,...persistentFilters);return getAPMHref({basePath:basePath,path:path,query:query,search:search})}function getAPMHref({basePath:basePath,path:path="",search:search,query:query={}}){const currentQuery=Object(_url_helpers__WEBPACK_IMPORTED_MODULE_8__["c"])(search);const nextQuery=_objectSpread(_objectSpread({},Object(lodash__WEBPACK_IMPORTED_MODULE_1__["pick"])(currentQuery,PERSISTENT_APM_PARAMS)),query);const nextSearch=Object(_url_helpers__WEBPACK_IMPORTED_MODULE_8__["b"])(nextQuery);return url__WEBPACK_IMPORTED_MODULE_4___default.a.format({pathname:basePath.prepend("/app/apm".concat(path)),search:nextSearch})}function APMLink(_ref){let _ref$path=_ref.path,path=_ref$path===void 0?"":_ref$path,query=_ref.query,rest=_objectWithoutProperties(_ref,["path","query"]);const _useApmPluginContext=Object(_hooks_useApmPluginContext__WEBPACK_IMPORTED_MODULE_6__["a"])(),core=_useApmPluginContext.core;const _useLocation2=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useLocation"])(),search=_useLocation2.search;const basePath=core.http.basePath;const href=getAPMHref({basePath:basePath,path:path,search:search,query:query});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiLink"],_extends({},rest,{href:href}))}},function(module,exports){var isArray=Array.isArray;module.exports=isArray},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var DISCRETE_COLOR_RANGE=exports.DISCRETE_COLOR_RANGE=["#12939A","#79C7E3","#1A3177","#FF9833","#EF5D28"];var EXTENDED_DISCRETE_COLOR_RANGE=exports.EXTENDED_DISCRETE_COLOR_RANGE=["#19CDD7","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#12939A","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"];var CONTINUOUS_COLOR_RANGE=exports.CONTINUOUS_COLOR_RANGE=["#EF5D28","#FF9833"];var SIZE_RANGE=exports.SIZE_RANGE=[1,10];var OPACITY_RANGE=exports.OPACITY_RANGE=[.1,1];var OPACITY_TYPE=exports.OPACITY_TYPE="literal";var DEFAULT_OPACITY=exports.DEFAULT_OPACITY=1;var DEFAULT_SIZE=exports.DEFAULT_SIZE=5;var DEFAULT_COLOR=exports.DEFAULT_COLOR=DISCRETE_COLOR_RANGE[0];var DEFAULT_TICK_SIZE=exports.DEFAULT_TICK_SIZE=7},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ANIMATED_SERIES_PROPS=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.isSeriesChild=isSeriesChild;exports.getSeriesChildren=getSeriesChildren;exports.getStackedData=getStackedData;exports.getSeriesPropsFromChildren=getSeriesPropsFromChildren;exports.getRadialDomain=getRadialDomain;exports.getStackParams=getStackParams;var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _theme=__webpack_require__(56);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function isSeriesChild(child){var prototype=child.type.prototype;return prototype instanceof _abstractSeries2.default}function getSeriesChildren(children){return _react2.default.Children.toArray(children).filter((function(child){return child&&isSeriesChild(child)}))}function collectSeriesTypesInfo(children){var result={};children.filter(isSeriesChild).forEach((function(child){var displayName=child.type.displayName;var cluster=child.props.cluster;if(!result[displayName]){result[displayName]={sameTypeTotal:0,sameTypeIndex:0,clusters:new Set}}result[displayName].clusters.add(cluster);result[displayName].sameTypeTotal++}));return result}function seriesHasAngleRadius(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!data){return false}return data.some((function(row){return row.radius&&row.angle}))}function prepareData(data){if(!seriesHasAngleRadius(data)){return data}return data.map((function(row){return _extends({},row,{x:row.radius*Math.cos(row.angle),y:row.radius*Math.sin(row.angle)})}))}function getStackedData(children,attr){var latestAttrPositions={};return children.reduce((function(accumulator,series,seriesIndex){if(!series){accumulator.push(null);return accumulator}var _series$props=series.props,data=_series$props.data,_series$props$cluster=_series$props.cluster,cluster=_series$props$cluster===undefined?"default":_series$props$cluster;var preppedData=prepareData(data,attr);if(!attr||!preppedData||!preppedData.length){accumulator.push(preppedData);return accumulator}var attr0=attr+"0";var baseAttr=attr==="y"?"x":"y";accumulator.push(preppedData.map((function(d,dIndex){var _extends2,_latestAttrPositions$2;if(!latestAttrPositions[cluster]){latestAttrPositions[cluster]={}}var prevD=latestAttrPositions[cluster][d[baseAttr]];if(!prevD){var _latestAttrPositions$;latestAttrPositions[cluster][d[baseAttr]]=(_latestAttrPositions$={},_defineProperty(_latestAttrPositions$,attr0,d[attr0]),_defineProperty(_latestAttrPositions$,attr,d[attr]),_latestAttrPositions$);return _extends({},d)}var nextD=_extends({},d,(_extends2={},_defineProperty(_extends2,attr0,prevD[attr]),_defineProperty(_extends2,attr,prevD[attr]+d[attr]-(d[attr0]||0)),_extends2));latestAttrPositions[cluster][d[baseAttr]]=(_latestAttrPositions$2={},_defineProperty(_latestAttrPositions$2,attr0,nextD[attr0]),_defineProperty(_latestAttrPositions$2,attr,nextD[attr]),_latestAttrPositions$2);return nextD})));return accumulator}),[])}function getSeriesPropsFromChildren(children){var result=[];var seriesTypesInfo=collectSeriesTypesInfo(children);var seriesIndex=0;var _opacityValue=_theme.DEFAULT_OPACITY;children.forEach((function(child){var props=void 0;if(isSeriesChild(child)){var seriesTypeInfo=seriesTypesInfo[child.type.displayName];var _colorValue=_theme.DISCRETE_COLOR_RANGE[seriesIndex%_theme.DISCRETE_COLOR_RANGE.length];props=_extends({},seriesTypeInfo,{seriesIndex:seriesIndex,ref:"series"+seriesIndex,_colorValue:_colorValue,_opacityValue:_opacityValue});seriesTypeInfo.sameTypeIndex++;seriesIndex++;if(child.props.cluster){props.cluster=child.props.cluster;props.clusters=Array.from(seriesTypeInfo.clusters);props.sameTypeTotal=props.clusters.length;props.sameTypeIndex=props.clusters.indexOf(child.props.cluster)}}result.push(props)}));return result}function getRadialDomain(data){return data.reduce((function(res,row){return Math.max(row.radius,res)}),0)}var ANIMATED_SERIES_PROPS=exports.ANIMATED_SERIES_PROPS=["xRange","xDomain","x","yRange","yDomain","y","colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","strokeRange","strokeDomain","stroke","fillRange","fillDomain","fill","width","height","marginLeft","marginTop","marginRight","marginBottom","data","angleDomain","angleRange","angle","radiusDomain","radiusRange","radius","innerRadiusDomain","innerRadiusRange","innerRadius"];function getStackParams(props){var _stackBy=props._stackBy,valuePosAttr=props.valuePosAttr,cluster=props.cluster;var _props$sameTypeTotal=props.sameTypeTotal,sameTypeTotal=_props$sameTypeTotal===undefined?1:_props$sameTypeTotal,_props$sameTypeIndex=props.sameTypeIndex,sameTypeIndex=_props$sameTypeIndex===undefined?0:_props$sameTypeIndex;if(_stackBy===valuePosAttr&&!cluster){sameTypeTotal=1;sameTypeIndex=0}return{sameTypeTotal:sameTypeTotal,sameTypeIndex:sameTypeIndex}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _SCALE_FUNCTIONS;exports._getSmallestDistanceIndex=_getSmallestDistanceIndex;exports.getScaleFnFromScaleObject=getScaleFnFromScaleObject;exports.getDomainByAccessor=getDomainByAccessor;exports._getScaleDistanceAndAdjustedDomain=_getScaleDistanceAndAdjustedDomain;exports._adjustCategoricalScale=_adjustCategoricalScale;exports.getScaleObjectFromProps=getScaleObjectFromProps;exports.getAttributeScale=getAttributeScale;exports.getAttributeFunctor=getAttributeFunctor;exports.getAttr0Functor=getAttr0Functor;exports.getAttributeValue=getAttributeValue;exports.getScalePropTypesByAttribute=getScalePropTypesByAttribute;exports.extractScalePropsFromProps=extractScalePropsFromProps;exports.getMissingScaleProps=getMissingScaleProps;exports.literalScale=literalScale;exports.getFontColorFromBackground=getFontColorFromBackground;exports.getXYPlotValues=getXYPlotValues;exports.getOptionalScaleProps=getOptionalScaleProps;var _d3Scale=__webpack_require__(88);var _d3Array=__webpack_require__(102);var _d3Collection=__webpack_require__(183);var _d3Color=__webpack_require__(89);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _reactUtils=__webpack_require__(103);var _dataUtils=__webpack_require__(773);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var LINEAR_SCALE_TYPE="linear";var ORDINAL_SCALE_TYPE="ordinal";var CATEGORY_SCALE_TYPE="category";var LITERAL_SCALE_TYPE="literal";var LOG_SCALE_TYPE="log";var TIME_SCALE_TYPE="time";var TIME_UTC_SCALE_TYPE="time-utc";var SCALE_FUNCTIONS=(_SCALE_FUNCTIONS={},_defineProperty(_SCALE_FUNCTIONS,LINEAR_SCALE_TYPE,_d3Scale.scaleLinear),_defineProperty(_SCALE_FUNCTIONS,ORDINAL_SCALE_TYPE,_d3Scale.scalePoint),_defineProperty(_SCALE_FUNCTIONS,CATEGORY_SCALE_TYPE,_d3Scale.scaleOrdinal),_defineProperty(_SCALE_FUNCTIONS,LITERAL_SCALE_TYPE,literalScale),_defineProperty(_SCALE_FUNCTIONS,LOG_SCALE_TYPE,_d3Scale.scaleLog),_defineProperty(_SCALE_FUNCTIONS,TIME_SCALE_TYPE,_d3Scale.scaleTime),_defineProperty(_SCALE_FUNCTIONS,TIME_UTC_SCALE_TYPE,_d3Scale.scaleUtc),_SCALE_FUNCTIONS);var XYPLOT_ATTR=["color","fill","opacity","stroke"];function toTitleCase(str){return""+str[0].toUpperCase()+str.slice(1)}function _getSmallestDistanceIndex(values,scaleObject){var scaleFn=getScaleFnFromScaleObject(scaleObject);var result=0;if(scaleFn){var nextValue=void 0;var currentValue=scaleFn(values[0]);var distance=Infinity;var nextDistance=void 0;for(var i=1;i<values.length;i++){nextValue=scaleFn(values[i]);nextDistance=Math.abs(nextValue-currentValue);if(nextDistance<distance){distance=nextDistance;result=i}currentValue=nextValue}}return result}function getScaleFnFromScaleObject(scaleObject){if(!scaleObject){return null}var type=scaleObject.type,domain=scaleObject.domain,range=scaleObject.range;var modDomain=domain[0]===domain[1]?domain[0]===0?[-1,0]:[-domain[0],domain[0]]:domain;if(type===LITERAL_SCALE_TYPE){return literalScale(range[0])}var scale=SCALE_FUNCTIONS[type]().domain(modDomain).range(range);if(type===ORDINAL_SCALE_TYPE){scale.padding(.5)}return scale}function getDomainByAccessor(allData,accessor,accessor0,type){var domain=void 0;var values=allData.reduce((function(data,d){var value=accessor(d);var value0=accessor0(d);if(_isDefined(value)){data.push(value)}if(_isDefined(value0)){data.push(value0)}return data}),[]);if(!values.length){return[]}if(type!==ORDINAL_SCALE_TYPE&&type!==CATEGORY_SCALE_TYPE){domain=(0,_d3Array.extent)(values)}else{domain=(0,_d3Collection.set)(values).values()}return domain}function _createScaleObjectForValue(attr,value,type,accessor,accessor0){if(type===LITERAL_SCALE_TYPE){return{type:LITERAL_SCALE_TYPE,domain:[],range:[value],distance:0,attr:attr,baseValue:undefined,isValue:true,accessor:accessor}}if(typeof value==="undefined"){return null}return{type:CATEGORY_SCALE_TYPE,range:[value],domain:[],distance:0,attr:attr,baseValue:undefined,isValue:true,accessor:accessor}}function _createScaleObjectForFunction(_ref){var domain=_ref.domain,range=_ref.range,type=_ref.type,distance=_ref.distance,attr=_ref.attr,baseValue=_ref.baseValue,accessor=_ref.accessor,accessor0=_ref.accessor0;return{domain:domain,range:range,type:type,distance:distance,attr:attr,baseValue:baseValue,isValue:false,accessor:accessor,accessor0:accessor0}}function _collectScaleObjectFromProps(props,attr){var value=props[attr],fallbackValue=props["_"+attr+"Value"],range=props[attr+"Range"],_props$=props[attr+"Distance"],distance=_props$===undefined?0:_props$,baseValue=props[attr+"BaseValue"],_props$2=props[attr+"Type"],type=_props$2===undefined?LINEAR_SCALE_TYPE:_props$2,noFallBack=props[attr+"NoFallBack"],_props$3=props["get"+toTitleCase(attr)],accessor=_props$3===undefined?function(d){return d[attr]}:_props$3,_props$4=props["get"+toTitleCase(attr)+"0"],accessor0=_props$4===undefined?function(d){return d[attr+"0"]}:_props$4;var domain=props[attr+"Domain"];if(!noFallBack&&typeof value!=="undefined"){return _createScaleObjectForValue(attr,value,props[attr+"Type"],accessor,accessor0)}if(typeof baseValue!=="undefined"){domain=(0,_dataUtils.addValueToArray)(domain,baseValue)}if(!range||!domain||!domain.length){return _createScaleObjectForValue(attr,fallbackValue,props[attr+"Type"],accessor,accessor0)}return _createScaleObjectForFunction({domain:domain,range:range,type:type,distance:distance,attr:attr,baseValue:baseValue,accessor:accessor,accessor0:accessor0})}function _computeLeftDomainAdjustment(values){if(values.length>1){return(values[1]-values[0])/2}if(values.length===1){return values[0]-.5}return 0}function _computeRightDomainAdjustment(values){if(values.length>1){return(values[values.length-1]-values[values.length-2])/2}if(values.length===1){return values[0]-.5}return 0}function _computeScaleDistance(values,domain,bestDistIndex,scaleFn){if(values.length>1){var i=Math.max(bestDistIndex,1);return Math.abs(scaleFn(values[i])-scaleFn(values[i-1]))}if(values.length===1){return Math.abs(scaleFn(domain[1])-scaleFn(domain[0]))}return 0}function _normalizeValues(data,values,accessor0,type){if(type===TIME_SCALE_TYPE&&values.length===1){var attr0=accessor0(data[0]);return[attr0].concat(_toConsumableArray(values))}return values}function _getScaleDistanceAndAdjustedDomain(data,scaleObject){var domain=scaleObject.domain,type=scaleObject.type,accessor=scaleObject.accessor,accessor0=scaleObject.accessor0;var uniqueValues=(0,_dataUtils.getUniquePropertyValues)(data,accessor);var values=_normalizeValues(data,uniqueValues,accessor0,type);var index=_getSmallestDistanceIndex(values,scaleObject);var adjustedDomain=[].concat(domain);adjustedDomain[0]-=_computeLeftDomainAdjustment(values);adjustedDomain[domain.length-1]+=_computeRightDomainAdjustment(values);if(type===LOG_SCALE_TYPE&&domain[0]<=0){adjustedDomain[0]=Math.min(domain[1]/10,1)}var adjustedScaleFn=getScaleFnFromScaleObject(_extends({},scaleObject,{domain:adjustedDomain}));var distance=_computeScaleDistance(values,adjustedDomain,index,adjustedScaleFn);return{domain0:adjustedDomain[0],domainN:adjustedDomain[adjustedDomain.length-1],distance:distance}}function _isScaleAdjustmentPossible(props,scaleObject){var attr=scaleObject.attr;var _props$_adjustBy=props._adjustBy,adjustBy=_props$_adjustBy===undefined?[]:_props$_adjustBy,_props$_adjustWhat=props._adjustWhat,adjustWhat=_props$_adjustWhat===undefined?[]:_props$_adjustWhat;return adjustWhat.length&&adjustBy.length&&adjustBy.indexOf(attr)!==-1}function _adjustContinuousScale(props,scaleObject){var allSeriesData=props._allData,_props$_adjustWhat2=props._adjustWhat,adjustWhat=_props$_adjustWhat2===undefined?[]:_props$_adjustWhat2;var domainLength=scaleObject.domain.length;var domain=scaleObject.domain;var scaleDomain0=domain[0];var scaleDomainN=domain[domainLength-1];var scaleDistance=scaleObject.distance;allSeriesData.forEach((function(data,index){if(adjustWhat.indexOf(index)===-1){return}if(data&&data.length){var _getScaleDistanceAndA=_getScaleDistanceAndAdjustedDomain(data,scaleObject),domain0=_getScaleDistanceAndA.domain0,domainN=_getScaleDistanceAndA.domainN,distance=_getScaleDistanceAndA.distance;scaleDomain0=Math.min(scaleDomain0,domain0);scaleDomainN=Math.max(scaleDomainN,domainN);scaleDistance=Math.max(scaleDistance,distance)}}));scaleObject.domain=[scaleDomain0].concat(_toConsumableArray(domain.slice(1,-1)),[scaleDomainN]);scaleObject.distance=scaleDistance;return scaleObject}function _adjustCategoricalScale(scaleObject){var scaleFn=getScaleFnFromScaleObject(scaleObject);var domain=scaleObject.domain,range=scaleObject.range;if(domain.length>1){scaleObject.distance=Math.abs(scaleFn(domain[1])-scaleFn(domain[0]))}else{scaleObject.distance=Math.abs(range[1]-range[0])}return scaleObject}function getScaleObjectFromProps(props,attr){var scaleObject=_collectScaleObjectFromProps(props,attr);if(!scaleObject){return null}if(!_isScaleAdjustmentPossible(props,scaleObject)){return scaleObject}var type=scaleObject.type;if(type===ORDINAL_SCALE_TYPE||type===CATEGORY_SCALE_TYPE){return _adjustCategoricalScale(scaleObject)}return _adjustContinuousScale(props,scaleObject)}function getAttributeScale(props,attr){var scaleObject=getScaleObjectFromProps(props,attr);return getScaleFnFromScaleObject(scaleObject)}function _getAttrValue(d,accessor){return accessor(d.data?d.data:d)}function _isDefined(value){return typeof value!=="undefined"}function _padDomain(domain,padding){if(!domain){return domain}if(isNaN(parseFloat(domain[0]))||isNaN(parseFloat(domain[1]))){return domain}var _domain=_slicedToArray(domain,2),min=_domain[0],max=_domain[1];var domainPadding=(max-min)*(padding*.01);return[min-domainPadding,max+domainPadding]}function getAttributeFunctor(props,attr){var scaleObject=getScaleObjectFromProps(props,attr);if(scaleObject){var scaleFn=getScaleFnFromScaleObject(scaleObject);return function(d){return scaleFn(_getAttrValue(d,scaleObject.accessor))}}return null}function getAttr0Functor(props,attr){var scaleObject=getScaleObjectFromProps(props,attr);if(scaleObject){var attr0=attr+"0";var domain=scaleObject.domain;var _scaleObject$baseValu=scaleObject.baseValue,baseValue=_scaleObject$baseValu===undefined?domain[0]:_scaleObject$baseValu;var scaleFn=getScaleFnFromScaleObject(scaleObject);return function(d){var value=_getAttrValue(d,(function(el){return el[attr0]}));return scaleFn(_isDefined(value)?value:baseValue)}}return null}function getAttributeValue(props,attr){var scaleObject=getScaleObjectFromProps(props,attr);if(scaleObject){if(!scaleObject.isValue&&props["_"+attr+"Value"]===undefined){(0,_reactUtils.warning)("[React-vis] Cannot use data defined "+attr+" for this "+"series type. Using fallback value instead.")}return props["_"+attr+"Value"]||scaleObject.range[0]}return null}function getScalePropTypesByAttribute(attr){var _ref2;return _ref2={},_defineProperty(_ref2,"_"+attr+"Value",_propTypes2.default.any),_defineProperty(_ref2,attr+"Domain",_propTypes2.default.array),_defineProperty(_ref2,"get"+toTitleCase(attr),_propTypes2.default.func),_defineProperty(_ref2,"get"+toTitleCase(attr)+"0",_propTypes2.default.func),_defineProperty(_ref2,attr+"Range",_propTypes2.default.array),_defineProperty(_ref2,attr+"Type",_propTypes2.default.oneOf(Object.keys(SCALE_FUNCTIONS))),_defineProperty(_ref2,attr+"Distance",_propTypes2.default.number),_defineProperty(_ref2,attr+"BaseValue",_propTypes2.default.any),_ref2}function extractScalePropsFromProps(props,attributes){var result={};Object.keys(props).forEach((function(key){var attr=attributes.find((function(a){var isPlainSet=key.indexOf(a)===0;var isUnderscoreSet=key.indexOf("_"+a)===0;var usesGet=key.indexOf("get"+toTitleCase(a))===0;return isPlainSet||isUnderscoreSet||usesGet}));if(!attr){return}result[key]=props[key]}));return result}function getMissingScaleProps(props,data,attributes){var result={};attributes.forEach((function(attr){if(!props["get"+toTitleCase(attr)]){result["get"+toTitleCase(attr)]=function(d){return d[attr]}}if(!props["get"+toTitleCase(attr)+"0"]){result["get"+toTitleCase(attr)+"0"]=function(d){return d[attr+"0"]}}if(!props[attr+"Domain"]){result[attr+"Domain"]=getDomainByAccessor(data,props["get"+toTitleCase(attr)]||result["get"+toTitleCase(attr)],props["get"+toTitleCase(attr)+"0"]||result["get"+toTitleCase(attr)+"0"],props[attr+"Type"]);if(props[attr+"Padding"]){result[attr+"Domain"]=_padDomain(result[attr+"Domain"],props[attr+"Padding"])}}}));return result}function literalScale(defaultValue){function scale(d){if(d===undefined){return defaultValue}return d}function response(){return scale}scale.domain=response;scale.range=response;scale.unknown=response;scale.copy=response;return scale}function getFontColorFromBackground(background){if(background){return(0,_d3Color.hsl)(background).l>.57?"#222":"#fff"}return null}function getXYPlotValues(props,children){var XYPlotScales=XYPLOT_ATTR.reduce((function(prev,attr){var domain=props[attr+"Domain"],range=props[attr+"Range"],type=props[attr+"Type"];if(domain&&range&&type){return _extends({},prev,_defineProperty({},attr,SCALE_FUNCTIONS[type]().domain(domain).range(range)))}return prev}),{});return children.map((function(child){return XYPLOT_ATTR.reduce((function(prev,attr){if(child.props&&child.props[attr]!==undefined){var scaleInput=child.props[attr];var scale=XYPlotScales[attr];var fallbackValue=scale?scale(scaleInput):scaleInput;return _extends({},prev,_defineProperty({},"_"+attr+"Value",fallbackValue))}return prev}),{})}))}var OPTIONAL_SCALE_PROPS=["Padding"];var OPTIONAL_SCALE_PROPS_REGS=OPTIONAL_SCALE_PROPS.map((function(str){return new RegExp(str+"$","i")}));function getOptionalScaleProps(props){return Object.keys(props).reduce((function(acc,prop){var propIsNotOptional=OPTIONAL_SCALE_PROPS_REGS.every((function(reg){return!prop.match(reg)}));if(propIsNotOptional){return acc}acc[prop]=props[prop];return acc}),{})}exports.default={extractScalePropsFromProps:extractScalePropsFromProps,getAttributeScale:getAttributeScale,getAttributeFunctor:getAttributeFunctor,getAttr0Functor:getAttr0Functor,getAttributeValue:getAttributeValue,getDomainByAccessor:getDomainByAccessor,getFontColorFromBackground:getFontColorFromBackground,getMissingScaleProps:getMissingScaleProps,getOptionalScaleProps:getOptionalScaleProps,getScaleObjectFromProps:getScaleObjectFromProps,getScalePropTypesByAttribute:getScalePropTypesByAttribute,getXYPlotValues:getXYPlotValues,literalScale:literalScale}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=curry;function curried(f,length,acc){return function fn(){var combined=acc.concat(Array.prototype.slice.call(arguments));return combined.length>=length?f.apply(this,combined):curried(f,length,combined)}}function curry(f){return curried(f,f.length,[])}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var Graph=__webpack_require__(68).Graph;module.exports={addDummyNode:addDummyNode,simplify:simplify,asNonCompoundGraph:asNonCompoundGraph,successorWeights:successorWeights,predecessorWeights:predecessorWeights,intersectRect:intersectRect,buildLayerMatrix:buildLayerMatrix,normalizeRanks:normalizeRanks,removeEmptyRanks:removeEmptyRanks,addBorderNode:addBorderNode,maxRank:maxRank,partition:partition,time:time,notime:notime};function addDummyNode(g,type,attrs,name){var v;do{v=_.uniqueId(name)}while(g.hasNode(v));attrs.dummy=type;g.setNode(v,attrs);return v}function simplify(g){var simplified=(new Graph).setGraph(g.graph());_.forEach(g.nodes(),(function(v){simplified.setNode(v,g.node(v))}));_.forEach(g.edges(),(function(e){var simpleLabel=simplified.edge(e.v,e.w)||{weight:0,minlen:1};var label=g.edge(e);simplified.setEdge(e.v,e.w,{weight:simpleLabel.weight+label.weight,minlen:Math.max(simpleLabel.minlen,label.minlen)})}));return simplified}function asNonCompoundGraph(g){var simplified=new Graph({multigraph:g.isMultigraph()}).setGraph(g.graph());_.forEach(g.nodes(),(function(v){if(!g.children(v).length){simplified.setNode(v,g.node(v))}}));_.forEach(g.edges(),(function(e){simplified.setEdge(e,g.edge(e))}));return simplified}function successorWeights(g){var weightMap=_.map(g.nodes(),(function(v){var sucs={};_.forEach(g.outEdges(v),(function(e){sucs[e.w]=(sucs[e.w]||0)+g.edge(e).weight}));return sucs}));return _.zipObject(g.nodes(),weightMap)}function predecessorWeights(g){var weightMap=_.map(g.nodes(),(function(v){var preds={};_.forEach(g.inEdges(v),(function(e){preds[e.v]=(preds[e.v]||0)+g.edge(e).weight}));return preds}));return _.zipObject(g.nodes(),weightMap)}function intersectRect(rect,point){var x=rect.x;var y=rect.y;var dx=point.x-x;var dy=point.y-y;var w=rect.width/2;var h=rect.height/2;if(!dx&&!dy){throw new Error("Not possible to find intersection inside of the rectangle")}var sx,sy;if(Math.abs(dy)*w>Math.abs(dx)*h){if(dy<0){h=-h}sx=h*dx/dy;sy=h}else{if(dx<0){w=-w}sx=w;sy=w*dy/dx}return{x:x+sx,y:y+sy}}function buildLayerMatrix(g){var layering=_.map(_.range(maxRank(g)+1),(function(){return[]}));_.forEach(g.nodes(),(function(v){var node=g.node(v);var rank=node.rank;if(!_.isUndefined(rank)){layering[rank][node.order]=v}}));return layering}function normalizeRanks(g){var min=_.min(_.map(g.nodes(),(function(v){return g.node(v).rank})));_.forEach(g.nodes(),(function(v){var node=g.node(v);if(_.has(node,"rank")){node.rank-=min}}))}function removeEmptyRanks(g){var offset=_.min(_.map(g.nodes(),(function(v){return g.node(v).rank})));var layers=[];_.forEach(g.nodes(),(function(v){var rank=g.node(v).rank-offset;if(!layers[rank]){layers[rank]=[]}layers[rank].push(v)}));var delta=0;var nodeRankFactor=g.graph().nodeRankFactor;_.forEach(layers,(function(vs,i){if(_.isUndefined(vs)&&i%nodeRankFactor!==0){--delta}else if(delta){_.forEach(vs,(function(v){g.node(v).rank+=delta}))}}))}function addBorderNode(g,prefix,rank,order){var node={width:0,height:0};if(arguments.length>=4){node.rank=rank;node.order=order}return addDummyNode(g,"border",node,prefix)}function maxRank(g){return _.max(_.map(g.nodes(),(function(v){var rank=g.node(v).rank;if(!_.isUndefined(rank)){return rank}})))}function partition(collection,fn){var result={lhs:[],rhs:[]};_.forEach(collection,(function(value){if(fn(value)){result.lhs.push(value)}else{result.rhs.push(value)}}));return result}function time(name,fn){var start=_.now();try{return fn()}finally{console.log(name+" time: "+(_.now()-start)+"ms")}}function notime(name,fn){return fn()}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _rgb=__webpack_require__(156);var _rgb2=_interopRequireDefault(_rgb);var _rgba=__webpack_require__(110);var _rgba2=_interopRequireDefault(_rgba);var _hsl=__webpack_require__(217);var _hsl2=_interopRequireDefault(_hsl);var _hsla=__webpack_require__(219);var _hsla2=_interopRequireDefault(_hsla);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isRgb=function isRgb(color){return typeof color.red==="number"&&typeof color.green==="number"&&typeof color.blue==="number"&&(typeof color.alpha!=="number"||typeof color.alpha==="undefined")};var isRgba=function isRgba(color){return typeof color.red==="number"&&typeof color.green==="number"&&typeof color.blue==="number"&&typeof color.alpha==="number"};var isHsl=function isHsl(color){return typeof color.hue==="number"&&typeof color.saturation==="number"&&typeof color.lightness==="number"&&(typeof color.alpha!=="number"||typeof color.alpha==="undefined")};var isHsla=function isHsla(color){return typeof color.hue==="number"&&typeof color.saturation==="number"&&typeof color.lightness==="number"&&typeof color.alpha==="number"};var errMsg="Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.";function toColorString(color){if(typeof color!=="object")throw new Error(errMsg);if(isRgba(color))return(0,_rgba2.default)(color);if(isRgb(color))return(0,_rgb2.default)(color);if(isHsla(color))return(0,_hsla2.default)(color);if(isHsl(color))return(0,_hsl2.default)(color);throw new Error(errMsg)}exports.default=toColorString;module.exports=exports["default"]},function(module,exports,__webpack_require__){var lodash;if(true){try{lodash={clone:__webpack_require__(551),constant:__webpack_require__(175),each:__webpack_require__(246),filter:__webpack_require__(249),has:__webpack_require__(260),isArray:__webpack_require__(53),isEmpty:__webpack_require__(627),isFunction:__webpack_require__(111),isUndefined:__webpack_require__(261),keys:__webpack_require__(75),map:__webpack_require__(262),reduce:__webpack_require__(264),size:__webpack_require__(630),transform:__webpack_require__(636),union:__webpack_require__(637),values:__webpack_require__(269)}}catch(e){}}if(!lodash){lodash=window._}module.exports=lodash},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DIRECTION=exports.ORIENTATION=undefined;exports.getTicksTotalFromSize=getTicksTotalFromSize;exports.getTickValues=getTickValues;exports.generateFit=generateFit;exports.generatePoints=generatePoints;exports.getAxisAngle=getAxisAngle;var _d3Array=__webpack_require__(102);var _d3Scale=__webpack_require__(88);var ORIENTATION=exports.ORIENTATION={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",VERTICAL:"vertical",HORIZONTAL:"horizontal"};var DIRECTION=exports.DIRECTION={VERTICAL:"vertical",HORIZONTAL:"horizontal"};function getTicksTotalFromSize(size){if(size<700){if(size>300){return 10}return 5}return 20}function getTickValues(scale,tickTotal,tickValues){return!tickValues?scale.ticks?scale.ticks(tickTotal):scale.domain():tickValues}function generateFit(axisStart,axisEnd){if(axisStart.x===axisEnd.x){return{left:axisStart.y,right:axisEnd.y,slope:0,offset:axisStart.x}}var slope=(axisStart.y-axisEnd.y)/(axisStart.x-axisEnd.x);return{left:axisStart.x,right:axisEnd.x,slope:slope,offset:axisStart.y-slope*axisStart.x}}function generatePoints(_ref){var axisStart=_ref.axisStart,axisEnd=_ref.axisEnd,numberOfTicks=_ref.numberOfTicks,axisDomain=_ref.axisDomain;var _generateFit=generateFit(axisStart,axisEnd),left=_generateFit.left,right=_generateFit.right,slope=_generateFit.slope,offset=_generateFit.offset;var pointSlope=(right-left)/numberOfTicks;var axisScale=(0,_d3Scale.scaleLinear)().domain([left,right]).range(axisDomain);var slopeVertical=axisStart.x===axisEnd.x;return{slope:slopeVertical?Infinity:slope,points:(0,_d3Array.range)(left,right+pointSlope,pointSlope).map((function(val){if(slopeVertical){return{y:val,x:slope*val+offset,text:axisScale(val)}}return{x:val,y:slope*val+offset,text:axisScale(val)}}))}}function getAxisAngle(axisStart,axisEnd){if(axisStart.x===axisEnd.x){return axisEnd.y>axisStart.y?Math.PI/2:3*Math.PI/2}return Math.atan((axisEnd.y-axisStart.y)/(axisEnd.x-axisStart.x))}exports.default={DIRECTION:DIRECTION,ORIENTATION:ORIENTATION,getTicksTotalFromSize:getTicksTotalFromSize,getTickValues:getTickValues}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);var _rgbToHsl=__webpack_require__(394);var _rgbToHsl2=_interopRequireDefault(_rgbToHsl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function parseToHsl(color){return(0,_rgbToHsl2.default)((0,_parseToRgb2.default)(color))}exports.default=parseToHsl;module.exports=exports["default"]},function(module,exports,__webpack_require__){var graphlib;if(true){try{graphlib=__webpack_require__(549)}catch(e){}}if(!graphlib){graphlib=window.graphlib}module.exports=graphlib},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(229);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(111),isLength=__webpack_require__(169);function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}module.exports=isArrayLike},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(607),baseMatchesProperty=__webpack_require__(617),identity=__webpack_require__(87),isArray=__webpack_require__(53),property=__webpack_require__(624);function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}module.exports=baseIteratee},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _hslToRgb=__webpack_require__(155);var _hslToRgb2=_interopRequireDefault(_hslToRgb);var _nameToHex=__webpack_require__(393);var _nameToHex2=_interopRequireDefault(_nameToHex);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var hexRegex=/^#[a-fA-F0-9]{6}$/;var reducedHexRegex=/^#[a-fA-F0-9]{3}$/;var rgbRegex=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;var rgbaRegex=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/;var hslRegex=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/;var hslaRegex=/^hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/;function parseToRgb(color){if(typeof color!=="string"){throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.")}var normalizedColor=(0,_nameToHex2.default)(color);if(normalizedColor.match(hexRegex)){return{red:parseInt(""+normalizedColor[1]+normalizedColor[2],16),green:parseInt(""+normalizedColor[3]+normalizedColor[4],16),blue:parseInt(""+normalizedColor[5]+normalizedColor[6],16)}}if(normalizedColor.match(reducedHexRegex)){return{red:parseInt(""+normalizedColor[1]+normalizedColor[1],16),green:parseInt(""+normalizedColor[2]+normalizedColor[2],16),blue:parseInt(""+normalizedColor[3]+normalizedColor[3],16)}}var rgbMatched=rgbRegex.exec(normalizedColor);if(rgbMatched){return{red:parseInt(""+rgbMatched[1],10),green:parseInt(""+rgbMatched[2],10),blue:parseInt(""+rgbMatched[3],10)}}var rgbaMatched=rgbaRegex.exec(normalizedColor);if(rgbaMatched){return{red:parseInt(""+rgbaMatched[1],10),green:parseInt(""+rgbaMatched[2],10),blue:parseInt(""+rgbaMatched[3],10),alpha:parseFloat(""+rgbaMatched[4])}}var hslMatched=hslRegex.exec(normalizedColor);if(hslMatched){var hue=parseInt(""+hslMatched[1],10);var saturation=parseInt(""+hslMatched[2],10)/100;var lightness=parseInt(""+hslMatched[3],10)/100;var rgbColorString="rgb("+(0,_hslToRgb2.default)(hue,saturation,lightness)+")";var hslRgbMatched=rgbRegex.exec(rgbColorString);return{red:parseInt(""+hslRgbMatched[1],10),green:parseInt(""+hslRgbMatched[2],10),blue:parseInt(""+hslRgbMatched[3],10)}}var hslaMatched=hslaRegex.exec(normalizedColor);if(hslaMatched){var _hue=parseInt(""+hslaMatched[1],10);var _saturation=parseInt(""+hslaMatched[2],10)/100;var _lightness=parseInt(""+hslaMatched[3],10)/100;var _rgbColorString="rgb("+(0,_hslToRgb2.default)(_hue,_saturation,_lightness)+")";var _hslRgbMatched=rgbRegex.exec(_rgbColorString);return{red:parseInt(""+_hslRgbMatched[1],10),green:parseInt(""+_hslRgbMatched[2],10),blue:parseInt(""+_hslRgbMatched[3],10),alpha:parseFloat(""+hslaMatched[4])}}throw new Error("Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.")}exports.default=parseToRgb;module.exports=exports["default"]},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(232),baseKeys=__webpack_require__(171),isArrayLike=__webpack_require__(71);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=keys},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OPEN_TELEMETRY_AGENT_NAMES}));__webpack_require__.d(__webpack_exports__,"b",(function(){return RUM_AGENT_NAMES}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getFirstTransactionType}));__webpack_require__.d(__webpack_exports__,"d",(function(){return isJavaAgentName}));__webpack_require__.d(__webpack_exports__,"e",(function(){return isRumAgentName}));var _transaction_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(116);const OPEN_TELEMETRY_AGENT_NAMES=["otlp","opentelemetry/cpp","opentelemetry/dotnet","opentelemetry/erlang","opentelemetry/go","opentelemetry/java","opentelemetry/nodejs","opentelemetry/php","opentelemetry/python","opentelemetry/ruby","opentelemetry/webjs"];const AGENT_NAMES=["dotnet","go","java","js-base","nodejs","python","ruby","rum-js",...OPEN_TELEMETRY_AGENT_NAMES];const RUM_AGENT_NAMES=["js-base","rum-js","opentelemetry/webjs"];function getDefaultTransactionTypeForAgentName(agentName){return isRumAgentName(agentName)?_transaction_types__WEBPACK_IMPORTED_MODULE_0__["a"]:_transaction_types__WEBPACK_IMPORTED_MODULE_0__["b"]}function getFirstTransactionType(transactionTypes,agentName){var _transactionTypes$fin;const defaultTransactionType=getDefaultTransactionTypeForAgentName(agentName);return(_transactionTypes$fin=transactionTypes.find(type=>type===defaultTransactionType))!==null&&_transactionTypes$fin!==void 0?_transactionTypes$fin:transactionTypes[0]}function isJavaAgentName(agentName){return agentName==="java"}function isRumAgentName(agentName){return RUM_AGENT_NAMES.includes(agentName)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Projection}));let Projection;(function(Projection){Projection["services"]="services";Projection["transactionGroups"]="transactionGroups";Projection["traces"]="traces";Projection["transactions"]="transactions";Projection["metrics"]="metrics";Projection["errorGroups"]="errorGroups";Projection["serviceNodes"]="serviceNodes";Projection["rumOverview"]="rumOverview"})(Projection||(Projection={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useServiceTransactionTypes}));var react_router_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20);var react_router_dom__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_0__);var _useFetcher__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43);const INITIAL_DATA={transactionTypes:[]};function useServiceTransactionTypes(urlParams){const _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_0__["useParams"])(),serviceName=_useParams.serviceName;const start=urlParams.start,end=urlParams.end;const _useFetcher=Object(_useFetcher__WEBPACK_IMPORTED_MODULE_1__["b"])(callApmApi=>{if(serviceName&&start&&end){return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/transaction_types",params:{path:{serviceName:serviceName},query:{start:start,end:end}}})}},[serviceName,start,end]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?INITIAL_DATA:_useFetcher$data;return data.transactionTypes}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _deepEqual=__webpack_require__(760);var _deepEqual2=_interopRequireDefault(_deepEqual);var _scalesUtils=__webpack_require__(58);var _seriesUtils=__webpack_require__(57);var _chartUtils=__webpack_require__(90);var _reactUtils=__webpack_require__(103);var _animation=__webpack_require__(49);var _theme=__webpack_require__(56);var _canvasWrapper=__webpack_require__(785);var _canvasWrapper2=_interopRequireDefault(_canvasWrapper);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ATTRIBUTES=["x","y","radius","angle","color","fill","stroke","opacity","size"];var DEFAULT_MARGINS={left:40,right:10,top:10,bottom:40};function cleanseData(data){return data.map((function(series){if(!Array.isArray(series)){return series}return series.map((function(row){return _extends({},row,{parent:null})}))}))}function checkIfMixinsAreEqual(nextScaleMixins,scaleMixins,hasTreeStructure){var newMixins=_extends({},nextScaleMixins,{_allData:hasTreeStructure?cleanseData(nextScaleMixins._allData):nextScaleMixins._allData});var oldMixins=_extends({},scaleMixins,{_allData:hasTreeStructure?cleanseData(scaleMixins._allData):scaleMixins._allData});return(0,_deepEqual2.default)(newMixins,oldMixins)}var XYPlot=function(_React$Component){_inherits(XYPlot,_React$Component);_createClass(XYPlot,null,[{key:"propTypes",get:function get(){return{animation:_animation.AnimationPropType,className:_propTypes2.default.string,dontCheckIfEmpty:_propTypes2.default.bool,height:_propTypes2.default.number.isRequired,margin:_chartUtils.MarginPropType,onClick:_propTypes2.default.func,onDoubleClick:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onMouseEnter:_propTypes2.default.func,onMouseLeave:_propTypes2.default.func,onMouseMove:_propTypes2.default.func,onWheel:_propTypes2.default.func,stackBy:_propTypes2.default.oneOf(ATTRIBUTES),style:_propTypes2.default.object,width:_propTypes2.default.number.isRequired}}},{key:"defaultProps",get:function get(){return{className:""}}}]);function XYPlot(props){_classCallCheck(this,XYPlot);var _this=_possibleConstructorReturn(this,(XYPlot.__proto__||Object.getPrototypeOf(XYPlot)).call(this,props));_this._clickHandler=_this._clickHandler.bind(_this);_this._doubleClickHandler=_this._doubleClickHandler.bind(_this);_this._mouseDownHandler=_this._mouseDownHandler.bind(_this);_this._mouseLeaveHandler=_this._mouseLeaveHandler.bind(_this);_this._mouseEnterHandler=_this._mouseEnterHandler.bind(_this);_this._mouseMoveHandler=_this._mouseMoveHandler.bind(_this);_this._wheelHandler=_this._wheelHandler.bind(_this);var stackBy=props.stackBy;var children=(0,_seriesUtils.getSeriesChildren)(props.children);var data=(0,_seriesUtils.getStackedData)(children,stackBy);_this.state={scaleMixins:_this._getScaleMixins(data,props),data:data};return _this}_createClass(XYPlot,[{key:"componentDidMount",value:function componentDidMount(){(0,_reactUtils.checkIfStyleSheetIsImported)()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var children=(0,_seriesUtils.getSeriesChildren)(nextProps.children);var nextData=(0,_seriesUtils.getStackedData)(children,nextProps.stackBy);var scaleMixins=this.state.scaleMixins;var nextScaleMixins=this._getScaleMixins(nextData,nextProps);if(!checkIfMixinsAreEqual(nextScaleMixins,scaleMixins,nextProps.hasTreeStructure)){this.setState({scaleMixins:nextScaleMixins,data:nextData})}}},{key:"_clickHandler",value:function _clickHandler(event){var onClick=this.props.onClick;if(onClick){onClick(event)}}},{key:"_doubleClickHandler",value:function _doubleClickHandler(event){var onDoubleClick=this.props.onDoubleClick;if(onDoubleClick){onDoubleClick(event)}}},{key:"_mouseDownHandler",value:function _mouseDownHandler(event){var _this2=this;var _props=this.props,onMouseDown=_props.onMouseDown,children=_props.children;if(onMouseDown){onMouseDown(event)}var seriesChildren=(0,_seriesUtils.getSeriesChildren)(children);seriesChildren.forEach((function(child,index){var component=_this2.refs["series"+index];if(component&&component.onParentMouseDown){component.onParentMouseDown(event)}}))}},{key:"_mouseMoveHandler",value:function _mouseMoveHandler(event){var _this3=this;var _props2=this.props,onMouseMove=_props2.onMouseMove,children=_props2.children;if(onMouseMove){onMouseMove(event)}var seriesChildren=(0,_seriesUtils.getSeriesChildren)(children);seriesChildren.forEach((function(child,index){var component=_this3.refs["series"+index];if(component&&component.onParentMouseMove){component.onParentMouseMove(event)}}))}},{key:"_mouseLeaveHandler",value:function _mouseLeaveHandler(event){var onMouseLeave=this.props.onMouseLeave;if(onMouseLeave){onMouseLeave({event:event})}}},{key:"_mouseEnterHandler",value:function _mouseEnterHandler(event){var onMouseEnter=this.props.onMouseEnter;if(onMouseEnter){onMouseEnter({event:event})}}},{key:"_wheelHandler",value:function _wheelHandler(event){var onWheel=this.props.onWheel;if(onWheel){onWheel(event)}}},{key:"_getDefaultScaleProps",value:function _getDefaultScaleProps(props){var _getInnerDimensions=(0,_chartUtils.getInnerDimensions)(props,DEFAULT_MARGINS),innerWidth=_getInnerDimensions.innerWidth,innerHeight=_getInnerDimensions.innerHeight;var colorRanges=["color","fill","stroke"].reduce((function(acc,attr){var range=props[attr+"Type"]==="category"?_theme.EXTENDED_DISCRETE_COLOR_RANGE:_theme.CONTINUOUS_COLOR_RANGE;return _extends({},acc,_defineProperty({},attr+"Range",range))}),{});return _extends({xRange:[0,innerWidth],yRange:[innerHeight,0]},colorRanges,{opacityType:_theme.OPACITY_TYPE,sizeRange:_theme.SIZE_RANGE})}},{key:"_getScaleMixins",value:function _getScaleMixins(data,props){var _ref;var filteredData=data.filter((function(d){return d}));var allData=(_ref=[]).concat.apply(_ref,_toConsumableArray(filteredData));var defaultScaleProps=this._getDefaultScaleProps(props);var optionalScaleProps=(0,_scalesUtils.getOptionalScaleProps)(props);var userScaleProps=(0,_scalesUtils.extractScalePropsFromProps)(props,ATTRIBUTES);var missingScaleProps=(0,_scalesUtils.getMissingScaleProps)(_extends({},defaultScaleProps,optionalScaleProps,userScaleProps),allData,ATTRIBUTES);var children=(0,_seriesUtils.getSeriesChildren)(props.children);var zeroBaseProps={};var adjustBy=new Set;var adjustWhat=new Set;children.forEach((function(child,index){if(!child||!data[index]){return}ATTRIBUTES.forEach((function(attr){var _child$type$getParent=child.type.getParentConfig(attr,child.props),isDomainAdjustmentNeeded=_child$type$getParent.isDomainAdjustmentNeeded,zeroBaseValue=_child$type$getParent.zeroBaseValue;if(isDomainAdjustmentNeeded){adjustBy.add(attr);adjustWhat.add(index)}if(zeroBaseValue){var specifiedDomain=props[attr+"Domain"];zeroBaseProps[attr+"BaseValue"]=specifiedDomain?specifiedDomain[0]:0}}))}));return _extends({},defaultScaleProps,zeroBaseProps,userScaleProps,missingScaleProps,{_allData:data,_adjustBy:Array.from(adjustBy),_adjustWhat:Array.from(adjustWhat),_stackBy:props.stackBy})}},{key:"_isPlotEmpty",value:function _isPlotEmpty(){var data=this.state.data;return!data||!data.length||!data.some((function(series){return series&&series.some((function(d){return d}))}))}},{key:"_getClonedChildComponents",value:function _getClonedChildComponents(){var props=this.props;var animation=this.props.animation;var _state=this.state,scaleMixins=_state.scaleMixins,data=_state.data;var dimensions=(0,_chartUtils.getInnerDimensions)(this.props,DEFAULT_MARGINS);var children=_react2.default.Children.toArray(this.props.children);var seriesProps=(0,_seriesUtils.getSeriesPropsFromChildren)(children);var XYPlotValues=(0,_scalesUtils.getXYPlotValues)(props,children);return children.map((function(child,index){var dataProps=null;if(seriesProps[index]){var seriesIndex=seriesProps[index].seriesIndex;dataProps={data:data[seriesIndex]}}return _react2.default.cloneElement(child,_extends({},dimensions,{animation:animation},seriesProps[index],scaleMixins,child.props,XYPlotValues[index],dataProps))}))}},{key:"renderCanvasComponents",value:function renderCanvasComponents(components,props){var componentsToRender=components.filter((function(c){return c&&!c.type.requiresSVG&&c.type.isCanvas}));if(componentsToRender.length===0){return null}var _componentsToRender$=componentsToRender[0].props,marginLeft=_componentsToRender$.marginLeft,marginTop=_componentsToRender$.marginTop,marginBottom=_componentsToRender$.marginBottom,marginRight=_componentsToRender$.marginRight,innerHeight=_componentsToRender$.innerHeight,innerWidth=_componentsToRender$.innerWidth;return _react2.default.createElement(_canvasWrapper2.default,{innerHeight:innerHeight,innerWidth:innerWidth,marginLeft:marginLeft,marginTop:marginTop,marginBottom:marginBottom,marginRight:marginRight},componentsToRender)}},{key:"render",value:function render(){var _props3=this.props,className=_props3.className,dontCheckIfEmpty=_props3.dontCheckIfEmpty,style=_props3.style,width=_props3.width,height=_props3.height;if(!dontCheckIfEmpty&&this._isPlotEmpty()){return _react2.default.createElement("div",{className:"rv-xy-plot "+className,style:_extends({width:width+"px",height:height+"px"},this.props.style)})}var components=this._getClonedChildComponents();return _react2.default.createElement("div",{style:{width:width+"px",height:height+"px"},className:"rv-xy-plot "+className},_react2.default.createElement("svg",{className:"rv-xy-plot__inner",width:width,height:height,style:style,onClick:this._clickHandler,onDoubleClick:this._doubleClickHandler,onMouseDown:this._mouseDownHandler,onMouseMove:this._mouseMoveHandler,onMouseLeave:this._mouseLeaveHandler,onMouseEnter:this._mouseEnterHandler,onWheel:this._wheelHandler},components.filter((function(c){return c&&c.type.requiresSVG}))),this.renderCanvasComponents(components,this.props),components.filter((function(c){return c&&!c.type.requiresSVG&&!c.type.isCanvas})))}}]);return XYPlot}(_react2.default.Component);XYPlot.displayName="XYPlot";exports.default=XYPlot},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var Either_1=__webpack_require__(92);var map=Either_1.either.map;var chain=Either_1.either.chain;var Type=function(){function Type(name,is,validate,encode){this.name=name;this.is=is;this.validate=validate;this.encode=encode;this.decode=this.decode.bind(this)}Type.prototype.pipe=function(ab,name){var _this=this;if(name===void 0){name="pipe("+this.name+", "+ab.name+")"}return new Type(name,ab.is,(function(i,c){return chain(_this.validate(i,c),(function(a){return ab.validate(a,c)}))}),this.encode===exports.identity&&ab.encode===exports.identity?exports.identity:function(b){return _this.encode(ab.encode(b))})};Type.prototype.asDecoder=function(){return this};Type.prototype.asEncoder=function(){return this};Type.prototype.decode=function(i){return this.validate(i,[{key:"",type:this,actual:i}])};return Type}();exports.Type=Type;exports.identity=function(a){return a};exports.getFunctionName=function(f){return f.displayName||f.name||"<function"+f.length+">"};exports.getContextEntry=function(key,decoder){return{key:key,type:decoder}};exports.appendContext=function(c,key,decoder,actual){var len=c.length;var r=Array(len+1);for(var i=0;i<len;i++){r[i]=c[i]}r[len]={key:key,type:decoder,actual:actual};return r};exports.failures=Either_1.left;exports.failure=function(value,context,message){return exports.failures([{value:value,context:context,message:message}])};exports.success=Either_1.right;var pushAll=function(xs,ys){var l=ys.length;for(var i=0;i<l;i++){xs.push(ys[i])}};var getIsCodec=function(tag){return function(codec){return codec._tag===tag}};var isAnyCodec=getIsCodec("AnyType");var isInterfaceCodec=getIsCodec("InterfaceType");var isPartialCodec=getIsCodec("PartialType");var NullType=function(_super){__extends(NullType,_super);function NullType(){var _this=_super.call(this,"null",(function(u){return u===null}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="NullType";return _this}return NullType}(Type);exports.NullType=NullType;exports.nullType=new NullType;exports.null=exports.nullType;var UndefinedType=function(_super){__extends(UndefinedType,_super);function UndefinedType(){var _this=_super.call(this,"undefined",(function(u){return u===void 0}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="UndefinedType";return _this}return UndefinedType}(Type);exports.UndefinedType=UndefinedType;var undefinedType=new UndefinedType;exports.undefined=undefinedType;var VoidType=function(_super){__extends(VoidType,_super);function VoidType(){var _this=_super.call(this,"void",undefinedType.is,undefinedType.validate,exports.identity)||this;_this._tag="VoidType";return _this}return VoidType}(Type);exports.VoidType=VoidType;exports.voidType=new VoidType;exports.void=exports.voidType;var UnknownType=function(_super){__extends(UnknownType,_super);function UnknownType(){var _this=_super.call(this,"unknown",(function(_){return true}),exports.success,exports.identity)||this;_this._tag="UnknownType";return _this}return UnknownType}(Type);exports.UnknownType=UnknownType;exports.unknown=new UnknownType;var StringType=function(_super){__extends(StringType,_super);function StringType(){var _this=_super.call(this,"string",(function(u){return typeof u==="string"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="StringType";return _this}return StringType}(Type);exports.StringType=StringType;exports.string=new StringType;var NumberType=function(_super){__extends(NumberType,_super);function NumberType(){var _this=_super.call(this,"number",(function(u){return typeof u==="number"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="NumberType";return _this}return NumberType}(Type);exports.NumberType=NumberType;exports.number=new NumberType;var BooleanType=function(_super){__extends(BooleanType,_super);function BooleanType(){var _this=_super.call(this,"boolean",(function(u){return typeof u==="boolean"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="BooleanType";return _this}return BooleanType}(Type);exports.BooleanType=BooleanType;exports.boolean=new BooleanType;var AnyArrayType=function(_super){__extends(AnyArrayType,_super);function AnyArrayType(){var _this=_super.call(this,"UnknownArray",Array.isArray,(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="AnyArrayType";return _this}return AnyArrayType}(Type);exports.AnyArrayType=AnyArrayType;exports.UnknownArray=new AnyArrayType;exports.Array=exports.UnknownArray;var AnyDictionaryType=function(_super){__extends(AnyDictionaryType,_super);function AnyDictionaryType(){var _this=_super.call(this,"UnknownRecord",(function(u){return Object.prototype.toString.call(u)==="[object Object]"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="AnyDictionaryType";return _this}return AnyDictionaryType}(Type);exports.AnyDictionaryType=AnyDictionaryType;exports.UnknownRecord=new AnyDictionaryType;var FunctionType=function(_super){__extends(FunctionType,_super);function FunctionType(){var _this=_super.call(this,"Function",(function(u){return typeof u==="function"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="FunctionType";return _this}return FunctionType}(Type);exports.FunctionType=FunctionType;exports.Function=new FunctionType;var RefinementType=function(_super){__extends(RefinementType,_super);function RefinementType(name,is,validate,encode,type,predicate){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this.predicate=predicate;_this._tag="RefinementType";return _this}return RefinementType}(Type);exports.RefinementType=RefinementType;exports.brand=function(codec,predicate,name){return refinement(codec,predicate,name)};exports.Int=exports.brand(exports.number,(function(n){return Number.isInteger(n)}),"Int");var LiteralType=function(_super){__extends(LiteralType,_super);function LiteralType(name,is,validate,encode,value){var _this=_super.call(this,name,is,validate,encode)||this;_this.value=value;_this._tag="LiteralType";return _this}return LiteralType}(Type);exports.LiteralType=LiteralType;exports.literal=function(value,name){if(name===void 0){name=JSON.stringify(value)}var is=function(u){return u===value};return new LiteralType(name,is,(function(u,c){return is(u)?exports.success(value):exports.failure(u,c)}),exports.identity,value)};var KeyofType=function(_super){__extends(KeyofType,_super);function KeyofType(name,is,validate,encode,keys){var _this=_super.call(this,name,is,validate,encode)||this;_this.keys=keys;_this._tag="KeyofType";return _this}return KeyofType}(Type);exports.KeyofType=KeyofType;var hasOwnProperty=Object.prototype.hasOwnProperty;exports.keyof=function(keys,name){if(name===void 0){name=Object.keys(keys).map((function(k){return JSON.stringify(k)})).join(" | ")}var is=function(u){return exports.string.is(u)&&hasOwnProperty.call(keys,u)};return new KeyofType(name,is,(function(u,c){return is(u)?exports.success(u):exports.failure(u,c)}),exports.identity,keys)};var RecursiveType=function(_super){__extends(RecursiveType,_super);function RecursiveType(name,is,validate,encode,runDefinition){var _this=_super.call(this,name,is,validate,encode)||this;_this.runDefinition=runDefinition;_this._tag="RecursiveType";return _this}return RecursiveType}(Type);exports.RecursiveType=RecursiveType;Object.defineProperty(RecursiveType.prototype,"type",{get:function(){return this.runDefinition()},enumerable:true,configurable:true});exports.recursion=function(name,definition){var cache;var runDefinition=function(){if(!cache){cache=definition(Self);cache.name=name}return cache};var Self=new RecursiveType(name,(function(u){return runDefinition().is(u)}),(function(u,c){return runDefinition().validate(u,c)}),(function(a){return runDefinition().encode(a)}),runDefinition);return Self};var ArrayType=function(_super){__extends(ArrayType,_super);function ArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ArrayType";return _this}return ArrayType}(Type);exports.ArrayType=ArrayType;exports.array=function(codec,name){if(name===void 0){name="Array<"+codec.name+">"}return new ArrayType(name,(function(u){return exports.UnknownArray.is(u)&&u.every(codec.is)}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){var len=us.length;var as=us;var errors=[];for(var i=0;i<len;i++){var ui=us[i];var result=codec.validate(ui,exports.appendContext(c,String(i),codec,ui));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{var ai=result.right;if(ai!==ui){if(as===us){as=us.slice()}as[i]=ai}}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),codec.encode===exports.identity?exports.identity:function(a){return a.map(codec.encode)},codec)};var InterfaceType=function(_super){__extends(InterfaceType,_super);function InterfaceType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;_this.props=props;_this._tag="InterfaceType";return _this}return InterfaceType}(Type);exports.InterfaceType=InterfaceType;var getNameFromProps=function(props){return Object.keys(props).map((function(k){return k+": "+props[k].name})).join(", ")};var useIdentity=function(codecs){for(var i=0;i<codecs.length;i++){if(codecs[i].encode!==exports.identity){return false}}return true};var getInterfaceTypeName=function(props){return"{ "+getNameFromProps(props)+" }"};exports.type=function(props,name){if(name===void 0){name=getInterfaceTypeName(props)}var keys=Object.keys(props);var types=keys.map((function(key){return props[key]}));var len=keys.length;return new InterfaceType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i];if(!hasOwnProperty.call(u,k)||!types[i].is(u[k])){return false}}return true}return false}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){var a=o;var errors=[];for(var i=0;i<len;i++){var k=keys[i];if(!hasOwnProperty.call(a,k)){if(a===o){a=__assign({},o)}a[k]=a[k]}var ak=a[k];var type_1=types[i];var result=type_1.validate(ak,exports.appendContext(c,k,type_1,ak));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{var vak=result.right;if(vak!==ak){if(a===o){a=__assign({},o)}a[k]=vak}}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){var s=__assign({},a);for(var i=0;i<len;i++){var k=keys[i];var encode=types[i].encode;if(encode!==exports.identity){s[k]=encode(a[k])}}return s},props)};exports.interface=exports.type;var PartialType=function(_super){__extends(PartialType,_super);function PartialType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;_this.props=props;_this._tag="PartialType";return _this}return PartialType}(Type);exports.PartialType=PartialType;var getPartialTypeName=function(inner){return"Partial<"+inner+">"};exports.partial=function(props,name){if(name===void 0){name=getPartialTypeName(getInterfaceTypeName(props))}var keys=Object.keys(props);var types=keys.map((function(key){return props[key]}));var len=keys.length;return new PartialType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i];var uk=u[k];if(uk!==undefined&&!props[k].is(uk)){return false}}return true}return false}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){var a=o;var errors=[];for(var i=0;i<len;i++){var k=keys[i];var ak=a[k];var type_2=props[k];var result=type_2.validate(ak,exports.appendContext(c,k,type_2,ak));if(Either_1.isLeft(result)){if(ak!==undefined){pushAll(errors,result.left)}}else{var vak=result.right;if(vak!==ak){if(a===o){a=__assign({},o)}a[k]=vak}}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){var s=__assign({},a);for(var i=0;i<len;i++){var k=keys[i];var ak=a[k];if(ak!==undefined){s[k]=types[i].encode(ak)}}return s},props)};var DictionaryType=function(_super){__extends(DictionaryType,_super);function DictionaryType(name,is,validate,encode,domain,codomain){var _this=_super.call(this,name,is,validate,encode)||this;_this.domain=domain;_this.codomain=codomain;_this._tag="DictionaryType";return _this}return DictionaryType}(Type);exports.DictionaryType=DictionaryType;exports.record=function(domain,codomain,name){if(name===void 0){name="{ [K in "+domain.name+"]: "+codomain.name+" }"}return new DictionaryType(name,(function(u){if(exports.UnknownRecord.is(u)){return Object.keys(u).every((function(k){return domain.is(k)&&codomain.is(u[k])}))}return isAnyCodec(codomain)&&Array.isArray(u)}),(function(u,c){if(exports.UnknownRecord.is(u)){var a={};var errors=[];var keys=Object.keys(u);var len=keys.length;var changed=false;for(var i=0;i<len;i++){var k=keys[i];var ok=u[k];var domainResult=domain.validate(k,exports.appendContext(c,k,domain,k));if(Either_1.isLeft(domainResult)){pushAll(errors,domainResult.left)}else{var vk=domainResult.right;changed=changed||vk!==k;k=vk;var codomainResult=codomain.validate(ok,exports.appendContext(c,k,codomain,ok));if(Either_1.isLeft(codomainResult)){pushAll(errors,codomainResult.left)}else{var vok=codomainResult.right;changed=changed||vok!==ok;a[k]=vok}}}return errors.length>0?exports.failures(errors):exports.success(changed?a:u)}if(isAnyCodec(codomain)&&Array.isArray(u)){return exports.success(u)}return exports.failure(u,c)}),domain.encode===exports.identity&&codomain.encode===exports.identity?exports.identity:function(a){var s={};var keys=Object.keys(a);var len=keys.length;for(var i=0;i<len;i++){var k=keys[i];s[String(domain.encode(k))]=codomain.encode(a[k])}return s},domain,codomain)};var UnionType=function(_super){__extends(UnionType,_super);function UnionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;_this.types=types;_this._tag="UnionType";return _this}return UnionType}(Type);exports.UnionType=UnionType;var getUnionName=function(codecs){return"("+codecs.map((function(type){return type.name})).join(" | ")+")"};exports.union=function(codecs,name){if(name===void 0){name=getUnionName(codecs)}var index=getIndex(codecs);if(index!==undefined&&codecs.length>0){var tag_1=index[0],groups_1=index[1];var len_1=groups_1.length;var find_1=function(value){for(var i=0;i<len_1;i++){if(groups_1[i].indexOf(value)!==-1){return i}}return undefined};return new TaggedUnionType(name,(function(u){if(exports.UnknownRecord.is(u)){var i=find_1(u[tag_1]);return i!==undefined?codecs[i].is(u):false}return false}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(r){var i=find_1(r[tag_1]);if(i===undefined){return exports.failure(u,c)}var codec=codecs[i];return codec.validate(r,exports.appendContext(c,String(i),codec,r))}))}),useIdentity(codecs)?exports.identity:function(a){var i=find_1(a[tag_1]);if(i===undefined){throw new Error("no codec found to encode value in union codec "+name)}else{return codecs[i].encode(a)}},codecs,tag_1)}else{return new UnionType(name,(function(u){return codecs.some((function(type){return type.is(u)}))}),(function(u,c){var errors=[];for(var i=0;i<codecs.length;i++){var codec=codecs[i];var result=codec.validate(u,exports.appendContext(c,String(i),codec,u));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{return exports.success(result.right)}}return exports.failures(errors)}),useIdentity(codecs)?exports.identity:function(a){for(var _i=0,codecs_1=codecs;_i<codecs_1.length;_i++){var codec=codecs_1[_i];if(codec.is(a)){return codec.encode(a)}}throw new Error("no codec found to encode value in union type "+name)},codecs)}};var IntersectionType=function(_super){__extends(IntersectionType,_super);function IntersectionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;_this.types=types;_this._tag="IntersectionType";return _this}return IntersectionType}(Type);exports.IntersectionType=IntersectionType;var mergeAll=function(base,us){var equal=true;var primitive=true;for(var _i=0,us_1=us;_i<us_1.length;_i++){var u=us_1[_i];if(u!==base){equal=false}if(exports.UnknownRecord.is(u)){primitive=false}}if(equal){return base}else if(primitive){return us[us.length-1]}var r={};for(var _a=0,us_2=us;_a<us_2.length;_a++){var u=us_2[_a];for(var k in u){if(u[k]!==base[k]||!r.hasOwnProperty(k)){r[k]=u[k]}}}return r};function intersection(codecs,name){if(name===void 0){name="("+codecs.map((function(type){return type.name})).join(" & ")+")"}var len=codecs.length;return new IntersectionType(name,(function(u){return codecs.every((function(type){return type.is(u)}))}),codecs.length===0?exports.success:function(u,c){var us=[];var errors=[];for(var i=0;i<len;i++){var codec=codecs[i];var result=codec.validate(u,exports.appendContext(c,String(i),codec,u));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{us.push(result.right)}}return errors.length>0?exports.failures(errors):exports.success(mergeAll(u,us))},codecs.length===0?exports.identity:function(a){return mergeAll(a,codecs.map((function(codec){return codec.encode(a)})))},codecs)}exports.intersection=intersection;var TupleType=function(_super){__extends(TupleType,_super);function TupleType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;_this.types=types;_this._tag="TupleType";return _this}return TupleType}(Type);exports.TupleType=TupleType;function tuple(codecs,name){if(name===void 0){name="["+codecs.map((function(type){return type.name})).join(", ")+"]"}var len=codecs.length;return new TupleType(name,(function(u){return exports.UnknownArray.is(u)&&u.length===len&&codecs.every((function(type,i){return type.is(u[i])}))}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){var as=us.length>len?us.slice(0,len):us;var errors=[];for(var i=0;i<len;i++){var a=us[i];var type_3=codecs[i];var result=type_3.validate(a,exports.appendContext(c,String(i),type_3,a));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{var va=result.right;if(va!==a){if(as===us){as=us.slice()}as[i]=va}}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),useIdentity(codecs)?exports.identity:function(a){return codecs.map((function(type,i){return type.encode(a[i])}))},codecs)}exports.tuple=tuple;var ReadonlyType=function(_super){__extends(ReadonlyType,_super);function ReadonlyType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ReadonlyType";return _this}return ReadonlyType}(Type);exports.ReadonlyType=ReadonlyType;exports.readonly=function(codec,name){if(name===void 0){name="Readonly<"+codec.name+">"}return new ReadonlyType(name,codec.is,(function(u,c){return map(codec.validate(u,c),(function(x){if(false){}return x}))}),codec.encode===exports.identity?exports.identity:codec.encode,codec)};var ReadonlyArrayType=function(_super){__extends(ReadonlyArrayType,_super);function ReadonlyArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ReadonlyArrayType";return _this}return ReadonlyArrayType}(Type);exports.ReadonlyArrayType=ReadonlyArrayType;exports.readonlyArray=function(codec,name){if(name===void 0){name="ReadonlyArray<"+codec.name+">"}var arrayType=exports.array(codec);return new ReadonlyArrayType(name,arrayType.is,(function(u,c){return map(arrayType.validate(u,c),(function(x){if(false){}return x}))}),arrayType.encode,codec)};exports.strict=function(props,name){return exports.exact(exports.type(props),name)};var TaggedUnionType=function(_super){__extends(TaggedUnionType,_super);function TaggedUnionType(name,is,validate,encode,codecs,tag){var _this=_super.call(this,name,is,validate,encode,codecs)||this;_this.tag=tag;return _this}return TaggedUnionType}(UnionType);exports.TaggedUnionType=TaggedUnionType;exports.taggedUnion=function(tag,codecs,name){if(name===void 0){name=getUnionName(codecs)}var U=exports.union(codecs,name);if(U instanceof TaggedUnionType){return U}else{console.warn("[io-ts] Cannot build a tagged union for "+name+", returning a de-optimized union");return new TaggedUnionType(name,U.is,U.validate,U.encode,codecs,tag)}};var ExactType=function(_super){__extends(ExactType,_super);function ExactType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ExactType";return _this}return ExactType}(Type);exports.ExactType=ExactType;var getProps=function(codec){switch(codec._tag){case"RefinementType":case"ReadonlyType":return getProps(codec.type);case"InterfaceType":case"StrictType":case"PartialType":return codec.props;case"IntersectionType":return codec.types.reduce((function(props,type){return Object.assign(props,getProps(type))}),{})}};var stripKeys=function(o,props){var keys=Object.getOwnPropertyNames(o);var shouldStrip=false;var r={};for(var i=0;i<keys.length;i++){var key=keys[i];if(!hasOwnProperty.call(props,key)){shouldStrip=true}else{r[key]=o[key]}}return shouldStrip?r:o};var getExactTypeName=function(codec){if(isInterfaceCodec(codec)){return"{| "+getNameFromProps(codec.props)+" |}"}else if(isPartialCodec(codec)){return getPartialTypeName("{| "+getNameFromProps(codec.props)+" |}")}return"Exact<"+codec.name+">"};exports.exact=function(codec,name){if(name===void 0){name=getExactTypeName(codec)}var props=getProps(codec);return new ExactType(name,codec.is,(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(){return map(codec.validate(u,c),(function(a){return stripKeys(a,props)}))}))}),(function(a){return codec.encode(stripKeys(a,props))}),codec)};exports.getValidationError=function(value,context){return{value:value,context:context}};exports.getDefaultContext=function(decoder){return[{key:"",type:decoder}]};var NeverType=function(_super){__extends(NeverType,_super);function NeverType(){var _this=_super.call(this,"never",(function(_){return false}),(function(u,c){return exports.failure(u,c)}),(function(){throw new Error("cannot encode never")}))||this;_this._tag="NeverType";return _this}return NeverType}(Type);exports.NeverType=NeverType;exports.never=new NeverType;var AnyType=function(_super){__extends(AnyType,_super);function AnyType(){var _this=_super.call(this,"any",(function(_){return true}),exports.success,exports.identity)||this;_this._tag="AnyType";return _this}return AnyType}(Type);exports.AnyType=AnyType;exports.any=new AnyType;exports.Dictionary=exports.UnknownRecord;var ObjectType=function(_super){__extends(ObjectType,_super);function ObjectType(){var _this=_super.call(this,"object",(function(u){return u!==null&&typeof u==="object"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="ObjectType";return _this}return ObjectType}(Type);exports.ObjectType=ObjectType;exports.object=new ObjectType;function refinement(codec,predicate,name){if(name===void 0){name="("+codec.name+" | "+exports.getFunctionName(predicate)+")"}return new RefinementType(name,(function(u){return codec.is(u)&&predicate(u)}),(function(i,c){return chain(codec.validate(i,c),(function(a){return predicate(a)?exports.success(a):exports.failure(a,c)}))}),codec.encode,codec,predicate)}exports.refinement=refinement;exports.Integer=refinement(exports.number,Number.isInteger,"Integer");exports.dictionary=exports.record;var StrictType=function(_super){__extends(StrictType,_super);function StrictType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;_this.props=props;_this._tag="StrictType";return _this}return StrictType}(Type);exports.StrictType=StrictType;function clean(codec){return codec}exports.clean=clean;function alias(codec){return function(){return codec}}exports.alias=alias;var isNonEmpty=function(as){return as.length>0};exports.emptyTags={};function intersect(a,b){var r=[];for(var _i=0,a_1=a;_i<a_1.length;_i++){var v=a_1[_i];if(b.indexOf(v)!==-1){r.push(v)}}return r}function mergeTags(a,b){if(a===exports.emptyTags){return b}if(b===exports.emptyTags){return a}var r=Object.assign({},a);for(var k in b){if(a.hasOwnProperty(k)){var intersection_1=intersect(a[k],b[k]);if(isNonEmpty(intersection_1)){r[k]=intersection_1}else{r=exports.emptyTags;break}}else{r[k]=b[k]}}return r}function intersectTags(a,b){if(a===exports.emptyTags||b===exports.emptyTags){return exports.emptyTags}var r=exports.emptyTags;for(var k in a){if(b.hasOwnProperty(k)){var intersection_2=intersect(a[k],b[k]);if(intersection_2.length===0){if(r===exports.emptyTags){r={}}r[k]=a[k].concat(b[k])}}}return r}function isLiteralC(codec){return codec._tag==="LiteralType"}function isTypeC(codec){return codec._tag==="InterfaceType"}function isStrictC(codec){return codec._tag==="StrictType"}function isExactC(codec){return codec._tag==="ExactType"}function isRefinementC(codec){return codec._tag==="RefinementType"}function isIntersectionC(codec){return codec._tag==="IntersectionType"}function isUnionC(codec){return codec._tag==="UnionType"}function isRecursiveC(codec){return codec._tag==="RecursiveType"}var lazyCodecs=[];function getTags(codec){if(lazyCodecs.indexOf(codec)!==-1){return exports.emptyTags}if(isTypeC(codec)||isStrictC(codec)){var index=exports.emptyTags;for(var k in codec.props){var prop=codec.props[k];if(isLiteralC(prop)){if(index===exports.emptyTags){index={}}index[k]=[prop.value]}}return index}else if(isExactC(codec)||isRefinementC(codec)){return getTags(codec.type)}else if(isIntersectionC(codec)){return codec.types.reduce((function(tags,codec){return mergeTags(tags,getTags(codec))}),exports.emptyTags)}else if(isUnionC(codec)){return codec.types.slice(1).reduce((function(tags,codec){return intersectTags(tags,getTags(codec))}),getTags(codec.types[0]))}else if(isRecursiveC(codec)){lazyCodecs.push(codec);var tags=getTags(codec.type);lazyCodecs.pop();return tags}return exports.emptyTags}exports.getTags=getTags;function getIndex(codecs){var tags=getTags(codecs[0]);var keys=Object.keys(tags);var len=codecs.length;var _loop_1=function(k){var all=tags[k].slice();var index=[tags[k]];for(var i=1;i<len;i++){var codec=codecs[i];var ctags=getTags(codec);var values=ctags[k];if(values===undefined){return"continue-keys"}else{if(values.some((function(v){return all.indexOf(v)!==-1}))){return"continue-keys"}else{all.push.apply(all,values);index.push(values)}}}return{value:[k,index]}};keys:for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var k=keys_1[_i];var state_1=_loop_1(k);if(typeof state_1==="object")return state_1.value;switch(state_1){case"continue-keys":continue keys}}return undefined}exports.getIndex=getIndex},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LocalUIFilters}));var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(18);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);var external_kbnSharedDeps_StyledComponents_=__webpack_require__(19);var external_kbnSharedDeps_StyledComponents_default=__webpack_require__.n(external_kbnSharedDeps_StyledComponents_);var variables=__webpack_require__(7);const BadgeText=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"BadgeText",componentId:"xl6pw-0"})(["display:inline-block;",";vertical-align:middle;"],Object(variables["truncate"])(Object(variables["px"])(variables["unit"]*8)));const removeFilterLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.uifilter.badge.removeFilter",{defaultMessage:"Remove filter"});function FilterBadgeList({onRemove:onRemove,value:value,name:name}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{gutterSize:"s",id:"local-filter-values-".concat(name)},value.map(val=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:val,grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"hollow",onClick:()=>{onRemove(val)},onClickAriaLabel:removeFilterLabel,iconOnClick:()=>{onRemove(val)},iconOnClickAriaLabel:removeFilterLabel,iconType:"cross",iconSide:"right"},external_kbnSharedDeps_React_default.a.createElement(BadgeText,null,val)))))}const Button=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"]).attrs(()=>({contentProps:{className:"alignLeft"},color:"text"})).withConfig({displayName:"Button",componentId:"sc-1mi3o0o-0"})(["width:100%;.alignLeft{justify-content:flex-start;padding-left:0;}"]);function FilterTitleButton(props){return external_kbnSharedDeps_React_default.a.createElement(Button,props,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs",textTransform:"uppercase"},external_kbnSharedDeps_React_default.a.createElement("h4",null,props.children)))}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const Popover=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiPopover"]).attrs(()=>({anchorClassName:"anchor"})).withConfig({displayName:"Popover",componentId:"n9inx3-0"})([".anchor{display:block;}"]);const SelectContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"SelectContainer",componentId:"n9inx3-1"})(["width:",";"],Object(variables["px"])(variables["unit"]*16));const Counter=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Counter",componentId:"n9inx3-2"})(["border-radius:",";background:",";padding:0 ",";"],({theme:theme})=>theme.eui.euiBorderRadius,({theme:theme})=>theme.eui.euiColorLightShade,({theme:theme})=>theme.eui.paddingSizes.xs);const ApplyButton=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiButton"]).withConfig({displayName:"ApplyButton",componentId:"n9inx3-3"})(["align-self:flex-end;"]);const FlexItem=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"]).withConfig({displayName:"FlexItem",componentId:"n9inx3-4"})(["flex-basis:auto !important;"]);function Filter({name:name,title:title,options:options,onChange:onChange,value:value,showCount:showCount}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=_slicedToArray(_useState,2),showPopover=_useState2[0],setShowPopover=_useState2[1];const toggleShowPopover=()=>setShowPopover(show=>!show);const button=external_kbnSharedDeps_React_default.a.createElement(FilterTitleButton,{onClick:toggleShowPopover},title);const items=Object(external_kbnSharedDeps_React_["useMemo"])(()=>options.map(option=>({label:option.name,append:showCount?external_kbnSharedDeps_React_default.a.createElement(Counter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},option.count)):null,checked:value.includes(option.name)?"on":undefined})),[value,options,showCount]);const _useState3=Object(external_kbnSharedDeps_React_["useState"])(items),_useState4=_slicedToArray(_useState3,2),visibleOptions=_useState4[0],setVisibleOptions=_useState4[1];Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setVisibleOptions(items)},[items]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(Popover,{id:"local-filter-".concat(name),closePopover:toggleShowPopover,button:button,isOpen:showPopover,panelPaddingSize:"s",anchorPosition:"downLeft"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelectable"],{onChange:selectedOptions=>{setVisibleOptions(selectedOptions)},options:visibleOptions,searchable:true},(list,search)=>external_kbnSharedDeps_React_default.a.createElement(SelectContainer,{id:"local-filter-popover-".concat(name)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"none"},external_kbnSharedDeps_React_default.a.createElement(FlexItem,{grow:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs",textTransform:"uppercase"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.applyFilter",{defaultMessage:"Apply {title} filter",values:{title:title}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"none"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),search,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),list,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})),external_kbnSharedDeps_React_default.a.createElement(FlexItem,{grow:false},external_kbnSharedDeps_React_default.a.createElement(ApplyButton,{"data-cy":"applyFilter",color:"primary",fill:true,onClick:()=>{const newValue=visibleOptions.filter(option=>option.checked==="on").map(option=>option.label);setShowPopover(false);onChange(newValue)},size:"s"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.applyOptions",{defaultMessage:"Apply options"}))))))),value.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(FilterBadgeList,{name:name,onRemove:val=>{onChange(value.filter(v=>val!==v))},value:value}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"})):null)}var external_kbnSharedDeps_Lodash_=__webpack_require__(21);var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(20);var pick_keys=__webpack_require__(62);var config=__webpack_require__(199);var url_helpers=__webpack_require__(46);var helpers=__webpack_require__(121);var rest_callApi=__webpack_require__(120);var useApmPluginContext=__webpack_require__(45);function useCallApi(){const http=Object(useApmPluginContext["a"])().core.http;return Object(external_kbnSharedDeps_React_["useMemo"])(()=>options=>Object(rest_callApi["a"])(http,options),[http])}var useFetcher=__webpack_require__(43);var useUrlParams=__webpack_require__(42);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const getInitialData=filterNames=>filterNames.map(filterName=>_objectSpread({options:[]},config["b"][filterName]));function useLocalUIFilters({projection:projection,filterNames:filterNames,params:params}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useUrlParams=Object(useUrlParams["a"])(),uiFilters=_useUrlParams.uiFilters,urlParams=_useUrlParams.urlParams;const callApi=useCallApi();const values=Object(pick_keys["a"])(uiFilters,...filterNames);const setFilterValue=(name,value)=>{const search=Object(external_kbnSharedDeps_Lodash_["omit"])(Object(url_helpers["c"])(history.location.search),name);history.push(_objectSpread(_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(Object(helpers["d"])(_objectSpread(_objectSpread({},search),{},{[name]:value.length?value.join(","):undefined})))}))};const clearValues=()=>{const search=Object(external_kbnSharedDeps_Lodash_["omit"])(Object(url_helpers["c"])(history.location.search),filterNames);history.push(_objectSpread(_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(search)}))};const _useFetcher=Object(useFetcher["b"])(()=>callApi({method:"GET",pathname:"/api/apm/ui_filters/local_filters/".concat(projection),query:_objectSpread({uiFilters:JSON.stringify(uiFilters),start:urlParams.start,end:urlParams.end,filterNames:JSON.stringify(filterNames)},params)}),[callApi,projection,uiFilters,urlParams.start,urlParams.end,filterNames,params]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?getInitialData(filterNames):_useFetcher$data,status=_useFetcher.status;const filters=data.map(filter=>_objectSpread(_objectSpread({},filter),{},{value:values[filter.name]||[]}));return{filters:filters,status:status,setFilterValue:setFilterValue,clearValues:clearValues}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const ButtonWrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ButtonWrapper",componentId:"sc-18udm4a-0"})(["display:inline-block;"]);function LocalUIFilters({projection:projection,params:params,filterNames:filterNames,children:children,showCount:showCount=true}){const _useLocalUIFilters=useLocalUIFilters({filterNames:filterNames,projection:projection,params:params}),filters=_useLocalUIFilters.filters,setFilterValue=_useLocalUIFilters.setFilterValue,clearValues=_useLocalUIFilters.clearValues;const hasValues=filters.some(filter=>filter.value.length>0);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.localFiltersTitle",{defaultMessage:"Filters"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),children,filters.map(filter=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,{key:filter.name},external_kbnSharedDeps_React_default.a.createElement(Filter,_extends({},filter,{onChange:value=>{setFilterValue(filter.name,value)},showCount:showCount})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"none"}))),hasValues?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(ButtonWrapper,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"xs",iconType:"cross",flush:"left",onClick:clearValues,"data-cy":"clearFilters"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.clearFilters",{defaultMessage:"Clear filters"})))):null)}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _capitalizeString=__webpack_require__(212);var _capitalizeString2=_interopRequireDefault(_capitalizeString);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var positionMap=["Top","Right","Bottom","Left"];function generateProperty(property,position){if(!property)return position.toLowerCase();var splitProperty=property.split("-");if(splitProperty.length>1){splitProperty.splice(1,0,position);return splitProperty.reduce((function(acc,val){return""+acc+(0,_capitalizeString2.default)(val)}))}var joinedProperty=property.replace(/([a-z])([A-Z])/g,"$1"+position+"$2");return property===joinedProperty?""+property+position:joinedProperty}function generateStyles(property,valuesWithDefaults){var styles={};for(var i=0;i<valuesWithDefaults.length;i+=1){if(valuesWithDefaults[i]||valuesWithDefaults[i]===0){styles[generateProperty(property,positionMap[i])]=valuesWithDefaults[i]}}return styles}function directionalProperty(property){for(var _len=arguments.length,values=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){values[_key-1]=arguments[_key]}var firstValue=values[0],_values$=values[1],secondValue=_values$===undefined?firstValue:_values$,_values$2=values[2],thirdValue=_values$2===undefined?firstValue:_values$2,_values$3=values[3],fourthValue=_values$3===undefined?secondValue:_values$3;var valuesWithDefaults=[firstValue,secondValue,thirdValue,fourthValue];return generateStyles(property,valuesWithDefaults)}exports.default=directionalProperty;module.exports=exports["default"]},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(562),getValue=__webpack_require__(567);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(98),getRawTag=__webpack_require__(563),objectToString=__webpack_require__(564);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(232),baseKeysIn=__webpack_require__(587),isArrayLike=__webpack_require__(71);function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}module.exports=keysIn},function(module,exports){function identity(value){return value}module.exports=identity},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(102),__webpack_require__(183),__webpack_require__(184),__webpack_require__(143),__webpack_require__(295),__webpack_require__(772),__webpack_require__(89)):undefined})(this,(function(exports,d3Array,d3Collection,d3Interpolate,d3Format,d3Time,d3TimeFormat,d3Color){"use strict";var array=Array.prototype;var map$1=array.map;var slice=array.slice;var implicit={name:"implicit"};function ordinal(range$$1){var index=d3Collection.map(),domain=[],unknown=implicit;range$$1=range$$1==null?[]:slice.call(range$$1);function scale(d){var key=d+"",i=index.get(key);if(!i){if(unknown!==implicit)return unknown;index.set(key,i=domain.push(d))}return range$$1[(i-1)%range$$1.length]}scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=d3Collection.map();var i=-1,n=_.length,d,key;while(++i<n)if(!index.has(key=(d=_[i])+""))index.set(key,domain.push(d));return scale};scale.range=function(_){return arguments.length?(range$$1=slice.call(_),scale):range$$1.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return ordinal().domain(domain).range(range$$1).unknown(unknown)};return scale}function band(){var scale=ordinal().unknown(undefined),domain=scale.domain,ordinalRange=scale.range,range$$1=[0,1],step,bandwidth,round=false,paddingInner=0,paddingOuter=0,align=.5;delete scale.unknown;function rescale(){var n=domain().length,reverse=range$$1[1]<range$$1[0],start=range$$1[reverse-0],stop=range$$1[1-reverse];step=(stop-start)/Math.max(1,n-paddingInner+paddingOuter*2);if(round)step=Math.floor(step);start+=(stop-start-step*(n-paddingInner))*align;bandwidth=step*(1-paddingInner);if(round)start=Math.round(start),bandwidth=Math.round(bandwidth);var values=d3Array.range(n).map((function(i){return start+step*i}));return ordinalRange(reverse?values.reverse():values)}scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()};scale.range=function(_){return arguments.length?(range$$1=[+_[0],+_[1]],rescale()):range$$1.slice()};scale.rangeRound=function(_){return range$$1=[+_[0],+_[1]],round=true,rescale()};scale.bandwidth=function(){return bandwidth};scale.step=function(){return step};scale.round=function(_){return arguments.length?(round=!!_,rescale()):round};scale.padding=function(_){return arguments.length?(paddingInner=paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingInner};scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.max(0,Math.min(1,_)),rescale()):paddingInner};scale.paddingOuter=function(_){return arguments.length?(paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingOuter};scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align};scale.copy=function(){return band().domain(domain()).range(range$$1).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)};return rescale()}function pointish(scale){var copy=scale.copy;scale.padding=scale.paddingOuter;delete scale.paddingInner;delete scale.paddingOuter;scale.copy=function(){return pointish(copy())};return scale}function point(){return pointish(band().paddingInner(1))}var constant=function(x){return function(){return x}};var number=function(x){return+x};var unit=[0,1];function deinterpolateLinear(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:constant(b)}function deinterpolateClamp(deinterpolate){return function(a,b){var d=deinterpolate(a=+a,b=+b);return function(x){return x<=a?0:x>=b?1:d(x)}}}function reinterpolateClamp(reinterpolate){return function(a,b){var r=reinterpolate(a=+a,b=+b);return function(t){return t<=0?a:t>=1?b:r(t)}}}function bimap(domain,range$$1,deinterpolate,reinterpolate){var d0=domain[0],d1=domain[1],r0=range$$1[0],r1=range$$1[1];if(d1<d0)d0=deinterpolate(d1,d0),r0=reinterpolate(r1,r0);else d0=deinterpolate(d0,d1),r0=reinterpolate(r0,r1);return function(x){return r0(d0(x))}}function polymap(domain,range$$1,deinterpolate,reinterpolate){var j=Math.min(domain.length,range$$1.length)-1,d=new Array(j),r=new Array(j),i=-1;if(domain[j]<domain[0]){domain=domain.slice().reverse();range$$1=range$$1.slice().reverse()}while(++i<j){d[i]=deinterpolate(domain[i],domain[i+1]);r[i]=reinterpolate(range$$1[i],range$$1[i+1])}return function(x){var i=d3Array.bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp())}function continuous(deinterpolate,reinterpolate){var domain=unit,range$$1=unit,interpolate$$1=d3Interpolate.interpolate,clamp=false,piecewise,output,input;function rescale(){piecewise=Math.min(domain.length,range$$1.length)>2?polymap:bimap;output=input=null;return scale}function scale(x){return(output||(output=piecewise(domain,range$$1,clamp?deinterpolateClamp(deinterpolate):deinterpolate,interpolate$$1)))(+x)}scale.invert=function(y){return(input||(input=piecewise(range$$1,domain,deinterpolateLinear,clamp?reinterpolateClamp(reinterpolate):reinterpolate)))(+y)};scale.domain=function(_){return arguments.length?(domain=map$1.call(_,number),rescale()):domain.slice()};scale.range=function(_){return arguments.length?(range$$1=slice.call(_),rescale()):range$$1.slice()};scale.rangeRound=function(_){return range$$1=slice.call(_),interpolate$$1=d3Interpolate.interpolateRound,rescale()};scale.clamp=function(_){return arguments.length?(clamp=!!_,rescale()):clamp};scale.interpolate=function(_){return arguments.length?(interpolate$$1=_,rescale()):interpolate$$1};return rescale()}var tickFormat=function(domain,count,specifier){var start=domain[0],stop=domain[domain.length-1],step=d3Array.tickStep(start,stop,count==null?10:count),precision;specifier=d3Format.formatSpecifier(specifier==null?",f":specifier);switch(specifier.type){case"s":{var value=Math.max(Math.abs(start),Math.abs(stop));if(specifier.precision==null&&!isNaN(precision=d3Format.precisionPrefix(step,value)))specifier.precision=precision;return d3Format.formatPrefix(specifier,value)}case"":case"e":case"g":case"p":case"r":{if(specifier.precision==null&&!isNaN(precision=d3Format.precisionRound(step,Math.max(Math.abs(start),Math.abs(stop)))))specifier.precision=precision-(specifier.type==="e");break}case"f":case"%":{if(specifier.precision==null&&!isNaN(precision=d3Format.precisionFixed(step)))specifier.precision=precision-(specifier.type==="%")*2;break}}return d3Format.format(specifier)};function linearish(scale){var domain=scale.domain;scale.ticks=function(count){var d=domain();return d3Array.ticks(d[0],d[d.length-1],count==null?10:count)};scale.tickFormat=function(count,specifier){return tickFormat(domain(),count,specifier)};scale.nice=function(count){if(count==null)count=10;var d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],step;if(stop<start){step=start,start=stop,stop=step;step=i0,i0=i1,i1=step}step=d3Array.tickIncrement(start,stop,count);if(step>0){start=Math.floor(start/step)*step;stop=Math.ceil(stop/step)*step;step=d3Array.tickIncrement(start,stop,count)}else if(step<0){start=Math.ceil(start*step)/step;stop=Math.floor(stop*step)/step;step=d3Array.tickIncrement(start,stop,count)}if(step>0){d[i0]=Math.floor(start/step)*step;d[i1]=Math.ceil(stop/step)*step;domain(d)}else if(step<0){d[i0]=Math.ceil(start*step)/step;d[i1]=Math.floor(stop*step)/step;domain(d)}return scale};return scale}function linear(){var scale=continuous(deinterpolateLinear,d3Interpolate.interpolateNumber);scale.copy=function(){return copy(scale,linear())};return linearish(scale)}function identity(){var domain=[0,1];function scale(x){return+x}scale.invert=scale;scale.domain=scale.range=function(_){return arguments.length?(domain=map$1.call(_,number),scale):domain.slice()};scale.copy=function(){return identity().domain(domain)};return linearish(scale)}var nice=function(domain,interval){domain=domain.slice();var i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1],t;if(x1<x0){t=i0,i0=i1,i1=t;t=x0,x0=x1,x1=t}domain[i0]=interval.floor(x0);domain[i1]=interval.ceil(x1);return domain};function deinterpolate(a,b){return(b=Math.log(b/a))?function(x){return Math.log(x/a)/b}:constant(b)}function reinterpolate(a,b){return a<0?function(t){return-Math.pow(-b,t)*Math.pow(-a,1-t)}:function(t){return Math.pow(b,t)*Math.pow(a,1-t)}}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function powp(base){return base===10?pow10:base===Math.E?Math.exp:function(x){return Math.pow(base,x)}}function logp(base){return base===Math.E?Math.log:base===10&&Math.log10||base===2&&Math.log2||(base=Math.log(base),function(x){return Math.log(x)/base})}function reflect(f){return function(x){return-f(-x)}}function log(){var scale=continuous(deinterpolate,reinterpolate).domain([1,10]),domain=scale.domain,base=10,logs=logp(10),pows=powp(10);function rescale(){logs=logp(base),pows=powp(base);if(domain()[0]<0)logs=reflect(logs),pows=reflect(pows);return scale}scale.base=function(_){return arguments.length?(base=+_,rescale()):base};scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()};scale.ticks=function(count){var d=domain(),u=d[0],v=d[d.length-1],r;if(r=v<u)i=u,u=v,v=i;var i=logs(u),j=logs(v),p,k,t,n=count==null?10:+count,z=[];if(!(base%1)&&j-i<n){i=Math.round(i)-1,j=Math.round(j)+1;if(u>0)for(;i<j;++i){for(k=1,p=pows(i);k<base;++k){t=p*k;if(t<u)continue;if(t>v)break;z.push(t)}}else for(;i<j;++i){for(k=base-1,p=pows(i);k>=1;--k){t=p*k;if(t<u)continue;if(t>v)break;z.push(t)}}}else{z=d3Array.ticks(i,j,Math.min(j-i,n)).map(pows)}return r?z.reverse():z};scale.tickFormat=function(count,specifier){if(specifier==null)specifier=base===10?".0e":",";if(typeof specifier!=="function")specifier=d3Format.format(specifier);if(count===Infinity)return specifier;if(count==null)count=10;var k=Math.max(1,base*count/scale.ticks().length);return function(d){var i=d/pows(Math.round(logs(d)));if(i*base<base-.5)i*=base;return i<=k?specifier(d):""}};scale.nice=function(){return domain(nice(domain(),{floor:function(x){return pows(Math.floor(logs(x)))},ceil:function(x){return pows(Math.ceil(logs(x)))}}))};scale.copy=function(){return copy(scale,log().base(base))};return scale}function raise(x,exponent){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}function pow(){var exponent=1,scale=continuous(deinterpolate,reinterpolate),domain=scale.domain;function deinterpolate(a,b){return(b=raise(b,exponent)-(a=raise(a,exponent)))?function(x){return(raise(x,exponent)-a)/b}:constant(b)}function reinterpolate(a,b){b=raise(b,exponent)-(a=raise(a,exponent));return function(t){return raise(a+b*t,1/exponent)}}scale.exponent=function(_){return arguments.length?(exponent=+_,domain(domain())):exponent};scale.copy=function(){return copy(scale,pow().exponent(exponent))};return linearish(scale)}function sqrt(){return pow().exponent(.5)}function quantile$1(){var domain=[],range$$1=[],thresholds=[];function rescale(){var i=0,n=Math.max(1,range$$1.length);thresholds=new Array(n-1);while(++i<n)thresholds[i-1]=d3Array.quantile(domain,i/n);return scale}function scale(x){if(!isNaN(x=+x))return range$$1[d3Array.bisect(thresholds,x)]}scale.invertExtent=function(y){var i=range$$1.indexOf(y);return i<0?[NaN,NaN]:[i>0?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]};scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(var i=0,n=_.length,d;i<n;++i)if(d=_[i],d!=null&&!isNaN(d=+d))domain.push(d);domain.sort(d3Array.ascending);return rescale()};scale.range=function(_){return arguments.length?(range$$1=slice.call(_),rescale()):range$$1.slice()};scale.quantiles=function(){return thresholds.slice()};scale.copy=function(){return quantile$1().domain(domain).range(range$$1)};return scale}function quantize(){var x0=0,x1=1,n=1,domain=[.5],range$$1=[0,1];function scale(x){if(x<=x)return range$$1[d3Array.bisect(domain,x,0,n)]}function rescale(){var i=-1;domain=new Array(n);while(++i<n)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],rescale()):[x0,x1]};scale.range=function(_){return arguments.length?(n=(range$$1=slice.call(_)).length-1,rescale()):range$$1.slice()};scale.invertExtent=function(y){var i=range$$1.indexOf(y);return i<0?[NaN,NaN]:i<1?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]};scale.copy=function(){return quantize().domain([x0,x1]).range(range$$1)};return linearish(scale)}function threshold(){var domain=[.5],range$$1=[0,1],n=1;function scale(x){if(x<=x)return range$$1[d3Array.bisect(domain,x,0,n)]}scale.domain=function(_){return arguments.length?(domain=slice.call(_),n=Math.min(domain.length,range$$1.length-1),scale):domain.slice()};scale.range=function(_){return arguments.length?(range$$1=slice.call(_),n=Math.min(domain.length,range$$1.length-1),scale):range$$1.slice()};scale.invertExtent=function(y){var i=range$$1.indexOf(y);return[domain[i-1],domain[i]]};scale.copy=function(){return threshold().domain(domain).range(range$$1)};return scale}var durationSecond=1e3;var durationMinute=durationSecond*60;var durationHour=durationMinute*60;var durationDay=durationHour*24;var durationWeek=durationDay*7;var durationMonth=durationDay*30;var durationYear=durationDay*365;function date(t){return new Date(t)}function number$1(t){return t instanceof Date?+t:+new Date(+t)}function calendar(year,month,week,day,hour,minute,second,millisecond,format$$1){var scale=continuous(deinterpolateLinear,d3Interpolate.interpolateNumber),invert=scale.invert,domain=scale.domain;var formatMillisecond=format$$1(".%L"),formatSecond=format$$1(":%S"),formatMinute=format$$1("%I:%M"),formatHour=format$$1("%I %p"),formatDay=format$$1("%a %d"),formatWeek=format$$1("%b %d"),formatMonth=format$$1("%B"),formatYear=format$$1("%Y");var tickIntervals=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[minute,1,durationMinute],[minute,5,5*durationMinute],[minute,15,15*durationMinute],[minute,30,30*durationMinute],[hour,1,durationHour],[hour,3,3*durationHour],[hour,6,6*durationHour],[hour,12,12*durationHour],[day,1,durationDay],[day,2,2*durationDay],[week,1,durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}function tickInterval(interval,start,stop,step){if(interval==null)interval=10;if(typeof interval==="number"){var target=Math.abs(stop-start)/interval,i=d3Array.bisector((function(i){return i[2]})).right(tickIntervals,target);if(i===tickIntervals.length){step=d3Array.tickStep(start/durationYear,stop/durationYear,interval);interval=year}else if(i){i=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i];step=i[1];interval=i[0]}else{step=Math.max(d3Array.tickStep(start,stop,interval),1);interval=millisecond}}return step==null?interval:interval.every(step)}scale.invert=function(y){return new Date(invert(y))};scale.domain=function(_){return arguments.length?domain(map$1.call(_,number$1)):domain().map(date)};scale.ticks=function(interval,step){var d=domain(),t0=d[0],t1=d[d.length-1],r=t1<t0,t;if(r)t=t0,t0=t1,t1=t;t=tickInterval(interval,t0,t1,step);t=t?t.range(t0,t1+1):[];return r?t.reverse():t};scale.tickFormat=function(count,specifier){return specifier==null?tickFormat:format$$1(specifier)};scale.nice=function(interval,step){var d=domain();return(interval=tickInterval(interval,d[0],d[d.length-1],step))?domain(nice(d,interval)):scale};scale.copy=function(){return copy(scale,calendar(year,month,week,day,hour,minute,second,millisecond,format$$1))};return scale}var time=function(){return calendar(d3Time.timeYear,d3Time.timeMonth,d3Time.timeWeek,d3Time.timeDay,d3Time.timeHour,d3Time.timeMinute,d3Time.timeSecond,d3Time.timeMillisecond,d3TimeFormat.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])};var utcTime=function(){return calendar(d3Time.utcYear,d3Time.utcMonth,d3Time.utcWeek,d3Time.utcDay,d3Time.utcHour,d3Time.utcMinute,d3Time.utcSecond,d3Time.utcMillisecond,d3TimeFormat.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};var colors=function(s){return s.match(/.{6}/g).map((function(x){return"#"+x}))};var category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var category20b=colors("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");var category20c=colors("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var category20=colors("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var cubehelix$1=d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(300,.5,0),d3Color.cubehelix(-240,.5,1));var warm=d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(-100,.75,.35),d3Color.cubehelix(80,1.5,.8));var cool=d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(260,.75,.35),d3Color.cubehelix(80,1.5,.8));var rainbow=d3Color.cubehelix();var rainbow$1=function(t){if(t<0||t>1)t-=Math.floor(t);var ts=Math.abs(t-.5);rainbow.h=360*t-100;rainbow.s=1.5-1.5*ts;rainbow.l=.8-.9*ts;return rainbow+""};function ramp(range$$1){var n=range$$1.length;return function(t){return range$$1[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var viridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));var plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function sequential(interpolator){var x0=0,x1=1,clamp=false;function scale(x){var t=(x-x0)/(x1-x0);return interpolator(clamp?Math.max(0,Math.min(1,t)):t)}scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],scale):[x0,x1]};scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp};scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator};scale.copy=function(){return sequential(interpolator).domain([x0,x1]).clamp(clamp)};return linearish(scale)}exports.scaleBand=band;exports.scalePoint=point;exports.scaleIdentity=identity;exports.scaleLinear=linear;exports.scaleLog=log;exports.scaleOrdinal=ordinal;exports.scaleImplicit=implicit;exports.scalePow=pow;exports.scaleSqrt=sqrt;exports.scaleQuantile=quantile$1;exports.scaleQuantize=quantize;exports.scaleThreshold=threshold;exports.scaleTime=time;exports.scaleUtc=utcTime;exports.schemeCategory10=category10;exports.schemeCategory20b=category20b;exports.schemeCategory20c=category20c;exports.schemeCategory20=category20;exports.interpolateCubehelixDefault=cubehelix$1;exports.interpolateRainbow=rainbow$1;exports.interpolateWarm=warm;exports.interpolateCool=cool;exports.interpolateViridis=viridis;exports.interpolateMagma=magma;exports.interpolateInferno=inferno;exports.interpolatePlasma=plasma;exports.scaleSequential=sequential;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype;prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var darker=.7;var brighter=1/darker;var reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$");var named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;format=(format+"").trim().toLowerCase();return(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),l===6?rgbn(m):l===3?new Rgb(m>>8&15|m>>4&240,m>>4&15|m&240,(m&15)<<4|m&15,1):l===8?rgba(m>>24&255,m>>16&255,m>>8&255,(m&255)/255):l===4?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|m&240,((m&15)<<4|m&15)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(m[1]*255/100,m[2]*255/100,m[3]*255/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(m[1]*255/100,m[2]*255/100,m[3]*255/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):format==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,n&255,1)}function rgba(r,g,b,a){if(a<=0)r=g=b=NaN;return new Rgb(r,g,b,a)}function rgbConvert(o){if(!(o instanceof Color))o=color(o);if(!o)return new Rgb;o=o.rgb();return new Rgb(o.r,o.g,o.b,o.opacity)}function rgb(r,g,b,opacity){return arguments.length===1?rgbConvert(r):new Rgb(r,g,b,opacity==null?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r;this.g=+g;this.b=+b;this.opacity=+opacity}define(Rgb,rgb,extend(Color,{brighter:function(k){k=k==null?brighter:Math.pow(brighter,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){k=k==null?darker:Math.pow(darker,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&(-.5<=this.g&&this.g<255.5)&&(-.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(a===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}function hex(value){value=Math.max(0,Math.min(255,Math.round(value)||0));return(value<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){if(a<=0)h=s=l=NaN;else if(l<=0||l>=1)h=s=NaN;else if(s<=0)h=NaN;return new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(!(o instanceof Color))o=color(o);if(!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var r=o.r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;if(s){if(r===max)h=(g-b)/s+(g<b)*6;else if(g===max)h=(b-r)/s+2;else h=(r-g)/s+4;s/=l<.5?max+min:2-max-min;h*=60}else{s=l>0&&l<1?0:h}return new Hsl(h,s,l,o.opacity)}function hsl(h,s,l,opacity){return arguments.length===1?hslConvert(h):new Hsl(h,s,l,opacity==null?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h;this.s=+s;this.l=+l;this.opacity=+opacity}define(Hsl,hsl,extend(Color,{brighter:function(k){k=k==null?brighter:Math.pow(brighter,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k=k==null?darker:Math.pow(darker,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+(this.h<0)*360,s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(a===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(a===1?")":", "+a+")")}}));function hsl2rgb(h,m1,m2){return(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)*255}var deg2rad=Math.PI/180;var rad2deg=180/Math.PI;var K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);if(!(o instanceof Rgb))o=rgbConvert(o);var r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/Yn),x,z;if(r===g&&g===b)x=z=y;else{x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/Xn);z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/Zn)}return new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function gray(l,opacity){return new Lab(l,0,0,opacity==null?1:opacity)}function lab(l,a,b,opacity){return arguments.length===1?labConvert(l):new Lab(l,a,b,opacity==null?1:opacity)}function Lab(l,a,b,opacity){this.l=+l;this.a=+a;this.b=+b;this.opacity=+opacity}define(Lab,lab,extend(Color,{brighter:function(k){return new Lab(this.l+K*(k==null?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-K*(k==null?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;x=Xn*lab2xyz(x);y=Yn*lab2xyz(y);z=Zn*lab2xyz(z);return new Rgb(lrgb2rgb(3.1338561*x-1.6168667*y-.4906146*z),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}}));function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(!(o instanceof Lab))o=labConvert(o);if(o.a===0&&o.b===0)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*rad2deg;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function lch(l,c,h,opacity){return arguments.length===1?hclConvert(l):new Hcl(h,c,l,opacity==null?1:opacity)}function hcl(h,c,l,opacity){return arguments.length===1?hclConvert(h):new Hcl(h,c,l,opacity==null?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h;this.c=+c;this.l=+l;this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*deg2rad;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}define(Hcl,hcl,extend(Color,{brighter:function(k){return new Hcl(this.h,this.c,this.l+K*(k==null?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-K*(k==null?1:k),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var A=-.14861,B=+1.78277,C=-.29227,D=-.90649,E=+1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);if(!(o instanceof Rgb))o=rgbConvert(o);var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*rad2deg-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}function cubehelix(h,s,l,opacity){return arguments.length===1?cubehelixConvert(h):new Cubehelix(h,s,l,opacity==null?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h;this.s=+s;this.l=+l;this.opacity=+opacity}define(Cubehelix,cubehelix,extend(Color,{brighter:function(k){k=k==null?brighter:Math.pow(brighter,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k=k==null?darker:Math.pow(darker,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*deg2rad,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new Rgb(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}));exports.color=color;exports.cubehelix=cubehelix;exports.gray=gray;exports.hcl=hcl;exports.hsl=hsl;exports.lab=lab;exports.lch=lch;exports.rgb=rgb;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MarginPropType=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.getInnerDimensions=getInnerDimensions;exports.getRadialLayoutMargin=getRadialLayoutMargin;var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInnerDimensions(props,defaultMargins){var margin=props.margin,width=props.width,height=props.height;var marginProps=_extends({},defaultMargins,typeof margin==="number"?{left:margin,right:margin,top:margin,bottom:margin}:margin);var _marginProps$left=marginProps.left,marginLeft=_marginProps$left===undefined?0:_marginProps$left,_marginProps$top=marginProps.top,marginTop=_marginProps$top===undefined?0:_marginProps$top,_marginProps$right=marginProps.right,marginRight=_marginProps$right===undefined?0:_marginProps$right,_marginProps$bottom=marginProps.bottom,marginBottom=_marginProps$bottom===undefined?0:_marginProps$bottom;return{marginLeft:marginLeft,marginTop:marginTop,marginRight:marginRight,marginBottom:marginBottom,innerHeight:height-marginBottom-marginTop,innerWidth:width-marginLeft-marginRight}}function getRadialLayoutMargin(width,height,radius){var marginX=width/2-radius;var marginY=height/2-radius;return{bottom:marginY,left:marginX,right:marginX,top:marginY}}var MarginPropType=exports.MarginPropType=_propTypes2.default.oneOfType([_propTypes2.default.shape({left:_propTypes2.default.number,top:_propTypes2.default.number,right:_propTypes2.default.number,bottom:_propTypes2.default.number}),_propTypes2.default.number])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--label";var LabelSeries=function(_AbstractSeries){_inherits(LabelSeries,_AbstractSeries);function LabelSeries(){_classCallCheck(this,LabelSeries);return _possibleConstructorReturn(this,(LabelSeries.__proto__||Object.getPrototypeOf(LabelSeries)).apply(this,arguments))}_createClass(LabelSeries,[{key:"render",value:function render(){var _this2=this;var _props=this.props,animation=_props.animation,allowOffsetToBeReversed=_props.allowOffsetToBeReversed,className=_props.className,data=_props.data,_data=_props._data,getLabel=_props.getLabel,marginLeft=_props.marginLeft,marginTop=_props.marginTop,rotation=_props.rotation,xRange=_props.xRange,yRange=_props.yRange;if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(LabelSeries,_extends({},this.props,{animation:null,_data:data})))}var xFunctor=this._getAttributeFunctor("x");var yFunctor=this._getAttributeFunctor("y");return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},data.reduce((function(res,d,i){var style=d.style,xOffset=d.xOffset,yOffset=d.yOffset;if(!getLabel(d)){return res}var xVal=xFunctor(d);var yVal=yFunctor(d);var leftOfMiddle=xVal<(xRange[1]-xRange[0])/2;var aboveMiddle=yVal<Math.abs(yRange[1]-yRange[0])/2;var x=xVal+(allowOffsetToBeReversed&&leftOfMiddle?-1:1)*(xOffset||0);var y=yVal+(allowOffsetToBeReversed&&aboveMiddle?-1:1)*(yOffset||0);var attrs=_extends({alignmentBaseline:aboveMiddle?"text-before-edge":"text-after-edge",className:"rv-xy-plot__series--label-text",key:i,onClick:function onClick(e){return _this2._valueClickHandler(d,e)},onContextMenu:function onContextMenu(e){return _this2._valueRightClickHandler(d,e)},onMouseOver:function onMouseOver(e){return _this2._valueMouseOverHandler(d,e)},onMouseOut:function onMouseOut(e){return _this2._valueMouseOutHandler(d,e)},textAnchor:leftOfMiddle?"start":"end",x:x,y:y,transform:"rotate("+(d.rotation||rotation)+","+x+","+y+")"},style);var textContent=getLabel(_data?_data[i]:d);return res.concat([_react2.default.createElement("text",attrs,textContent)])}),[]))}}]);return LabelSeries}(_abstractSeries2.default);LabelSeries.propTypes={animation:_propTypes2.default.bool,allowOffsetToBeReversed:_propTypes2.default.bool,className:_propTypes2.default.string,data:_propTypes2.default.arrayOf(_propTypes2.default.shape({x:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),y:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),angle:_propTypes2.default.number,radius:_propTypes2.default.number,label:_propTypes2.default.string,xOffset:_propTypes2.default.number,yOffset:_propTypes2.default.number,style:_propTypes2.default.object})).isRequired,marginLeft:_propTypes2.default.number,marginTop:_propTypes2.default.number,rotation:_propTypes2.default.number,xRange:_propTypes2.default.arrayOf(_propTypes2.default.number),yRange:_propTypes2.default.arrayOf(_propTypes2.default.number)};LabelSeries.defaultProps={animation:false,rotation:0,getLabel:function getLabel(d){return d.label}};LabelSeries.displayName="LabelSeries";exports.default=LabelSeries},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var ChainRec_1=__webpack_require__(832);var pipeable_1=__webpack_require__(833);exports.URI="Either";function left(e){return{_tag:"Left",left:e}}exports.left=left;function right(a){return{_tag:"Right",right:a}}exports.right=right;function fromNullable(e){return function(a){return a==null?left(e):right(a)}}exports.fromNullable=fromNullable;function toError(e){return e instanceof Error?e:new Error(String(e))}exports.toError=toError;function tryCatch(f,onError){try{return right(f())}catch(e){return left(onError(e))}}exports.tryCatch=tryCatch;function fold(onLeft,onRight){return function(ma){return isLeft(ma)?onLeft(ma.left):onRight(ma.right)}}exports.fold=fold;function getShow(SE,SA){return{show:function(ma){return isLeft(ma)?"left("+SE.show(ma.left)+")":"right("+SA.show(ma.right)+")"}}}exports.getShow=getShow;function getEq(EL,EA){return{equals:function(x,y){return x===y||(isLeft(x)?isLeft(y)&&EL.equals(x.left,y.left):isRight(y)&&EA.equals(x.right,y.right))}}}exports.getEq=getEq;function getSemigroup(S){return{concat:function(x,y){return isLeft(y)?x:isLeft(x)?y:right(S.concat(x.right,y.right))}}}exports.getSemigroup=getSemigroup;function getApplySemigroup(S){return{concat:function(x,y){return isLeft(x)?x:isLeft(y)?y:right(S.concat(x.right,y.right))}}}exports.getApplySemigroup=getApplySemigroup;function getApplyMonoid(M){return __assign(__assign({},getApplySemigroup(M)),{empty:right(M.empty)})}exports.getApplyMonoid=getApplyMonoid;function isLeft(ma){switch(ma._tag){case"Left":return true;case"Right":return false}}exports.isLeft=isLeft;function isRight(ma){return isLeft(ma)?false:true}exports.isRight=isRight;function swap(ma){return isLeft(ma)?right(ma.left):left(ma.right)}exports.swap=swap;function orElse(onLeft){return function(ma){return isLeft(ma)?onLeft(ma.left):ma}}exports.orElse=orElse;function getOrElse(onLeft){return function(ma){return isLeft(ma)?onLeft(ma.left):ma.right}}exports.getOrElse=getOrElse;function elem(E){return function(a,ma){return isLeft(ma)?false:E.equals(a,ma.right)}}exports.elem=elem;function exists(predicate){return function(ma){return isLeft(ma)?false:predicate(ma.right)}}exports.exists=exists;function parseJSON(s,onError){return tryCatch((function(){return JSON.parse(s)}),onError)}exports.parseJSON=parseJSON;function stringifyJSON(u,onError){return tryCatch((function(){return JSON.stringify(u)}),onError)}exports.stringifyJSON=stringifyJSON;function getWitherable(M){var empty=left(M.empty);var compact=function(ma){return isLeft(ma)?ma:ma.right._tag==="None"?left(M.empty):right(ma.right.value)};var separate=function(ma){return isLeft(ma)?{left:ma,right:ma}:isLeft(ma.right)?{left:right(ma.right.left),right:empty}:{left:empty,right:right(ma.right.right)}};var partitionMap=function(ma,f){if(isLeft(ma)){return{left:ma,right:ma}}var e=f(ma.right);return isLeft(e)?{left:right(e.left),right:empty}:{left:empty,right:right(e.right)}};var partition=function(ma,p){return isLeft(ma)?{left:ma,right:ma}:p(ma.right)?{left:empty,right:right(ma.right)}:{left:right(ma.right),right:empty}};var filterMap=function(ma,f){if(isLeft(ma)){return ma}var ob=f(ma.right);return ob._tag==="None"?left(M.empty):right(ob.value)};var filter=function(ma,predicate){return isLeft(ma)?ma:predicate(ma.right)?ma:left(M.empty)};var wither=function(F){var traverseF=exports.either.traverse(F);return function(ma,f){return F.map(traverseF(ma,f),compact)}};var wilt=function(F){var traverseF=exports.either.traverse(F);return function(ma,f){return F.map(traverseF(ma,f),separate)}};return{URI:exports.URI,_E:undefined,map:exports.either.map,compact:compact,separate:separate,filter:filter,filterMap:filterMap,partition:partition,partitionMap:partitionMap,traverse:exports.either.traverse,sequence:exports.either.sequence,reduce:exports.either.reduce,foldMap:exports.either.foldMap,reduceRight:exports.either.reduceRight,wither:wither,wilt:wilt}}exports.getWitherable=getWitherable;function getValidation(S){return{URI:exports.URI,_E:undefined,map:exports.either.map,of:exports.either.of,ap:function(mab,ma){return isLeft(mab)?isLeft(ma)?left(S.concat(mab.left,ma.left)):mab:isLeft(ma)?ma:right(mab.right(ma.right))},chain:exports.either.chain,alt:function(fx,f){if(isRight(fx)){return fx}var fy=f();return isLeft(fy)?left(S.concat(fx.left,fy.left)):fy}}}exports.getValidation=getValidation;function getValidationSemigroup(SE,SA){return{concat:function(fx,fy){return isLeft(fx)?isLeft(fy)?left(SE.concat(fx.left,fy.left)):fx:isLeft(fy)?fy:right(SA.concat(fx.right,fy.right))}}}exports.getValidationSemigroup=getValidationSemigroup;function getValidationMonoid(SE,SA){return{concat:getValidationSemigroup(SE,SA).concat,empty:right(SA.empty)}}exports.getValidationMonoid=getValidationMonoid;exports.either={URI:exports.URI,map:function(ma,f){return isLeft(ma)?ma:right(f(ma.right))},of:right,ap:function(mab,ma){return isLeft(mab)?mab:isLeft(ma)?ma:right(mab.right(ma.right))},chain:function(ma,f){return isLeft(ma)?ma:f(ma.right)},reduce:function(fa,b,f){return isLeft(fa)?b:f(b,fa.right)},foldMap:function(M){return function(fa,f){return isLeft(fa)?M.empty:f(fa.right)}},reduceRight:function(fa,b,f){return isLeft(fa)?b:f(fa.right,b)},traverse:function(F){return function(ma,f){return isLeft(ma)?F.of(left(ma.left)):F.map(f(ma.right),right)}},sequence:function(F){return function(ma){return isLeft(ma)?F.of(left(ma.left)):F.map(ma.right,right)}},bimap:function(fea,f,g){return isLeft(fea)?left(f(fea.left)):right(g(fea.right))},mapLeft:function(fea,f){return isLeft(fea)?left(f(fea.left)):fea},alt:function(fx,fy){return isLeft(fx)?fy():fx},extend:function(wa,f){return isLeft(wa)?wa:right(f(wa))},chainRec:function(a,f){return ChainRec_1.tailRec(f(a),(function(e){return isLeft(e)?right(left(e.left)):isLeft(e.right)?left(f(e.right.left)):right(right(e.right.right))}))},throwError:left};var _a=pipeable_1.pipeable(exports.either),alt=_a.alt,ap=_a.ap,apFirst=_a.apFirst,apSecond=_a.apSecond,bimap=_a.bimap,chain=_a.chain,chainFirst=_a.chainFirst,duplicate=_a.duplicate,extend=_a.extend,flatten=_a.flatten,foldMap=_a.foldMap,map=_a.map,mapLeft=_a.mapLeft,reduce=_a.reduce,reduceRight=_a.reduceRight,fromOption=_a.fromOption,fromPredicate=_a.fromPredicate,filterOrElse=_a.filterOrElse;exports.alt=alt;exports.ap=ap;exports.apFirst=apFirst;exports.apSecond=apSecond;exports.bimap=bimap;exports.chain=chain;exports.chainFirst=chainFirst;exports.duplicate=duplicate;exports.extend=extend;exports.flatten=flatten;exports.foldMap=foldMap;exports.map=map;exports.mapLeft=mapLeft;exports.reduce=reduce;exports.reduceRight=reduceRight;exports.fromOption=fromOption;exports.fromPredicate=fromPredicate;exports.filterOrElse=filterOrElse},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function guard(lowerBoundary,upperBoundary,value){return Math.max(lowerBoundary,Math.min(upperBoundary,value))}exports.default=guard;module.exports=exports["default"]},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports,__webpack_require__){var root=__webpack_require__(69);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(69),stubFalse=__webpack_require__(583);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined;var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;var isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(9)(module))},function(module,exports,__webpack_require__){var DataView=__webpack_require__(592),Map=__webpack_require__(166),Promise=__webpack_require__(593),Set=__webpack_require__(241),WeakMap=__webpack_require__(594),baseGetTag=__webpack_require__(85),toSource=__webpack_require__(230);var mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]";var dataViewTag="[object DataView]";var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}module.exports=getTag},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(85),isObjectLike=__webpack_require__(70);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function bisector(compare){if(compare.length===1)compare=ascendingComparator(compare);return{left:function(a,x,lo,hi){if(lo==null)lo=0;if(hi==null)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)<0)lo=mid+1;else hi=mid}return lo},right:function(a,x,lo,hi){if(lo==null)lo=0;if(hi==null)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)>0)hi=mid;else lo=mid+1}return lo}}}function ascendingComparator(f){return function(d,x){return ascending(f(d),x)}}var ascendingBisect=bisector(ascending);var bisectRight=ascendingBisect.right;var bisectLeft=ascendingBisect.left;function pairs(array,f){if(f==null)f=pair;var i=0,n=array.length-1,p=array[0],pairs=new Array(n<0?0:n);while(i<n)pairs[i]=f(p,p=array[++i]);return pairs}function pair(a,b){return[a,b]}function cross(values0,values1,reduce){var n0=values0.length,n1=values1.length,values=new Array(n0*n1),i0,i1,i,value0;if(reduce==null)reduce=pair;for(i0=i=0;i0<n0;++i0){for(value0=values0[i0],i1=0;i1<n1;++i1,++i){values[i]=reduce(value0,values1[i1])}}return values}function descending(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function number(x){return x===null?NaN:+x}function variance(values,valueof){var n=values.length,m=0,i=-1,mean=0,value,delta,sum=0;if(valueof==null){while(++i<n){if(!isNaN(value=number(values[i]))){delta=value-mean;mean+=delta/++m;sum+=delta*(value-mean)}}}else{while(++i<n){if(!isNaN(value=number(valueof(values[i],i,values)))){delta=value-mean;mean+=delta/++m;sum+=delta*(value-mean)}}}if(m>1)return sum/(m-1)}function deviation(array,f){var v=variance(array,f);return v?Math.sqrt(v):v}function extent(values,valueof){var n=values.length,i=-1,value,min,max;if(valueof==null){while(++i<n){if((value=values[i])!=null&&value>=value){min=max=value;while(++i<n){if((value=values[i])!=null){if(min>value)min=value;if(max<value)max=value}}}}}else{while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>=value){min=max=value;while(++i<n){if((value=valueof(values[i],i,values))!=null){if(min>value)min=value;if(max<value)max=value}}}}}return[min,max]}var array=Array.prototype;var slice=array.slice;var map=array.map;function constant(x){return function(){return x}}function identity(x){return x}function range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;var i=-1,n=Math.max(0,Math.ceil((stop-start)/step))|0,range=new Array(n);while(++i<n){range[i]=start+i*step}return range}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(start,stop,count){var reverse,i=-1,n,ticks,step;stop=+stop,start=+start,count=+count;if(start===stop&&count>0)return[start];if(reverse=stop<start)n=start,start=stop,stop=n;if((step=tickIncrement(start,stop,count))===0||!isFinite(step))return[];if(step>0){start=Math.ceil(start/step);stop=Math.floor(stop/step);ticks=new Array(n=Math.ceil(stop-start+1));while(++i<n)ticks[i]=(start+i)*step}else{start=Math.floor(start*step);stop=Math.ceil(stop*step);ticks=new Array(n=Math.ceil(start-stop+1));while(++i<n)ticks[i]=(start-i)/step}if(reverse)ticks.reverse();return ticks}function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;if(error>=e10)step1*=10;else if(error>=e5)step1*=5;else if(error>=e2)step1*=2;return stop<start?-step1:step1}function sturges(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1}function histogram(){var value=identity,domain=extent,threshold=sturges;function histogram(data){var i,n=data.length,x,values=new Array(n);for(i=0;i<n;++i){values[i]=value(data[i],i,data)}var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);if(!Array.isArray(tz)){tz=tickStep(x0,x1,tz);tz=range(Math.ceil(x0/tz)*tz,x1,tz)}var m=tz.length;while(tz[0]<=x0)tz.shift(),--m;while(tz[m-1]>x1)tz.pop(),--m;var bins=new Array(m+1),bin;for(i=0;i<=m;++i){bin=bins[i]=[];bin.x0=i>0?tz[i-1]:x0;bin.x1=i<m?tz[i]:x1}for(i=0;i<n;++i){x=values[i];if(x0<=x&&x<=x1){bins[bisectRight(tz,x,0,m)].push(data[i])}}return bins}histogram.value=function(_){return arguments.length?(value=typeof _==="function"?_:constant(_),histogram):value};histogram.domain=function(_){return arguments.length?(domain=typeof _==="function"?_:constant([_[0],_[1]]),histogram):domain};histogram.thresholds=function(_){return arguments.length?(threshold=typeof _==="function"?_:Array.isArray(_)?constant(slice.call(_)):constant(_),histogram):threshold};return histogram}function quantile(values,p,valueof){if(valueof==null)valueof=number;if(!(n=values.length))return;if((p=+p)<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values),value1=+valueof(values[i0+1],i0+1,values);return value0+(value1-value0)*(i-i0)}function freedmanDiaconis(values,min,max){values=map.call(values,number).sort(ascending);return Math.ceil((max-min)/(2*(quantile(values,.75)-quantile(values,.25))*Math.pow(values.length,-1/3)))}function scott(values,min,max){return Math.ceil((max-min)/(3.5*deviation(values)*Math.pow(values.length,-1/3)))}function max(values,valueof){var n=values.length,i=-1,value,max;if(valueof==null){while(++i<n){if((value=values[i])!=null&&value>=value){max=value;while(++i<n){if((value=values[i])!=null&&value>max){max=value}}}}}else{while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>=value){max=value;while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>max){max=value}}}}}return max}function mean(values,valueof){var n=values.length,m=n,i=-1,value,sum=0;if(valueof==null){while(++i<n){if(!isNaN(value=number(values[i])))sum+=value;else--m}}else{while(++i<n){if(!isNaN(value=number(valueof(values[i],i,values))))sum+=value;else--m}}if(m)return sum/m}function median(values,valueof){var n=values.length,i=-1,value,numbers=[];if(valueof==null){while(++i<n){if(!isNaN(value=number(values[i]))){numbers.push(value)}}}else{while(++i<n){if(!isNaN(value=number(valueof(values[i],i,values)))){numbers.push(value)}}}return quantile(numbers.sort(ascending),.5)}function merge(arrays){var n=arrays.length,m,i=-1,j=0,merged,array;while(++i<n)j+=arrays[i].length;merged=new Array(j);while(--n>=0){array=arrays[n];m=array.length;while(--m>=0){merged[--j]=array[m]}}return merged}function min(values,valueof){var n=values.length,i=-1,value,min;if(valueof==null){while(++i<n){if((value=values[i])!=null&&value>=value){min=value;while(++i<n){if((value=values[i])!=null&&min>value){min=value}}}}}else{while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>=value){min=value;while(++i<n){if((value=valueof(values[i],i,values))!=null&&min>value){min=value}}}}}return min}function permute(array,indexes){var i=indexes.length,permutes=new Array(i);while(i--)permutes[i]=array[indexes[i]];return permutes}function scan(values,compare){if(!(n=values.length))return;var n,i=0,j=0,xi,xj=values[j];if(compare==null)compare=ascending;while(++i<n){if(compare(xi=values[i],xj)<0||compare(xj,xj)!==0){xj=xi,j=i}}if(compare(xj,xj)===0)return j}function shuffle(array,i0,i1){var m=(i1==null?array.length:i1)-(i0=i0==null?0:+i0),t,i;while(m){i=Math.random()*m--|0;t=array[m+i0];array[m+i0]=array[i+i0];array[i+i0]=t}return array}function sum(values,valueof){var n=values.length,i=-1,value,sum=0;if(valueof==null){while(++i<n){if(value=+values[i])sum+=value}}else{while(++i<n){if(value=+valueof(values[i],i,values))sum+=value}}return sum}function transpose(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=min(matrix,length),transpose=new Array(m);++i<m;){for(var j=-1,n,row=transpose[i]=new Array(n);++j<n;){row[j]=matrix[j][i]}}return transpose}function length(d){return d.length}function zip(){return transpose(arguments)}exports.bisect=bisectRight;exports.bisectRight=bisectRight;exports.bisectLeft=bisectLeft;exports.ascending=ascending;exports.bisector=bisector;exports.cross=cross;exports.descending=descending;exports.deviation=deviation;exports.extent=extent;exports.histogram=histogram;exports.thresholdFreedmanDiaconis=freedmanDiaconis;exports.thresholdScott=scott;exports.thresholdSturges=sturges;exports.max=max;exports.mean=mean;exports.median=median;exports.merge=merge;exports.min=min;exports.pairs=pairs;exports.permute=permute;exports.quantile=quantile;exports.range=range;exports.scan=scan;exports.shuffle=shuffle;exports.sum=sum;exports.ticks=ticks;exports.tickIncrement=tickIncrement;exports.tickStep=tickStep;exports.transpose=transpose;exports.variance=variance;exports.zip=zip;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";(function(process){Object.defineProperty(exports,"__esModule",{value:true});exports.getDOMNode=exports.isReactDOMSupported=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.warning=warning;exports.warnOnce=warnOnce;exports.checkIfStyleSheetIsImported=checkIfStyleSheetIsImported;var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var _React$version$split=_react2.default.version.split("."),_React$version$split2=_slicedToArray(_React$version$split,2),major=_React$version$split2[0],minor=_React$version$split2[1];var versionHigherThanThirteen=Number(minor)>13||Number(major)>13;var isReactDOMSupported=exports.isReactDOMSupported=function isReactDOMSupported(){return versionHigherThanThirteen};var getDOMNode=exports.getDOMNode=function getDOMNode(ref){if(!isReactDOMSupported()){return ref&&ref.getDOMNode()}return ref};var USED_MESSAGES={};var HIDDEN_PROCESSES={test:true,production:true};function warning(message){var onlyShowMessageOnce=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(process&&HIDDEN_PROCESSES["production"]){return}if(!onlyShowMessageOnce||!USED_MESSAGES[message]){console.warn(message);USED_MESSAGES[message]=true}}function warnOnce(message){warning(message,true)}function getCSSRules(styleSheet){if(styleSheet.ownerNode.tagName==="STYLE"||styleSheet.ownerNode.tagName==="LINK"&&styleSheet.ownerNode.href&&styleSheet.ownerNode.href.startsWith(document.location.origin)){try{return styleSheet.rules||styleSheet.cssRules}catch(err){return[]}}return[]}var MAGIC_CSS_RULE=".react-vis-magic-css-import-rule";function checkIfStyleSheetIsImported(){if(process&&HIDDEN_PROCESSES["production"]){return}var foundImportTag=[].concat(_toConsumableArray(document.styleSheets)).some((function(styleSheet){var CSSRulesList=getCSSRules(styleSheet);return[].concat(_toConsumableArray(CSSRulesList)).some((function(selector){return selector.selectorText===MAGIC_CSS_RULE}))}));if(!foundImportTag){warnOnce("REACT-VIS: The style sheet for react-vis has not been imported, checkout https://uber.github.io/react-vis/documentation/general-principles/style for more details.")}}}).call(this,__webpack_require__(105))},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.wordWrap=exports.triangle=exports.transparentize=exports.transitions=exports.toColorString=exports.tint=exports.timingFunctions=exports.textInputs=exports.stripUnit=exports.size=exports.shade=exports.setSaturation=exports.setLightness=exports.setHue=exports.selection=exports.saturate=exports.rgba=exports.rgb=exports.retinaImage=exports.rem=exports.readableColor=exports.radialGradient=exports.position=exports.placeholder=exports.parseToRgb=exports.parseToHsl=exports.padding=exports.opacify=exports.normalize=exports.modularScale=exports.mix=exports.margin=exports.lighten=exports.hsla=exports.hsl=exports.hiDPI=exports.hideVisually=exports.hideText=exports.invert=exports.grayscale=exports.getLuminance=exports.fontFace=exports.em=exports.ellipsis=exports.directionalProperty=exports.desaturate=exports.darken=exports.complement=exports.clearFix=exports.buttons=exports.borderWidth=exports.borderStyle=exports.borderRadius=exports.borderColor=exports.backgrounds=exports.backgroundImages=exports.animation=exports.adjustHue=undefined;var _directionalProperty=__webpack_require__(83);var _directionalProperty2=_interopRequireDefault(_directionalProperty);var _em=__webpack_require__(375);var _em2=_interopRequireDefault(_em);var _modularScale=__webpack_require__(377);var _modularScale2=_interopRequireDefault(_modularScale);var _rem=__webpack_require__(378);var _rem2=_interopRequireDefault(_rem);var _stripUnit=__webpack_require__(154);var _stripUnit2=_interopRequireDefault(_stripUnit);var _clearFix=__webpack_require__(379);var _clearFix2=_interopRequireDefault(_clearFix);var _ellipsis=__webpack_require__(380);var _ellipsis2=_interopRequireDefault(_ellipsis);var _fontFace=__webpack_require__(381);var _fontFace2=_interopRequireDefault(_fontFace);var _hideText=__webpack_require__(382);var _hideText2=_interopRequireDefault(_hideText);var _hideVisually=__webpack_require__(383);var _hideVisually2=_interopRequireDefault(_hideVisually);var _hiDPI=__webpack_require__(214);var _hiDPI2=_interopRequireDefault(_hiDPI);var _normalize=__webpack_require__(384);var _normalize2=_interopRequireDefault(_normalize);var _placeholder=__webpack_require__(385);var _placeholder2=_interopRequireDefault(_placeholder);var _radialGradient=__webpack_require__(386);var _radialGradient2=_interopRequireDefault(_radialGradient);var _retinaImage=__webpack_require__(387);var _retinaImage2=_interopRequireDefault(_retinaImage);var _selection=__webpack_require__(388);var _selection2=_interopRequireDefault(_selection);var _timingFunctions=__webpack_require__(389);var _timingFunctions2=_interopRequireDefault(_timingFunctions);var _triangle=__webpack_require__(390);var _triangle2=_interopRequireDefault(_triangle);var _wordWrap=__webpack_require__(391);var _wordWrap2=_interopRequireDefault(_wordWrap);var _adjustHue=__webpack_require__(392);var _adjustHue2=_interopRequireDefault(_adjustHue);var _complement=__webpack_require__(395);var _complement2=_interopRequireDefault(_complement);var _darken=__webpack_require__(396);var _darken2=_interopRequireDefault(_darken);var _desaturate=__webpack_require__(397);var _desaturate2=_interopRequireDefault(_desaturate);var _getLuminance=__webpack_require__(220);var _getLuminance2=_interopRequireDefault(_getLuminance);var _grayscale=__webpack_require__(398);var _grayscale2=_interopRequireDefault(_grayscale);var _hsl=__webpack_require__(217);var _hsl2=_interopRequireDefault(_hsl);var _hsla=__webpack_require__(219);var _hsla2=_interopRequireDefault(_hsla);var _invert=__webpack_require__(399);var _invert2=_interopRequireDefault(_invert);var _lighten=__webpack_require__(400);var _lighten2=_interopRequireDefault(_lighten);var _mix=__webpack_require__(157);var _mix2=_interopRequireDefault(_mix);var _opacify=__webpack_require__(401);var _opacify2=_interopRequireDefault(_opacify);var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);var _readableColor=__webpack_require__(402);var _readableColor2=_interopRequireDefault(_readableColor);var _rgb=__webpack_require__(156);var _rgb2=_interopRequireDefault(_rgb);var _rgba=__webpack_require__(110);var _rgba2=_interopRequireDefault(_rgba);var _saturate=__webpack_require__(403);var _saturate2=_interopRequireDefault(_saturate);var _setHue=__webpack_require__(404);var _setHue2=_interopRequireDefault(_setHue);var _setLightness=__webpack_require__(405);var _setLightness2=_interopRequireDefault(_setLightness);var _setSaturation=__webpack_require__(406);var _setSaturation2=_interopRequireDefault(_setSaturation);var _shade=__webpack_require__(407);var _shade2=_interopRequireDefault(_shade);var _tint=__webpack_require__(408);var _tint2=_interopRequireDefault(_tint);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _transparentize=__webpack_require__(409);var _transparentize2=_interopRequireDefault(_transparentize);var _animation=__webpack_require__(410);var _animation2=_interopRequireDefault(_animation);var _backgroundImages=__webpack_require__(411);var _backgroundImages2=_interopRequireDefault(_backgroundImages);var _backgrounds=__webpack_require__(412);var _backgrounds2=_interopRequireDefault(_backgrounds);var _borderColor=__webpack_require__(413);var _borderColor2=_interopRequireDefault(_borderColor);var _borderRadius=__webpack_require__(414);var _borderRadius2=_interopRequireDefault(_borderRadius);var _borderStyle=__webpack_require__(415);var _borderStyle2=_interopRequireDefault(_borderStyle);var _borderWidth=__webpack_require__(416);var _borderWidth2=_interopRequireDefault(_borderWidth);var _buttons=__webpack_require__(417);var _buttons2=_interopRequireDefault(_buttons);var _margin=__webpack_require__(418);var _margin2=_interopRequireDefault(_margin);var _padding=__webpack_require__(419);var _padding2=_interopRequireDefault(_padding);var _position=__webpack_require__(420);var _position2=_interopRequireDefault(_position);var _size=__webpack_require__(421);var _size2=_interopRequireDefault(_size);var _textInputs=__webpack_require__(422);var _textInputs2=_interopRequireDefault(_textInputs);var _transitions=__webpack_require__(423);var _transitions2=_interopRequireDefault(_transitions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.adjustHue=_adjustHue2.default;exports.animation=_animation2.default;exports.backgroundImages=_backgroundImages2.default;exports.backgrounds=_backgrounds2.default;exports.borderColor=_borderColor2.default;exports.borderRadius=_borderRadius2.default;exports.borderStyle=_borderStyle2.default;exports.borderWidth=_borderWidth2.default;exports.buttons=_buttons2.default;exports.clearFix=_clearFix2.default;exports.complement=_complement2.default;exports.darken=_darken2.default;exports.desaturate=_desaturate2.default;exports.directionalProperty=_directionalProperty2.default;exports.ellipsis=_ellipsis2.default;exports.em=_em2.default;exports.fontFace=_fontFace2.default;exports.getLuminance=_getLuminance2.default;exports.grayscale=_grayscale2.default;exports.invert=_invert2.default;exports.hideText=_hideText2.default;exports.hideVisually=_hideVisually2.default;exports.hiDPI=_hiDPI2.default;exports.hsl=_hsl2.default;exports.hsla=_hsla2.default;exports.lighten=_lighten2.default;exports.margin=_margin2.default;exports.mix=_mix2.default;exports.modularScale=_modularScale2.default;exports.normalize=_normalize2.default;exports.opacify=_opacify2.default;exports.padding=_padding2.default;exports.parseToHsl=_parseToHsl2.default;exports.parseToRgb=_parseToRgb2.default;exports.placeholder=_placeholder2.default;exports.position=_position2.default;exports.radialGradient=_radialGradient2.default;exports.readableColor=_readableColor2.default;exports.rem=_rem2.default;exports.retinaImage=_retinaImage2.default;exports.rgb=_rgb2.default;exports.rgba=_rgba2.default;exports.saturate=_saturate2.default;exports.selection=_selection2.default;exports.setHue=_setHue2.default;exports.setLightness=_setLightness2.default;exports.setSaturation=_setSaturation2.default;exports.shade=_shade2.default;exports.size=_size2.default;exports.stripUnit=_stripUnit2.default;exports.textInputs=_textInputs2.default;exports.timingFunctions=_timingFunctions2.default;exports.tint=_tint2.default;exports.toColorString=_toColorString2.default;exports.transitions=_transitions2.default;exports.transparentize=_transparentize2.default;exports.triangle=_triangle2.default;exports.wordWrap=_wordWrap2.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _rgb=__webpack_require__(156);var _rgb2=_interopRequireDefault(_rgb);var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function rgba(firstValue,secondValue,thirdValue,fourthValue){if(typeof firstValue==="string"&&typeof secondValue==="number"){var rgbValue=(0,_parseToRgb2.default)(firstValue);return"rgba("+rgbValue.red+","+rgbValue.green+","+rgbValue.blue+","+secondValue+")"}else if(typeof firstValue==="number"&&typeof secondValue==="number"&&typeof thirdValue==="number"&&typeof fourthValue==="number"){return fourthValue>=1?(0,_rgb2.default)(firstValue,secondValue,thirdValue):"rgba("+firstValue+","+secondValue+","+thirdValue+","+fourthValue+")"}else if(typeof firstValue==="object"&&secondValue===undefined&&thirdValue===undefined&&fourthValue===undefined){return firstValue.alpha>=1?(0,_rgb2.default)(firstValue.red,firstValue.green,firstValue.blue):"rgba("+firstValue.red+","+firstValue.green+","+firstValue.blue+","+firstValue.alpha+")"}throw new Error("Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).")}exports.default=rgba;module.exports=exports["default"]},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(85),isObject=__webpack_require__(65);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(128),baseAssignValue=__webpack_require__(129);function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}module.exports=copyObject},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(582),isObjectLike=__webpack_require__(70);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(584),baseUnary=__webpack_require__(131),nodeUtil=__webpack_require__(170);var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(101);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TRANSACTION_PAGE_LOAD}));__webpack_require__.d(__webpack_exports__,"b",(function(){return TRANSACTION_REQUEST}));__webpack_require__.d(__webpack_exports__,"c",(function(){return TRANSACTION_ROUTE_CHANGE}));const TRANSACTION_PAGE_LOAD="page-load";const TRANSACTION_REQUEST="request";const TRANSACTION_ROUTE_CHANGE="route-change"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getSeverity}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getSeverityColor}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ML_ERRORS}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _ml_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _ml_common__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_ml_common__WEBPACK_IMPORTED_MODULE_1__);function getSeverity(score){if(score===undefined){return _ml_common__WEBPACK_IMPORTED_MODULE_1__["ANOMALY_SEVERITY"].UNKNOWN}return Object(_ml_common__WEBPACK_IMPORTED_MODULE_1__["getSeverityType"])(score)}function getSeverityColor(score){return Object(_ml_common__WEBPACK_IMPORTED_MODULE_1__["getSeverityColor"])(score)}const ML_ERRORS={INVALID_LICENSE:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.apm.anomaly_detection.error.invalid_license",{defaultMessage:"To use anomaly detection, you must be subscribed to an Elastic Platinum license. With it, you'll be able to monitor your services with the aid of machine learning."}),MISSING_READ_PRIVILEGES:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.apm.anomaly_detection.error.missing_read_privileges",{defaultMessage:'You must have "read" privileges to Machine Learning and APM in order to view Anomaly Detection jobs'}),MISSING_WRITE_PRIVILEGES:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.apm.anomaly_detection.error.missing_write_privileges",{defaultMessage:'You must have "write" privileges to Machine Learning and APM in order to create Anomaly Detection jobs'}),ML_NOT_AVAILABLE:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.apm.anomaly_detection.error.not_available",{defaultMessage:"Machine learning is not available"}),ML_NOT_AVAILABLE_IN_SPACE:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.apm.anomaly_detection.error.not_available_in_space",{defaultMessage:"Machine learning is not available in the selected space"})}},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(286);var hasSymbols=typeof Symbol==="function"&&typeof Symbol("foo")==="symbol";var toStr=Object.prototype.toString;var concat=Array.prototype.concat;var origDefineProperty=Object.defineProperty;var isFunction=function(fn){return typeof fn==="function"&&toStr.call(fn)==="[object Function]"};var arePropertyDescriptorsSupported=function(){var obj={};try{origDefineProperty(obj,"x",{enumerable:false,value:obj});for(var _ in obj){return false}return obj.x===obj}catch(e){return false}};var supportsDescriptors=origDefineProperty&&arePropertyDescriptorsSupported();var defineProperty=function(object,name,value,predicate){if(name in object&&(!isFunction(predicate)||!predicate())){return}if(supportsDescriptors){origDefineProperty(object,name,{configurable:true,enumerable:false,value:value,writable:true})}else{object[name]=value}};var defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{};var props=keys(map);if(hasSymbols){props=concat.call(props,Object.getOwnPropertySymbols(map))}for(var i=0;i<props.length;i+=1){defineProperty(object,props[i],map[props[i]],predicates[props[i]])}};defineProperties.supportsDescriptors=!!supportsDescriptors;module.exports=defineProperties},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(786)):undefined})(this,(function(exports,d3Path){"use strict";function constant(x){return function constant(){return x}}var abs=Math.abs;var atan2=Math.atan2;var cos=Math.cos;var max=Math.max;var min=Math.min;var sin=Math.sin;var sqrt=Math.sqrt;var epsilon=1e-12;var pi=Math.PI;var halfPi=pi/2;var tau=2*pi;function acos(x){return x>1?0:x<-1?pi:Math.acos(x)}function asin(x){return x>=1?halfPi:x<=-1?-halfPi:Math.asin(x)}function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(t*t<epsilon)return;t=(x32*(y0-y2)-y32*(x0-x2))/t;return[x0+t*x10,y0+t*y10]}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*sqrt(max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;if(dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1)cx0=cx1,cy0=cy1;return{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function arc(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=constant(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null;function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-halfPi,a1=endAngle.apply(this,arguments)-halfPi,da=abs(a1-a0),cw=a1>a0;if(!context)context=buffer=d3Path.path();if(r1<r0)r=r1,r1=r0,r0=r;if(!(r1>epsilon))context.moveTo(0,0);else if(da>tau-epsilon){context.moveTo(r1*cos(a0),r1*sin(a0));context.arc(0,0,r1,a0,a1,!cw);if(r0>epsilon){context.moveTo(r0*cos(a1),r0*sin(a1));context.arc(0,0,r0,a1,a0,cw)}}else{var a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>epsilon&&(padRadius?+padRadius.apply(this,arguments):sqrt(r0*r0+r1*r1)),rc=min(abs(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc,t0,t1;if(rp>epsilon){var p0=asin(rp/r0*sin(ap)),p1=asin(rp/r1*sin(ap));if((da0-=p0*2)>epsilon)p0*=cw?1:-1,a00+=p0,a10-=p0;else da0=0,a00=a10=(a0+a1)/2;if((da1-=p1*2)>epsilon)p1*=cw?1:-1,a01+=p1,a11-=p1;else da1=0,a01=a11=(a0+a1)/2}var x01=r1*cos(a01),y01=r1*sin(a01),x10=r0*cos(a10),y10=r0*sin(a10);if(rc>epsilon){var x11=r1*cos(a11),y11=r1*sin(a11),x00=r0*cos(a00),y00=r0*sin(a00),oc;if(da<pi&&(oc=intersect(x01,y01,x00,y00,x11,y11,x10,y10))){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/sin(acos((ax*bx+ay*by)/(sqrt(ax*ax+ay*ay)*sqrt(bx*bx+by*by)))/2),lc=sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=min(rc,(r0-lc)/(kc-1));rc1=min(rc,(r1-lc)/(kc+1))}}if(!(da1>epsilon))context.moveTo(x01,y01);else if(rc1>epsilon){t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw);t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw);context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01);if(rc1<rc)context.arc(t0.cx,t0.cy,rc1,atan2(t0.y01,t0.x01),atan2(t1.y01,t1.x01),!cw);else{context.arc(t0.cx,t0.cy,rc1,atan2(t0.y01,t0.x01),atan2(t0.y11,t0.x11),!cw);context.arc(0,0,r1,atan2(t0.cy+t0.y11,t0.cx+t0.x11),atan2(t1.cy+t1.y11,t1.cx+t1.x11),!cw);context.arc(t1.cx,t1.cy,rc1,atan2(t1.y11,t1.x11),atan2(t1.y01,t1.x01),!cw)}}else context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw);if(!(r0>epsilon)||!(da0>epsilon))context.lineTo(x10,y10);else if(rc0>epsilon){t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw);t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw);context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01);if(rc0<rc)context.arc(t0.cx,t0.cy,rc0,atan2(t0.y01,t0.x01),atan2(t1.y01,t1.x01),!cw);else{context.arc(t0.cx,t0.cy,rc0,atan2(t0.y01,t0.x01),atan2(t0.y11,t0.x11),!cw);context.arc(0,0,r0,atan2(t0.cy+t0.y11,t0.cx+t0.x11),atan2(t1.cy+t1.y11,t1.cx+t1.x11),cw);context.arc(t1.cx,t1.cy,rc0,atan2(t1.y11,t1.x11),atan2(t1.y01,t1.x01),!cw)}}else context.arc(0,0,r0,a10,a00,cw)}context.closePath();if(buffer)return context=null,buffer+""||null}arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-pi/2;return[cos(a)*r,sin(a)*r]};arc.innerRadius=function(_){return arguments.length?(innerRadius=typeof _==="function"?_:constant(+_),arc):innerRadius};arc.outerRadius=function(_){return arguments.length?(outerRadius=typeof _==="function"?_:constant(+_),arc):outerRadius};arc.cornerRadius=function(_){return arguments.length?(cornerRadius=typeof _==="function"?_:constant(+_),arc):cornerRadius};arc.padRadius=function(_){return arguments.length?(padRadius=_==null?null:typeof _==="function"?_:constant(+_),arc):padRadius};arc.startAngle=function(_){return arguments.length?(startAngle=typeof _==="function"?_:constant(+_),arc):startAngle};arc.endAngle=function(_){return arguments.length?(endAngle=typeof _==="function"?_:constant(+_),arc):endAngle};arc.padAngle=function(_){return arguments.length?(padAngle=typeof _==="function"?_:constant(+_),arc):padAngle};arc.context=function(_){return arguments.length?(context=_==null?null:_,arc):context};return arc}function Linear(context){this._context=context}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y);break}}};function curveLinear(context){return new Linear(context)}function x(p){return p[0]}function y(p){return p[1]}function line(){var x$1=x,y$1=y,defined=constant(true),context=null,curve=curveLinear,output=null;function line(data){var i,n=data.length,d,defined0=false,buffer;if(context==null)output=curve(buffer=d3Path.path());for(i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0){if(defined0=!defined0)output.lineStart();else output.lineEnd()}if(defined0)output.point(+x$1(d,i,data),+y$1(d,i,data))}if(buffer)return output=null,buffer+""||null}line.x=function(_){return arguments.length?(x$1=typeof _==="function"?_:constant(+_),line):x$1};line.y=function(_){return arguments.length?(y$1=typeof _==="function"?_:constant(+_),line):y$1};line.defined=function(_){return arguments.length?(defined=typeof _==="function"?_:constant(!!_),line):defined};line.curve=function(_){return arguments.length?(curve=_,context!=null&&(output=curve(context)),line):curve};line.context=function(_){return arguments.length?(_==null?context=output=null:output=curve(context=_),line):context};return line}function area(){var x0=x,x1=null,y0=constant(0),y1=y,defined=constant(true),context=null,curve=curveLinear,output=null;function area(data){var i,j,k,n=data.length,d,defined0=false,buffer,x0z=new Array(n),y0z=new Array(n);if(context==null)output=curve(buffer=d3Path.path());for(i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0){if(defined0=!defined0){j=i;output.areaStart();output.lineStart()}else{output.lineEnd();output.lineStart();for(k=i-1;k>=j;--k){output.point(x0z[k],y0z[k])}output.lineEnd();output.areaEnd()}}if(defined0){x0z[i]=+x0(d,i,data),y0z[i]=+y0(d,i,data);output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i])}}if(buffer)return output=null,buffer+""||null}function arealine(){return line().defined(defined).curve(curve).context(context)}area.x=function(_){return arguments.length?(x0=typeof _==="function"?_:constant(+_),x1=null,area):x0};area.x0=function(_){return arguments.length?(x0=typeof _==="function"?_:constant(+_),area):x0};area.x1=function(_){return arguments.length?(x1=_==null?null:typeof _==="function"?_:constant(+_),area):x1};area.y=function(_){return arguments.length?(y0=typeof _==="function"?_:constant(+_),y1=null,area):y0};area.y0=function(_){return arguments.length?(y0=typeof _==="function"?_:constant(+_),area):y0};area.y1=function(_){return arguments.length?(y1=_==null?null:typeof _==="function"?_:constant(+_),area):y1};area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)};area.lineY1=function(){return arealine().x(x0).y(y1)};area.lineX1=function(){return arealine().x(x1).y(y0)};area.defined=function(_){return arguments.length?(defined=typeof _==="function"?_:constant(!!_),area):defined};area.curve=function(_){return arguments.length?(curve=_,context!=null&&(output=curve(context)),area):curve};area.context=function(_){return arguments.length?(_==null?context=output=null:output=curve(context=_),area):context};return area}function descending(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function identity(d){return d}function pie(){var value=identity,sortValues=descending,sort=null,startAngle=constant(0),endAngle=constant(tau),padAngle=constant(0);function pie(data){var i,n=data.length,j,k,sum=0,index=new Array(n),arcs=new Array(n),a0=+startAngle.apply(this,arguments),da=Math.min(tau,Math.max(-tau,endAngle.apply(this,arguments)-a0)),a1,p=Math.min(Math.abs(da)/n,padAngle.apply(this,arguments)),pa=p*(da<0?-1:1),v;for(i=0;i<n;++i){if((v=arcs[index[i]=i]=+value(data[i],i,data))>0){sum+=v}}if(sortValues!=null)index.sort((function(i,j){return sortValues(arcs[i],arcs[j])}));else if(sort!=null)index.sort((function(i,j){return sort(data[i],data[j])}));for(i=0,k=sum?(da-n*pa)/sum:0;i<n;++i,a0=a1){j=index[i],v=arcs[j],a1=a0+(v>0?v*k:0)+pa,arcs[j]={data:data[j],index:i,value:v,startAngle:a0,endAngle:a1,padAngle:p}}return arcs}pie.value=function(_){return arguments.length?(value=typeof _==="function"?_:constant(+_),pie):value};pie.sortValues=function(_){return arguments.length?(sortValues=_,sort=null,pie):sortValues};pie.sort=function(_){return arguments.length?(sort=_,sortValues=null,pie):sort};pie.startAngle=function(_){return arguments.length?(startAngle=typeof _==="function"?_:constant(+_),pie):startAngle};pie.endAngle=function(_){return arguments.length?(endAngle=typeof _==="function"?_:constant(+_),pie):endAngle};pie.padAngle=function(_){return arguments.length?(padAngle=typeof _==="function"?_:constant(+_),pie):padAngle};return pie}var curveRadialLinear=curveRadial(curveLinear);function Radial(curve){this._curve=curve}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,r){this._curve.point(r*Math.sin(a),r*-Math.cos(a))}};function curveRadial(curve){function radial(context){return new Radial(curve(context))}radial._curve=curve;return radial}function lineRadial(l){var c=l.curve;l.angle=l.x,delete l.x;l.radius=l.y,delete l.y;l.curve=function(_){return arguments.length?c(curveRadial(_)):c()._curve};return l}function lineRadial$1(){return lineRadial(line().curve(curveRadialLinear))}function areaRadial(){var a=area().curve(curveRadialLinear),c=a.curve,x0=a.lineX0,x1=a.lineX1,y0=a.lineY0,y1=a.lineY1;a.angle=a.x,delete a.x;a.startAngle=a.x0,delete a.x0;a.endAngle=a.x1,delete a.x1;a.radius=a.y,delete a.y;a.innerRadius=a.y0,delete a.y0;a.outerRadius=a.y1,delete a.y1;a.lineStartAngle=function(){return lineRadial(x0())},delete a.lineX0;a.lineEndAngle=function(){return lineRadial(x1())},delete a.lineX1;a.lineInnerRadius=function(){return lineRadial(y0())},delete a.lineY0;a.lineOuterRadius=function(){return lineRadial(y1())},delete a.lineY1;a.curve=function(_){return arguments.length?c(curveRadial(_)):c()._curve};return a}function pointRadial(x,y){return[(y=+y)*Math.cos(x-=Math.PI/2),y*Math.sin(x)]}var slice=Array.prototype.slice;function linkSource(d){return d.source}function linkTarget(d){return d.target}function link(curve){var source=linkSource,target=linkTarget,x$1=x,y$1=y,context=null;function link(){var buffer,argv=slice.call(arguments),s=source.apply(this,argv),t=target.apply(this,argv);if(!context)context=buffer=d3Path.path();curve(context,+x$1.apply(this,(argv[0]=s,argv)),+y$1.apply(this,argv),+x$1.apply(this,(argv[0]=t,argv)),+y$1.apply(this,argv));if(buffer)return context=null,buffer+""||null}link.source=function(_){return arguments.length?(source=_,link):source};link.target=function(_){return arguments.length?(target=_,link):target};link.x=function(_){return arguments.length?(x$1=typeof _==="function"?_:constant(+_),link):x$1};link.y=function(_){return arguments.length?(y$1=typeof _==="function"?_:constant(+_),link):y$1};link.context=function(_){return arguments.length?(context=_==null?null:_,link):context};return link}function curveHorizontal(context,x0,y0,x1,y1){context.moveTo(x0,y0);context.bezierCurveTo(x0=(x0+x1)/2,y0,x0,y1,x1,y1)}function curveVertical(context,x0,y0,x1,y1){context.moveTo(x0,y0);context.bezierCurveTo(x0,y0=(y0+y1)/2,x1,y0,x1,y1)}function curveRadial$1(context,x0,y0,x1,y1){var p0=pointRadial(x0,y0),p1=pointRadial(x0,y0=(y0+y1)/2),p2=pointRadial(x1,y0),p3=pointRadial(x1,y1);context.moveTo(p0[0],p0[1]);context.bezierCurveTo(p1[0],p1[1],p2[0],p2[1],p3[0],p3[1])}function linkHorizontal(){return link(curveHorizontal)}function linkVertical(){return link(curveVertical)}function linkRadial(){var l=link(curveRadial$1);l.angle=l.x,delete l.x;l.radius=l.y,delete l.y;return l}var circle={draw:function(context,size){var r=Math.sqrt(size/pi);context.moveTo(r,0);context.arc(0,0,r,0,tau)}};var cross={draw:function(context,size){var r=Math.sqrt(size/5)/2;context.moveTo(-3*r,-r);context.lineTo(-r,-r);context.lineTo(-r,-3*r);context.lineTo(r,-3*r);context.lineTo(r,-r);context.lineTo(3*r,-r);context.lineTo(3*r,r);context.lineTo(r,r);context.lineTo(r,3*r);context.lineTo(-r,3*r);context.lineTo(-r,r);context.lineTo(-3*r,r);context.closePath()}};var tan30=Math.sqrt(1/3),tan30_2=tan30*2;var diamond={draw:function(context,size){var y=Math.sqrt(size/tan30_2),x=y*tan30;context.moveTo(0,-y);context.lineTo(x,0);context.lineTo(0,y);context.lineTo(-x,0);context.closePath()}};var ka=.8908130915292852,kr=Math.sin(pi/10)/Math.sin(7*pi/10),kx=Math.sin(tau/10)*kr,ky=-Math.cos(tau/10)*kr;var star={draw:function(context,size){var r=Math.sqrt(size*ka),x=kx*r,y=ky*r;context.moveTo(0,-r);context.lineTo(x,y);for(var i=1;i<5;++i){var a=tau*i/5,c=Math.cos(a),s=Math.sin(a);context.lineTo(s*r,-c*r);context.lineTo(c*x-s*y,s*x+c*y)}context.closePath()}};var square={draw:function(context,size){var w=Math.sqrt(size),x=-w/2;context.rect(x,x,w,w)}};var sqrt3=Math.sqrt(3);var triangle={draw:function(context,size){var y=-Math.sqrt(size/(sqrt3*3));context.moveTo(0,y*2);context.lineTo(-sqrt3*y,-y);context.lineTo(sqrt3*y,-y);context.closePath()}};var c=-.5,s=Math.sqrt(3)/2,k=1/Math.sqrt(12),a=(k/2+1)*3;var wye={draw:function(context,size){var r=Math.sqrt(size/a),x0=r/2,y0=r*k,x1=x0,y1=r*k+r,x2=-x1,y2=y1;context.moveTo(x0,y0);context.lineTo(x1,y1);context.lineTo(x2,y2);context.lineTo(c*x0-s*y0,s*x0+c*y0);context.lineTo(c*x1-s*y1,s*x1+c*y1);context.lineTo(c*x2-s*y2,s*x2+c*y2);context.lineTo(c*x0+s*y0,c*y0-s*x0);context.lineTo(c*x1+s*y1,c*y1-s*x1);context.lineTo(c*x2+s*y2,c*y2-s*x2);context.closePath()}};var symbols=[circle,cross,diamond,square,star,triangle,wye];function symbol(){var type=constant(circle),size=constant(64),context=null;function symbol(){var buffer;if(!context)context=buffer=d3Path.path();type.apply(this,arguments).draw(context,+size.apply(this,arguments));if(buffer)return context=null,buffer+""||null}symbol.type=function(_){return arguments.length?(type=typeof _==="function"?_:constant(_),symbol):type};symbol.size=function(_){return arguments.length?(size=typeof _==="function"?_:constant(+_),symbol):size};symbol.context=function(_){return arguments.length?(context=_==null?null:_,symbol):context};return symbol}function noop(){}function point(that,x,y){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+x)/6,(that._y0+4*that._y1+y)/6)}function Basis(context){this._context=context}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,x,y);break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y}};function basis(context){return new Basis(context)}function BasisClosed(context){this._context=context}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2);this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break}case 3:{this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}}},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._x2=x,this._y2=y;break;case 1:this._point=2;this._x3=x,this._y3=y;break;case 2:this._point=3;this._x4=x,this._y4=y;this._context.moveTo((this._x0+4*this._x1+x)/6,(this._y0+4*this._y1+y)/6);break;default:point(this,x,y);break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y}};function basisClosed(context){return new BasisClosed(context)}function BasisOpen(context){this._context=context}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x0=(this._x0+4*this._x1+x)/6,y0=(this._y0+4*this._y1+y)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point=4;default:point(this,x,y);break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y}};function basisOpen(context){return new BasisOpen(context)}function Bundle(context,beta){this._basis=new Basis(context);this._beta=beta}Bundle.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var x=this._x,y=this._y,j=x.length-1;if(j>0){var x0=x[0],y0=y[0],dx=x[j]-x0,dy=y[j]-y0,i=-1,t;while(++i<=j){t=i/j;this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy))}}this._x=this._y=null;this._basis.lineEnd()},point:function(x,y){this._x.push(+x);this._y.push(+y)}};var bundle=function custom(beta){function bundle(context){return beta===1?new Basis(context):new Bundle(context,beta)}bundle.beta=function(beta){return custom(+beta)};return bundle}(.85);function point$1(that,x,y){that._context.bezierCurveTo(that._x1+that._k*(that._x2-that._x0),that._y1+that._k*(that._y2-that._y0),that._x2+that._k*(that._x1-x),that._y2+that._k*(that._y1-y),that._x2,that._y2)}function Cardinal(context,tension){this._context=context;this._k=(1-tension)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$1(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;this._x1=x,this._y1=y;break;case 2:this._point=3;default:point$1(this,x,y);break}this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var cardinal=function custom(tension){function cardinal(context){return new Cardinal(context,tension)}cardinal.tension=function(tension){return custom(+tension)};return cardinal}(0);function CardinalClosed(context,tension){this._context=context;this._k=(1-tension)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._x3=x,this._y3=y;break;case 1:this._point=2;this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3;this._x5=x,this._y5=y;break;default:point$1(this,x,y);break}this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var cardinalClosed=function custom(tension){function cardinal(context){return new CardinalClosed(context,tension)}cardinal.tension=function(tension){return custom(+tension)};return cardinal}(0);function CardinalOpen(context,tension){this._context=context;this._k=(1-tension)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,x,y);break}this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var cardinalOpen=function custom(tension){function cardinal(context){return new CardinalOpen(context,tension)}cardinal.tension=function(tension){return custom(+tension)};return cardinal}(0);function point$2(that,x,y){var x1=that._x1,y1=that._y1,x2=that._x2,y2=that._y2;if(that._l01_a>epsilon){var a=2*that._l01_2a+3*that._l01_a*that._l12_a+that._l12_2a,n=3*that._l01_a*(that._l01_a+that._l12_a);x1=(x1*a-that._x0*that._l12_2a+that._x2*that._l01_2a)/n;y1=(y1*a-that._y0*that._l12_2a+that._y2*that._l01_2a)/n}if(that._l23_a>epsilon){var b=2*that._l23_2a+3*that._l23_a*that._l12_a+that._l12_2a,m=3*that._l23_a*(that._l23_a+that._l12_a);x2=(x2*b+that._x1*that._l23_2a-x*that._l12_2a)/m;y2=(y2*b+that._y1*that._l23_2a-y*that._l12_2a)/m}that._context.bezierCurveTo(x1,y1,x2,y2,that._x2,that._y2)}function CatmullRom(context,alpha){this._context=context;this._alpha=alpha}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;if(this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,x,y);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var catmullRom=function custom(alpha){function catmullRom(context){return alpha?new CatmullRom(context,alpha):new Cardinal(context,0)}catmullRom.alpha=function(alpha){return custom(+alpha)};return catmullRom}(.5);function CatmullRomClosed(context,alpha){this._context=context;this._alpha=alpha}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(x,y){x=+x,y=+y;if(this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=x,this._y3=y;break;case 1:this._point=2;this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3;this._x5=x,this._y5=y;break;default:point$2(this,x,y);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var catmullRomClosed=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomClosed(context,alpha):new CardinalClosed(context,0)}catmullRom.alpha=function(alpha){return custom(+alpha)};return catmullRom}(.5);function CatmullRomOpen(context,alpha){this._context=context;this._alpha=alpha}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;if(this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,x,y);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var catmullRomOpen=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomOpen(context,alpha):new CardinalOpen(context,0)}catmullRom.alpha=function(alpha){return custom(+alpha)};return catmullRom}(.5);function LinearClosed(context){this._context=context}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(x,y){x=+x,y=+y;if(this._point)this._context.lineTo(x,y);else this._point=1,this._context.moveTo(x,y)}};function linearClosed(context){return new LinearClosed(context)}function sign(x){return x<0?-1:1}function slope3(that,x2,y2){var h0=that._x1-that._x0,h1=x2-that._x1,s0=(that._y1-that._y0)/(h0||h1<0&&-0),s1=(y2-that._y1)/(h1||h0<0&&-0),p=(s0*h1+s1*h0)/(h0+h1);return(sign(s0)+sign(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p))||0}function slope2(that,t){var h=that._x1-that._x0;return h?(3*(that._y1-that._y0)/h-t)/2:t}function point$3(that,t0,t1){var x0=that._x0,y0=that._y0,x1=that._x1,y1=that._y1,dx=(x1-x0)/3;that._context.bezierCurveTo(x0+dx,y0+dx*t0,x1-dx,y1-dx*t1,x1,y1)}function MonotoneX(context){this._context=context}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$3(this,this._t0,slope2(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){var t1=NaN;x=+x,y=+y;if(x===this._x1&&y===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;point$3(this,slope2(this,t1=slope3(this,x,y)),t1);break;default:point$3(this,this._t0,t1=slope3(this,x,y));break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y;this._t0=t1}};function MonotoneY(context){this._context=new ReflectContext(context)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(x,y){MonotoneX.prototype.point.call(this,y,x)};function ReflectContext(context){this._context=context}ReflectContext.prototype={moveTo:function(x,y){this._context.moveTo(y,x)},closePath:function(){this._context.closePath()},lineTo:function(x,y){this._context.lineTo(y,x)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._context.bezierCurveTo(y1,x1,y2,x2,y,x)}};function monotoneX(context){return new MonotoneX(context)}function monotoneY(context){return new MonotoneY(context)}function Natural(context){this._context=context}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var x=this._x,y=this._y,n=x.length;if(n){this._line?this._context.lineTo(x[0],y[0]):this._context.moveTo(x[0],y[0]);if(n===2){this._context.lineTo(x[1],y[1])}else{var px=controlPoints(x),py=controlPoints(y);for(var i0=0,i1=1;i1<n;++i0,++i1){this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x[i1],y[i1])}}}if(this._line||this._line!==0&&n===1)this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(x,y){this._x.push(+x);this._y.push(+y)}};function controlPoints(x){var i,n=x.length-1,m,a=new Array(n),b=new Array(n),r=new Array(n);a[0]=0,b[0]=2,r[0]=x[0]+2*x[1];for(i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*x[i]+2*x[i+1];a[n-1]=2,b[n-1]=7,r[n-1]=8*x[n-1]+x[n];for(i=1;i<n;++i)m=a[i]/b[i-1],b[i]-=m,r[i]-=m*r[i-1];a[n-1]=r[n-1]/b[n-1];for(i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];b[n-1]=(x[n]+a[n-1])/2;for(i=0;i<n-1;++i)b[i]=2*x[i+1]-a[i+1];return[a,b]}function natural(context){return new Natural(context)}function Step(context,t){this._context=context;this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:{if(this._t<=0){this._context.lineTo(this._x,y);this._context.lineTo(x,y)}else{var x1=this._x*(1-this._t)+x*this._t;this._context.lineTo(x1,this._y);this._context.lineTo(x1,y)}break}}this._x=x,this._y=y}};function step(context){return new Step(context,.5)}function stepBefore(context){return new Step(context,0)}function stepAfter(context){return new Step(context,1)}function none(series,order){if(!((n=series.length)>1))return;for(var i=1,j,s0,s1=series[order[0]],n,m=s1.length;i<n;++i){s0=s1,s1=series[order[i]];for(j=0;j<m;++j){s1[j][1]+=s1[j][0]=isNaN(s0[j][1])?s0[j][0]:s0[j][1]}}}function none$1(series){var n=series.length,o=new Array(n);while(--n>=0)o[n]=n;return o}function stackValue(d,key){return d[key]}function stack(){var keys=constant([]),order=none$1,offset=none,value=stackValue;function stack(data){var kz=keys.apply(this,arguments),i,m=data.length,n=kz.length,sz=new Array(n),oz;for(i=0;i<n;++i){for(var ki=kz[i],si=sz[i]=new Array(m),j=0,sij;j<m;++j){si[j]=sij=[0,+value(data[j],ki,j,data)];sij.data=data[j]}si.key=ki}for(i=0,oz=order(sz);i<n;++i){sz[oz[i]].index=i}offset(sz,oz);return sz}stack.keys=function(_){return arguments.length?(keys=typeof _==="function"?_:constant(slice.call(_)),stack):keys};stack.value=function(_){return arguments.length?(value=typeof _==="function"?_:constant(+_),stack):value};stack.order=function(_){return arguments.length?(order=_==null?none$1:typeof _==="function"?_:constant(slice.call(_)),stack):order};stack.offset=function(_){return arguments.length?(offset=_==null?none:_,stack):offset};return stack}function expand(series,order){if(!((n=series.length)>0))return;for(var i,n,j=0,m=series[0].length,y;j<m;++j){for(y=i=0;i<n;++i)y+=series[i][j][1]||0;if(y)for(i=0;i<n;++i)series[i][j][1]/=y}none(series,order)}function diverging(series,order){if(!((n=series.length)>0))return;for(var i,j=0,d,dy,yp,yn,n,m=series[order[0]].length;j<m;++j){for(yp=yn=0,i=0;i<n;++i){if((dy=(d=series[order[i]][j])[1]-d[0])>0){d[0]=yp,d[1]=yp+=dy}else if(dy<0){d[1]=yn,d[0]=yn+=dy}else{d[0]=0,d[1]=dy}}}}function silhouette(series,order){if(!((n=series.length)>0))return;for(var j=0,s0=series[order[0]],n,m=s0.length;j<m;++j){for(var i=0,y=0;i<n;++i)y+=series[i][j][1]||0;s0[j][1]+=s0[j][0]=-y/2}none(series,order)}function wiggle(series,order){if(!((n=series.length)>0)||!((m=(s0=series[order[0]]).length)>0))return;for(var y=0,j=1,s0,m,n;j<m;++j){for(var i=0,s1=0,s2=0;i<n;++i){var si=series[order[i]],sij0=si[j][1]||0,sij1=si[j-1][1]||0,s3=(sij0-sij1)/2;for(var k=0;k<i;++k){var sk=series[order[k]],skj0=sk[j][1]||0,skj1=sk[j-1][1]||0;s3+=skj0-skj1}s1+=sij0,s2+=s3*sij0}s0[j-1][1]+=s0[j-1][0]=y;if(s1)y-=s2/s1}s0[j-1][1]+=s0[j-1][0]=y;none(series,order)}function appearance(series){var peaks=series.map(peak);return none$1(series).sort((function(a,b){return peaks[a]-peaks[b]}))}function peak(series){var i=-1,j=0,n=series.length,vi,vj=-Infinity;while(++i<n)if((vi=+series[i][1])>vj)vj=vi,j=i;return j}function ascending(series){var sums=series.map(sum);return none$1(series).sort((function(a,b){return sums[a]-sums[b]}))}function sum(series){var s=0,i=-1,n=series.length,v;while(++i<n)if(v=+series[i][1])s+=v;return s}function descending$1(series){return ascending(series).reverse()}function insideOut(series){var n=series.length,i,j,sums=series.map(sum),order=appearance(series),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i){j=order[i];if(top<bottom){top+=sums[j];tops.push(j)}else{bottom+=sums[j];bottoms.push(j)}}return bottoms.reverse().concat(tops)}function reverse(series){return none$1(series).reverse()}exports.arc=arc;exports.area=area;exports.areaRadial=areaRadial;exports.curveBasis=basis;exports.curveBasisClosed=basisClosed;exports.curveBasisOpen=basisOpen;exports.curveBundle=bundle;exports.curveCardinal=cardinal;exports.curveCardinalClosed=cardinalClosed;exports.curveCardinalOpen=cardinalOpen;exports.curveCatmullRom=catmullRom;exports.curveCatmullRomClosed=catmullRomClosed;exports.curveCatmullRomOpen=catmullRomOpen;exports.curveLinear=curveLinear;exports.curveLinearClosed=linearClosed;exports.curveMonotoneX=monotoneX;exports.curveMonotoneY=monotoneY;exports.curveNatural=natural;exports.curveStep=step;exports.curveStepAfter=stepAfter;exports.curveStepBefore=stepBefore;exports.line=line;exports.lineRadial=lineRadial$1;exports.linkHorizontal=linkHorizontal;exports.linkRadial=linkRadial;exports.linkVertical=linkVertical;exports.pie=pie;exports.pointRadial=pointRadial;exports.radialArea=areaRadial;exports.radialLine=lineRadial$1;exports.stack=stack;exports.stackOffsetDiverging=diverging;exports.stackOffsetExpand=expand;exports.stackOffsetNone=none;exports.stackOffsetSilhouette=silhouette;exports.stackOffsetWiggle=wiggle;exports.stackOrderAppearance=appearance;exports.stackOrderAscending=ascending;exports.stackOrderDescending=descending$1;exports.stackOrderInsideOut=insideOut;exports.stackOrderNone=none$1;exports.stackOrderReverse=reverse;exports.symbol=symbol;exports.symbolCircle=circle;exports.symbolCross=cross;exports.symbolDiamond=diamond;exports.symbolSquare=square;exports.symbolStar=star;exports.symbolTriangle=triangle;exports.symbolWye=wye;exports.symbols=symbols;Object.defineProperty(exports,"__esModule",{value:true})}))},,,function(module,exports,__webpack_require__){module.exports=!__webpack_require__(163)((function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}))},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(124),stackClear=__webpack_require__(557),stackDelete=__webpack_require__(558),stackGet=__webpack_require__(559),stackHas=__webpack_require__(560),stackSet=__webpack_require__(561);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;module.exports=Stack},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(552),listCacheDelete=__webpack_require__(553),listCacheGet=__webpack_require__(554),listCacheHas=__webpack_require__(555),listCacheSet=__webpack_require__(556);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(97);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports,__webpack_require__){var getNative=__webpack_require__(84);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(576);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(129),eq=__webpack_require__(97);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(231);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports){function baseUnary(func){return function(value){return func(value)}}module.exports=baseUnary},function(module,exports){var objectProto=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}module.exports=isPrototype},function(module,exports,__webpack_require__){var overArg=__webpack_require__(233);var getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(176),createBaseEach=__webpack_require__(605);var baseEach=createBaseEach(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){var castPath=__webpack_require__(136),toKey=__webpack_require__(115);function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}module.exports=baseGet},function(module,exports,__webpack_require__){var isArray=__webpack_require__(53),isKey=__webpack_require__(179),stringToPath=__webpack_require__(619),toString=__webpack_require__(256);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports,__webpack_require__){var identity=__webpack_require__(87),overRest=__webpack_require__(265),setToString=__webpack_require__(266);function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}module.exports=baseRest},function(module,exports,__webpack_require__){var eq=__webpack_require__(97),isArrayLike=__webpack_require__(71),isIndex=__webpack_require__(130),isObject=__webpack_require__(65);function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}module.exports=isIterateeCall},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);module.exports={longestPath:longestPath,slack:slack};function longestPath(g){var visited={};function dfs(v){var label=g.node(v);if(_.has(visited,v)){return label.rank}visited[v]=true;var rank=_.min(_.map(g.outEdges(v),(function(e){return dfs(e.w)-g.edge(e).minlen})));if(rank===Number.POSITIVE_INFINITY||rank===undefined||rank===null){rank=0}return label.rank=rank}_.forEach(g.sources(),dfs)}function slack(g,e){return g.node(e.w).rank-g.node(e.v).rank-g.edge(e).minlen}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ErrorDetailLink}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _APMLink__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ErrorDetailLink(_ref){let serviceName=_ref.serviceName,errorGroupId=_ref.errorGroupId,rest=_objectWithoutProperties(_ref,["serviceName","errorGroupId"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_APMLink__WEBPACK_IMPORTED_MODULE_1__["a"],_extends({path:"/services/".concat(serviceName,"/errors/").concat(errorGroupId)},rest))}},function(module,exports,__webpack_require__){(function(global){var now=__webpack_require__(757),root=typeof window==="undefined"?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i=0;!raf&&i<vendors.length;i++){raf=root[vendors[i]+"Request"+suffix];caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix]}if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(queue.length===0){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now;setTimeout((function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++){if(!cp[i].cancelled){try{cp[i].callback(last)}catch(e){setTimeout((function(){throw e}),0)}}}}),Math.round(next))}queue.push({handle:++id,callback:callback,cancelled:false});return id};caf=function(handle){for(var i=0;i<queue.length;i++){if(queue[i].handle===handle){queue[i].cancelled=true}}}}module.exports=function(fn){return raf.call(root,fn)};module.exports.cancel=function(){caf.apply(root,arguments)};module.exports.polyfill=function(object){if(!object){object=root}object.requestAnimationFrame=raf;object.cancelAnimationFrame=caf}}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function formatDecimal(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function exponent(x){return x=formatDecimal(Math.abs(x)),x?x[1]:NaN}function formatGroup(grouping,thousands){return function(value,width){var i=value.length,t=[],j=0,g=grouping[0],length=0;while(i>0&&g>0){if(length+g+1>width)g=Math.max(1,width-length);t.push(value.substring(i-=g,i+g));if((length+=g+1)>width)break;g=grouping[j=(j+1)%grouping.length]}return t.reverse().join(thousands)}}function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(specifier){this.fill=specifier.fill===undefined?" ":specifier.fill+"";this.align=specifier.align===undefined?">":specifier.align+"";this.sign=specifier.sign===undefined?"-":specifier.sign+"";this.symbol=specifier.symbol===undefined?"":specifier.symbol+"";this.zero=!!specifier.zero;this.width=specifier.width===undefined?undefined:+specifier.width;this.comma=!!specifier.comma;this.precision=specifier.precision===undefined?undefined:+specifier.precision;this.trim=!!specifier.trim;this.type=specifier.type===undefined?"":specifier.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(s){out:for(var n=s.length,i=1,i0=-1,i1;i<n;++i){switch(s[i]){case".":i0=i1=i;break;case"0":if(i0===0)i0=i;i1=i;break;default:if(!+s[i])break out;if(i0>0)i0=0;break}}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}var prefixExponent;function formatPrefixAuto(x,p){var d=formatDecimal(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(exponent/3)))*3)+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimal(x,Math.max(0,p+i-1))[0]}function formatRounded(x,p){var d=formatDecimal(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}var formatTypes={"%":function(x,p){return(x*100).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.round(x).toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return formatRounded(x*100,p)},r:formatRounded,s:formatPrefixAuto,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function identity(x){return x}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(locale){var group=locale.grouping===undefined||locale.thousands===undefined?identity:formatGroup(map.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=locale.currency===undefined?"":locale.currency[0]+"",currencySuffix=locale.currency===undefined?"":locale.currency[1]+"",decimal=locale.decimal===undefined?".":locale.decimal+"",numerals=locale.numerals===undefined?identity:formatNumerals(map.call(locale.numerals,String)),percent=locale.percent===undefined?"%":locale.percent+"",minus=locale.minus===undefined?"-":locale.minus+"",nan=locale.nan===undefined?"NaN":locale.nan+"";function newFormat(specifier){specifier=formatSpecifier(specifier);var fill=specifier.fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;if(type==="n")comma=true,type="g";else if(!formatTypes[type])precision===undefined&&(precision=12),trim=true,type="g";if(zero||fill==="0"&&align==="=")zero=true,fill="0",align="=";var prefix=symbol==="$"?currencyPrefix:symbol==="#"&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix=symbol==="$"?currencySuffix:/[%p]/.test(type)?percent:"";var formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);precision=precision===undefined?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision));function format(value){var valuePrefix=prefix,valueSuffix=suffix,i,n,c;if(type==="c"){valueSuffix=formatType(value)+valueSuffix;value=""}else{value=+value;var valueNegative=value<0||1/value<0;value=isNaN(value)?nan:formatType(Math.abs(value),precision);if(trim)value=formatTrim(value);if(valueNegative&&+value===0&&sign!=="+")valueNegative=false;valuePrefix=(valueNegative?sign==="("?sign:minus:sign==="-"||sign==="("?"":sign)+valuePrefix;valueSuffix=(type==="s"?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&sign==="("?")":"");if(maybeSuffix){i=-1,n=value.length;while(++i<n){if(c=value.charCodeAt(i),48>c||c>57){valueSuffix=(c===46?decimal+value.slice(i+1):value.slice(i))+valueSuffix;value=value.slice(0,i);break}}}}if(comma&&!zero)value=group(value,Infinity);var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";if(comma&&zero)value=group(padding+value,padding.length?width-valueSuffix.length:Infinity),padding="";switch(align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix;break}return numerals(value)}format.toString=function(){return specifier+""};return format}function formatPrefix(specifier,value){var f=newFormat((specifier=formatSpecifier(specifier),specifier.type="f",specifier)),e=Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))*3,k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}return{format:newFormat,formatPrefix:formatPrefix}}var locale;defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function defaultLocale(definition){locale=formatLocale(definition);exports.format=locale.format;exports.formatPrefix=locale.formatPrefix;return locale}function precisionFixed(step){return Math.max(0,-exponent(Math.abs(step)))}function precisionPrefix(step,value){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))*3-exponent(Math.abs(step)))}function precisionRound(step,max){step=Math.abs(step),max=Math.abs(max)-step;return Math.max(0,exponent(max)-exponent(step))+1}exports.FormatSpecifier=FormatSpecifier;exports.formatDefaultLocale=defaultLocale;exports.formatLocale=formatLocale;exports.formatSpecifier=formatSpecifier;exports.precisionFixed=precisionFixed;exports.precisionPrefix=precisionPrefix;exports.precisionRound=precisionRound;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=stripStyle;function stripStyle(style){var ret={};for(var key in style){if(!Object.prototype.hasOwnProperty.call(style,key)){continue}ret[key]=typeof style[key]==="number"?style[key]:style[key].val}return ret}module.exports=exports["default"]},,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DatePicker}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20);var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);var _src_plugins_data_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39);var _src_plugins_data_common__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_plugins_data_common__WEBPACK_IMPORTED_MODULE_3__);var _hooks_useApmPluginContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45);var _hooks_useUrlParams__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);var _services_rest_callApi__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120);var _Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function DatePicker(){const history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["useHistory"])();const location=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["useLocation"])();const _useApmPluginContext=Object(_hooks_useApmPluginContext__WEBPACK_IMPORTED_MODULE_4__["a"])(),core=_useApmPluginContext.core,plugins=_useApmPluginContext.plugins;const timePickerQuickRanges=core.uiSettings.get(_src_plugins_data_common__WEBPACK_IMPORTED_MODULE_3__["UI_SETTINGS"].TIMEPICKER_QUICK_RANGES);const timePickerTimeDefaults=core.uiSettings.get(_src_plugins_data_common__WEBPACK_IMPORTED_MODULE_3__["UI_SETTINGS"].TIMEPICKER_TIME_DEFAULTS);const commonlyUsedRanges=timePickerQuickRanges.map(({from:from,to:to,display:display})=>({start:from,end:to,label:display}));const _useUrlParams=Object(_hooks_useUrlParams__WEBPACK_IMPORTED_MODULE_5__["a"])(),urlParams=_useUrlParams.urlParams,refreshTimeRange=_useUrlParams.refreshTimeRange;function updateUrl(nextQuery){history.push(_objectSpread(_objectSpread({},location),{},{search:Object(_Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__["b"])(_objectSpread(_objectSpread({},Object(_Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__["c"])(location.search)),nextQuery))}))}function onRefreshChange({isPaused:isPaused,refreshInterval:refreshInterval}){updateUrl({refreshPaused:isPaused,refreshInterval:refreshInterval})}function onTimeChange({start:start,end:end}){updateUrl({rangeFrom:start,rangeTo:end})}Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(()=>{var _ref,_urlParams$rangeFrom,_ref2,_urlParams$rangeTo;if(urlParams.rangeFrom&&urlParams.rangeTo){plugins.data.query.timefilter.timefilter.setTime({from:urlParams.rangeFrom,to:urlParams.rangeTo});return}const timePickerSharedState=plugins.data.query.timefilter.timefilter.getTime();history.replace(_objectSpread(_objectSpread({},location),{},{search:Object(_Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__["b"])(_objectSpread(_objectSpread({},Object(_Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__["c"])(location.search)),{},{rangeFrom:(_ref=(_urlParams$rangeFrom=urlParams.rangeFrom)!==null&&_urlParams$rangeFrom!==void 0?_urlParams$rangeFrom:timePickerSharedState.from)!==null&&_ref!==void 0?_ref:timePickerTimeDefaults.from,rangeTo:(_ref2=(_urlParams$rangeTo=urlParams.rangeTo)!==null&&_urlParams$rangeTo!==void 0?_urlParams$rangeTo:timePickerSharedState.to)!==null&&_ref2!==void 0?_ref2:timePickerTimeDefaults.to}))}))},[urlParams.rangeFrom,urlParams.rangeTo,plugins,history,location,timePickerTimeDefaults]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiSuperDatePicker"],{start:urlParams.rangeFrom,end:urlParams.rangeTo,isPaused:urlParams.refreshPaused,refreshInterval:urlParams.refreshInterval,onTimeChange:onTimeChange,onRefresh:({start:start,end:end})=>{Object(_services_rest_callApi__WEBPACK_IMPORTED_MODULE_6__["b"])();refreshTimeRange({rangeFrom:start,rangeTo:end})},onRefreshChange:onRefreshChange,showUpdateButton:true,commonlyUsedRanges:commonlyUsedRanges})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function stripUnit(value){var unitlessValue=parseFloat(value);if(isNaN(unitlessValue))return value;return unitlessValue}exports.default=stripUnit;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function colorToInt(color){return Math.round(color*255)}function convertToInt(red,green,blue){return colorToInt(red)+","+colorToInt(green)+","+colorToInt(blue)}function hslToRgb(hue,saturation,lightness){var convert=arguments.length>3&&arguments[3]!==undefined?arguments[3]:convertToInt;if(saturation===0){return convert(lightness,lightness,lightness)}var huePrime=hue%360/60;var chroma=(1-Math.abs(2*lightness-1))*saturation;var secondComponent=chroma*(1-Math.abs(huePrime%2-1));var red=0;var green=0;var blue=0;if(huePrime>=0&&huePrime<1){red=chroma;green=secondComponent}else if(huePrime>=1&&huePrime<2){red=secondComponent;green=chroma}else if(huePrime>=2&&huePrime<3){green=chroma;blue=secondComponent}else if(huePrime>=3&&huePrime<4){green=secondComponent;blue=chroma}else if(huePrime>=4&&huePrime<5){red=secondComponent;blue=chroma}else if(huePrime>=5&&huePrime<6){red=chroma;blue=secondComponent}var lightnessModification=lightness-chroma/2;var finalRed=red+lightnessModification;var finalGreen=green+lightnessModification;var finalBlue=blue+lightnessModification;return convert(finalRed,finalGreen,finalBlue)}exports.default=hslToRgb;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _reduceHexValue=__webpack_require__(215);var _reduceHexValue2=_interopRequireDefault(_reduceHexValue);var _numberToHex=__webpack_require__(216);var _numberToHex2=_interopRequireDefault(_numberToHex);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function rgb(value,green,blue){if(typeof value==="number"&&typeof green==="number"&&typeof blue==="number"){return(0,_reduceHexValue2.default)("#"+(0,_numberToHex2.default)(value)+(0,_numberToHex2.default)(green)+(0,_numberToHex2.default)(blue))}else if(typeof value==="object"&&green===undefined&&blue===undefined){return(0,_reduceHexValue2.default)("#"+(0,_numberToHex2.default)(value.red)+(0,_numberToHex2.default)(value.green)+(0,_numberToHex2.default)(value.blue))}throw new Error("Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).")}exports.default=rgb;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _rgba=__webpack_require__(110);var _rgba2=_interopRequireDefault(_rgba);var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function mix(){var weight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.5;var color=arguments[1];var otherColor=arguments[2];var parsedColor1=(0,_parseToRgb2.default)(color);var color1=_extends({},parsedColor1,{alpha:typeof parsedColor1.alpha==="number"?parsedColor1.alpha:1});var parsedColor2=(0,_parseToRgb2.default)(otherColor);var color2=_extends({},parsedColor2,{alpha:typeof parsedColor2.alpha==="number"?parsedColor2.alpha:1});var alphaDelta=color1.alpha-color2.alpha;var x=weight*2-1;var y=x*alphaDelta===-1?x:x+alphaDelta;var z=1+x*alphaDelta;var weight1=(y/z+1)/2;var weight2=1-weight1;var mixedColor={red:Math.floor(color1.red*weight1+color2.red*weight2),green:Math.floor(color1.green*weight1+color2.green*weight2),blue:Math.floor(color1.blue*weight1+color2.blue*weight2),alpha:color1.alpha+(color2.alpha-color1.alpha)*(weight/1)};return(0,_rgba2.default)(mixedColor)}var curriedMix=(0,_curry2.default)(mix);exports.default=curriedMix;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.registerLanguage=undefined;var _highlight=__webpack_require__(431);var _highlight2=_interopRequireDefault(_highlight);var _core=__webpack_require__(462);var _core2=_interopRequireDefault(_core);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerLanguage=exports.registerLanguage=_core2.default.registerLanguage;exports.default=(0,_highlight2.default)(_core2.default,{})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(432),__esModule:true}},function(module,exports){var global=module.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=global},function(module,exports){var core=module.exports={version:"2.6.9"};if(typeof __e=="number")__e=core},function(module,exports){module.exports=function(it){return typeof it==="object"?it!==null:typeof it==="function"}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return true}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(){var d3={version:"3.5.17"};var d3_arraySlice=[].slice,d3_array=function(list){return d3_arraySlice.call(list)};var d3_document=this.document;function d3_documentElement(node){return node&&(node.ownerDocument||node.document||node).documentElement}function d3_window(node){return node&&(node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView)}if(d3_document){try{d3_array(d3_document.documentElement.childNodes)[0].nodeType}catch(e){d3_array=function(list){var i=list.length,array=new Array(i);while(i--)array[i]=list[i];return array}}}if(!Date.now)Date.now=function(){return+new Date};if(d3_document){try{d3_document.createElement("DIV").style.setProperty("opacity",0,"")}catch(error){var d3_element_prototype=this.Element.prototype,d3_element_setAttribute=d3_element_prototype.setAttribute,d3_element_setAttributeNS=d3_element_prototype.setAttributeNS,d3_style_prototype=this.CSSStyleDeclaration.prototype,d3_style_setProperty=d3_style_prototype.setProperty;d3_element_prototype.setAttribute=function(name,value){d3_element_setAttribute.call(this,name,value+"")};d3_element_prototype.setAttributeNS=function(space,local,value){d3_element_setAttributeNS.call(this,space,local,value+"")};d3_style_prototype.setProperty=function(name,value,priority){d3_style_setProperty.call(this,name,value+"",priority)}}}d3.ascending=d3_ascending;function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};d3.min=function(array,f){var i=-1,n=array.length,a,b;if(arguments.length===1){while(++i<n)if((b=array[i])!=null&&b>=b){a=b;break}while(++i<n)if((b=array[i])!=null&&a>b)a=b}else{while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>=b){a=b;break}while(++i<n)if((b=f.call(array,array[i],i))!=null&&a>b)a=b}return a};d3.max=function(array,f){var i=-1,n=array.length,a,b;if(arguments.length===1){while(++i<n)if((b=array[i])!=null&&b>=b){a=b;break}while(++i<n)if((b=array[i])!=null&&b>a)a=b}else{while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>=b){a=b;break}while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>a)a=b}return a};d3.extent=function(array,f){var i=-1,n=array.length,a,b,c;if(arguments.length===1){while(++i<n)if((b=array[i])!=null&&b>=b){a=c=b;break}while(++i<n)if((b=array[i])!=null){if(a>b)a=b;if(c<b)c=b}}else{while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>=b){a=c=b;break}while(++i<n)if((b=f.call(array,array[i],i))!=null){if(a>b)a=b;if(c<b)c=b}}return[a,c]};function d3_number(x){return x===null?NaN:+x}function d3_numeric(x){return!isNaN(x)}d3.sum=function(array,f){var s=0,n=array.length,a,i=-1;if(arguments.length===1){while(++i<n)if(d3_numeric(a=+array[i]))s+=a}else{while(++i<n)if(d3_numeric(a=+f.call(array,array[i],i)))s+=a}return s};d3.mean=function(array,f){var s=0,n=array.length,a,i=-1,j=n;if(arguments.length===1){while(++i<n)if(d3_numeric(a=d3_number(array[i])))s+=a;else--j}else{while(++i<n)if(d3_numeric(a=d3_number(f.call(array,array[i],i))))s+=a;else--j}if(j)return s/j};d3.quantile=function(values,p){var H=(values.length-1)*p+1,h=Math.floor(H),v=+values[h-1],e=H-h;return e?v+e*(values[h]-v):v};d3.median=function(array,f){var numbers=[],n=array.length,a,i=-1;if(arguments.length===1){while(++i<n)if(d3_numeric(a=d3_number(array[i])))numbers.push(a)}else{while(++i<n)if(d3_numeric(a=d3_number(f.call(array,array[i],i))))numbers.push(a)}if(numbers.length)return d3.quantile(numbers.sort(d3_ascending),.5)};d3.variance=function(array,f){var n=array.length,m=0,a,d,s=0,i=-1,j=0;if(arguments.length===1){while(++i<n){if(d3_numeric(a=d3_number(array[i]))){d=a-m;m+=d/++j;s+=d*(a-m)}}}else{while(++i<n){if(d3_numeric(a=d3_number(f.call(array,array[i],i)))){d=a-m;m+=d/++j;s+=d*(a-m)}}}if(j>1)return s/(j-1)};d3.deviation=function(){var v=d3.variance.apply(this,arguments);return v?Math.sqrt(v):v};function d3_bisector(compare){return{left:function(a,x,lo,hi){if(arguments.length<3)lo=0;if(arguments.length<4)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)<0)lo=mid+1;else hi=mid}return lo},right:function(a,x,lo,hi){if(arguments.length<3)lo=0;if(arguments.length<4)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)>0)hi=mid;else lo=mid+1}return lo}}}var d3_bisect=d3_bisector(d3_ascending);d3.bisectLeft=d3_bisect.left;d3.bisect=d3.bisectRight=d3_bisect.right;d3.bisector=function(f){return d3_bisector(f.length===1?function(d,x){return d3_ascending(f(d),x)}:f)};d3.shuffle=function(array,i0,i1){if((m=arguments.length)<3){i1=array.length;if(m<2)i0=0}var m=i1-i0,t,i;while(m){i=Math.random()*m--|0;t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t}return array};d3.permute=function(array,indexes){var i=indexes.length,permutes=new Array(i);while(i--)permutes[i]=array[indexes[i]];return permutes};d3.pairs=function(array){var i=0,n=array.length-1,p0,p1=array[0],pairs=new Array(n<0?0:n);while(i<n)pairs[i]=[p0=p1,p1=array[++i]];return pairs};d3.transpose=function(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=d3.min(matrix,d3_transposeLength),transpose=new Array(m);++i<m;){for(var j=-1,n,row=transpose[i]=new Array(n);++j<n;){row[j]=matrix[j][i]}}return transpose};function d3_transposeLength(d){return d.length}d3.zip=function(){return d3.transpose(arguments)};d3.keys=function(map){var keys=[];for(var key in map)keys.push(key);return keys};d3.values=function(map){var values=[];for(var key in map)values.push(map[key]);return values};d3.entries=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries};d3.merge=function(arrays){var n=arrays.length,m,i=-1,j=0,merged,array;while(++i<n)j+=arrays[i].length;merged=new Array(j);while(--n>=0){array=arrays[n];m=array.length;while(--m>=0){merged[--j]=array[m]}}return merged};var abs=Math.abs;d3.range=function(start,stop,step){if(arguments.length<3){step=1;if(arguments.length<2){stop=start;start=0}}if((stop-start)/step===Infinity)throw new Error("infinite range");var range=[],k=d3_range_integerScale(abs(step)),i=-1,j;start*=k,stop*=k,step*=k;if(step<0)while((j=start+step*++i)>stop)range.push(j/k);else while((j=start+step*++i)<stop)range.push(j/k);return range};function d3_range_integerScale(x){var k=1;while(x*k%1)k*=10;return k}function d3_class(ctor,properties){for(var key in properties){Object.defineProperty(ctor.prototype,key,{value:properties[key],enumerable:false})}}d3.map=function(object,f){var map=new d3_Map;if(object instanceof d3_Map){object.forEach((function(key,value){map.set(key,value)}))}else if(Array.isArray(object)){var i=-1,n=object.length,o;if(arguments.length===1)while(++i<n)map.set(i,object[i]);else while(++i<n)map.set(f.call(object,o=object[i],i),o)}else{for(var key in object)map.set(key,object[key])}return map};function d3_Map(){this._=Object.create(null)}var d3_map_proto="__proto__",d3_map_zero="\0";d3_class(d3_Map,{has:d3_map_has,get:function(key){return this._[d3_map_escape(key)]},set:function(key,value){return this._[d3_map_escape(key)]=value},remove:d3_map_remove,keys:d3_map_keys,values:function(){var values=[];for(var key in this._)values.push(this._[key]);return values},entries:function(){var entries=[];for(var key in this._)entries.push({key:d3_map_unescape(key),value:this._[key]});return entries},size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key),this._[key])}});function d3_map_escape(key){return(key+="")===d3_map_proto||key[0]===d3_map_zero?d3_map_zero+key:key}function d3_map_unescape(key){return(key+="")[0]===d3_map_zero?key.slice(1):key}function d3_map_has(key){return d3_map_escape(key)in this._}function d3_map_remove(key){return(key=d3_map_escape(key))in this._&&delete this._[key]}function d3_map_keys(){var keys=[];for(var key in this._)keys.push(d3_map_unescape(key));return keys}function d3_map_size(){var size=0;for(var key in this._)++size;return size}function d3_map_empty(){for(var key in this._)return false;return true}d3.nest=function(){var nest={},keys=[],sortKeys=[],sortValues,rollup;function map(mapType,array,depth){if(depth>=keys.length)return rollup?rollup.call(nest,array):sortValues?array.sort(sortValues):array;var i=-1,n=array.length,key=keys[depth++],keyValue,object,setter,valuesByKey=new d3_Map,values;while(++i<n){if(values=valuesByKey.get(keyValue=key(object=array[i]))){values.push(object)}else{valuesByKey.set(keyValue,[object])}}if(mapType){object=mapType();setter=function(keyValue,values){object.set(keyValue,map(mapType,values,depth))}}else{object={};setter=function(keyValue,values){object[keyValue]=map(mapType,values,depth)}}valuesByKey.forEach(setter);return object}function entries(map,depth){if(depth>=keys.length)return map;var array=[],sortKey=sortKeys[depth++];map.forEach((function(key,keyMap){array.push({key:key,values:entries(keyMap,depth)})}));return sortKey?array.sort((function(a,b){return sortKey(a.key,b.key)})):array}nest.map=function(array,mapType){return map(mapType,array,0)};nest.entries=function(array){return entries(map(d3.map,array,0),0)};nest.key=function(d){keys.push(d);return nest};nest.sortKeys=function(order){sortKeys[keys.length-1]=order;return nest};nest.sortValues=function(order){sortValues=order;return nest};nest.rollup=function(f){rollup=f;return nest};return nest};d3.set=function(array){var set=new d3_Set;if(array)for(var i=0,n=array.length;i<n;++i)set.add(array[i]);return set};function d3_Set(){this._=Object.create(null)}d3_class(d3_Set,{has:d3_map_has,add:function(key){this._[d3_map_escape(key+="")]=true;return key},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key))}});d3.behavior={};function d3_identity(d){return d}d3.rebind=function(target,source){var i=1,n=arguments.length,method;while(++i<n)target[method=arguments[i]]=d3_rebind(target,source,source[method]);return target};function d3_rebind(target,source,method){return function(){var value=method.apply(source,arguments);return value===source?target:value}}function d3_vendorSymbol(object,name){if(name in object)return name;name=name.charAt(0).toUpperCase()+name.slice(1);for(var i=0,n=d3_vendorPrefixes.length;i<n;++i){var prefixName=d3_vendorPrefixes[i]+name;if(prefixName in object)return prefixName}}var d3_vendorPrefixes=["webkit","ms","moz","Moz","o","O"];function d3_noop(){}d3.dispatch=function(){var dispatch=new d3_dispatch,i=-1,n=arguments.length;while(++i<n)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch};function d3_dispatch(){}d3_dispatch.prototype.on=function(type,listener){var i=type.indexOf("."),name="";if(i>=0){name=type.slice(i+1);type=type.slice(0,i)}if(type)return arguments.length<2?this[type].on(name):this[type].on(name,listener);if(arguments.length===2){if(listener==null)for(type in this){if(this.hasOwnProperty(type))this[type].on(name,null)}return this}};function d3_dispatch_event(dispatch){var listeners=[],listenerByName=new d3_Map;function event(){var z=listeners,i=-1,n=z.length,l;while(++i<n)if(l=z[i].on)l.apply(this,arguments);return dispatch}event.on=function(name,listener){var l=listenerByName.get(name),i;if(arguments.length<2)return l&&l.on;if(l){l.on=null;listeners=listeners.slice(0,i=listeners.indexOf(l)).concat(listeners.slice(i+1));listenerByName.remove(name)}if(listener)listeners.push(listenerByName.set(name,{on:listener}));return dispatch};return event}d3.event=null;function d3_eventPreventDefault(){d3.event.preventDefault()}function d3_eventSource(){var e=d3.event,s;while(s=e.sourceEvent)e=s;return e}function d3_eventDispatch(target){var dispatch=new d3_dispatch,i=0,n=arguments.length;while(++i<n)dispatch[arguments[i]]=d3_dispatch_event(dispatch);dispatch.of=function(thiz,argumentz){return function(e1){try{var e0=e1.sourceEvent=d3.event;e1.target=target;d3.event=e1;dispatch[e1.type].apply(thiz,argumentz)}finally{d3.event=e0}}};return dispatch}d3.requote=function(s){return s.replace(d3_requote_re,"\\$&")};var d3_requote_re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var d3_subclass={}.__proto__?function(object,prototype){object.__proto__=prototype}:function(object,prototype){for(var property in prototype)object[property]=prototype[property]};function d3_selection(groups){d3_subclass(groups,d3_selectionPrototype);return groups}var d3_select=function(s,n){return n.querySelector(s)},d3_selectAll=function(s,n){return n.querySelectorAll(s)},d3_selectMatches=function(n,s){var d3_selectMatcher=n.matches||n[d3_vendorSymbol(n,"matchesSelector")];d3_selectMatches=function(n,s){return d3_selectMatcher.call(n,s)};return d3_selectMatches(n,s)};if(typeof Sizzle==="function"){d3_select=function(s,n){return Sizzle(s,n)[0]||null};d3_selectAll=Sizzle;d3_selectMatches=Sizzle.matchesSelector}d3.selection=function(){return d3.select(d3_document.documentElement)};var d3_selectionPrototype=d3.selection.prototype=[];d3_selectionPrototype.select=function(selector){var subgroups=[],subgroup,subnode,group,node;selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);subgroup.parentNode=(group=this[j]).parentNode;for(var i=-1,n=group.length;++i<n;){if(node=group[i]){subgroup.push(subnode=selector.call(node,node.__data__,i,j));if(subnode&&"__data__"in node)subnode.__data__=node.__data__}else{subgroup.push(null)}}}return d3_selection(subgroups)};function d3_selection_selector(selector){return typeof selector==="function"?selector:function(){return d3_select(selector,this)}}d3_selectionPrototype.selectAll=function(selector){var subgroups=[],subgroup,node;selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;){for(var group=this[j],i=-1,n=group.length;++i<n;){if(node=group[i]){subgroups.push(subgroup=d3_array(selector.call(node,node.__data__,i,j)));subgroup.parentNode=node}}}return d3_selection(subgroups)};function d3_selection_selectorAll(selector){return typeof selector==="function"?selector:function(){return d3_selectAll(selector,this)}}var d3_nsXhtml="http://www.w3.org/1999/xhtml";var d3_nsPrefix={svg:"http://www.w3.org/2000/svg",xhtml:d3_nsXhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:d3_nsPrefix,qualify:function(name){var i=name.indexOf(":"),prefix=name;if(i>=0&&(prefix=name.slice(0,i))!=="xmlns")name=name.slice(i+1);return d3_nsPrefix.hasOwnProperty(prefix)?{space:d3_nsPrefix[prefix],local:name}:name}};d3_selectionPrototype.attr=function(name,value){if(arguments.length<2){if(typeof name==="string"){var node=this.node();name=d3.ns.qualify(name);return name.local?node.getAttributeNS(name.space,name.local):node.getAttribute(name)}for(value in name)this.each(d3_selection_attr(value,name[value]));return this}return this.each(d3_selection_attr(name,value))};function d3_selection_attr(name,value){name=d3.ns.qualify(name);function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrConstant(){this.setAttribute(name,value)}function attrConstantNS(){this.setAttributeNS(name.space,name.local,value)}function attrFunction(){var x=value.apply(this,arguments);if(x==null)this.removeAttribute(name);else this.setAttribute(name,x)}function attrFunctionNS(){var x=value.apply(this,arguments);if(x==null)this.removeAttributeNS(name.space,name.local);else this.setAttributeNS(name.space,name.local,x)}return value==null?name.local?attrNullNS:attrNull:typeof value==="function"?name.local?attrFunctionNS:attrFunction:name.local?attrConstantNS:attrConstant}function d3_collapse(s){return s.trim().replace(/\s+/g," ")}d3_selectionPrototype.classed=function(name,value){if(arguments.length<2){if(typeof name==="string"){var node=this.node(),n=(name=d3_selection_classes(name)).length,i=-1;if(value=node.classList){while(++i<n)if(!value.contains(name[i]))return false}else{value=node.getAttribute("class");while(++i<n)if(!d3_selection_classedRe(name[i]).test(value))return false}return true}for(value in name)this.each(d3_selection_classed(value,name[value]));return this}return this.each(d3_selection_classed(name,value))};function d3_selection_classedRe(name){return new RegExp("(?:^|\\s+)"+d3.requote(name)+"(?:\\s+|$)","g")}function d3_selection_classes(name){return(name+"").trim().split(/^|\s+/)}function d3_selection_classed(name,value){name=d3_selection_classes(name).map(d3_selection_classedName);var n=name.length;function classedConstant(){var i=-1;while(++i<n)name[i](this,value)}function classedFunction(){var i=-1,x=value.apply(this,arguments);while(++i<n)name[i](this,x)}return typeof value==="function"?classedFunction:classedConstant}function d3_selection_classedName(name){var re=d3_selection_classedRe(name);return function(node,value){if(c=node.classList)return value?c.add(name):c.remove(name);var c=node.getAttribute("class")||"";if(value){re.lastIndex=0;if(!re.test(c))node.setAttribute("class",d3_collapse(c+" "+name))}else{node.setAttribute("class",d3_collapse(c.replace(re," ")))}}}d3_selectionPrototype.style=function(name,value,priority){var n=arguments.length;if(n<3){if(typeof name!=="string"){if(n<2)value="";for(priority in name)this.each(d3_selection_style(priority,name[priority],value));return this}if(n<2){var node=this.node();return d3_window(node).getComputedStyle(node,null).getPropertyValue(name)}priority=""}return this.each(d3_selection_style(name,value,priority))};function d3_selection_style(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleConstant(){this.style.setProperty(name,value,priority)}function styleFunction(){var x=value.apply(this,arguments);if(x==null)this.style.removeProperty(name);else this.style.setProperty(name,x,priority)}return value==null?styleNull:typeof value==="function"?styleFunction:styleConstant}d3_selectionPrototype.property=function(name,value){if(arguments.length<2){if(typeof name==="string")return this.node()[name];for(value in name)this.each(d3_selection_property(value,name[value]));return this}return this.each(d3_selection_property(name,value))};function d3_selection_property(name,value){function propertyNull(){delete this[name]}function propertyConstant(){this[name]=value}function propertyFunction(){var x=value.apply(this,arguments);if(x==null)delete this[name];else this[name]=x}return value==null?propertyNull:typeof value==="function"?propertyFunction:propertyConstant}d3_selectionPrototype.text=function(value){return arguments.length?this.each(typeof value==="function"?function(){var v=value.apply(this,arguments);this.textContent=v==null?"":v}:value==null?function(){this.textContent=""}:function(){this.textContent=value}):this.node().textContent};d3_selectionPrototype.html=function(value){return arguments.length?this.each(typeof value==="function"?function(){var v=value.apply(this,arguments);this.innerHTML=v==null?"":v}:value==null?function(){this.innerHTML=""}:function(){this.innerHTML=value}):this.node().innerHTML};d3_selectionPrototype.append=function(name){name=d3_selection_creator(name);return this.select((function(){return this.appendChild(name.apply(this,arguments))}))};function d3_selection_creator(name){function create(){var document=this.ownerDocument,namespace=this.namespaceURI;return namespace===d3_nsXhtml&&document.documentElement.namespaceURI===d3_nsXhtml?document.createElement(name):document.createElementNS(namespace,name)}function createNS(){return this.ownerDocument.createElementNS(name.space,name.local)}return typeof name==="function"?name:(name=d3.ns.qualify(name)).local?createNS:create}d3_selectionPrototype.insert=function(name,before){name=d3_selection_creator(name);before=d3_selection_selector(before);return this.select((function(){return this.insertBefore(name.apply(this,arguments),before.apply(this,arguments)||null)}))};d3_selectionPrototype.remove=function(){return this.each(d3_selectionRemove)};function d3_selectionRemove(){var parent=this.parentNode;if(parent)parent.removeChild(this)}d3_selectionPrototype.data=function(value,key){var i=-1,n=this.length,group,node;if(!arguments.length){value=new Array(n=(group=this[0]).length);while(++i<n){if(node=group[i]){value[i]=node.__data__}}return value}function bind(group,groupData){var i,n=group.length,m=groupData.length,n0=Math.min(n,m),updateNodes=new Array(m),enterNodes=new Array(m),exitNodes=new Array(n),node,nodeData;if(key){var nodeByKeyValue=new d3_Map,keyValues=new Array(n),keyValue;for(i=-1;++i<n;){if(node=group[i]){if(nodeByKeyValue.has(keyValue=key.call(node,node.__data__,i))){exitNodes[i]=node}else{nodeByKeyValue.set(keyValue,node)}keyValues[i]=keyValue}}for(i=-1;++i<m;){if(!(node=nodeByKeyValue.get(keyValue=key.call(groupData,nodeData=groupData[i],i)))){enterNodes[i]=d3_selection_dataNode(nodeData)}else if(node!==true){updateNodes[i]=node;node.__data__=nodeData}nodeByKeyValue.set(keyValue,true)}for(i=-1;++i<n;){if(i in keyValues&&nodeByKeyValue.get(keyValues[i])!==true){exitNodes[i]=group[i]}}}else{for(i=-1;++i<n0;){node=group[i];nodeData=groupData[i];if(node){node.__data__=nodeData;updateNodes[i]=node}else{enterNodes[i]=d3_selection_dataNode(nodeData)}}for(;i<m;++i){enterNodes[i]=d3_selection_dataNode(groupData[i])}for(;i<n;++i){exitNodes[i]=group[i]}}enterNodes.update=updateNodes;enterNodes.parentNode=updateNodes.parentNode=exitNodes.parentNode=group.parentNode;enter.push(enterNodes);update.push(updateNodes);exit.push(exitNodes)}var enter=d3_selection_enter([]),update=d3_selection([]),exit=d3_selection([]);if(typeof value==="function"){while(++i<n){bind(group=this[i],value.call(group,group.parentNode.__data__,i))}}else{while(++i<n){bind(group=this[i],value)}}update.enter=function(){return enter};update.exit=function(){return exit};return update};function d3_selection_dataNode(data){return{__data__:data}}d3_selectionPrototype.datum=function(value){return arguments.length?this.property("__data__",value):this.property("__data__")};d3_selectionPrototype.filter=function(filter){var subgroups=[],subgroup,group,node;if(typeof filter!=="function")filter=d3_selection_filter(filter);for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);subgroup.parentNode=(group=this[j]).parentNode;for(var i=0,n=group.length;i<n;i++){if((node=group[i])&&filter.call(node,node.__data__,i,j)){subgroup.push(node)}}}return d3_selection(subgroups)};function d3_selection_filter(selector){return function(){return d3_selectMatches(this,selector)}}d3_selectionPrototype.order=function(){for(var j=-1,m=this.length;++j<m;){for(var group=this[j],i=group.length-1,next=group[i],node;--i>=0;){if(node=group[i]){if(next&&next!==node.nextSibling)next.parentNode.insertBefore(node,next);next=node}}}return this};d3_selectionPrototype.sort=function(comparator){comparator=d3_selection_sortComparator.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(comparator);return this.order()};function d3_selection_sortComparator(comparator){if(!arguments.length)comparator=d3_ascending;return function(a,b){return a&&b?comparator(a.__data__,b.__data__):!a-!b}}d3_selectionPrototype.each=function(callback){return d3_selection_each(this,(function(node,i,j){callback.call(node,node.__data__,i,j)}))};function d3_selection_each(groups,callback){for(var j=0,m=groups.length;j<m;j++){for(var group=groups[j],i=0,n=group.length,node;i<n;i++){if(node=group[i])callback(node,i,j)}}return groups}d3_selectionPrototype.call=function(callback){var args=d3_array(arguments);callback.apply(args[0]=this,args);return this};d3_selectionPrototype.empty=function(){return!this.node()};d3_selectionPrototype.node=function(){for(var j=0,m=this.length;j<m;j++){for(var group=this[j],i=0,n=group.length;i<n;i++){var node=group[i];if(node)return node}}return null};d3_selectionPrototype.size=function(){var n=0;d3_selection_each(this,(function(){++n}));return n};function d3_selection_enter(selection){d3_subclass(selection,d3_selection_enterPrototype);return selection}var d3_selection_enterPrototype=[];d3.selection.enter=d3_selection_enter;d3.selection.enter.prototype=d3_selection_enterPrototype;d3_selection_enterPrototype.append=d3_selectionPrototype.append;d3_selection_enterPrototype.empty=d3_selectionPrototype.empty;d3_selection_enterPrototype.node=d3_selectionPrototype.node;d3_selection_enterPrototype.call=d3_selectionPrototype.call;d3_selection_enterPrototype.size=d3_selectionPrototype.size;d3_selection_enterPrototype.select=function(selector){var subgroups=[],subgroup,subnode,upgroup,group,node;for(var j=-1,m=this.length;++j<m;){upgroup=(group=this[j]).update;subgroups.push(subgroup=[]);subgroup.parentNode=group.parentNode;for(var i=-1,n=group.length;++i<n;){if(node=group[i]){subgroup.push(upgroup[i]=subnode=selector.call(group.parentNode,node.__data__,i,j));subnode.__data__=node.__data__}else{subgroup.push(null)}}}return d3_selection(subgroups)};d3_selection_enterPrototype.insert=function(name,before){if(arguments.length<2)before=d3_selection_enterInsertBefore(this);return d3_selectionPrototype.insert.call(this,name,before)};function d3_selection_enterInsertBefore(enter){var i0,j0;return function(d,i,j){var group=enter[j].update,n=group.length,node;if(j!=j0)j0=j,i0=0;if(i>=i0)i0=i+1;while(!(node=group[i0])&&++i0<n);return node}}d3.select=function(node){var group;if(typeof node==="string"){group=[d3_select(node,d3_document)];group.parentNode=d3_document.documentElement}else{group=[node];group.parentNode=d3_documentElement(node)}return d3_selection([group])};d3.selectAll=function(nodes){var group;if(typeof nodes==="string"){group=d3_array(d3_selectAll(nodes,d3_document));group.parentNode=d3_document.documentElement}else{group=d3_array(nodes);group.parentNode=null}return d3_selection([group])};d3_selectionPrototype.on=function(type,listener,capture){var n=arguments.length;if(n<3){if(typeof type!=="string"){if(n<2)listener=false;for(capture in type)this.each(d3_selection_on(capture,type[capture],listener));return this}if(n<2)return(n=this.node()["__on"+type])&&n._;capture=false}return this.each(d3_selection_on(type,listener,capture))};function d3_selection_on(type,listener,capture){var name="__on"+type,i=type.indexOf("."),wrap=d3_selection_onListener;if(i>0)type=type.slice(0,i);var filter=d3_selection_onFilters.get(type);if(filter)type=filter,wrap=d3_selection_onFilter;function onRemove(){var l=this[name];if(l){this.removeEventListener(type,l,l.$);delete this[name]}}function onAdd(){var l=wrap(listener,d3_array(arguments));onRemove.call(this);this.addEventListener(type,this[name]=l,l.$=capture);l._=listener}function removeAll(){var re=new RegExp("^__on([^.]+)"+d3.requote(type)+"$"),match;for(var name in this){if(match=name.match(re)){var l=this[name];this.removeEventListener(match[1],l,l.$);delete this[name]}}}return i?listener?onAdd:onRemove:listener?d3_noop:removeAll}var d3_selection_onFilters=d3.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(d3_document){d3_selection_onFilters.forEach((function(k){if("on"+k in d3_document)d3_selection_onFilters.remove(k)}))}function d3_selection_onListener(listener,argumentz){return function(e){var o=d3.event;d3.event=e;argumentz[0]=this.__data__;try{listener.apply(this,argumentz)}finally{d3.event=o}}}function d3_selection_onFilter(listener,argumentz){var l=d3_selection_onListener(listener,argumentz);return function(e){var target=this,related=e.relatedTarget;if(!related||related!==target&&!(related.compareDocumentPosition(target)&8)){l.call(target,e)}}}var d3_event_dragSelect,d3_event_dragId=0;function d3_event_dragSuppress(node){var name=".dragsuppress-"+ ++d3_event_dragId,click="click"+name,w=d3.select(d3_window(node)).on("touchmove"+name,d3_eventPreventDefault).on("dragstart"+name,d3_eventPreventDefault).on("selectstart"+name,d3_eventPreventDefault);if(d3_event_dragSelect==null){d3_event_dragSelect="onselectstart"in node?false:d3_vendorSymbol(node.style,"userSelect")}if(d3_event_dragSelect){var style=d3_documentElement(node).style,select=style[d3_event_dragSelect];style[d3_event_dragSelect]="none"}return function(suppressClick){w.on(name,null);if(d3_event_dragSelect)style[d3_event_dragSelect]=select;if(suppressClick){var off=function(){w.on(click,null)};w.on(click,(function(){d3_eventPreventDefault();off()}),true);setTimeout(off,0)}}}d3.mouse=function(container){return d3_mousePoint(container,d3_eventSource())};var d3_mouse_bug44083=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function d3_mousePoint(container,e){if(e.changedTouches)e=e.changedTouches[0];var svg=container.ownerSVGElement||container;if(svg.createSVGPoint){var point=svg.createSVGPoint();if(d3_mouse_bug44083<0){var window=d3_window(container);if(window.scrollX||window.scrollY){svg=d3.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ctm=svg[0][0].getScreenCTM();d3_mouse_bug44083=!(ctm.f||ctm.e);svg.remove()}}if(d3_mouse_bug44083)point.x=e.pageX,point.y=e.pageY;else point.x=e.clientX,point.y=e.clientY;point=point.matrixTransform(container.getScreenCTM().inverse());return[point.x,point.y]}var rect=container.getBoundingClientRect();return[e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop]}d3.touch=function(container,touches,identifier){if(arguments.length<3)identifier=touches,touches=d3_eventSource().changedTouches;if(touches)for(var i=0,n=touches.length,touch;i<n;++i){if((touch=touches[i]).identifier===identifier){return d3_mousePoint(container,touch)}}};d3.behavior.drag=function(){var event=d3_eventDispatch(drag,"drag","dragstart","dragend"),origin=null,mousedown=dragstart(d3_noop,d3.mouse,d3_window,"mousemove","mouseup"),touchstart=dragstart(d3_behavior_dragTouchId,d3.touch,d3_identity,"touchmove","touchend");function drag(){this.on("mousedown.drag",mousedown).on("touchstart.drag",touchstart)}function dragstart(id,position,subject,move,end){return function(){var that=this,target=d3.event.target.correspondingElement||d3.event.target,parent=that.parentNode,dispatch=event.of(that,arguments),dragged=0,dragId=id(),dragName=".drag"+(dragId==null?"":"-"+dragId),dragOffset,dragSubject=d3.select(subject(target)).on(move+dragName,moved).on(end+dragName,ended),dragRestore=d3_event_dragSuppress(target),position0=position(parent,dragId);if(origin){dragOffset=origin.apply(that,arguments);dragOffset=[dragOffset.x-position0[0],dragOffset.y-position0[1]]}else{dragOffset=[0,0]}dispatch({type:"dragstart"});function moved(){var position1=position(parent,dragId),dx,dy;if(!position1)return;dx=position1[0]-position0[0];dy=position1[1]-position0[1];dragged|=dx|dy;position0=position1;dispatch({type:"drag",x:position1[0]+dragOffset[0],y:position1[1]+dragOffset[1],dx:dx,dy:dy})}function ended(){if(!position(parent,dragId))return;dragSubject.on(move+dragName,null).on(end+dragName,null);dragRestore(dragged);dispatch({type:"dragend"})}}}drag.origin=function(x){if(!arguments.length)return origin;origin=x;return drag};return d3.rebind(drag,event,"on")};function d3_behavior_dragTouchId(){return d3.event.changedTouches[0].identifier}d3.touches=function(container,touches){if(arguments.length<2)touches=d3_eventSource().touches;return touches?d3_array(touches).map((function(touch){var point=d3_mousePoint(container,touch);point.identifier=touch.identifier;return point})):[]};var ε=1e-6,ε2=ε*ε,π=Math.PI,τ=2*π,τε=τ-ε,halfπ=π/2,d3_radians=π/180,d3_degrees=180/π;function d3_sgn(x){return x>0?1:x<0?-1:0}function d3_cross2d(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function d3_acos(x){return x>1?0:x<-1?π:Math.acos(x)}function d3_asin(x){return x>1?halfπ:x<-1?-halfπ:Math.asin(x)}function d3_sinh(x){return((x=Math.exp(x))-1/x)/2}function d3_cosh(x){return((x=Math.exp(x))+1/x)/2}function d3_tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function d3_haversin(x){return(x=Math.sin(x/2))*x}var ρ=Math.SQRT2,ρ2=2,ρ4=4;d3.interpolateZoom=function(p0,p1){var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,i,S;if(d2<ε2){S=Math.log(w1/w0)/ρ;i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(ρ*t*S)]}}else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+ρ4*d2)/(2*w0*ρ2*d1),b1=(w1*w1-w0*w0-ρ4*d2)/(2*w1*ρ2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/ρ;i=function(t){var s=t*S,coshr0=d3_cosh(r0),u=w0/(ρ2*d1)*(coshr0*d3_tanh(ρ*s+r0)-d3_sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/d3_cosh(ρ*s+r0)]}}i.duration=S*1e3;return i};d3.behavior.zoom=function(){var view={x:0,y:0,k:1},translate0,center0,center,size=[960,500],scaleExtent=d3_behavior_zoomInfinity,duration=250,zooming=0,mousedown="mousedown.zoom",mousemove="mousemove.zoom",mouseup="mouseup.zoom",mousewheelTimer,touchstart="touchstart.zoom",touchtime,event=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend"),x0,x1,y0,y1;if(!d3_behavior_zoomWheel){d3_behavior_zoomWheel="onwheel"in d3_document?(d3_behavior_zoomDelta=function(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d3_document?(d3_behavior_zoomDelta=function(){return d3.event.wheelDelta},"mousewheel"):(d3_behavior_zoomDelta=function(){return-d3.event.detail},"MozMousePixelScroll")}function zoom(g){g.on(mousedown,mousedowned).on(d3_behavior_zoomWheel+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(touchstart,touchstarted)}zoom.event=function(g){g.each((function(){var dispatch=event.of(this,arguments),view1=view;if(d3_transitionInheritId){d3.select(this).transition().each("start.zoom",(function(){view=this.__chart__||{x:0,y:0,k:1};zoomstarted(dispatch)})).tween("zoom:zoom",(function(){var dx=size[0],dy=size[1],cx=center0?center0[0]:dx/2,cy=center0?center0[1]:dy/2,i=d3.interpolateZoom([(cx-view.x)/view.k,(cy-view.y)/view.k,dx/view.k],[(cx-view1.x)/view1.k,(cy-view1.y)/view1.k,dx/view1.k]);return function(t){var l=i(t),k=dx/l[2];this.__chart__=view={x:cx-l[0]*k,y:cy-l[1]*k,k:k};zoomed(dispatch)}})).each("interrupt.zoom",(function(){zoomended(dispatch)})).each("end.zoom",(function(){zoomended(dispatch)}))}else{this.__chart__=view;zoomstarted(dispatch);zoomed(dispatch);zoomended(dispatch)}}))};zoom.translate=function(_){if(!arguments.length)return[view.x,view.y];view={x:+_[0],y:+_[1],k:view.k};rescale();return zoom};zoom.scale=function(_){if(!arguments.length)return view.k;view={x:view.x,y:view.y,k:null};scaleTo(+_);rescale();return zoom};zoom.scaleExtent=function(_){if(!arguments.length)return scaleExtent;scaleExtent=_==null?d3_behavior_zoomInfinity:[+_[0],+_[1]];return zoom};zoom.center=function(_){if(!arguments.length)return center;center=_&&[+_[0],+_[1]];return zoom};zoom.size=function(_){if(!arguments.length)return size;size=_&&[+_[0],+_[1]];return zoom};zoom.duration=function(_){if(!arguments.length)return duration;duration=+_;return zoom};zoom.x=function(z){if(!arguments.length)return x1;x1=z;x0=z.copy();view={x:0,y:0,k:1};return zoom};zoom.y=function(z){if(!arguments.length)return y1;y1=z;y0=z.copy();view={x:0,y:0,k:1};return zoom};function location(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function point(l){return[l[0]*view.k+view.x,l[1]*view.k+view.y]}function scaleTo(s){view.k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],s))}function translateTo(p,l){l=point(l);view.x+=p[0]-l[0];view.y+=p[1]-l[1]}function zoomTo(that,p,l,k){that.__chart__={x:view.x,y:view.y,k:view.k};scaleTo(Math.pow(2,k));translateTo(center0=p,l);that=d3.select(that);if(duration>0)that=that.transition().duration(duration);that.call(zoom.event)}function rescale(){if(x1)x1.domain(x0.range().map((function(x){return(x-view.x)/view.k})).map(x0.invert));if(y1)y1.domain(y0.range().map((function(y){return(y-view.y)/view.k})).map(y0.invert))}function zoomstarted(dispatch){if(!zooming++)dispatch({type:"zoomstart"})}function zoomed(dispatch){rescale();dispatch({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function zoomended(dispatch){if(!--zooming)dispatch({type:"zoomend"}),center0=null}function mousedowned(){var that=this,dispatch=event.of(that,arguments),dragged=0,subject=d3.select(d3_window(that)).on(mousemove,moved).on(mouseup,ended),location0=location(d3.mouse(that)),dragRestore=d3_event_dragSuppress(that);d3_selection_interrupt.call(that);zoomstarted(dispatch);function moved(){dragged=1;translateTo(d3.mouse(that),location0);zoomed(dispatch)}function ended(){subject.on(mousemove,null).on(mouseup,null);dragRestore(dragged);zoomended(dispatch)}}function touchstarted(){var that=this,dispatch=event.of(that,arguments),locations0={},distance0=0,scale0,zoomName=".zoom-"+d3.event.changedTouches[0].identifier,touchmove="touchmove"+zoomName,touchend="touchend"+zoomName,targets=[],subject=d3.select(that),dragRestore=d3_event_dragSuppress(that);started();zoomstarted(dispatch);subject.on(mousedown,null).on(touchstart,started);function relocate(){var touches=d3.touches(that);scale0=view.k;touches.forEach((function(t){if(t.identifier in locations0)locations0[t.identifier]=location(t)}));return touches}function started(){var target=d3.event.target;d3.select(target).on(touchmove,moved).on(touchend,ended);targets.push(target);var changed=d3.event.changedTouches;for(var i=0,n=changed.length;i<n;++i){locations0[changed[i].identifier]=null}var touches=relocate(),now=Date.now();if(touches.length===1){if(now-touchtime<500){var p=touches[0];zoomTo(that,p,locations0[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1);d3_eventPreventDefault()}touchtime=now}else if(touches.length>1){var p=touches[0],q=touches[1],dx=p[0]-q[0],dy=p[1]-q[1];distance0=dx*dx+dy*dy}}function moved(){var touches=d3.touches(that),p0,l0,p1,l1;d3_selection_interrupt.call(that);for(var i=0,n=touches.length;i<n;++i,l1=null){p1=touches[i];if(l1=locations0[p1.identifier]){if(l0)break;p0=p1,l0=l1}}if(l1){var distance1=(distance1=p1[0]-p0[0])*distance1+(distance1=p1[1]-p0[1])*distance1,scale1=distance0&&Math.sqrt(distance1/distance0);p0=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2];l0=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2];scaleTo(scale1*scale0)}touchtime=null;translateTo(p0,l0);zoomed(dispatch)}function ended(){if(d3.event.touches.length){var changed=d3.event.changedTouches;for(var i=0,n=changed.length;i<n;++i){delete locations0[changed[i].identifier]}for(var identifier in locations0){return void relocate()}}d3.selectAll(targets).on(zoomName,null);subject.on(mousedown,mousedowned).on(touchstart,touchstarted);dragRestore();zoomended(dispatch)}}function mousewheeled(){var dispatch=event.of(this,arguments);if(mousewheelTimer)clearTimeout(mousewheelTimer);else d3_selection_interrupt.call(this),translate0=location(center0=center||d3.mouse(this)),zoomstarted(dispatch);mousewheelTimer=setTimeout((function(){mousewheelTimer=null;zoomended(dispatch)}),50);d3_eventPreventDefault();scaleTo(Math.pow(2,d3_behavior_zoomDelta()*.002)*view.k);translateTo(center0,translate0);zoomed(dispatch)}function dblclicked(){var p=d3.mouse(this),k=Math.log(view.k)/Math.LN2;zoomTo(this,p,location(p),d3.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1)}return d3.rebind(zoom,event,"on")};var d3_behavior_zoomInfinity=[0,Infinity],d3_behavior_zoomDelta,d3_behavior_zoomWheel;d3.color=d3_color;function d3_color(){}d3_color.prototype.toString=function(){return this.rgb()+""};d3.hsl=d3_hsl;function d3_hsl(h,s,l){return this instanceof d3_hsl?void(this.h=+h,this.s=+s,this.l=+l):arguments.length<2?h instanceof d3_hsl?new d3_hsl(h.h,h.s,h.l):d3_rgb_parse(""+h,d3_rgb_hsl,d3_hsl):new d3_hsl(h,s,l)}var d3_hslPrototype=d3_hsl.prototype=new d3_color;d3_hslPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);return new d3_hsl(this.h,this.s,this.l/k)};d3_hslPrototype.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new d3_hsl(this.h,this.s,k*this.l)};d3_hslPrototype.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)};function d3_hsl_rgb(h,s,l){var m1,m2;h=isNaN(h)?0:(h%=360)<0?h+360:h;s=isNaN(s)?0:s<0?0:s>1?1:s;l=l<0?0:l>1?1:l;m2=l<=.5?l*(1+s):l+s-l*s;m1=2*l-m2;function v(h){if(h>360)h-=360;else if(h<0)h+=360;if(h<60)return m1+(m2-m1)*h/60;if(h<180)return m2;if(h<240)return m1+(m2-m1)*(240-h)/60;return m1}function vv(h){return Math.round(v(h)*255)}return new d3_rgb(vv(h+120),vv(h),vv(h-120))}d3.hcl=d3_hcl;function d3_hcl(h,c,l){return this instanceof d3_hcl?void(this.h=+h,this.c=+c,this.l=+l):arguments.length<2?h instanceof d3_hcl?new d3_hcl(h.h,h.c,h.l):h instanceof d3_lab?d3_lab_hcl(h.l,h.a,h.b):d3_lab_hcl((h=d3_rgb_lab((h=d3.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new d3_hcl(h,c,l)}var d3_hclPrototype=d3_hcl.prototype=new d3_color;d3_hclPrototype.brighter=function(k){return new d3_hcl(this.h,this.c,Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)))};d3_hclPrototype.darker=function(k){return new d3_hcl(this.h,this.c,Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)))};d3_hclPrototype.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()};function d3_hcl_lab(h,c,l){if(isNaN(h))h=0;if(isNaN(c))c=0;return new d3_lab(l,Math.cos(h*=d3_radians)*c,Math.sin(h)*c)}d3.lab=d3_lab;function d3_lab(l,a,b){return this instanceof d3_lab?void(this.l=+l,this.a=+a,this.b=+b):arguments.length<2?l instanceof d3_lab?new d3_lab(l.l,l.a,l.b):l instanceof d3_hcl?d3_hcl_lab(l.h,l.c,l.l):d3_rgb_lab((l=d3_rgb(l)).r,l.g,l.b):new d3_lab(l,a,b)}var d3_lab_K=18;var d3_lab_X=.95047,d3_lab_Y=1,d3_lab_Z=1.08883;var d3_labPrototype=d3_lab.prototype=new d3_color;d3_labPrototype.brighter=function(k){return new d3_lab(Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)),this.a,this.b)};d3_labPrototype.darker=function(k){return new d3_lab(Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)),this.a,this.b)};d3_labPrototype.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)};function d3_lab_rgb(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;x=d3_lab_xyz(x)*d3_lab_X;y=d3_lab_xyz(y)*d3_lab_Y;z=d3_lab_xyz(z)*d3_lab_Z;return new d3_rgb(d3_xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z),d3_xyz_rgb(-.969266*x+1.8760108*y+.041556*z),d3_xyz_rgb(.0556434*x-.2040259*y+1.0572252*z))}function d3_lab_hcl(l,a,b){return l>0?new d3_hcl(Math.atan2(b,a)*d3_degrees,Math.sqrt(a*a+b*b),l):new d3_hcl(NaN,NaN,l)}function d3_lab_xyz(x){return x>.206893034?x*x*x:(x-4/29)/7.787037}function d3_xyz_lab(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29}function d3_xyz_rgb(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}d3.rgb=d3_rgb;function d3_rgb(r,g,b){return this instanceof d3_rgb?void(this.r=~~r,this.g=~~g,this.b=~~b):arguments.length<2?r instanceof d3_rgb?new d3_rgb(r.r,r.g,r.b):d3_rgb_parse(""+r,d3_rgb,d3_hsl_rgb):new d3_rgb(r,g,b)}function d3_rgbNumber(value){return new d3_rgb(value>>16,value>>8&255,value&255)}function d3_rgbString(value){return d3_rgbNumber(value)+""}var d3_rgbPrototype=d3_rgb.prototype=new d3_color;d3_rgbPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;if(!r&&!g&&!b)return new d3_rgb(i,i,i);if(r&&r<i)r=i;if(g&&g<i)g=i;if(b&&b<i)b=i;return new d3_rgb(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k))};d3_rgbPrototype.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new d3_rgb(k*this.r,k*this.g,k*this.b)};d3_rgbPrototype.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)};d3_rgbPrototype.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};function d3_rgb_hex(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function d3_rgb_parse(format,rgb,hsl){var r=0,g=0,b=0,m1,m2,color;m1=/([a-z]+)\((.*)\)/.exec(format=format.toLowerCase());if(m1){m2=m1[2].split(",");switch(m1[1]){case"hsl":{return hsl(parseFloat(m2[0]),parseFloat(m2[1])/100,parseFloat(m2[2])/100)}case"rgb":{return rgb(d3_rgb_parseNumber(m2[0]),d3_rgb_parseNumber(m2[1]),d3_rgb_parseNumber(m2[2]))}}}if(color=d3_rgb_names.get(format)){return rgb(color.r,color.g,color.b)}if(format!=null&&format.charAt(0)==="#"&&!isNaN(color=parseInt(format.slice(1),16))){if(format.length===4){r=(color&3840)>>4;r=r>>4|r;g=color&240;g=g>>4|g;b=color&15;b=b<<4|b}else if(format.length===7){r=(color&16711680)>>16;g=(color&65280)>>8;b=color&255}}return rgb(r,g,b)}function d3_rgb_hsl(r,g,b){var min=Math.min(r/=255,g/=255,b/=255),max=Math.max(r,g,b),d=max-min,h,s,l=(max+min)/2;if(d){s=l<.5?d/(max+min):d/(2-max-min);if(r==max)h=(g-b)/d+(g<b?6:0);else if(g==max)h=(b-r)/d+2;else h=(r-g)/d+4;h*=60}else{h=NaN;s=l>0&&l<1?0:h}return new d3_hsl(h,s,l)}function d3_rgb_lab(r,g,b){r=d3_rgb_xyz(r);g=d3_rgb_xyz(g);b=d3_rgb_xyz(b);var x=d3_xyz_lab((.4124564*r+.3575761*g+.1804375*b)/d3_lab_X),y=d3_xyz_lab((.2126729*r+.7151522*g+.072175*b)/d3_lab_Y),z=d3_xyz_lab((.0193339*r+.119192*g+.9503041*b)/d3_lab_Z);return d3_lab(116*y-16,500*(x-y),200*(y-z))}function d3_rgb_xyz(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d3_rgb_parseNumber(c){var f=parseFloat(c);return c.charAt(c.length-1)==="%"?Math.round(f*2.55):f}var d3_rgb_names=d3.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});d3_rgb_names.forEach((function(key,value){d3_rgb_names.set(key,d3_rgbNumber(value))}));function d3_functor(v){return typeof v==="function"?v:function(){return v}}d3.functor=d3_functor;d3.xhr=d3_xhrType(d3_identity);function d3_xhrType(response){return function(url,mimeType,callback){if(arguments.length===2&&typeof mimeType==="function")callback=mimeType,mimeType=null;return d3_xhr(url,mimeType,response,callback)}}function d3_xhr(url,mimeType,response,callback){var xhr={},dispatch=d3.dispatch("beforesend","progress","load","error"),headers={},request=new XMLHttpRequest,responseType=null;if(this.XDomainRequest&&!("withCredentials"in request)&&/^(http(s)?:)?\/\//.test(url))request=new XDomainRequest;"onload"in request?request.onload=request.onerror=respond:request.onreadystatechange=function(){request.readyState>3&&respond()};function respond(){var status=request.status,result;if(!status&&d3_xhrHasResponse(request)||status>=200&&status<300||status===304){try{result=response.call(xhr,request)}catch(e){dispatch.error.call(xhr,e);return}dispatch.load.call(xhr,result)}else{dispatch.error.call(xhr,request)}}request.onprogress=function(event){var o=d3.event;d3.event=event;try{dispatch.progress.call(xhr,request)}finally{d3.event=o}};xhr.header=function(name,value){name=(name+"").toLowerCase();if(arguments.length<2)return headers[name];if(value==null)delete headers[name];else headers[name]=value+"";return xhr};xhr.mimeType=function(value){if(!arguments.length)return mimeType;mimeType=value==null?null:value+"";return xhr};xhr.responseType=function(value){if(!arguments.length)return responseType;responseType=value;return xhr};xhr.response=function(value){response=value;return xhr};["get","post"].forEach((function(method){xhr[method]=function(){return xhr.send.apply(xhr,[method].concat(d3_array(arguments)))}}));xhr.send=function(method,data,callback){if(arguments.length===2&&typeof data==="function")callback=data,data=null;request.open(method,url,true);if(mimeType!=null&&!("accept"in headers))headers["accept"]=mimeType+",*/*";if(request.setRequestHeader)for(var name in headers)request.setRequestHeader(name,headers[name]);if(mimeType!=null&&request.overrideMimeType)request.overrideMimeType(mimeType);if(responseType!=null)request.responseType=responseType;if(callback!=null)xhr.on("error",callback).on("load",(function(request){callback(null,request)}));dispatch.beforesend.call(xhr,request);request.send(data==null?null:data);return xhr};xhr.abort=function(){request.abort();return xhr};d3.rebind(xhr,dispatch,"on");return callback==null?xhr:xhr.get(d3_xhr_fixCallback(callback))}function d3_xhr_fixCallback(callback){return callback.length===1?function(error,request){callback(error==null?request:null)}:callback}function d3_xhrHasResponse(request){var type=request.responseType;return type&&type!=="text"?request.response:request.responseText}d3.dsv=function(delimiter,mimeType){var reFormat=new RegExp('["'+delimiter+"\n]"),delimiterCode=delimiter.charCodeAt(0);function dsv(url,row,callback){if(arguments.length<3)callback=row,row=null;var xhr=d3_xhr(url,mimeType,row==null?response:typedResponse(row),callback);xhr.row=function(_){return arguments.length?xhr.response((row=_)==null?response:typedResponse(_)):row};return xhr}function response(request){return dsv.parse(request.responseText)}function typedResponse(f){return function(request){return dsv.parse(request.responseText,f)}}dsv.parse=function(text,f){var o;return dsv.parseRows(text,(function(row,i){if(o)return o(row,i-1);var a=new Function("d","return {"+row.map((function(name,i){return JSON.stringify(name)+": d["+i+"]"})).join(",")+"}");o=f?function(row,i){return f(a(row),i)}:a}))};dsv.parseRows=function(text,f){var EOL={},EOF={},rows=[],N=text.length,I=0,n=0,t,eol;function token(){if(I>=N)return EOF;if(eol)return eol=false,EOL;var j=I;if(text.charCodeAt(j)===34){var i=j;while(i++<N){if(text.charCodeAt(i)===34){if(text.charCodeAt(i+1)!==34)break;++i}}I=i+2;var c=text.charCodeAt(i+1);if(c===13){eol=true;if(text.charCodeAt(i+2)===10)++I}else if(c===10){eol=true}return text.slice(j+1,i).replace(/""/g,'"')}while(I<N){var c=text.charCodeAt(I++),k=1;if(c===10)eol=true;else if(c===13){eol=true;if(text.charCodeAt(I)===10)++I,++k}else if(c!==delimiterCode)continue;return text.slice(j,I-k)}return text.slice(j)}while((t=token())!==EOF){var a=[];while(t!==EOL&&t!==EOF){a.push(t);t=token()}if(f&&(a=f(a,n++))==null)continue;rows.push(a)}return rows};dsv.format=function(rows){if(Array.isArray(rows[0]))return dsv.formatRows(rows);var fieldSet=new d3_Set,fields=[];rows.forEach((function(row){for(var field in row){if(!fieldSet.has(field)){fields.push(fieldSet.add(field))}}}));return[fields.map(formatValue).join(delimiter)].concat(rows.map((function(row){return fields.map((function(field){return formatValue(row[field])})).join(delimiter)}))).join("\n")};dsv.formatRows=function(rows){return rows.map(formatRow).join("\n")};function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(text){return reFormat.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}return dsv};d3.csv=d3.dsv(",","text/csv");d3.tsv=d3.dsv("\t","text/tab-separated-values");var d3_timer_queueHead,d3_timer_queueTail,d3_timer_interval,d3_timer_timeout,d3_timer_frame=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(callback){setTimeout(callback,17)};d3.timer=function(){d3_timer.apply(this,arguments)};function d3_timer(callback,delay,then){var n=arguments.length;if(n<2)delay=0;if(n<3)then=Date.now();var time=then+delay,timer={c:callback,t:time,n:null};if(d3_timer_queueTail)d3_timer_queueTail.n=timer;else d3_timer_queueHead=timer;d3_timer_queueTail=timer;if(!d3_timer_interval){d3_timer_timeout=clearTimeout(d3_timer_timeout);d3_timer_interval=1;d3_timer_frame(d3_timer_step)}return timer}function d3_timer_step(){var now=d3_timer_mark(),delay=d3_timer_sweep()-now;if(delay>24){if(isFinite(delay)){clearTimeout(d3_timer_timeout);d3_timer_timeout=setTimeout(d3_timer_step,delay)}d3_timer_interval=0}else{d3_timer_interval=1;d3_timer_frame(d3_timer_step)}}d3.timer.flush=function(){d3_timer_mark();d3_timer_sweep()};function d3_timer_mark(){var now=Date.now(),timer=d3_timer_queueHead;while(timer){if(now>=timer.t&&timer.c(now-timer.t))timer.c=null;timer=timer.n}return now}function d3_timer_sweep(){var t0,t1=d3_timer_queueHead,time=Infinity;while(t1){if(t1.c){if(t1.t<time)time=t1.t;t1=(t0=t1).n}else{t1=t0?t0.n=t1.n:d3_timer_queueHead=t1.n}}d3_timer_queueTail=t0;return time}function d3_format_precision(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1)}d3.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x)};var d3_formatPrefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);d3.formatPrefix=function(value,precision){var i=0;if(value=+value){if(value<0)value*=-1;if(precision)value=d3.round(value,d3_format_precision(value,precision));i=1+Math.floor(1e-12+Math.log(value)/Math.LN10);i=Math.max(-24,Math.min(24,Math.floor((i-1)/3)*3))}return d3_formatPrefixes[8+i/3]};function d3_formatPrefix(d,i){var k=Math.pow(10,abs(8-i)*3);return{scale:i>8?function(d){return d/k}:function(d){return d*k},symbol:d}}function d3_locale_numberFormat(locale){var locale_decimal=locale.decimal,locale_thousands=locale.thousands,locale_grouping=locale.grouping,locale_currency=locale.currency,formatGroup=locale_grouping&&locale_thousands?function(value,width){var i=value.length,t=[],j=0,g=locale_grouping[0],length=0;while(i>0&&g>0){if(length+g+1>width)g=Math.max(1,width-length);t.push(value.substring(i-=g,i+g));if((length+=g+1)>width)break;g=locale_grouping[j=(j+1)%locale_grouping.length]}return t.reverse().join(locale_thousands)}:d3_identity;return function(specifier){var match=d3_format_re.exec(specifier),fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zfill=match[5],width=+match[6],comma=match[7],precision=match[8],type=match[9],scale=1,prefix="",suffix="",integer=false,exponent=true;if(precision)precision=+precision.substring(1);if(zfill||fill==="0"&&align==="="){zfill=fill="0";align="="}switch(type){case"n":comma=true;type="g";break;case"%":scale=100;suffix="%";type="f";break;case"p":scale=100;suffix="%";type="r";break;case"b":case"o":case"x":case"X":if(symbol==="#")prefix="0"+type.toLowerCase();case"c":exponent=false;case"d":integer=true;precision=0;break;case"s":scale=-1;type="r";break}if(symbol==="$")prefix=locale_currency[0],suffix=locale_currency[1];if(type=="r"&&!precision)type="g";if(precision!=null){if(type=="g")precision=Math.max(1,Math.min(21,precision));else if(type=="e"||type=="f")precision=Math.max(0,Math.min(20,precision))}type=d3_format_types.get(type)||d3_format_typeDefault;var zcomma=zfill&&comma;return function(value){var fullSuffix=suffix;if(integer&&value%1)return"";var negative=value<0||value===0&&1/value<0?(value=-value,"-"):sign==="-"?"":sign;if(scale<0){var unit=d3.formatPrefix(value,precision);value=unit.scale(value);fullSuffix=unit.symbol+suffix}else{value*=scale}value=type(value,precision);var i=value.lastIndexOf("."),before,after;if(i<0){var j=exponent?value.lastIndexOf("e"):-1;if(j<0)before=value,after="";else before=value.substring(0,j),after=value.substring(j)}else{before=value.substring(0,i);after=locale_decimal+value.substring(i+1)}if(!zfill&&comma)before=formatGroup(before,Infinity);var length=prefix.length+before.length+after.length+(zcomma?0:negative.length),padding=length<width?new Array(length=width-length+1).join(fill):"";if(zcomma)before=formatGroup(padding+before,padding.length?width-after.length:Infinity);negative+=prefix;value=before+after;return(align==="<"?negative+value+padding:align===">"?padding+negative+value:align==="^"?padding.substring(0,length>>=1)+negative+value+padding.substring(length):negative+(zcomma?value:padding+value))+fullSuffix}}}var d3_format_re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var d3_format_types=d3.map({b:function(x){return x.toString(2)},c:function(x){return String.fromCharCode(x)},o:function(x){return x.toString(8)},x:function(x){return x.toString(16)},X:function(x){return x.toString(16).toUpperCase()},g:function(x,p){return x.toPrecision(p)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},r:function(x,p){return(x=d3.round(x,d3_format_precision(x,p))).toFixed(Math.max(0,Math.min(20,d3_format_precision(x*(1+1e-15),p))))}});function d3_format_typeDefault(x){return x+""}var d3_time=d3.time={},d3_date=Date;function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){d3_time_prototype.setUTCDate.apply(this._,arguments)},setDay:function(){d3_time_prototype.setUTCDay.apply(this._,arguments)},setFullYear:function(){d3_time_prototype.setUTCFullYear.apply(this._,arguments)},setHours:function(){d3_time_prototype.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){d3_time_prototype.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){d3_time_prototype.setUTCMinutes.apply(this._,arguments)},setMonth:function(){d3_time_prototype.setUTCMonth.apply(this._,arguments)},setSeconds:function(){d3_time_prototype.setUTCSeconds.apply(this._,arguments)},setTime:function(){d3_time_prototype.setTime.apply(this._,arguments)}};var d3_time_prototype=Date.prototype;function d3_time_interval(local,step,number){function round(date){var d0=local(date),d1=offset(d0,1);return date-d0<d1-date?d0:d1}function ceil(date){step(date=local(new d3_date(date-1)),1);return date}function offset(date,k){step(date=new d3_date(+date),k);return date}function range(t0,t1,dt){var time=ceil(t0),times=[];if(dt>1){while(time<t1){if(!(number(time)%dt))times.push(new Date(+time));step(time,1)}}else{while(time<t1)times.push(new Date(+time)),step(time,1)}return times}function range_utc(t0,t1,dt){try{d3_date=d3_date_utc;var utc=new d3_date_utc;utc._=t0;return range(utc,t1,dt)}finally{d3_date=Date}}local.floor=local;local.round=round;local.ceil=ceil;local.offset=offset;local.range=range;var utc=local.utc=d3_time_interval_utc(local);utc.floor=utc;utc.round=d3_time_interval_utc(round);utc.ceil=d3_time_interval_utc(ceil);utc.offset=d3_time_interval_utc(offset);utc.range=range_utc;return local}function d3_time_interval_utc(method){return function(date,k){try{d3_date=d3_date_utc;var utc=new d3_date_utc;utc._=date;return method(utc,k)._}finally{d3_date=Date}}}d3_time.year=d3_time_interval((function(date){date=d3_time.day(date);date.setMonth(0,1);return date}),(function(date,offset){date.setFullYear(date.getFullYear()+offset)}),(function(date){return date.getFullYear()}));d3_time.years=d3_time.year.range;d3_time.years.utc=d3_time.year.utc.range;d3_time.day=d3_time_interval((function(date){var day=new d3_date(2e3,0);day.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());return day}),(function(date,offset){date.setDate(date.getDate()+offset)}),(function(date){return date.getDate()-1}));d3_time.days=d3_time.day.range;d3_time.days.utc=d3_time.day.utc.range;d3_time.dayOfYear=function(date){var year=d3_time.year(date);return Math.floor((date-year-(date.getTimezoneOffset()-year.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(day,i){i=7-i;var interval=d3_time[day]=d3_time_interval((function(date){(date=d3_time.day(date)).setDate(date.getDate()-(date.getDay()+i)%7);return date}),(function(date,offset){date.setDate(date.getDate()+Math.floor(offset)*7)}),(function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)-(day!==i)}));d3_time[day+"s"]=interval.range;d3_time[day+"s"].utc=interval.utc.range;d3_time[day+"OfYear"]=function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)}}));d3_time.week=d3_time.sunday;d3_time.weeks=d3_time.sunday.range;d3_time.weeks.utc=d3_time.sunday.utc.range;d3_time.weekOfYear=d3_time.sundayOfYear;function d3_locale_timeFormat(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_days=locale.days,locale_shortDays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;function d3_time_format(template){var n=template.length;function format(date){var string=[],i=-1,j=0,c,p,f;while(++i<n){if(template.charCodeAt(i)===37){string.push(template.slice(j,i));if((p=d3_time_formatPads[c=template.charAt(++i)])!=null)c=template.charAt(++i);if(f=d3_time_formats[c])c=f(date,p==null?c==="e"?" ":"0":p);string.push(c);j=i+1}}string.push(template.slice(j,i));return string.join("")}format.parse=function(string){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(d,template,string,0);if(i!=string.length)return null;if("p"in d)d.H=d.H%12+d.p*12;var localZ=d.Z!=null&&d3_date!==d3_date_utc,date=new(localZ?d3_date_utc:d3_date);if("j"in d)date.setFullYear(d.y,0,d.j);else if("W"in d||"U"in d){if(!("w"in d))d.w="W"in d?1:0;date.setFullYear(d.y,0,1);date.setFullYear(d.y,0,"W"in d?(d.w+6)%7+d.W*7-(date.getDay()+5)%7:d.w+d.U*7-(date.getDay()+6)%7)}else date.setFullYear(d.y,d.m,d.d);date.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return localZ?date._:date};format.toString=function(){return template};return format}function d3_time_parse(date,template,string,j){var c,p,t,i=0,n=template.length,m=string.length;while(i<n){if(j>=m)return-1;c=template.charCodeAt(i++);if(c===37){t=template.charAt(i++);p=d3_time_parsers[t in d3_time_formatPads?template.charAt(i++):t];if(!p||(j=p(date,string,j))<0)return-1}else if(c!=string.charCodeAt(j++)){return-1}}return j}d3_time_format.utc=function(template){var local=d3_time_format(template);function format(date){try{d3_date=d3_date_utc;var utc=new d3_date;utc._=date;return local(utc)}finally{d3_date=Date}}format.parse=function(string){try{d3_date=d3_date_utc;var date=local.parse(string);return date&&date._}finally{d3_date=Date}};format.toString=local.toString;return format};d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d3_time_periodLookup=d3.map(),d3_time_dayRe=d3_time_formatRe(locale_days),d3_time_dayLookup=d3_time_formatLookup(locale_days),d3_time_dayAbbrevRe=d3_time_formatRe(locale_shortDays),d3_time_dayAbbrevLookup=d3_time_formatLookup(locale_shortDays),d3_time_monthRe=d3_time_formatRe(locale_months),d3_time_monthLookup=d3_time_formatLookup(locale_months),d3_time_monthAbbrevRe=d3_time_formatRe(locale_shortMonths),d3_time_monthAbbrevLookup=d3_time_formatLookup(locale_shortMonths);locale_periods.forEach((function(p,i){d3_time_periodLookup.set(p.toLowerCase(),i)}));var d3_time_formats={a:function(d){return locale_shortDays[d.getDay()]},A:function(d){return locale_days[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:d3_time_format(locale_dateTime),d:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},e:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},H:function(d,p){return d3_time_formatPad(d.getHours(),p,2)},I:function(d,p){return d3_time_formatPad(d.getHours()%12||12,p,2)},j:function(d,p){return d3_time_formatPad(1+d3_time.dayOfYear(d),p,3)},L:function(d,p){return d3_time_formatPad(d.getMilliseconds(),p,3)},m:function(d,p){return d3_time_formatPad(d.getMonth()+1,p,2)},M:function(d,p){return d3_time_formatPad(d.getMinutes(),p,2)},p:function(d){return locale_periods[+(d.getHours()>=12)]},S:function(d,p){return d3_time_formatPad(d.getSeconds(),p,2)},U:function(d,p){return d3_time_formatPad(d3_time.sundayOfYear(d),p,2)},w:function(d){return d.getDay()},W:function(d,p){return d3_time_formatPad(d3_time.mondayOfYear(d),p,2)},x:d3_time_format(locale_date),X:d3_time_format(locale_time),y:function(d,p){return d3_time_formatPad(d.getFullYear()%100,p,2)},Y:function(d,p){return d3_time_formatPad(d.getFullYear()%1e4,p,4)},Z:d3_time_zone,"%":function(){return"%"}};var d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};function d3_time_parseWeekdayAbbrev(date,string,i){d3_time_dayAbbrevRe.lastIndex=0;var n=d3_time_dayAbbrevRe.exec(string.slice(i));return n?(date.w=d3_time_dayAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseWeekday(date,string,i){d3_time_dayRe.lastIndex=0;var n=d3_time_dayRe.exec(string.slice(i));return n?(date.w=d3_time_dayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonthAbbrev(date,string,i){d3_time_monthAbbrevRe.lastIndex=0;var n=d3_time_monthAbbrevRe.exec(string.slice(i));return n?(date.m=d3_time_monthAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonth(date,string,i){d3_time_monthRe.lastIndex=0;var n=d3_time_monthRe.exec(string.slice(i));return n?(date.m=d3_time_monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseLocaleFull(date,string,i){return d3_time_parse(date,d3_time_formats.c.toString(),string,i)}function d3_time_parseLocaleDate(date,string,i){return d3_time_parse(date,d3_time_formats.x.toString(),string,i)}function d3_time_parseLocaleTime(date,string,i){return d3_time_parse(date,d3_time_formats.X.toString(),string,i)}function d3_time_parseAmPm(date,string,i){var n=d3_time_periodLookup.get(string.slice(i,i+=2).toLowerCase());return n==null?-1:(date.p=n,i)}return d3_time_format}var d3_time_formatPads={"-":"",_:" ",0:"0"},d3_time_numberRe=/^\s*\d+/,d3_time_percentRe=/^%/;function d3_time_formatPad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function d3_time_formatRe(names){return new RegExp("^(?:"+names.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(names){var map=new d3_Map,i=-1,n=names.length;while(++i<n)map.set(names[i].toLowerCase(),i);return map}function d3_time_parseWeekdayNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+1));return n?(date.w=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberSunday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.U=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberMonday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.W=+n[0],i+n[0].length):-1}function d3_time_parseFullYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+4));return n?(date.y=+n[0],i+n[0].length):-1}function d3_time_parseYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.y=d3_time_expandYear(+n[0]),i+n[0].length):-1}function d3_time_parseZone(date,string,i){return/^[+-]\d{4}$/.test(string=string.slice(i,i+5))?(date.Z=-string,i+5):-1}function d3_time_expandYear(d){return d+(d>68?1900:2e3)}function d3_time_parseMonthNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.m=n[0]-1,i+n[0].length):-1}function d3_time_parseDay(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.d=+n[0],i+n[0].length):-1}function d3_time_parseDayOfYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.j=+n[0],i+n[0].length):-1}function d3_time_parseHour24(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.H=+n[0],i+n[0].length):-1}function d3_time_parseMinutes(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.M=+n[0],i+n[0].length):-1}function d3_time_parseSeconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.S=+n[0],i+n[0].length):-1}function d3_time_parseMilliseconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.L=+n[0],i+n[0].length):-1}function d3_time_zone(d){var z=d.getTimezoneOffset(),zs=z>0?"-":"+",zh=abs(z)/60|0,zm=abs(z)%60;return zs+d3_time_formatPad(zh,"0",2)+d3_time_formatPad(zm,"0",2)}function d3_time_parseLiteralPercent(date,string,i){d3_time_percentRe.lastIndex=0;var n=d3_time_percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function d3_time_formatMulti(formats){var n=formats.length,i=-1;while(++i<n)formats[i][0]=this(formats[i][0]);return function(date){var i=0,f=formats[i];while(!f[1](date))f=formats[++i];return f[0](date)}}d3.locale=function(locale){return{numberFormat:d3_locale_numberFormat(locale),timeFormat:d3_locale_timeFormat(locale)}};var d3_locale_enUS=d3.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});d3.format=d3_locale_enUS.numberFormat;d3.geo={};function d3_adder(){}d3_adder.prototype={s:0,t:0,add:function(y){d3_adderSum(y,this.t,d3_adderTemp);d3_adderSum(d3_adderTemp.s,this.s,this);if(this.s)this.t+=d3_adderTemp.t;else this.s=d3_adderTemp.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var d3_adderTemp=new d3_adder;function d3_adderSum(a,b,o){var x=o.s=a+b,bv=x-a,av=x-bv;o.t=a-av+(b-bv)}d3.geo.stream=function(object,listener){if(object&&d3_geo_streamObjectType.hasOwnProperty(object.type)){d3_geo_streamObjectType[object.type](object,listener)}else{d3_geo_streamGeometry(object,listener)}};function d3_geo_streamGeometry(geometry,listener){if(geometry&&d3_geo_streamGeometryType.hasOwnProperty(geometry.type)){d3_geo_streamGeometryType[geometry.type](geometry,listener)}}var d3_geo_streamObjectType={Feature:function(feature,listener){d3_geo_streamGeometry(feature.geometry,listener)},FeatureCollection:function(object,listener){var features=object.features,i=-1,n=features.length;while(++i<n)d3_geo_streamGeometry(features[i].geometry,listener)}};var d3_geo_streamGeometryType={Sphere:function(object,listener){listener.sphere()},Point:function(object,listener){object=object.coordinates;listener.point(object[0],object[1],object[2])},MultiPoint:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)object=coordinates[i],listener.point(object[0],object[1],object[2])},LineString:function(object,listener){d3_geo_streamLine(object.coordinates,listener,0)},MultiLineString:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)d3_geo_streamLine(coordinates[i],listener,0)},Polygon:function(object,listener){d3_geo_streamPolygon(object.coordinates,listener)},MultiPolygon:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)d3_geo_streamPolygon(coordinates[i],listener)},GeometryCollection:function(object,listener){var geometries=object.geometries,i=-1,n=geometries.length;while(++i<n)d3_geo_streamGeometry(geometries[i],listener)}};function d3_geo_streamLine(coordinates,listener,closed){var i=-1,n=coordinates.length-closed,coordinate;listener.lineStart();while(++i<n)coordinate=coordinates[i],listener.point(coordinate[0],coordinate[1],coordinate[2]);listener.lineEnd()}function d3_geo_streamPolygon(coordinates,listener){var i=-1,n=coordinates.length;listener.polygonStart();while(++i<n)d3_geo_streamLine(coordinates[i],listener,1);listener.polygonEnd()}d3.geo.area=function(object){d3_geo_areaSum=0;d3.geo.stream(object,d3_geo_area);return d3_geo_areaSum};var d3_geo_areaSum,d3_geo_areaRingSum=new d3_adder;var d3_geo_area={sphere:function(){d3_geo_areaSum+=4*π},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_areaRingSum.reset();d3_geo_area.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var area=2*d3_geo_areaRingSum;d3_geo_areaSum+=area<0?4*π+area:area;d3_geo_area.lineStart=d3_geo_area.lineEnd=d3_geo_area.point=d3_noop}};function d3_geo_areaRingStart(){var λ00,φ00,λ0,cosφ0,sinφ0;d3_geo_area.point=function(λ,φ){d3_geo_area.point=nextPoint;λ0=(λ00=λ)*d3_radians,cosφ0=Math.cos(φ=(φ00=φ)*d3_radians/2+π/4),sinφ0=Math.sin(φ)};function nextPoint(λ,φ){λ*=d3_radians;φ=φ*d3_radians/2+π/4;var dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,cosφ=Math.cos(φ),sinφ=Math.sin(φ),k=sinφ0*sinφ,u=cosφ0*cosφ+k*Math.cos(adλ),v=k*sdλ*Math.sin(adλ);d3_geo_areaRingSum.add(Math.atan2(v,u));λ0=λ,cosφ0=cosφ,sinφ0=sinφ}d3_geo_area.lineEnd=function(){nextPoint(λ00,φ00)}}function d3_geo_cartesian(spherical){var λ=spherical[0],φ=spherical[1],cosφ=Math.cos(φ);return[cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ)]}function d3_geo_cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function d3_geo_cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function d3_geo_cartesianAdd(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function d3_geo_cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function d3_geo_cartesianNormalize(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l;d[1]/=l;d[2]/=l}function d3_geo_spherical(cartesian){return[Math.atan2(cartesian[1],cartesian[0]),d3_asin(cartesian[2])]}function d3_geo_sphericalEqual(a,b){return abs(a[0]-b[0])<ε&&abs(a[1]-b[1])<ε}d3.geo.bounds=function(){var λ0,φ0,λ1,φ1,λ_,λ__,φ__,p0,dλSum,ranges,range;var bound={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){bound.point=ringPoint;bound.lineStart=ringStart;bound.lineEnd=ringEnd;dλSum=0;d3_geo_area.polygonStart()},polygonEnd:function(){d3_geo_area.polygonEnd();bound.point=point;bound.lineStart=lineStart;bound.lineEnd=lineEnd;if(d3_geo_areaRingSum<0)λ0=-(λ1=180),φ0=-(φ1=90);else if(dλSum>ε)φ1=90;else if(dλSum<-ε)φ0=-90;range[0]=λ0,range[1]=λ1}};function point(λ,φ){ranges.push(range=[λ0=λ,λ1=λ]);if(φ<φ0)φ0=φ;if(φ>φ1)φ1=φ}function linePoint(λ,φ){var p=d3_geo_cartesian([λ*d3_radians,φ*d3_radians]);if(p0){var normal=d3_geo_cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=d3_geo_cartesianCross(equatorial,normal);d3_geo_cartesianNormalize(inflection);inflection=d3_geo_spherical(inflection);var dλ=λ-λ_,s=dλ>0?1:-1,λi=inflection[0]*d3_degrees*s,antimeridian=abs(dλ)>180;if(antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=inflection[1]*d3_degrees;if(φi>φ1)φ1=φi}else if(λi=(λi+360)%360-180,antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=-inflection[1]*d3_degrees;if(φi<φ0)φ0=φi}else{if(φ<φ0)φ0=φ;if(φ>φ1)φ1=φ}if(antimeridian){if(λ<λ_){if(angle(λ0,λ)>angle(λ0,λ1))λ1=λ}else{if(angle(λ,λ1)>angle(λ0,λ1))λ0=λ}}else{if(λ1>=λ0){if(λ<λ0)λ0=λ;if(λ>λ1)λ1=λ}else{if(λ>λ_){if(angle(λ0,λ)>angle(λ0,λ1))λ1=λ}else{if(angle(λ,λ1)>angle(λ0,λ1))λ0=λ}}}}else{point(λ,φ)}p0=p,λ_=λ}function lineStart(){bound.point=linePoint}function lineEnd(){range[0]=λ0,range[1]=λ1;bound.point=point;p0=null}function ringPoint(λ,φ){if(p0){var dλ=λ-λ_;dλSum+=abs(dλ)>180?dλ+(dλ>0?360:-360):dλ}else λ__=λ,φ__=φ;d3_geo_area.point(λ,φ);linePoint(λ,φ)}function ringStart(){d3_geo_area.lineStart()}function ringEnd(){ringPoint(λ__,φ__);d3_geo_area.lineEnd();if(abs(dλSum)>ε)λ0=-(λ1=180);range[0]=λ0,range[1]=λ1;p0=null}function angle(λ0,λ1){return(λ1-=λ0)<0?λ1+360:λ1}function compareRanges(a,b){return a[0]-b[0]}function withinRange(x,range){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}return function(feature){φ1=λ1=-(λ0=φ0=Infinity);ranges=[];d3.geo.stream(feature,bound);var n=ranges.length;if(n){ranges.sort(compareRanges);for(var i=1,a=ranges[0],b,merged=[a];i<n;++i){b=ranges[i];if(withinRange(b[0],a)||withinRange(b[1],a)){if(angle(a[0],b[1])>angle(a[0],a[1]))a[1]=b[1];if(angle(b[0],a[1])>angle(a[0],a[1]))a[0]=b[0]}else{merged.push(a=b)}}var best=-Infinity,dλ;for(var n=merged.length-1,i=0,a=merged[n],b;i<=n;a=b,++i){b=merged[i];if((dλ=angle(a[1],b[0]))>best)best=dλ,λ0=b[0],λ1=a[1]}}ranges=range=null;return λ0===Infinity||φ0===Infinity?[[NaN,NaN],[NaN,NaN]]:[[λ0,φ0],[λ1,φ1]]}}();d3.geo.centroid=function(object){d3_geo_centroidW0=d3_geo_centroidW1=d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0;d3.geo.stream(object,d3_geo_centroid);var x=d3_geo_centroidX2,y=d3_geo_centroidY2,z=d3_geo_centroidZ2,m=x*x+y*y+z*z;if(m<ε2){x=d3_geo_centroidX1,y=d3_geo_centroidY1,z=d3_geo_centroidZ1;if(d3_geo_centroidW1<ε)x=d3_geo_centroidX0,y=d3_geo_centroidY0,z=d3_geo_centroidZ0;m=x*x+y*y+z*z;if(m<ε2)return[NaN,NaN]}return[Math.atan2(y,x)*d3_degrees,d3_asin(z/Math.sqrt(m))*d3_degrees]};var d3_geo_centroidW0,d3_geo_centroidW1,d3_geo_centroidX0,d3_geo_centroidY0,d3_geo_centroidZ0,d3_geo_centroidX1,d3_geo_centroidY1,d3_geo_centroidZ1,d3_geo_centroidX2,d3_geo_centroidY2,d3_geo_centroidZ2;var d3_geo_centroid={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){d3_geo_centroid.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){d3_geo_centroid.lineStart=d3_geo_centroidLineStart}};function d3_geo_centroidPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);d3_geo_centroidPointXYZ(cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ))}function d3_geo_centroidPointXYZ(x,y,z){++d3_geo_centroidW0;d3_geo_centroidX0+=(x-d3_geo_centroidX0)/d3_geo_centroidW0;d3_geo_centroidY0+=(y-d3_geo_centroidY0)/d3_geo_centroidW0;d3_geo_centroidZ0+=(z-d3_geo_centroidZ0)/d3_geo_centroidW0}function d3_geo_centroidLineStart(){var x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ);y0=cosφ*Math.sin(λ);z0=Math.sin(φ);d3_geo_centroid.point=nextPoint;d3_geo_centroidPointXYZ(x0,y0,z0)};function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);d3_geo_centroidW1+=w;d3_geo_centroidX1+=w*(x0+(x0=x));d3_geo_centroidY1+=w*(y0+(y0=y));d3_geo_centroidZ1+=w*(z0+(z0=z));d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_centroidLineEnd(){d3_geo_centroid.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){var λ00,φ00,x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ00=λ,φ00=φ;d3_geo_centroid.point=nextPoint;λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ);y0=cosφ*Math.sin(λ);z0=Math.sin(φ);d3_geo_centroidPointXYZ(x0,y0,z0)};d3_geo_centroid.lineEnd=function(){nextPoint(λ00,φ00);d3_geo_centroid.lineEnd=d3_geo_centroidLineEnd;d3_geo_centroid.point=d3_geo_centroidPoint};function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Math.sqrt(cx*cx+cy*cy+cz*cz),u=x0*x+y0*y+z0*z,v=m&&-d3_acos(u)/m,w=Math.atan2(m,u);d3_geo_centroidX2+=v*cx;d3_geo_centroidY2+=v*cy;d3_geo_centroidZ2+=v*cz;d3_geo_centroidW1+=w;d3_geo_centroidX1+=w*(x0+(x0=x));d3_geo_centroidY1+=w*(y0+(y0=y));d3_geo_centroidZ1+=w*(z0+(z0=z));d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}if(a.invert&&b.invert)compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])};return compose}function d3_true(){return true}function d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener){var subject=[],clip=[];segments.forEach((function(segment){if((n=segment.length-1)<=0)return;var n,p0=segment[0],p1=segment[n];if(d3_geo_sphericalEqual(p0,p1)){listener.lineStart();for(var i=0;i<n;++i)listener.point((p0=segment[i])[0],p0[1]);listener.lineEnd();return}var a=new d3_geo_clipPolygonIntersection(p0,segment,null,true),b=new d3_geo_clipPolygonIntersection(p0,null,a,false);a.o=b;subject.push(a);clip.push(b);a=new d3_geo_clipPolygonIntersection(p1,segment,null,false);b=new d3_geo_clipPolygonIntersection(p1,null,a,true);a.o=b;subject.push(a);clip.push(b)}));clip.sort(compare);d3_geo_clipPolygonLinkCircular(subject);d3_geo_clipPolygonLinkCircular(clip);if(!subject.length)return;for(var i=0,entry=clipStartInside,n=clip.length;i<n;++i){clip[i].e=entry=!entry}var start=subject[0],points,point;while(1){var current=start,isSubject=true;while(current.v)if((current=current.n)===start)return;points=current.z;listener.lineStart();do{current.v=current.o.v=true;if(current.e){if(isSubject){for(var i=0,n=points.length;i<n;++i)listener.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.n.x,1,listener)}current=current.n}else{if(isSubject){points=current.p.z;for(var i=points.length-1;i>=0;--i)listener.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.p.x,-1,listener)}current=current.p}current=current.o;points=current.z;isSubject=!isSubject}while(!current.v);listener.lineEnd()}}function d3_geo_clipPolygonLinkCircular(array){if(!(n=array.length))return;var n,i=0,a=array[0],b;while(++i<n){a.n=b=array[i];b.p=a;a=b}a.n=b=array[0];b.p=a}function d3_geo_clipPolygonIntersection(point,points,other,entry){this.x=point;this.z=points;this.o=other;this.e=entry;this.v=false;this.n=this.p=null}function d3_geo_clip(pointVisible,clipLine,interpolate,clipStart){return function(rotate,listener){var line=clipLine(listener),rotatedClipStart=rotate.invert(clipStart[0],clipStart[1]);var clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing;clip.lineStart=ringStart;clip.lineEnd=ringEnd;segments=[];polygon=[]},polygonEnd:function(){clip.point=point;clip.lineStart=lineStart;clip.lineEnd=lineEnd;segments=d3.merge(segments);var clipStartInside=d3_geo_pointInPolygon(rotatedClipStart,polygon);if(segments.length){if(!polygonStarted)listener.polygonStart(),polygonStarted=true;d3_geo_clipPolygon(segments,d3_geo_clipSort,clipStartInside,interpolate,listener)}else if(clipStartInside){if(!polygonStarted)listener.polygonStart(),polygonStarted=true;listener.lineStart();interpolate(null,null,1,listener);listener.lineEnd()}if(polygonStarted)listener.polygonEnd(),polygonStarted=false;segments=polygon=null},sphere:function(){listener.polygonStart();listener.lineStart();interpolate(null,null,1,listener);listener.lineEnd();listener.polygonEnd()}};function point(λ,φ){var point=rotate(λ,φ);if(pointVisible(λ=point[0],φ=point[1]))listener.point(λ,φ)}function pointLine(λ,φ){var point=rotate(λ,φ);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine;line.lineStart()}function lineEnd(){clip.point=point;line.lineEnd()}var segments;var buffer=d3_geo_clipBufferListener(),ringListener=clipLine(buffer),polygonStarted=false,polygon,ring;function pointRing(λ,φ){ring.push([λ,φ]);var point=rotate(λ,φ);ringListener.point(point[0],point[1])}function ringStart(){ringListener.lineStart();ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]);ringListener.lineEnd();var clean=ringListener.clean(),ringSegments=buffer.buffer(),segment,n=ringSegments.length;ring.pop();polygon.push(ring);ring=null;if(!n)return;if(clean&1){segment=ringSegments[0];var n=segment.length-1,i=-1,point;if(n>0){if(!polygonStarted)listener.polygonStart(),polygonStarted=true;listener.lineStart();while(++i<n)listener.point((point=segment[i])[0],point[1]);listener.lineEnd()}return}if(n>1&&clean&2)ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));segments.push(ringSegments.filter(d3_geo_clipSegmentLength1))}return clip}}function d3_geo_clipSegmentLength1(segment){return segment.length>1}function d3_geo_clipBufferListener(){var lines=[],line;return{lineStart:function(){lines.push(line=[])},point:function(λ,φ){line.push([λ,φ])},lineEnd:d3_noop,buffer:function(){var buffer=lines;lines=[];line=null;return buffer},rejoin:function(){if(lines.length>1)lines.push(lines.pop().concat(lines.shift()))}}}function d3_geo_clipSort(a,b){return((a=a.x)[0]<0?a[1]-halfπ-ε:halfπ-a[1])-((b=b.x)[0]<0?b[1]-halfπ-ε:halfπ-b[1])}var d3_geo_clipAntimeridian=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-π,-π/2]);function d3_geo_clipAntimeridianLine(listener){var λ0=NaN,φ0=NaN,sλ0=NaN,clean;return{lineStart:function(){listener.lineStart();clean=1},point:function(λ1,φ1){var sλ1=λ1>0?π:-π,dλ=abs(λ1-λ0);if(abs(dλ-π)<ε){listener.point(λ0,φ0=(φ0+φ1)/2>0?halfπ:-halfπ);listener.point(sλ0,φ0);listener.lineEnd();listener.lineStart();listener.point(sλ1,φ0);listener.point(λ1,φ0);clean=0}else if(sλ0!==sλ1&&dλ>=π){if(abs(λ0-sλ0)<ε)λ0-=sλ0*ε;if(abs(λ1-sλ1)<ε)λ1-=sλ1*ε;φ0=d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1);listener.point(sλ0,φ0);listener.lineEnd();listener.lineStart();listener.point(sλ1,φ0);clean=0}listener.point(λ0=λ1,φ0=φ1);sλ0=sλ1},lineEnd:function(){listener.lineEnd();λ0=φ0=NaN},clean:function(){return 2-clean}}}function d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1){var cosφ0,cosφ1,sinλ0_λ1=Math.sin(λ0-λ1);return abs(sinλ0_λ1)>ε?Math.atan((Math.sin(φ0)*(cosφ1=Math.cos(φ1))*Math.sin(λ1)-Math.sin(φ1)*(cosφ0=Math.cos(φ0))*Math.sin(λ0))/(cosφ0*cosφ1*sinλ0_λ1)):(φ0+φ1)/2}function d3_geo_clipAntimeridianInterpolate(from,to,direction,listener){var φ;if(from==null){φ=direction*halfπ;listener.point(-π,φ);listener.point(0,φ);listener.point(π,φ);listener.point(π,0);listener.point(π,-φ);listener.point(0,-φ);listener.point(-π,-φ);listener.point(-π,0);listener.point(-π,φ)}else if(abs(from[0]-to[0])>ε){var s=from[0]<to[0]?π:-π;φ=direction*s/2;listener.point(-s,φ);listener.point(0,φ);listener.point(s,φ)}else{listener.point(to[0],to[1])}}function d3_geo_pointInPolygon(point,polygon){var meridian=point[0],parallel=point[1],meridianNormal=[Math.sin(meridian),-Math.cos(meridian),0],polarAngle=0,winding=0;d3_geo_areaRingSum.reset();for(var i=0,n=polygon.length;i<n;++i){var ring=polygon[i],m=ring.length;if(!m)continue;var point0=ring[0],λ0=point0[0],φ0=point0[1]/2+π/4,sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),j=1;while(true){if(j===m)j=0;point=ring[j];var λ=point[0],φ=point[1]/2+π/4,sinφ=Math.sin(φ),cosφ=Math.cos(φ),dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,antimeridian=adλ>π,k=sinφ0*sinφ;d3_geo_areaRingSum.add(Math.atan2(k*sdλ*Math.sin(adλ),cosφ0*cosφ+k*Math.cos(adλ)));polarAngle+=antimeridian?dλ+sdλ*τ:dλ;if(antimeridian^λ0>=meridian^λ>=meridian){var arc=d3_geo_cartesianCross(d3_geo_cartesian(point0),d3_geo_cartesian(point));d3_geo_cartesianNormalize(arc);var intersection=d3_geo_cartesianCross(meridianNormal,arc);d3_geo_cartesianNormalize(intersection);var φarc=(antimeridian^dλ>=0?-1:1)*d3_asin(intersection[2]);if(parallel>φarc||parallel===φarc&&(arc[0]||arc[1])){winding+=antimeridian^dλ>=0?1:-1}}if(!j++)break;λ0=λ,sinφ0=sinφ,cosφ0=cosφ,point0=point}}return(polarAngle<-ε||polarAngle<ε&&d3_geo_areaRingSum<-ε)^winding&1}function d3_geo_clipCircle(radius){var cr=Math.cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>ε,interpolate=d3_geo_circleInterpolate(radius,6*d3_radians);return d3_geo_clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-π,radius-π]);function visible(λ,φ){return Math.cos(λ)*Math.cos(φ)>cr}function clipLine(listener){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=false;clean=1},point:function(λ,φ){var point1=[λ,φ],point2,v=visible(λ,φ),c=smallRadius?v?0:code(λ,φ):v?code(λ+(λ<0?π:-π),φ):0;if(!point0&&(v00=v0=v))listener.lineStart();if(v!==v0){point2=intersect(point0,point1);if(d3_geo_sphericalEqual(point0,point2)||d3_geo_sphericalEqual(point1,point2)){point1[0]+=ε;point1[1]+=ε;v=visible(point1[0],point1[1])}}if(v!==v0){clean=0;if(v){listener.lineStart();point2=intersect(point1,point0);listener.point(point2[0],point2[1])}else{point2=intersect(point0,point1);listener.point(point2[0],point2[1]);listener.lineEnd()}point0=point2}else if(notHemisphere&&point0&&smallRadius^v){var t;if(!(c&c0)&&(t=intersect(point1,point0,true))){clean=0;if(smallRadius){listener.lineStart();listener.point(t[0][0],t[0][1]);listener.point(t[1][0],t[1][1]);listener.lineEnd()}else{listener.point(t[1][0],t[1][1]);listener.lineEnd();listener.lineStart();listener.point(t[0][0],t[0][1])}}}if(v&&(!point0||!d3_geo_sphericalEqual(point0,point1))){listener.point(point1[0],point1[1])}point0=point1,v0=v,c0=c},lineEnd:function(){if(v0)listener.lineEnd();point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=d3_geo_cartesian(a),pb=d3_geo_cartesian(b);var n1=[1,0,0],n2=d3_geo_cartesianCross(pa,pb),n2n2=d3_geo_cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=d3_geo_cartesianCross(n1,n2),A=d3_geo_cartesianScale(n1,c1),B=d3_geo_cartesianScale(n2,c2);d3_geo_cartesianAdd(A,B);var u=n1xn2,w=d3_geo_cartesianDot(A,u),uu=d3_geo_cartesianDot(u,u),t2=w*w-uu*(d3_geo_cartesianDot(A,A)-1);if(t2<0)return;var t=Math.sqrt(t2),q=d3_geo_cartesianScale(u,(-w-t)/uu);d3_geo_cartesianAdd(q,A);q=d3_geo_spherical(q);if(!two)return q;var λ0=a[0],λ1=b[0],φ0=a[1],φ1=b[1],z;if(λ1<λ0)z=λ0,λ0=λ1,λ1=z;var δλ=λ1-λ0,polar=abs(δλ-π)<ε,meridian=polar||δλ<ε;if(!polar&&φ1<φ0)z=φ0,φ0=φ1,φ1=z;if(meridian?polar?φ0+φ1>0^q[1]<(abs(q[0]-λ0)<ε?φ0:φ1):φ0<=q[1]&&q[1]<=φ1:δλ>π^(λ0<=q[0]&&q[0]<=λ1)){var q1=d3_geo_cartesianScale(u,(-w+t)/uu);d3_geo_cartesianAdd(q1,A);return[q,d3_geo_spherical(q1)]}}function code(λ,φ){var r=smallRadius?radius:π-radius,code=0;if(λ<-r)code|=1;else if(λ>r)code|=2;if(φ<-r)code|=4;else if(φ>r)code|=8;return code}}function d3_geom_clipLine(x0,y0,x1,y1){return function(line){var a=line.a,b=line.b,ax=a.x,ay=a.y,bx=b.x,by=b.y,t0=0,t1=1,dx=bx-ax,dy=by-ay,r;r=x0-ax;if(!dx&&r>0)return;r/=dx;if(dx<0){if(r<t0)return;if(r<t1)t1=r}else if(dx>0){if(r>t1)return;if(r>t0)t0=r}r=x1-ax;if(!dx&&r<0)return;r/=dx;if(dx<0){if(r>t1)return;if(r>t0)t0=r}else if(dx>0){if(r<t0)return;if(r<t1)t1=r}r=y0-ay;if(!dy&&r>0)return;r/=dy;if(dy<0){if(r<t0)return;if(r<t1)t1=r}else if(dy>0){if(r>t1)return;if(r>t0)t0=r}r=y1-ay;if(!dy&&r<0)return;r/=dy;if(dy<0){if(r>t1)return;if(r>t0)t0=r}else if(dy>0){if(r<t0)return;if(r<t1)t1=r}if(t0>0)line.a={x:ax+t0*dx,y:ay+t0*dy};if(t1<1)line.b={x:ax+t1*dx,y:ay+t1*dy};return line}}var d3_geo_clipExtentMAX=1e9;d3.geo.clipExtent=function(){var x0,y0,x1,y1,stream,clip,clipExtent={stream:function(output){if(stream)stream.valid=false;stream=clip(output);stream.valid=true;return stream},extent:function(_){if(!arguments.length)return[[x0,y0],[x1,y1]];clip=d3_geo_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]);if(stream)stream.valid=false,stream=null;return clipExtent}};return clipExtent.extent([[0,0],[960,500]])};function d3_geo_clipExtent(x0,y0,x1,y1){return function(listener){var listener_=listener,bufferListener=d3_geo_clipBufferListener(),clipLine=d3_geom_clipLine(x0,y0,x1,y1),segments,polygon,ring;var clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){listener=bufferListener;segments=[];polygon=[];clean=true},polygonEnd:function(){listener=listener_;segments=d3.merge(segments);var clipStartInside=insidePolygon([x0,y1]),inside=clean&&clipStartInside,visible=segments.length;if(inside||visible){listener.polygonStart();if(inside){listener.lineStart();interpolate(null,null,1,listener);listener.lineEnd()}if(visible){d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener)}listener.polygonEnd()}segments=polygon=ring=null}};function insidePolygon(p){var wn=0,n=polygon.length,y=p[1];for(var i=0;i<n;++i){for(var j=1,v=polygon[i],m=v.length,a=v[0],b;j<m;++j){b=v[j];if(a[1]<=y){if(b[1]>y&&d3_cross2d(a,b,p)>0)++wn}else{if(b[1]<=y&&d3_cross2d(a,b,p)<0)--wn}a=b}}return wn!==0}function interpolate(from,to,direction,listener){var a=0,a1=0;if(from==null||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoints(from,to)<0^direction>0){do{listener.point(a===0||a===3?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1)}else{listener.point(to[0],to[1])}}function pointVisible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function point(x,y){if(pointVisible(x,y))listener.point(x,y)}var x__,y__,v__,x_,y_,v_,first,clean;function lineStart(){clip.point=linePoint;if(polygon)polygon.push(ring=[]);first=true;v_=false;x_=y_=NaN}function lineEnd(){if(segments){linePoint(x__,y__);if(v__&&v_)bufferListener.rejoin();segments.push(bufferListener.buffer())}clip.point=point;if(v_)listener.lineEnd()}function linePoint(x,y){x=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,x));y=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,y));var v=pointVisible(x,y);if(polygon)ring.push([x,y]);if(first){x__=x,y__=y,v__=v;first=false;if(v){listener.lineStart();listener.point(x,y)}}else{if(v&&v_)listener.point(x,y);else{var l={a:{x:x_,y:y_},b:{x:x,y:y}};if(clipLine(l)){if(!v_){listener.lineStart();listener.point(l.a.x,l.a.y)}listener.point(l.b.x,l.b.y);if(!v)listener.lineEnd();clean=false}else if(v){listener.lineStart();listener.point(x,y);clean=false}}}x_=x,y_=y,v_=v}return clip};function corner(p,direction){return abs(p[0]-x0)<ε?direction>0?0:3:abs(p[0]-x1)<ε?direction>0?2:1:abs(p[1]-y0)<ε?direction>0?1:0:direction>0?3:2}function compare(a,b){return comparePoints(a.x,b.x)}function comparePoints(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:ca===0?b[1]-a[1]:ca===1?a[0]-b[0]:ca===2?a[1]-b[1]:b[0]-a[0]}}function d3_geo_conic(projectAt){var φ0=0,φ1=π/3,m=d3_geo_projectionMutator(projectAt),p=m(φ0,φ1);p.parallels=function(_){if(!arguments.length)return[φ0/π*180,φ1/π*180];return m(φ0=_[0]*π/180,φ1=_[1]*π/180)};return p}function d3_geo_conicEqualArea(φ0,φ1){var sinφ0=Math.sin(φ0),n=(sinφ0+Math.sin(φ1))/2,C=1+sinφ0*(2*n-sinφ0),ρ0=Math.sqrt(C)/n;function forward(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),ρ0-ρ*Math.cos(λ)]}forward.invert=function(x,y){var ρ0_y=ρ0-y;return[Math.atan2(x,ρ0_y)/n,d3_asin((C-(x*x+ρ0_y*ρ0_y)*n*n)/(2*n))]};return forward}(d3.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea;d3.geo.albers=function(){return d3.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};d3.geo.albersUsa=function(){var lower48=d3.geo.albers();var alaska=d3.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var hawaii=d3.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var point,pointStream={point:function(x,y){point=[x,y]}},lower48Point,alaskaPoint,hawaiiPoint;function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];point=null;(lower48Point(x,y),point)||(alaskaPoint(x,y),point)||hawaiiPoint(x,y);return point}albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)};albersUsa.stream=function(stream){var lower48Stream=lower48.stream(stream),alaskaStream=alaska.stream(stream),hawaiiStream=hawaii.stream(stream);return{point:function(x,y){lower48Stream.point(x,y);alaskaStream.point(x,y);hawaiiStream.point(x,y)},sphere:function(){lower48Stream.sphere();alaskaStream.sphere();hawaiiStream.sphere()},lineStart:function(){lower48Stream.lineStart();alaskaStream.lineStart();hawaiiStream.lineStart()},lineEnd:function(){lower48Stream.lineEnd();alaskaStream.lineEnd();hawaiiStream.lineEnd()},polygonStart:function(){lower48Stream.polygonStart();alaskaStream.polygonStart();hawaiiStream.polygonStart()},polygonEnd:function(){lower48Stream.polygonEnd();alaskaStream.polygonEnd();hawaiiStream.polygonEnd()}}};albersUsa.precision=function(_){if(!arguments.length)return lower48.precision();lower48.precision(_);alaska.precision(_);hawaii.precision(_);return albersUsa};albersUsa.scale=function(_){if(!arguments.length)return lower48.scale();lower48.scale(_);alaska.scale(_*.35);hawaii.scale(_);return albersUsa.translate(lower48.translate())};albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream).point;alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(pointStream).point;hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(pointStream).point;return albersUsa};return albersUsa.scale(1070)};var d3_geo_pathAreaSum,d3_geo_pathAreaPolygon,d3_geo_pathArea={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_pathAreaPolygon=0;d3_geo_pathArea.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){d3_geo_pathArea.lineStart=d3_geo_pathArea.lineEnd=d3_geo_pathArea.point=d3_noop;d3_geo_pathAreaSum+=abs(d3_geo_pathAreaPolygon/2)}};function d3_geo_pathAreaRingStart(){var x00,y00,x0,y0;d3_geo_pathArea.point=function(x,y){d3_geo_pathArea.point=nextPoint;x00=x0=x,y00=y0=y};function nextPoint(x,y){d3_geo_pathAreaPolygon+=y0*x-x0*y;x0=x,y0=y}d3_geo_pathArea.lineEnd=function(){nextPoint(x00,y00)}}var d3_geo_pathBoundsX0,d3_geo_pathBoundsY0,d3_geo_pathBoundsX1,d3_geo_pathBoundsY1;var d3_geo_pathBounds={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_pathBoundsPoint(x,y){if(x<d3_geo_pathBoundsX0)d3_geo_pathBoundsX0=x;if(x>d3_geo_pathBoundsX1)d3_geo_pathBoundsX1=x;if(y<d3_geo_pathBoundsY0)d3_geo_pathBoundsY0=y;if(y>d3_geo_pathBoundsY1)d3_geo_pathBoundsY1=y}function d3_geo_pathBuffer(){var pointCircle=d3_geo_pathBufferCircle(4.5),buffer=[];var stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd;stream.point=point},pointRadius:function(_){pointCircle=d3_geo_pathBufferCircle(_);return stream},result:function(){if(buffer.length){var result=buffer.join("");buffer=[];return result}}};function point(x,y){buffer.push("M",x,",",y,pointCircle)}function pointLineStart(x,y){buffer.push("M",x,",",y);stream.point=pointLine}function pointLine(x,y){buffer.push("L",x,",",y)}function lineEnd(){stream.point=point}function lineEndPolygon(){buffer.push("Z")}return stream}function d3_geo_pathBufferCircle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}var d3_geo_pathCentroid={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint;d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidLineStart;d3_geo_pathCentroid.lineEnd=d3_geo_pathCentroidLineEnd}};function d3_geo_pathCentroidPoint(x,y){d3_geo_centroidX0+=x;d3_geo_centroidY0+=y;++d3_geo_centroidZ0}function d3_geo_pathCentroidLineStart(){var x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint;d3_geo_pathCentroidPoint(x0=x,y0=y)};function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2;d3_geo_centroidY1+=z*(y0+y)/2;d3_geo_centroidZ1+=z;d3_geo_pathCentroidPoint(x0=x,y0=y)}}function d3_geo_pathCentroidLineEnd(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){var x00,y00,x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint;d3_geo_pathCentroidPoint(x00=x0=x,y00=y0=y)};function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2;d3_geo_centroidY1+=z*(y0+y)/2;d3_geo_centroidZ1+=z;z=y0*x-x0*y;d3_geo_centroidX2+=z*(x0+x);d3_geo_centroidY2+=z*(y0+y);d3_geo_centroidZ2+=z*3;d3_geo_pathCentroidPoint(x0=x,y0=y)}d3_geo_pathCentroid.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathContext(context){var pointRadius=4.5;var stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd;stream.point=point},pointRadius:function(_){pointRadius=_;return stream},result:d3_noop};function point(x,y){context.moveTo(x+pointRadius,y);context.arc(x,y,pointRadius,0,τ)}function pointLineStart(x,y){context.moveTo(x,y);stream.point=pointLine}function pointLine(x,y){context.lineTo(x,y)}function lineEnd(){stream.point=point}function lineEndPolygon(){context.closePath()}return stream}function d3_geo_resample(project){var δ2=.5,cosMinDistance=Math.cos(30*d3_radians),maxDepth=16;function resample(stream){return(maxDepth?resampleRecursive:resampleNone)(stream)}function resampleNone(stream){return d3_geo_transformPoint(stream,(function(x,y){x=project(x,y);stream.point(x[0],x[1])}))}function resampleRecursive(stream){var λ00,φ00,x00,y00,a00,b00,c00,λ0,x0,y0,a0,b0,c0;var resample={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart();resample.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd();resample.lineStart=lineStart}};function point(x,y){x=project(x,y);stream.point(x[0],x[1])}function lineStart(){x0=NaN;resample.point=linePoint;stream.lineStart()}function linePoint(λ,φ){var c=d3_geo_cartesian([λ,φ]),p=project(λ,φ);resampleLineTo(x0,y0,λ0,a0,b0,c0,x0=p[0],y0=p[1],λ0=λ,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream);stream.point(x0,y0)}function lineEnd(){resample.point=point;stream.lineEnd()}function ringStart(){lineStart();resample.point=ringPoint;resample.lineEnd=ringEnd}function ringPoint(λ,φ){linePoint(λ00=λ,φ00=φ),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0;resample.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,λ0,a0,b0,c0,x00,y00,λ00,a00,b00,c00,maxDepth,stream);resample.lineEnd=lineEnd;lineEnd()}return resample}function resampleLineTo(x0,y0,λ0,a0,b0,c0,x1,y1,λ1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*δ2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Math.sqrt(a*a+b*b+c*c),φ2=Math.asin(c/=m),λ2=abs(abs(c)-1)<ε||abs(λ0-λ1)<ε?(λ0+λ1)/2:Math.atan2(b,a),p=project(λ2,φ2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;if(dz*dz/d2>δ2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance){resampleLineTo(x0,y0,λ0,a0,b0,c0,x2,y2,λ2,a/=m,b/=m,c,depth,stream);stream.point(x2,y2);resampleLineTo(x2,y2,λ2,a,b,c,x1,y1,λ1,a1,b1,c1,depth,stream)}}}resample.precision=function(_){if(!arguments.length)return Math.sqrt(δ2);maxDepth=(δ2=_*_)>0&&16;return resample};return resample}d3.geo.path=function(){var pointRadius=4.5,projection,context,projectStream,contextStream,cacheStream;function path(object){if(object){if(typeof pointRadius==="function")contextStream.pointRadius(+pointRadius.apply(this,arguments));if(!cacheStream||!cacheStream.valid)cacheStream=projectStream(contextStream);d3.geo.stream(object,cacheStream)}return contextStream.result()}path.area=function(object){d3_geo_pathAreaSum=0;d3.geo.stream(object,projectStream(d3_geo_pathArea));return d3_geo_pathAreaSum};path.centroid=function(object){d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0;d3.geo.stream(object,projectStream(d3_geo_pathCentroid));return d3_geo_centroidZ2?[d3_geo_centroidX2/d3_geo_centroidZ2,d3_geo_centroidY2/d3_geo_centroidZ2]:d3_geo_centroidZ1?[d3_geo_centroidX1/d3_geo_centroidZ1,d3_geo_centroidY1/d3_geo_centroidZ1]:d3_geo_centroidZ0?[d3_geo_centroidX0/d3_geo_centroidZ0,d3_geo_centroidY0/d3_geo_centroidZ0]:[NaN,NaN]};path.bounds=function(object){d3_geo_pathBoundsX1=d3_geo_pathBoundsY1=-(d3_geo_pathBoundsX0=d3_geo_pathBoundsY0=Infinity);d3.geo.stream(object,projectStream(d3_geo_pathBounds));return[[d3_geo_pathBoundsX0,d3_geo_pathBoundsY0],[d3_geo_pathBoundsX1,d3_geo_pathBoundsY1]]};path.projection=function(_){if(!arguments.length)return projection;projectStream=(projection=_)?_.stream||d3_geo_pathProjectStream(_):d3_identity;return reset()};path.context=function(_){if(!arguments.length)return context;contextStream=(context=_)==null?new d3_geo_pathBuffer:new d3_geo_pathContext(_);if(typeof pointRadius!=="function")contextStream.pointRadius(pointRadius);return reset()};path.pointRadius=function(_){if(!arguments.length)return pointRadius;pointRadius=typeof _==="function"?_:(contextStream.pointRadius(+_),+_);return path};function reset(){cacheStream=null;return path}return path.projection(d3.geo.albersUsa()).context(null)};function d3_geo_pathProjectStream(project){var resample=d3_geo_resample((function(x,y){return project([x*d3_degrees,y*d3_degrees])}));return function(stream){return d3_geo_projectionRadians(resample(stream))}}d3.geo.transform=function(methods){return{stream:function(stream){var transform=new d3_geo_transform(stream);for(var k in methods)transform[k]=methods[k];return transform}}};function d3_geo_transform(stream){this.stream=stream}d3_geo_transform.prototype={point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function d3_geo_transformPoint(stream,point){return{point:point,sphere:function(){stream.sphere()},lineStart:function(){stream.lineStart()},lineEnd:function(){stream.lineEnd()},polygonStart:function(){stream.polygonStart()},polygonEnd:function(){stream.polygonEnd()}}}d3.geo.projection=d3_geo_projection;d3.geo.projectionMutator=d3_geo_projectionMutator;function d3_geo_projection(project){return d3_geo_projectionMutator((function(){return project}))()}function d3_geo_projectionMutator(projectAt){var project,rotate,projectRotate,projectResample=d3_geo_resample((function(x,y){x=project(x,y);return[x[0]*k+δx,δy-x[1]*k]})),k=150,x=480,y=250,λ=0,φ=0,δλ=0,δφ=0,δγ=0,δx,δy,preclip=d3_geo_clipAntimeridian,postclip=d3_identity,clipAngle=null,clipExtent=null,stream;function projection(point){point=projectRotate(point[0]*d3_radians,point[1]*d3_radians);return[point[0]*k+δx,δy-point[1]*k]}function invert(point){point=projectRotate.invert((point[0]-δx)/k,(δy-point[1])/k);return point&&[point[0]*d3_degrees,point[1]*d3_degrees]}projection.stream=function(output){if(stream)stream.valid=false;stream=d3_geo_projectionRadians(preclip(rotate,projectResample(postclip(output))));stream.valid=true;return stream};projection.clipAngle=function(_){if(!arguments.length)return clipAngle;preclip=_==null?(clipAngle=_,d3_geo_clipAntimeridian):d3_geo_clipCircle((clipAngle=+_)*d3_radians);return invalidate()};projection.clipExtent=function(_){if(!arguments.length)return clipExtent;clipExtent=_;postclip=_?d3_geo_clipExtent(_[0][0],_[0][1],_[1][0],_[1][1]):d3_identity;return invalidate()};projection.scale=function(_){if(!arguments.length)return k;k=+_;return reset()};projection.translate=function(_){if(!arguments.length)return[x,y];x=+_[0];y=+_[1];return reset()};projection.center=function(_){if(!arguments.length)return[λ*d3_degrees,φ*d3_degrees];λ=_[0]%360*d3_radians;φ=_[1]%360*d3_radians;return reset()};projection.rotate=function(_){if(!arguments.length)return[δλ*d3_degrees,δφ*d3_degrees,δγ*d3_degrees];δλ=_[0]%360*d3_radians;δφ=_[1]%360*d3_radians;δγ=_.length>2?_[2]%360*d3_radians:0;return reset()};d3.rebind(projection,projectResample,"precision");function reset(){projectRotate=d3_geo_compose(rotate=d3_geo_rotation(δλ,δφ,δγ),project);var center=project(λ,φ);δx=x-center[0]*k;δy=y+center[1]*k;return invalidate()}function invalidate(){if(stream)stream.valid=false,stream=null;return projection}return function(){project=projectAt.apply(this,arguments);projection.invert=project.invert&&invert;return reset()}}function d3_geo_projectionRadians(stream){return d3_geo_transformPoint(stream,(function(x,y){stream.point(x*d3_radians,y*d3_radians)}))}function d3_geo_equirectangular(λ,φ){return[λ,φ]}(d3.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular;d3.geo.rotation=function(rotate){rotate=d3_geo_rotation(rotate[0]%360*d3_radians,rotate[1]*d3_radians,rotate.length>2?rotate[2]*d3_radians:0);function forward(coordinates){coordinates=rotate(coordinates[0]*d3_radians,coordinates[1]*d3_radians);return coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates}forward.invert=function(coordinates){coordinates=rotate.invert(coordinates[0]*d3_radians,coordinates[1]*d3_radians);return coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates};return forward};function d3_geo_identityRotation(λ,φ){return[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}d3_geo_identityRotation.invert=d3_geo_equirectangular;function d3_geo_rotation(δλ,δφ,δγ){return δλ?δφ||δγ?d3_geo_compose(d3_geo_rotationλ(δλ),d3_geo_rotationφγ(δφ,δγ)):d3_geo_rotationλ(δλ):δφ||δγ?d3_geo_rotationφγ(δφ,δγ):d3_geo_identityRotation}function d3_geo_forwardRotationλ(δλ){return function(λ,φ){return λ+=δλ,[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}}function d3_geo_rotationλ(δλ){var rotation=d3_geo_forwardRotationλ(δλ);rotation.invert=d3_geo_forwardRotationλ(-δλ);return rotation}function d3_geo_rotationφγ(δφ,δγ){var cosδφ=Math.cos(δφ),sinδφ=Math.sin(δφ),cosδγ=Math.cos(δγ),sinδγ=Math.sin(δγ);function rotation(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδφ+x*sinδφ;return[Math.atan2(y*cosδγ-k*sinδγ,x*cosδφ-z*sinδφ),d3_asin(k*cosδγ+y*sinδγ)]}rotation.invert=function(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδγ-y*sinδγ;return[Math.atan2(y*cosδγ+z*sinδγ,x*cosδφ+k*sinδφ),d3_asin(k*cosδφ-x*sinδφ)]};return rotation}d3.geo.circle=function(){var origin=[0,0],angle,precision=6,interpolate;function circle(){var center=typeof origin==="function"?origin.apply(this,arguments):origin,rotate=d3_geo_rotation(-center[0]*d3_radians,-center[1]*d3_radians,0).invert,ring=[];interpolate(null,null,1,{point:function(x,y){ring.push(x=rotate(x,y));x[0]*=d3_degrees,x[1]*=d3_degrees}});return{type:"Polygon",coordinates:[ring]}}circle.origin=function(x){if(!arguments.length)return origin;origin=x;return circle};circle.angle=function(x){if(!arguments.length)return angle;interpolate=d3_geo_circleInterpolate((angle=+x)*d3_radians,precision*d3_radians);return circle};circle.precision=function(_){if(!arguments.length)return precision;interpolate=d3_geo_circleInterpolate(angle*d3_radians,(precision=+_)*d3_radians);return circle};return circle.angle(90)};function d3_geo_circleInterpolate(radius,precision){var cr=Math.cos(radius),sr=Math.sin(radius);return function(from,to,direction,listener){var step=direction*precision;if(from!=null){from=d3_geo_circleAngle(cr,from);to=d3_geo_circleAngle(cr,to);if(direction>0?from<to:from>to)from+=direction*τ}else{from=radius+direction*τ;to=radius-.5*step}for(var point,t=from;direction>0?t>to:t<to;t-=step){listener.point((point=d3_geo_spherical([cr,-sr*Math.cos(t),-sr*Math.sin(t)]))[0],point[1])}}}function d3_geo_circleAngle(cr,point){var a=d3_geo_cartesian(point);a[0]-=cr;d3_geo_cartesianNormalize(a);var angle=d3_acos(-a[1]);return((-a[2]<0?-angle:angle)+2*Math.PI-ε)%(2*Math.PI)}d3.geo.distance=function(a,b){var Δλ=(b[0]-a[0])*d3_radians,φ0=a[1]*d3_radians,φ1=b[1]*d3_radians,sinΔλ=Math.sin(Δλ),cosΔλ=Math.cos(Δλ),sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),sinφ1=Math.sin(φ1),cosφ1=Math.cos(φ1),t;return Math.atan2(Math.sqrt((t=cosφ1*sinΔλ)*t+(t=cosφ0*sinφ1-sinφ0*cosφ1*cosΔλ)*t),sinφ0*sinφ1+cosφ0*cosφ1*cosΔλ)};d3.geo.graticule=function(){var x1,x0,X1,X0,y1,y0,Y1,Y0,dx=10,dy=dx,DX=90,DY=360,x,y,X,Y,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3.range(Math.ceil(X0/DX)*DX,X1,DX).map(X).concat(d3.range(Math.ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3.range(Math.ceil(x0/dx)*dx,x1,dx).filter((function(x){return abs(x%DX)>ε})).map(x)).concat(d3.range(Math.ceil(y0/dy)*dy,y1,dy).filter((function(y){return abs(y%DY)>ε})).map(y))}graticule.lines=function(){return lines().map((function(coordinates){return{type:"LineString",coordinates:coordinates}}))};graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}};graticule.extent=function(_){if(!arguments.length)return graticule.minorExtent();return graticule.majorExtent(_).minorExtent(_)};graticule.majorExtent=function(_){if(!arguments.length)return[[X0,Y0],[X1,Y1]];X0=+_[0][0],X1=+_[1][0];Y0=+_[0][1],Y1=+_[1][1];if(X0>X1)_=X0,X0=X1,X1=_;if(Y0>Y1)_=Y0,Y0=Y1,Y1=_;return graticule.precision(precision)};graticule.minorExtent=function(_){if(!arguments.length)return[[x0,y0],[x1,y1]];x0=+_[0][0],x1=+_[1][0];y0=+_[0][1],y1=+_[1][1];if(x0>x1)_=x0,x0=x1,x1=_;if(y0>y1)_=y0,y0=y1,y1=_;return graticule.precision(precision)};graticule.step=function(_){if(!arguments.length)return graticule.minorStep();return graticule.majorStep(_).minorStep(_)};graticule.majorStep=function(_){if(!arguments.length)return[DX,DY];DX=+_[0],DY=+_[1];return graticule};graticule.minorStep=function(_){if(!arguments.length)return[dx,dy];dx=+_[0],dy=+_[1];return graticule};graticule.precision=function(_){if(!arguments.length)return precision;precision=+_;x=d3_geo_graticuleX(y0,y1,90);y=d3_geo_graticuleY(x0,x1,precision);X=d3_geo_graticuleX(Y0,Y1,90);Y=d3_geo_graticuleY(X0,X1,precision);return graticule};return graticule.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]])};function d3_geo_graticuleX(y0,y1,dy){var y=d3.range(y0,y1-ε,dy).concat(y1);return function(x){return y.map((function(y){return[x,y]}))}}function d3_geo_graticuleY(x0,x1,dx){var x=d3.range(x0,x1-ε,dx).concat(x1);return function(y){return x.map((function(x){return[x,y]}))}}function d3_source(d){return d.source}function d3_target(d){return d.target}d3.geo.greatArc=function(){var source=d3_source,source_,target=d3_target,target_;function greatArc(){return{type:"LineString",coordinates:[source_||source.apply(this,arguments),target_||target.apply(this,arguments)]}}greatArc.distance=function(){return d3.geo.distance(source_||source.apply(this,arguments),target_||target.apply(this,arguments))};greatArc.source=function(_){if(!arguments.length)return source;source=_,source_=typeof _==="function"?null:_;return greatArc};greatArc.target=function(_){if(!arguments.length)return target;target=_,target_=typeof _==="function"?null:_;return greatArc};greatArc.precision=function(){return arguments.length?greatArc:0};return greatArc};d3.geo.interpolate=function(source,target){return d3_geo_interpolate(source[0]*d3_radians,source[1]*d3_radians,target[0]*d3_radians,target[1]*d3_radians)};function d3_geo_interpolate(x0,y0,x1,y1){var cy0=Math.cos(y0),sy0=Math.sin(y0),cy1=Math.cos(y1),sy1=Math.sin(y1),kx0=cy0*Math.cos(x0),ky0=cy0*Math.sin(x0),kx1=cy1*Math.cos(x1),ky1=cy1*Math.sin(x1),d=2*Math.asin(Math.sqrt(d3_haversin(y1-y0)+cy0*cy1*d3_haversin(x1-x0))),k=1/Math.sin(d);var interpolate=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Math.atan2(y,x)*d3_degrees,Math.atan2(z,Math.sqrt(x*x+y*y))*d3_degrees]}:function(){return[x0*d3_degrees,y0*d3_degrees]};interpolate.distance=d;return interpolate}d3.geo.length=function(object){d3_geo_lengthSum=0;d3.geo.stream(object,d3_geo_length);return d3_geo_lengthSum};var d3_geo_lengthSum;var d3_geo_length={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_lengthLineStart(){var λ0,sinφ0,cosφ0;d3_geo_length.point=function(λ,φ){λ0=λ*d3_radians,sinφ0=Math.sin(φ*=d3_radians),cosφ0=Math.cos(φ);d3_geo_length.point=nextPoint};d3_geo_length.lineEnd=function(){d3_geo_length.point=d3_geo_length.lineEnd=d3_noop};function nextPoint(λ,φ){var sinφ=Math.sin(φ*=d3_radians),cosφ=Math.cos(φ),t=abs((λ*=d3_radians)-λ0),cosΔλ=Math.cos(t);d3_geo_lengthSum+=Math.atan2(Math.sqrt((t=cosφ*Math.sin(t))*t+(t=cosφ0*sinφ-sinφ0*cosφ*cosΔλ)*t),sinφ0*sinφ+cosφ0*cosφ*cosΔλ);λ0=λ,sinφ0=sinφ,cosφ0=cosφ}}function d3_geo_azimuthal(scale,angle){function azimuthal(λ,φ){var cosλ=Math.cos(λ),cosφ=Math.cos(φ),k=scale(cosλ*cosφ);return[k*cosφ*Math.sin(λ),k*Math.sin(φ)]}azimuthal.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=angle(ρ),sinc=Math.sin(c),cosc=Math.cos(c);return[Math.atan2(x*sinc,ρ*cosc),Math.asin(ρ&&y*sinc/ρ)]};return azimuthal}var d3_geo_azimuthalEqualArea=d3_geo_azimuthal((function(cosλcosφ){return Math.sqrt(2/(1+cosλcosφ))}),(function(ρ){return 2*Math.asin(ρ/2)}));(d3.geo.azimuthalEqualArea=function(){return d3_geo_projection(d3_geo_azimuthalEqualArea)}).raw=d3_geo_azimuthalEqualArea;var d3_geo_azimuthalEquidistant=d3_geo_azimuthal((function(cosλcosφ){var c=Math.acos(cosλcosφ);return c&&c/Math.sin(c)}),d3_identity);(d3.geo.azimuthalEquidistant=function(){return d3_geo_projection(d3_geo_azimuthalEquidistant)}).raw=d3_geo_azimuthalEquidistant;function d3_geo_conicConformal(φ0,φ1){var cosφ0=Math.cos(φ0),t=function(φ){return Math.tan(π/4+φ/2)},n=φ0===φ1?Math.sin(φ0):Math.log(cosφ0/Math.cos(φ1))/Math.log(t(φ1)/t(φ0)),F=cosφ0*Math.pow(t(φ0),n)/n;if(!n)return d3_geo_mercator;function forward(λ,φ){if(F>0){if(φ<-halfπ+ε)φ=-halfπ+ε}else{if(φ>halfπ-ε)φ=halfπ-ε}var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)]}forward.invert=function(x,y){var ρ0_y=F-y,ρ=d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y);return[Math.atan2(x,ρ0_y)/n,2*Math.atan(Math.pow(F/ρ,1/n))-halfπ]};return forward}(d3.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal;function d3_geo_conicEquidistant(φ0,φ1){var cosφ0=Math.cos(φ0),n=φ0===φ1?Math.sin(φ0):(cosφ0-Math.cos(φ1))/(φ1-φ0),G=cosφ0/n+φ0;if(abs(n)<ε)return d3_geo_equirectangular;function forward(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)]}forward.invert=function(x,y){var ρ0_y=G-y;return[Math.atan2(x,ρ0_y)/n,G-d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y)]};return forward}(d3.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var d3_geo_gnomonic=d3_geo_azimuthal((function(cosλcosφ){return 1/cosλcosφ}),Math.atan);(d3.geo.gnomonic=function(){return d3_geo_projection(d3_geo_gnomonic)}).raw=d3_geo_gnomonic;function d3_geo_mercator(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))]}d3_geo_mercator.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-halfπ]};function d3_geo_mercatorProjection(project){var m=d3_geo_projection(project),scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,clipAuto;m.scale=function(){var v=scale.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v};m.translate=function(){var v=translate.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v};m.clipExtent=function(_){var v=clipExtent.apply(m,arguments);if(v===m){if(clipAuto=_==null){var k=π*scale(),t=translate();clipExtent([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]])}}else if(clipAuto){v=null}return v};return m.clipExtent(null)}(d3.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var d3_geo_orthographic=d3_geo_azimuthal((function(){return 1}),Math.asin);(d3.geo.orthographic=function(){return d3_geo_projection(d3_geo_orthographic)}).raw=d3_geo_orthographic;var d3_geo_stereographic=d3_geo_azimuthal((function(cosλcosφ){return 1/(1+cosλcosφ)}),(function(ρ){return 2*Math.atan(ρ)}));(d3.geo.stereographic=function(){return d3_geo_projection(d3_geo_stereographic)}).raw=d3_geo_stereographic;function d3_geo_transverseMercator(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ]}d3_geo_transverseMercator.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-halfπ]};(d3.geo.transverseMercator=function(){var projection=d3_geo_mercatorProjection(d3_geo_transverseMercator),center=projection.center,rotate=projection.rotate;projection.center=function(_){return _?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])};projection.rotate=function(_){return _?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])};return rotate([0,0,90])}).raw=d3_geo_transverseMercator;d3.geom={};function d3_geom_pointX(d){return d[0]}function d3_geom_pointY(d){return d[1]}d3.geom.hull=function(vertices){var x=d3_geom_pointX,y=d3_geom_pointY;if(arguments.length)return hull(vertices);function hull(data){if(data.length<3)return[];var fx=d3_functor(x),fy=d3_functor(y),i,n=data.length,points=[],flippedPoints=[];for(i=0;i<n;i++){points.push([+fx.call(this,data[i],i),+fy.call(this,data[i],i),i])}points.sort(d3_geom_hullOrder);for(i=0;i<n;i++)flippedPoints.push([points[i][0],-points[i][1]]);var upper=d3_geom_hullUpper(points),lower=d3_geom_hullUpper(flippedPoints);var skipLeft=lower[0]===upper[0],skipRight=lower[lower.length-1]===upper[upper.length-1],polygon=[];for(i=upper.length-1;i>=0;--i)polygon.push(data[points[upper[i]][2]]);for(i=+skipLeft;i<lower.length-skipRight;++i)polygon.push(data[points[lower[i]][2]]);return polygon}hull.x=function(_){return arguments.length?(x=_,hull):x};hull.y=function(_){return arguments.length?(y=_,hull):y};return hull};function d3_geom_hullUpper(points){var n=points.length,hull=[0,1],hs=2;for(var i=2;i<n;i++){while(hs>1&&d3_cross2d(points[hull[hs-2]],points[hull[hs-1]],points[i])<=0)--hs;hull[hs++]=i}return hull.slice(0,hs)}function d3_geom_hullOrder(a,b){return a[0]-b[0]||a[1]-b[1]}d3.geom.polygon=function(coordinates){d3_subclass(coordinates,d3_geom_polygonPrototype);return coordinates};var d3_geom_polygonPrototype=d3.geom.polygon.prototype=[];d3_geom_polygonPrototype.area=function(){var i=-1,n=this.length,a,b=this[n-1],area=0;while(++i<n){a=b;b=this[i];area+=a[1]*b[0]-a[0]*b[1]}return area*.5};d3_geom_polygonPrototype.centroid=function(k){var i=-1,n=this.length,x=0,y=0,a,b=this[n-1],c;if(!arguments.length)k=-1/(6*this.area());while(++i<n){a=b;b=this[i];c=a[0]*b[1]-b[0]*a[1];x+=(a[0]+b[0])*c;y+=(a[1]+b[1])*c}return[x*k,y*k]};d3_geom_polygonPrototype.clip=function(subject){var input,closed=d3_geom_polygonClosed(subject),i=-1,n=this.length-d3_geom_polygonClosed(this),j,m,a=this[n-1],b,c,d;while(++i<n){input=subject.slice();subject.length=0;b=this[i];c=input[(m=input.length-closed)-1];j=-1;while(++j<m){d=input[j];if(d3_geom_polygonInside(d,a,b)){if(!d3_geom_polygonInside(c,a,b)){subject.push(d3_geom_polygonIntersect(c,d,a,b))}subject.push(d)}else if(d3_geom_polygonInside(c,a,b)){subject.push(d3_geom_polygonIntersect(c,d,a,b))}c=d}if(closed)subject.push(subject[0]);a=b}return subject};function d3_geom_polygonInside(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function d3_geom_polygonIntersect(c,d,a,b){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]}function d3_geom_polygonClosed(coordinates){var a=coordinates[0],b=coordinates[coordinates.length-1];return!(a[0]-b[0]||a[1]-b[1])}var d3_geom_voronoiEdges,d3_geom_voronoiCells,d3_geom_voronoiBeaches,d3_geom_voronoiBeachPool=[],d3_geom_voronoiFirstCircle,d3_geom_voronoiCircles,d3_geom_voronoiCirclePool=[];function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this);this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(site){var beach=d3_geom_voronoiBeachPool.pop()||new d3_geom_voronoiBeach;beach.site=site;return beach}function d3_geom_voronoiDetachBeach(beach){d3_geom_voronoiDetachCircle(beach);d3_geom_voronoiBeaches.remove(beach);d3_geom_voronoiBeachPool.push(beach);d3_geom_voronoiRedBlackNode(beach)}function d3_geom_voronoiRemoveBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex={x:x,y:y},previous=beach.P,next=beach.N,disappearing=[beach];d3_geom_voronoiDetachBeach(beach);var lArc=previous;while(lArc.circle&&abs(x-lArc.circle.x)<ε&&abs(y-lArc.circle.cy)<ε){previous=lArc.P;disappearing.unshift(lArc);d3_geom_voronoiDetachBeach(lArc);lArc=previous}disappearing.unshift(lArc);d3_geom_voronoiDetachCircle(lArc);var rArc=next;while(rArc.circle&&abs(x-rArc.circle.x)<ε&&abs(y-rArc.circle.cy)<ε){next=rArc.N;disappearing.push(rArc);d3_geom_voronoiDetachBeach(rArc);rArc=next}disappearing.push(rArc);d3_geom_voronoiDetachCircle(rArc);var nArcs=disappearing.length,iArc;for(iArc=1;iArc<nArcs;++iArc){rArc=disappearing[iArc];lArc=disappearing[iArc-1];d3_geom_voronoiSetEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex)}lArc=disappearing[0];rArc=disappearing[nArcs-1];rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,rArc.site,null,vertex);d3_geom_voronoiAttachCircle(lArc);d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiAddBeach(site){var x=site.x,directrix=site.y,lArc,rArc,dxl,dxr,node=d3_geom_voronoiBeaches._;while(node){dxl=d3_geom_voronoiLeftBreakPoint(node,directrix)-x;if(dxl>ε)node=node.L;else{dxr=x-d3_geom_voronoiRightBreakPoint(node,directrix);if(dxr>ε){if(!node.R){lArc=node;break}node=node.R}else{if(dxl>-ε){lArc=node.P;rArc=node}else if(dxr>-ε){lArc=node;rArc=node.N}else{lArc=rArc=node}break}}}var newArc=d3_geom_voronoiCreateBeach(site);d3_geom_voronoiBeaches.insert(lArc,newArc);if(!lArc&&!rArc)return;if(lArc===rArc){d3_geom_voronoiDetachCircle(lArc);rArc=d3_geom_voronoiCreateBeach(lArc.site);d3_geom_voronoiBeaches.insert(newArc,rArc);newArc.edge=rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site);d3_geom_voronoiAttachCircle(lArc);d3_geom_voronoiAttachCircle(rArc);return}if(!rArc){newArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site);return}d3_geom_voronoiDetachCircle(lArc);d3_geom_voronoiDetachCircle(rArc);var lSite=lArc.site,ax=lSite.x,ay=lSite.y,bx=site.x-ax,by=site.y-ay,rSite=rArc.site,cx=rSite.x-ax,cy=rSite.y-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex={x:(cy*hb-by*hc)/d+ax,y:(bx*hc-cx*hb)/d+ay};d3_geom_voronoiSetEdgeEnd(rArc.edge,lSite,rSite,vertex);newArc.edge=d3_geom_voronoiCreateEdge(lSite,site,null,vertex);rArc.edge=d3_geom_voronoiCreateEdge(site,rSite,null,vertex);d3_geom_voronoiAttachCircle(lArc);d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiLeftBreakPoint(arc,directrix){var site=arc.site,rfocx=site.x,rfocy=site.y,pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-Infinity;site=lArc.site;var lfocx=site.x,lfocy=site.y,plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;if(aby2)return(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx;return(rfocx+lfocx)/2}function d3_geom_voronoiRightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return d3_geom_voronoiLeftBreakPoint(rArc,directrix);var site=arc.site;return site.y===directrix?site.x:Infinity}function d3_geom_voronoiCell(site){this.site=site;this.edges=[]}d3_geom_voronoiCell.prototype.prepare=function(){var halfEdges=this.edges,iHalfEdge=halfEdges.length,edge;while(iHalfEdge--){edge=halfEdges[iHalfEdge].edge;if(!edge.b||!edge.a)halfEdges.splice(iHalfEdge,1)}halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);return halfEdges.length};function d3_geom_voronoiCloseCells(extent){var x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],x2,y2,x3,y3,cells=d3_geom_voronoiCells,iCell=cells.length,cell,iHalfEdge,halfEdges,nHalfEdges,start,end;while(iCell--){cell=cells[iCell];if(!cell||!cell.prepare())continue;halfEdges=cell.edges;nHalfEdges=halfEdges.length;iHalfEdge=0;while(iHalfEdge<nHalfEdges){end=halfEdges[iHalfEdge].end(),x3=end.x,y3=end.y;start=halfEdges[++iHalfEdge%nHalfEdges].start(),x2=start.x,y2=start.y;if(abs(x3-x2)>ε||abs(y3-y2)>ε){halfEdges.splice(iHalfEdge,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site,end,abs(x3-x0)<ε&&y1-y3>ε?{x:x0,y:abs(x2-x0)<ε?y2:y1}:abs(y3-y1)<ε&&x1-x3>ε?{x:abs(y2-y1)<ε?x2:x1,y:y1}:abs(x3-x1)<ε&&y3-y0>ε?{x:x1,y:abs(x2-x1)<ε?y2:y0}:abs(y3-y0)<ε&&x3-x0>ε?{x:abs(y2-y0)<ε?x2:x0,y:y0}:null),cell.site,null));++nHalfEdges}}}}function d3_geom_voronoiHalfEdgeOrder(a,b){return b.angle-a.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this);this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(arc){var lArc=arc.P,rArc=arc.N;if(!lArc||!rArc)return;var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite===rSite)return;var bx=cSite.x,by=cSite.y,ax=lSite.x-bx,ay=lSite.y-by,cx=rSite.x-bx,cy=rSite.y-by;var d=2*(ax*cy-ay*cx);if(d>=-ε2)return;var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,cy=y+by;var circle=d3_geom_voronoiCirclePool.pop()||new d3_geom_voronoiCircle;circle.arc=arc;circle.site=cSite;circle.x=x+bx;circle.y=cy+Math.sqrt(x*x+y*y);circle.cy=cy;arc.circle=circle;var before=null,node=d3_geom_voronoiCircles._;while(node){if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(node.L)node=node.L;else{before=node.P;break}}else{if(node.R)node=node.R;else{before=node;break}}}d3_geom_voronoiCircles.insert(before,circle);if(!before)d3_geom_voronoiFirstCircle=circle}function d3_geom_voronoiDetachCircle(arc){var circle=arc.circle;if(circle){if(!circle.P)d3_geom_voronoiFirstCircle=circle.N;d3_geom_voronoiCircles.remove(circle);d3_geom_voronoiCirclePool.push(circle);d3_geom_voronoiRedBlackNode(circle);arc.circle=null}}function d3_geom_voronoiClipEdges(extent){var edges=d3_geom_voronoiEdges,clip=d3_geom_clipLine(extent[0][0],extent[0][1],extent[1][0],extent[1][1]),i=edges.length,e;while(i--){e=edges[i];if(!d3_geom_voronoiConnectEdge(e,extent)||!clip(e)||abs(e.a.x-e.b.x)<ε&&abs(e.a.y-e.b.y)<ε){e.a=e.b=null;edges.splice(i,1)}}}function d3_geom_voronoiConnectEdge(edge,extent){var vb=edge.b;if(vb)return true;var va=edge.a,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],lSite=edge.l,rSite=edge.r,lx=lSite.x,ly=lSite.y,rx=rSite.x,ry=rSite.y,fx=(lx+rx)/2,fy=(ly+ry)/2,fm,fb;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(!va)va={x:fx,y:y0};else if(va.y>=y1)return;vb={x:fx,y:y1}}else{if(!va)va={x:fx,y:y1};else if(va.y<y0)return;vb={x:fx,y:y0}}}else{fm=(lx-rx)/(ry-ly);fb=fy-fm*fx;if(fm<-1||fm>1){if(lx>rx){if(!va)va={x:(y0-fb)/fm,y:y0};else if(va.y>=y1)return;vb={x:(y1-fb)/fm,y:y1}}else{if(!va)va={x:(y1-fb)/fm,y:y1};else if(va.y<y0)return;vb={x:(y0-fb)/fm,y:y0}}}else{if(ly<ry){if(!va)va={x:x0,y:fm*x0+fb};else if(va.x>=x1)return;vb={x:x1,y:fm*x1+fb}}else{if(!va)va={x:x1,y:fm*x1+fb};else if(va.x<x0)return;vb={x:x0,y:fm*x0+fb}}}}edge.a=va;edge.b=vb;return true}function d3_geom_voronoiEdge(lSite,rSite){this.l=lSite;this.r=rSite;this.a=this.b=null}function d3_geom_voronoiCreateEdge(lSite,rSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,rSite);d3_geom_voronoiEdges.push(edge);if(va)d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,va);if(vb)d3_geom_voronoiSetEdgeEnd(edge,rSite,lSite,vb);d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,lSite,rSite));d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,rSite,lSite));return edge}function d3_geom_voronoiCreateBorderEdge(lSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,null);edge.a=va;edge.b=vb;d3_geom_voronoiEdges.push(edge);return edge}function d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,vertex){if(!edge.a&&!edge.b){edge.a=vertex;edge.l=lSite;edge.r=rSite}else if(edge.l===rSite){edge.b=vertex}else{edge.a=vertex}}function d3_geom_voronoiHalfEdge(edge,lSite,rSite){var va=edge.a,vb=edge.b;this.edge=edge;this.site=lSite;this.angle=rSite?Math.atan2(rSite.y-lSite.y,rSite.x-lSite.x):edge.l===lSite?Math.atan2(vb.x-va.x,va.y-vb.y):Math.atan2(va.x-vb.x,vb.y-va.y)}d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}d3_geom_voronoiRedBlackTree.prototype={insert:function(after,node){var parent,grandpa,uncle;if(after){node.P=after;node.N=after.N;if(after.N)after.N.P=node;after.N=node;if(after.R){after=after.R;while(after.L)after=after.L;after.L=node}else{after.R=node}parent=after}else if(this._){after=d3_geom_voronoiRedBlackFirst(this._);node.P=null;node.N=after;after.P=after.L=node;parent=after}else{node.P=node.N=null;this._=node;parent=null}node.L=node.R=null;node.U=parent;node.C=true;after=node;while(parent&&parent.C){grandpa=parent.U;if(parent===grandpa.L){uncle=grandpa.R;if(uncle&&uncle.C){parent.C=uncle.C=false;grandpa.C=true;after=grandpa}else{if(after===parent.R){d3_geom_voronoiRedBlackRotateLeft(this,parent);after=parent;parent=after.U}parent.C=false;grandpa.C=true;d3_geom_voronoiRedBlackRotateRight(this,grandpa)}}else{uncle=grandpa.L;if(uncle&&uncle.C){parent.C=uncle.C=false;grandpa.C=true;after=grandpa}else{if(after===parent.L){d3_geom_voronoiRedBlackRotateRight(this,parent);after=parent;parent=after.U}parent.C=false;grandpa.C=true;d3_geom_voronoiRedBlackRotateLeft(this,grandpa)}}parent=after.U}this._.C=false},remove:function(node){if(node.N)node.N.P=node.P;if(node.P)node.P.N=node.N;node.N=node.P=null;var parent=node.U,sibling,left=node.L,right=node.R,next,red;if(!left)next=right;else if(!right)next=left;else next=d3_geom_voronoiRedBlackFirst(right);if(parent){if(parent.L===node)parent.L=next;else parent.R=next}else{this._=next}if(left&&right){red=next.C;next.C=node.C;next.L=left;left.U=next;if(next!==right){parent=next.U;next.U=node.U;node=next.R;parent.L=node;next.R=right;right.U=next}else{next.U=parent;parent=next;node=next.R}}else{red=node.C;node=next}if(node)node.U=parent;if(red)return;if(node&&node.C){node.C=false;return}do{if(node===this._)break;if(node===parent.L){sibling=parent.R;if(sibling.C){sibling.C=false;parent.C=true;d3_geom_voronoiRedBlackRotateLeft(this,parent);sibling=parent.R}if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.R||!sibling.R.C){sibling.L.C=false;sibling.C=true;d3_geom_voronoiRedBlackRotateRight(this,sibling);sibling=parent.R}sibling.C=parent.C;parent.C=sibling.R.C=false;d3_geom_voronoiRedBlackRotateLeft(this,parent);node=this._;break}}else{sibling=parent.L;if(sibling.C){sibling.C=false;parent.C=true;d3_geom_voronoiRedBlackRotateRight(this,parent);sibling=parent.L}if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.L||!sibling.L.C){sibling.R.C=false;sibling.C=true;d3_geom_voronoiRedBlackRotateLeft(this,sibling);sibling=parent.L}sibling.C=parent.C;parent.C=sibling.L.C=false;d3_geom_voronoiRedBlackRotateRight(this,parent);node=this._;break}}sibling.C=true;node=parent;parent=parent.U}while(!node.C);if(node)node.C=false}};function d3_geom_voronoiRedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;if(parent){if(parent.L===p)parent.L=q;else parent.R=q}else{tree._=q}q.U=parent;p.U=q;p.R=q.L;if(p.R)p.R.U=p;q.L=p}function d3_geom_voronoiRedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;if(parent){if(parent.L===p)parent.L=q;else parent.R=q}else{tree._=q}q.U=parent;p.U=q;p.L=q.R;if(p.L)p.L.U=p;q.R=p}function d3_geom_voronoiRedBlackFirst(node){while(node.L)node=node.L;return node}function d3_geom_voronoi(sites,bbox){var site=sites.sort(d3_geom_voronoiVertexOrder).pop(),x0,y0,circle;d3_geom_voronoiEdges=[];d3_geom_voronoiCells=new Array(sites.length);d3_geom_voronoiBeaches=new d3_geom_voronoiRedBlackTree;d3_geom_voronoiCircles=new d3_geom_voronoiRedBlackTree;while(true){circle=d3_geom_voronoiFirstCircle;if(site&&(!circle||site.y<circle.y||site.y===circle.y&&site.x<circle.x)){if(site.x!==x0||site.y!==y0){d3_geom_voronoiCells[site.i]=new d3_geom_voronoiCell(site);d3_geom_voronoiAddBeach(site);x0=site.x,y0=site.y}site=sites.pop()}else if(circle){d3_geom_voronoiRemoveBeach(circle.arc)}else{break}}if(bbox)d3_geom_voronoiClipEdges(bbox),d3_geom_voronoiCloseCells(bbox);var diagram={cells:d3_geom_voronoiCells,edges:d3_geom_voronoiEdges};d3_geom_voronoiBeaches=d3_geom_voronoiCircles=d3_geom_voronoiEdges=d3_geom_voronoiCells=null;return diagram}function d3_geom_voronoiVertexOrder(a,b){return b.y-a.y||b.x-a.x}d3.geom.voronoi=function(points){var x=d3_geom_pointX,y=d3_geom_pointY,fx=x,fy=y,clipExtent=d3_geom_voronoiClipExtent;if(points)return voronoi(points);function voronoi(data){var polygons=new Array(data.length),x0=clipExtent[0][0],y0=clipExtent[0][1],x1=clipExtent[1][0],y1=clipExtent[1][1];d3_geom_voronoi(sites(data),clipExtent).cells.forEach((function(cell,i){var edges=cell.edges,site=cell.site,polygon=polygons[i]=edges.length?edges.map((function(e){var s=e.start();return[s.x,s.y]})):site.x>=x0&&site.x<=x1&&site.y>=y0&&site.y<=y1?[[x0,y1],[x1,y1],[x1,y0],[x0,y0]]:[];polygon.point=data[i]}));return polygons}function sites(data){return data.map((function(d,i){return{x:Math.round(fx(d,i)/ε)*ε,y:Math.round(fy(d,i)/ε)*ε,i:i}}))}voronoi.links=function(data){return d3_geom_voronoi(sites(data)).edges.filter((function(edge){return edge.l&&edge.r})).map((function(edge){return{source:data[edge.l.i],target:data[edge.r.i]}}))};voronoi.triangles=function(data){var triangles=[];d3_geom_voronoi(sites(data)).cells.forEach((function(cell,i){var site=cell.site,edges=cell.edges.sort(d3_geom_voronoiHalfEdgeOrder),j=-1,m=edges.length,e0,s0,e1=edges[m-1].edge,s1=e1.l===site?e1.r:e1.l;while(++j<m){e0=e1;s0=s1;e1=edges[j].edge;s1=e1.l===site?e1.r:e1.l;if(i<s0.i&&i<s1.i&&d3_geom_voronoiTriangleArea(site,s0,s1)<0){triangles.push([data[i],data[s0.i],data[s1.i]])}}}));return triangles};voronoi.x=function(_){return arguments.length?(fx=d3_functor(x=_),voronoi):x};voronoi.y=function(_){return arguments.length?(fy=d3_functor(y=_),voronoi):y};voronoi.clipExtent=function(_){if(!arguments.length)return clipExtent===d3_geom_voronoiClipExtent?null:clipExtent;clipExtent=_==null?d3_geom_voronoiClipExtent:_;return voronoi};voronoi.size=function(_){if(!arguments.length)return clipExtent===d3_geom_voronoiClipExtent?null:clipExtent&&clipExtent[1];return voronoi.clipExtent(_&&[[0,0],_])};return voronoi};var d3_geom_voronoiClipExtent=[[-1e6,-1e6],[1e6,1e6]];function d3_geom_voronoiTriangleArea(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}d3.geom.delaunay=function(vertices){return d3.geom.voronoi().triangles(vertices)};d3.geom.quadtree=function(points,x1,y1,x2,y2){var x=d3_geom_pointX,y=d3_geom_pointY,compat;if(compat=arguments.length){x=d3_geom_quadtreeCompatX;y=d3_geom_quadtreeCompatY;if(compat===3){y2=y1;x2=x1;y1=x1=0}return quadtree(points)}function quadtree(data){var d,fx=d3_functor(x),fy=d3_functor(y),xs,ys,i,n,x1_,y1_,x2_,y2_;if(x1!=null){x1_=x1,y1_=y1,x2_=x2,y2_=y2}else{x2_=y2_=-(x1_=y1_=Infinity);xs=[],ys=[];n=data.length;if(compat)for(i=0;i<n;++i){d=data[i];if(d.x<x1_)x1_=d.x;if(d.y<y1_)y1_=d.y;if(d.x>x2_)x2_=d.x;if(d.y>y2_)y2_=d.y;xs.push(d.x);ys.push(d.y)}else for(i=0;i<n;++i){var x_=+fx(d=data[i],i),y_=+fy(d,i);if(x_<x1_)x1_=x_;if(y_<y1_)y1_=y_;if(x_>x2_)x2_=x_;if(y_>y2_)y2_=y_;xs.push(x_);ys.push(y_)}}var dx=x2_-x1_,dy=y2_-y1_;if(dx>dy)y2_=y1_+dx;else x2_=x1_+dy;function insert(n,d,x,y,x1,y1,x2,y2){if(isNaN(x)||isNaN(y))return;if(n.leaf){var nx=n.x,ny=n.y;if(nx!=null){if(abs(nx-x)+abs(ny-y)<.01){insertChild(n,d,x,y,x1,y1,x2,y2)}else{var nPoint=n.point;n.x=n.y=n.point=null;insertChild(n,nPoint,nx,ny,x1,y1,x2,y2);insertChild(n,d,x,y,x1,y1,x2,y2)}}else{n.x=x,n.y=y,n.point=d}}else{insertChild(n,d,x,y,x1,y1,x2,y2)}}function insertChild(n,d,x,y,x1,y1,x2,y2){var xm=(x1+x2)*.5,ym=(y1+y2)*.5,right=x>=xm,below=y>=ym,i=below<<1|right;n.leaf=false;n=n.nodes[i]||(n.nodes[i]=d3_geom_quadtreeNode());if(right)x1=xm;else x2=xm;if(below)y1=ym;else y2=ym;insert(n,d,x,y,x1,y1,x2,y2)}var root=d3_geom_quadtreeNode();root.add=function(d){insert(root,d,+fx(d,++i),+fy(d,i),x1_,y1_,x2_,y2_)};root.visit=function(f){d3_geom_quadtreeVisit(f,root,x1_,y1_,x2_,y2_)};root.find=function(point){return d3_geom_quadtreeFind(root,point[0],point[1],x1_,y1_,x2_,y2_)};i=-1;if(x1==null){while(++i<n){insert(root,data[i],xs[i],ys[i],x1_,y1_,x2_,y2_)}--i}else data.forEach(root.add);xs=ys=data=d=null;return root}quadtree.x=function(_){return arguments.length?(x=_,quadtree):x};quadtree.y=function(_){return arguments.length?(y=_,quadtree):y};quadtree.extent=function(_){if(!arguments.length)return x1==null?null:[[x1,y1],[x2,y2]];if(_==null)x1=y1=x2=y2=null;else x1=+_[0][0],y1=+_[0][1],x2=+_[1][0],y2=+_[1][1];return quadtree};quadtree.size=function(_){if(!arguments.length)return x1==null?null:[x2-x1,y2-y1];if(_==null)x1=y1=x2=y2=null;else x1=y1=0,x2=+_[0],y2=+_[1];return quadtree};return quadtree};function d3_geom_quadtreeCompatX(d){return d.x}function d3_geom_quadtreeCompatY(d){return d.y}function d3_geom_quadtreeNode(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(f,node,x1,y1,x2,y2){if(!f(node,x1,y1,x2,y2)){var sx=(x1+x2)*.5,sy=(y1+y2)*.5,children=node.nodes;if(children[0])d3_geom_quadtreeVisit(f,children[0],x1,y1,sx,sy);if(children[1])d3_geom_quadtreeVisit(f,children[1],sx,y1,x2,sy);if(children[2])d3_geom_quadtreeVisit(f,children[2],x1,sy,sx,y2);if(children[3])d3_geom_quadtreeVisit(f,children[3],sx,sy,x2,y2)}}function d3_geom_quadtreeFind(root,x,y,x0,y0,x3,y3){var minDistance2=Infinity,closestPoint;(function find(node,x1,y1,x2,y2){if(x1>x3||y1>y3||x2<x0||y2<y0)return;if(point=node.point){var point,dx=x-node.x,dy=y-node.y,distance2=dx*dx+dy*dy;if(distance2<minDistance2){var distance=Math.sqrt(minDistance2=distance2);x0=x-distance,y0=y-distance;x3=x+distance,y3=y+distance;closestPoint=point}}var children=node.nodes,xm=(x1+x2)*.5,ym=(y1+y2)*.5,right=x>=xm,below=y>=ym;for(var i=below<<1|right,j=i+4;i<j;++i){if(node=children[i&3])switch(i&3){case 0:find(node,x1,y1,xm,ym);break;case 1:find(node,xm,y1,x2,ym);break;case 2:find(node,x1,ym,xm,y2);break;case 3:find(node,xm,ym,x2,y2);break}}})(root,x0,y0,x3,y3);return closestPoint}d3.interpolateRgb=d3_interpolateRgb;function d3_interpolateRgb(a,b){a=d3.rgb(a);b=d3.rgb(b);var ar=a.r,ag=a.g,ab=a.b,br=b.r-ar,bg=b.g-ag,bb=b.b-ab;return function(t){return"#"+d3_rgb_hex(Math.round(ar+br*t))+d3_rgb_hex(Math.round(ag+bg*t))+d3_rgb_hex(Math.round(ab+bb*t))}}d3.interpolateObject=d3_interpolateObject;function d3_interpolateObject(a,b){var i={},c={},k;for(k in a){if(k in b){i[k]=d3_interpolate(a[k],b[k])}else{c[k]=a[k]}}for(k in b){if(!(k in a)){c[k]=b[k]}}return function(t){for(k in i)c[k]=i[k](t);return c}}d3.interpolateNumber=d3_interpolateNumber;function d3_interpolateNumber(a,b){a=+a,b=+b;return function(t){return a*(1-t)+b*t}}d3.interpolateString=d3_interpolateString;function d3_interpolateString(a,b){var bi=d3_interpolate_numberA.lastIndex=d3_interpolate_numberB.lastIndex=0,am,bm,bs,i=-1,s=[],q=[];a=a+"",b=b+"";while((am=d3_interpolate_numberA.exec(a))&&(bm=d3_interpolate_numberB.exec(b))){if((bs=bm.index)>bi){bs=b.slice(bi,bs);if(s[i])s[i]+=bs;else s[++i]=bs}if((am=am[0])===(bm=bm[0])){if(s[i])s[i]+=bm;else s[++i]=bm}else{s[++i]=null;q.push({i:i,x:d3_interpolateNumber(am,bm)})}bi=d3_interpolate_numberB.lastIndex}if(bi<b.length){bs=b.slice(bi);if(s[i])s[i]+=bs;else s[++i]=bs}return s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}var d3_interpolate_numberA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3_interpolate_numberB=new RegExp(d3_interpolate_numberA.source,"g");d3.interpolate=d3_interpolate;function d3_interpolate(a,b){var i=d3.interpolators.length,f;while(--i>=0&&!(f=d3.interpolators[i](a,b)));return f}d3.interpolators=[function(a,b){var t=typeof b;return(t==="string"?d3_rgb_names.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?d3_interpolateRgb:d3_interpolateString:b instanceof d3_color?d3_interpolateRgb:Array.isArray(b)?d3_interpolateArray:t==="object"&&isNaN(b)?d3_interpolateObject:d3_interpolateNumber)(a,b)}];d3.interpolateArray=d3_interpolateArray;function d3_interpolateArray(a,b){var x=[],c=[],na=a.length,nb=b.length,n0=Math.min(a.length,b.length),i;for(i=0;i<n0;++i)x.push(d3_interpolate(a[i],b[i]));for(;i<na;++i)c[i]=a[i];for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<n0;++i)c[i]=x[i](t);return c}}var d3_ease_default=function(){return d3_identity};var d3_ease=d3.map({linear:d3_ease_default,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}});var d3_ease_mode=d3.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(f){return d3_ease_reflect(d3_ease_reverse(f))}});d3.ease=function(name){var i=name.indexOf("-"),t=i>=0?name.slice(0,i):name,m=i>=0?name.slice(i+1):"in";t=d3_ease.get(t)||d3_ease_default;m=d3_ease_mode.get(m)||d3_identity;return d3_ease_clamp(m(t.apply(null,d3_arraySlice.call(arguments,1))))};function d3_ease_clamp(f){return function(t){return t<=0?0:t>=1?1:f(t)}}function d3_ease_reverse(f){return function(t){return 1-f(1-t)}}function d3_ease_reflect(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var t2=t*t,t3=t2*t;return 4*(t<.5?t3:3*(t-t2)+t3-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(t){return 1-Math.cos(t*halfπ)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(a,p){var s;if(arguments.length<2)p=.45;if(arguments.length)s=p/τ*Math.asin(1/a);else a=1,s=p/4;return function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p)}}function d3_ease_back(s){if(!s)s=1.70158;return function(t){return t*t*((s+1)*t-s)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}d3.interpolateHcl=d3_interpolateHcl;function d3_interpolateHcl(a,b){a=d3.hcl(a);b=d3.hcl(b);var ah=a.h,ac=a.c,al=a.l,bh=b.h-ah,bc=b.c-ac,bl=b.l-al;if(isNaN(bc))bc=0,ac=isNaN(ac)?b.c:ac;if(isNaN(bh))bh=0,ah=isNaN(ah)?b.h:ah;else if(bh>180)bh-=360;else if(bh<-180)bh+=360;return function(t){return d3_hcl_lab(ah+bh*t,ac+bc*t,al+bl*t)+""}}d3.interpolateHsl=d3_interpolateHsl;function d3_interpolateHsl(a,b){a=d3.hsl(a);b=d3.hsl(b);var ah=a.h,as=a.s,al=a.l,bh=b.h-ah,bs=b.s-as,bl=b.l-al;if(isNaN(bs))bs=0,as=isNaN(as)?b.s:as;if(isNaN(bh))bh=0,ah=isNaN(ah)?b.h:ah;else if(bh>180)bh-=360;else if(bh<-180)bh+=360;return function(t){return d3_hsl_rgb(ah+bh*t,as+bs*t,al+bl*t)+""}}d3.interpolateLab=d3_interpolateLab;function d3_interpolateLab(a,b){a=d3.lab(a);b=d3.lab(b);var al=a.l,aa=a.a,ab=a.b,bl=b.l-al,ba=b.a-aa,bb=b.b-ab;return function(t){return d3_lab_rgb(al+bl*t,aa+ba*t,ab+bb*t)+""}}d3.interpolateRound=d3_interpolateRound;function d3_interpolateRound(a,b){b-=a;return function(t){return Math.round(a+b*t)}}d3.transform=function(string){var g=d3_document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(string){if(string!=null){g.setAttribute("transform",string);var t=g.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:d3_transformIdentity)})(string)};function d3_transform(m){var r0=[m.a,m.b],r1=[m.c,m.d],kx=d3_transformNormalize(r0),kz=d3_transformDot(r0,r1),ky=d3_transformNormalize(d3_transformCombine(r1,r0,-kz))||0;if(r0[0]*r1[1]<r1[0]*r0[1]){r0[0]*=-1;r0[1]*=-1;kx*=-1;kz*=-1}this.rotate=(kx?Math.atan2(r0[1],r0[0]):Math.atan2(-r1[0],r1[1]))*d3_degrees;this.translate=[m.e,m.f];this.scale=[kx,ky];this.skew=ky?Math.atan2(kz,ky)*d3_degrees:0}d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var k=Math.sqrt(d3_transformDot(a,a));if(k){a[0]/=k;a[1]/=k}return k}function d3_transformCombine(a,b,k){a[0]+=k*b[0];a[1]+=k*b[1];return a}var d3_transformIdentity={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolateTransform=d3_interpolateTransform;function d3_interpolateTransformPop(s){return s.length?s.pop()+",":""}function d3_interpolateTranslate(ta,tb,s,q){if(ta[0]!==tb[0]||ta[1]!==tb[1]){var i=s.push("translate(",null,",",null,")");q.push({i:i-4,x:d3_interpolateNumber(ta[0],tb[0])},{i:i-2,x:d3_interpolateNumber(ta[1],tb[1])})}else if(tb[0]||tb[1]){s.push("translate("+tb+")")}}function d3_interpolateRotate(ra,rb,s,q){if(ra!==rb){if(ra-rb>180)rb+=360;else if(rb-ra>180)ra+=360;q.push({i:s.push(d3_interpolateTransformPop(s)+"rotate(",null,")")-2,x:d3_interpolateNumber(ra,rb)})}else if(rb){s.push(d3_interpolateTransformPop(s)+"rotate("+rb+")")}}function d3_interpolateSkew(wa,wb,s,q){if(wa!==wb){q.push({i:s.push(d3_interpolateTransformPop(s)+"skewX(",null,")")-2,x:d3_interpolateNumber(wa,wb)})}else if(wb){s.push(d3_interpolateTransformPop(s)+"skewX("+wb+")")}}function d3_interpolateScale(ka,kb,s,q){if(ka[0]!==kb[0]||ka[1]!==kb[1]){var i=s.push(d3_interpolateTransformPop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:d3_interpolateNumber(ka[0],kb[0])},{i:i-2,x:d3_interpolateNumber(ka[1],kb[1])})}else if(kb[0]!==1||kb[1]!==1){s.push(d3_interpolateTransformPop(s)+"scale("+kb+")")}}function d3_interpolateTransform(a,b){var s=[],q=[];a=d3.transform(a),b=d3.transform(b);d3_interpolateTranslate(a.translate,b.translate,s,q);d3_interpolateRotate(a.rotate,b.rotate,s,q);d3_interpolateSkew(a.skew,b.skew,s,q);d3_interpolateScale(a.scale,b.scale,s,q);a=b=null;return function(t){var i=-1,n=q.length,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("")}}function d3_uninterpolateNumber(a,b){b=(b-=a=+a)||1/b;return function(x){return(x-a)/b}}function d3_uninterpolateClamp(a,b){b=(b-=a=+a)||1/b;return function(x){return Math.max(0,Math.min(1,(x-a)/b))}}d3.layout={};d3.layout.bundle=function(){return function(links){var paths=[],i=-1,n=links.length;while(++i<n)paths.push(d3_layout_bundlePath(links[i]));return paths}};function d3_layout_bundlePath(link){var start=link.source,end=link.target,lca=d3_layout_bundleLeastCommonAncestor(start,end),points=[start];while(start!==lca){start=start.parent;points.push(start)}var k=points.length;while(end!==lca){points.splice(k,0,end);end=end.parent}return points}function d3_layout_bundleAncestors(node){var ancestors=[],parent=node.parent;while(parent!=null){ancestors.push(node);node=parent;parent=parent.parent}ancestors.push(node);return ancestors}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;var aNodes=d3_layout_bundleAncestors(a),bNodes=d3_layout_bundleAncestors(b),aNode=aNodes.pop(),bNode=bNodes.pop(),sharedNode=null;while(aNode===bNode){sharedNode=aNode;aNode=aNodes.pop();bNode=bNodes.pop()}return sharedNode}d3.layout.chord=function(){var chord={},chords,groups,matrix,n,padding=0,sortGroups,sortSubgroups,sortChords;function relayout(){var subgroups={},groupSums=[],groupIndex=d3.range(n),subgroupIndex=[],k,x,x0,i,j;chords=[];groups=[];k=0,i=-1;while(++i<n){x=0,j=-1;while(++j<n){x+=matrix[i][j]}groupSums.push(x);subgroupIndex.push(d3.range(n));k+=x}if(sortGroups){groupIndex.sort((function(a,b){return sortGroups(groupSums[a],groupSums[b])}))}if(sortSubgroups){subgroupIndex.forEach((function(d,i){d.sort((function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])}))}))}k=(τ-padding*n)/k;x=0,i=-1;while(++i<n){x0=x,j=-1;while(++j<n){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[di+"-"+dj]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:groupSums[di]};x+=padding}i=-1;while(++i<n){j=i-1;while(++j<n){var source=subgroups[i+"-"+j],target=subgroups[j+"-"+i];if(source.value||target.value){chords.push(source.value<target.value?{source:target,target:source}:{source:source,target:target})}}}if(sortChords)resort()}function resort(){chords.sort((function(a,b){return sortChords((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)}))}chord.matrix=function(x){if(!arguments.length)return matrix;n=(matrix=x)&&matrix.length;chords=groups=null;return chord};chord.padding=function(x){if(!arguments.length)return padding;padding=x;chords=groups=null;return chord};chord.sortGroups=function(x){if(!arguments.length)return sortGroups;sortGroups=x;chords=groups=null;return chord};chord.sortSubgroups=function(x){if(!arguments.length)return sortSubgroups;sortSubgroups=x;chords=null;return chord};chord.sortChords=function(x){if(!arguments.length)return sortChords;sortChords=x;if(chords)resort();return chord};chord.chords=function(){if(!chords)relayout();return chords};chord.groups=function(){if(!groups)relayout();return groups};return chord};d3.layout.force=function(){var force={},event=d3.dispatch("start","tick","end"),timer,size=[1,1],drag,alpha,friction=.9,linkDistance=d3_layout_forceLinkDistance,linkStrength=d3_layout_forceLinkStrength,charge=-30,chargeDistance2=d3_layout_forceChargeDistance2,gravity=.1,theta2=.64,nodes=[],links=[],distances,strengths,charges;function repulse(node){return function(quad,x1,_,x2){if(quad.point!==node){var dx=quad.cx-node.x,dy=quad.cy-node.y,dw=x2-x1,dn=dx*dx+dy*dy;if(dw*dw/theta2<dn){if(dn<chargeDistance2){var k=quad.charge/dn;node.px-=dx*k;node.py-=dy*k}return true}if(quad.point&&dn&&dn<chargeDistance2){var k=quad.pointCharge/dn;node.px-=dx*k;node.py-=dy*k}}return!quad.charge}}force.tick=function(){if((alpha*=.99)<.005){timer=null;event.end({type:"end",alpha:alpha=0});return true}var n=nodes.length,m=links.length,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=links[i];s=o.source;t=o.target;x=t.x-s.x;y=t.y-s.y;if(l=x*x+y*y){l=alpha*strengths[i]*((l=Math.sqrt(l))-distances[i])/l;x*=l;y*=l;t.x-=x*(k=s.weight+t.weight?s.weight/(s.weight+t.weight):.5);t.y-=y*k;s.x+=x*(k=1-k);s.y+=y*k}}if(k=alpha*gravity){x=size[0]/2;y=size[1]/2;i=-1;if(k)while(++i<n){o=nodes[i];o.x+=(x-o.x)*k;o.y+=(y-o.y)*k}}if(charge){d3_layout_forceAccumulate(q=d3.geom.quadtree(nodes),alpha,charges);i=-1;while(++i<n){if(!(o=nodes[i]).fixed){q.visit(repulse(o))}}}i=-1;while(++i<n){o=nodes[i];if(o.fixed){o.x=o.px;o.y=o.py}else{o.x-=(o.px-(o.px=o.x))*friction;o.y-=(o.py-(o.py=o.y))*friction}}event.tick({type:"tick",alpha:alpha})};force.nodes=function(x){if(!arguments.length)return nodes;nodes=x;return force};force.links=function(x){if(!arguments.length)return links;links=x;return force};force.size=function(x){if(!arguments.length)return size;size=x;return force};force.linkDistance=function(x){if(!arguments.length)return linkDistance;linkDistance=typeof x==="function"?x:+x;return force};force.distance=force.linkDistance;force.linkStrength=function(x){if(!arguments.length)return linkStrength;linkStrength=typeof x==="function"?x:+x;return force};force.friction=function(x){if(!arguments.length)return friction;friction=+x;return force};force.charge=function(x){if(!arguments.length)return charge;charge=typeof x==="function"?x:+x;return force};force.chargeDistance=function(x){if(!arguments.length)return Math.sqrt(chargeDistance2);chargeDistance2=x*x;return force};force.gravity=function(x){if(!arguments.length)return gravity;gravity=+x;return force};force.theta=function(x){if(!arguments.length)return Math.sqrt(theta2);theta2=x*x;return force};force.alpha=function(x){if(!arguments.length)return alpha;x=+x;if(alpha){if(x>0){alpha=x}else{timer.c=null,timer.t=NaN,timer=null;event.end({type:"end",alpha:alpha=0})}}else if(x>0){event.start({type:"start",alpha:alpha=x});timer=d3_timer(force.tick)}return force};force.start=function(){var i,n=nodes.length,m=links.length,w=size[0],h=size[1],neighbors,o;for(i=0;i<n;++i){(o=nodes[i]).index=i;o.weight=0}for(i=0;i<m;++i){o=links[i];if(typeof o.source=="number")o.source=nodes[o.source];if(typeof o.target=="number")o.target=nodes[o.target];++o.source.weight;++o.target.weight}for(i=0;i<n;++i){o=nodes[i];if(isNaN(o.x))o.x=position("x",w);if(isNaN(o.y))o.y=position("y",h);if(isNaN(o.px))o.px=o.x;if(isNaN(o.py))o.py=o.y}distances=[];if(typeof linkDistance==="function")for(i=0;i<m;++i)distances[i]=+linkDistance.call(this,links[i],i);else for(i=0;i<m;++i)distances[i]=linkDistance;strengths=[];if(typeof linkStrength==="function")for(i=0;i<m;++i)strengths[i]=+linkStrength.call(this,links[i],i);else for(i=0;i<m;++i)strengths[i]=linkStrength;charges=[];if(typeof charge==="function")for(i=0;i<n;++i)charges[i]=+charge.call(this,nodes[i],i);else for(i=0;i<n;++i)charges[i]=charge;function position(dimension,size){if(!neighbors){neighbors=new Array(n);for(j=0;j<n;++j){neighbors[j]=[]}for(j=0;j<m;++j){var o=links[j];neighbors[o.source.index].push(o.target);neighbors[o.target.index].push(o.source)}}var candidates=neighbors[i],j=-1,l=candidates.length,x;while(++j<l)if(!isNaN(x=candidates[j][dimension]))return x;return Math.random()*size}return force.resume()};force.resume=function(){return force.alpha(.1)};force.stop=function(){return force.alpha(0)};force.drag=function(){if(!drag)drag=d3.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend);if(!arguments.length)return drag;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(drag)};function dragmove(d){d.px=d3.event.x,d.py=d3.event.y;force.resume()}return d3.rebind(force,event,"on")};function d3_layout_forceDragstart(d){d.fixed|=2}function d3_layout_forceDragend(d){d.fixed&=~6}function d3_layout_forceMouseover(d){d.fixed|=4;d.px=d.x,d.py=d.y}function d3_layout_forceMouseout(d){d.fixed&=~4}function d3_layout_forceAccumulate(quad,alpha,charges){var cx=0,cy=0;quad.charge=0;if(!quad.leaf){var nodes=quad.nodes,n=nodes.length,i=-1,c;while(++i<n){c=nodes[i];if(c==null)continue;d3_layout_forceAccumulate(c,alpha,charges);quad.charge+=c.charge;cx+=c.charge*c.cx;cy+=c.charge*c.cy}}if(quad.point){if(!quad.leaf){quad.point.x+=Math.random()-.5;quad.point.y+=Math.random()-.5}var k=alpha*charges[quad.point.index];quad.charge+=quad.pointCharge=k;cx+=k*quad.point.x;cy+=k*quad.point.y}quad.cx=cx/quad.charge;quad.cy=cy/quad.charge}var d3_layout_forceLinkDistance=20,d3_layout_forceLinkStrength=1,d3_layout_forceChargeDistance2=Infinity;d3.layout.hierarchy=function(){var sort=d3_layout_hierarchySort,children=d3_layout_hierarchyChildren,value=d3_layout_hierarchyValue;function hierarchy(root){var stack=[root],nodes=[],node;root.depth=0;while((node=stack.pop())!=null){nodes.push(node);if((childs=children.call(hierarchy,node,node.depth))&&(n=childs.length)){var n,childs,child;while(--n>=0){stack.push(child=childs[n]);child.parent=node;child.depth=node.depth+1}if(value)node.value=0;node.children=childs}else{if(value)node.value=+value.call(hierarchy,node,node.depth)||0;delete node.children}}d3_layout_hierarchyVisitAfter(root,(function(node){var childs,parent;if(sort&&(childs=node.children))childs.sort(sort);if(value&&(parent=node.parent))parent.value+=node.value}));return nodes}hierarchy.sort=function(x){if(!arguments.length)return sort;sort=x;return hierarchy};hierarchy.children=function(x){if(!arguments.length)return children;children=x;return hierarchy};hierarchy.value=function(x){if(!arguments.length)return value;value=x;return hierarchy};hierarchy.revalue=function(root){if(value){d3_layout_hierarchyVisitBefore(root,(function(node){if(node.children)node.value=0}));d3_layout_hierarchyVisitAfter(root,(function(node){var parent;if(!node.children)node.value=+value.call(hierarchy,node,node.depth)||0;if(parent=node.parent)parent.value+=node.value}))}return root};return hierarchy};function d3_layout_hierarchyRebind(object,hierarchy){d3.rebind(object,hierarchy,"sort","children","value");object.nodes=object;object.links=d3_layout_hierarchyLinks;return object}function d3_layout_hierarchyVisitBefore(node,callback){var nodes=[node];while((node=nodes.pop())!=null){callback(node);if((children=node.children)&&(n=children.length)){var n,children;while(--n>=0)nodes.push(children[n])}}}function d3_layout_hierarchyVisitAfter(node,callback){var nodes=[node],nodes2=[];while((node=nodes.pop())!=null){nodes2.push(node);if((children=node.children)&&(n=children.length)){var i=-1,n,children;while(++i<n)nodes.push(children[i])}}while((node=nodes2.pop())!=null){callback(node)}}function d3_layout_hierarchyChildren(d){return d.children}function d3_layout_hierarchyValue(d){return d.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map((function(parent){return(parent.children||[]).map((function(child){return{source:parent,target:child}}))})))}d3.layout.partition=function(){var hierarchy=d3.layout.hierarchy(),size=[1,1];function position(node,x,dx,dy){var children=node.children;node.x=x;node.y=node.depth*dy;node.dx=dx;node.dy=dy;if(children&&(n=children.length)){var i=-1,n,c,d;dx=node.value?dx/node.value:0;while(++i<n){position(c=children[i],x,d=c.value*dx,dy);x+=d}}}function depth(node){var children=node.children,d=0;if(children&&(n=children.length)){var i=-1,n;while(++i<n)d=Math.max(d,depth(children[i]))}return 1+d}function partition(d,i){var nodes=hierarchy.call(this,d,i);position(nodes[0],0,size[0],size[1]/depth(nodes[0]));return nodes}partition.size=function(x){if(!arguments.length)return size;size=x;return partition};return d3_layout_hierarchyRebind(partition,hierarchy)};d3.layout.pie=function(){var value=Number,sort=d3_layout_pieSortByValue,startAngle=0,endAngle=τ,padAngle=0;function pie(data){var n=data.length,values=data.map((function(d,i){return+value.call(pie,d,i)})),a=+(typeof startAngle==="function"?startAngle.apply(this,arguments):startAngle),da=(typeof endAngle==="function"?endAngle.apply(this,arguments):endAngle)-a,p=Math.min(Math.abs(da)/n,+(typeof padAngle==="function"?padAngle.apply(this,arguments):padAngle)),pa=p*(da<0?-1:1),sum=d3.sum(values),k=sum?(da-n*pa)/sum:0,index=d3.range(n),arcs=[],v;if(sort!=null)index.sort(sort===d3_layout_pieSortByValue?function(i,j){return values[j]-values[i]}:function(i,j){return sort(data[i],data[j])});index.forEach((function(i){arcs[i]={data:data[i],value:v=values[i],startAngle:a,endAngle:a+=v*k+pa,padAngle:p}}));return arcs}pie.value=function(_){if(!arguments.length)return value;value=_;return pie};pie.sort=function(_){if(!arguments.length)return sort;sort=_;return pie};pie.startAngle=function(_){if(!arguments.length)return startAngle;startAngle=_;return pie};pie.endAngle=function(_){if(!arguments.length)return endAngle;endAngle=_;return pie};pie.padAngle=function(_){if(!arguments.length)return padAngle;padAngle=_;return pie};return pie};var d3_layout_pieSortByValue={};d3.layout.stack=function(){var values=d3_identity,order=d3_layout_stackOrderDefault,offset=d3_layout_stackOffsetZero,out=d3_layout_stackOut,x=d3_layout_stackX,y=d3_layout_stackY;function stack(data,index){if(!(n=data.length))return data;var series=data.map((function(d,i){return values.call(stack,d,i)}));var points=series.map((function(d){return d.map((function(v,i){return[x.call(stack,v,i),y.call(stack,v,i)]}))}));var orders=order.call(stack,points,index);series=d3.permute(series,orders);points=d3.permute(points,orders);var offsets=offset.call(stack,points,index);var m=series[0].length,n,i,j,o;for(j=0;j<m;++j){out.call(stack,series[0][j],o=offsets[j],points[0][j][1]);for(i=1;i<n;++i){out.call(stack,series[i][j],o+=points[i-1][j][1],points[i][j][1])}}return data}stack.values=function(x){if(!arguments.length)return values;values=x;return stack};stack.order=function(x){if(!arguments.length)return order;order=typeof x==="function"?x:d3_layout_stackOrders.get(x)||d3_layout_stackOrderDefault;return stack};stack.offset=function(x){if(!arguments.length)return offset;offset=typeof x==="function"?x:d3_layout_stackOffsets.get(x)||d3_layout_stackOffsetZero;return stack};stack.x=function(z){if(!arguments.length)return x;x=z;return stack};stack.y=function(z){if(!arguments.length)return y;y=z;return stack};stack.out=function(z){if(!arguments.length)return out;out=z;return stack};return stack};function d3_layout_stackX(d){return d.x}function d3_layout_stackY(d){return d.y}function d3_layout_stackOut(d,y0,y){d.y0=y0;d.y=y}var d3_layout_stackOrders=d3.map({"inside-out":function(data){var n=data.length,i,j,max=data.map(d3_layout_stackMaxIndex),sums=data.map(d3_layout_stackReduceSum),index=d3.range(n).sort((function(a,b){return max[a]-max[b]})),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i){j=index[i];if(top<bottom){top+=sums[j];tops.push(j)}else{bottom+=sums[j];bottoms.push(j)}}return bottoms.reverse().concat(tops)},reverse:function(data){return d3.range(data.length).reverse()},default:d3_layout_stackOrderDefault});var d3_layout_stackOffsets=d3.map({silhouette:function(data){var n=data.length,m=data[0].length,sums=[],max=0,i,j,o,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];if(o>max)max=o;sums.push(o)}for(j=0;j<m;++j){y0[j]=(max-sums[j])/2}return y0},wiggle:function(data){var n=data.length,x=data[0],m=x.length,i,j,k,s1,s2,s3,dx,o,o0,y0=[];y0[0]=o=o0=0;for(j=1;j<m;++j){for(i=0,s1=0;i<n;++i)s1+=data[i][j][1];for(i=0,s2=0,dx=x[j][0]-x[j-1][0];i<n;++i){for(k=0,s3=(data[i][j][1]-data[i][j-1][1])/(2*dx);k<i;++k){s3+=(data[k][j][1]-data[k][j-1][1])/dx}s2+=s3*data[i][j][1]}y0[j]=o-=s1?s2/s1*dx:0;if(o<o0)o0=o}for(j=0;j<m;++j)y0[j]-=o0;return y0},expand:function(data){var n=data.length,m=data[0].length,k=1/n,i,j,o,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];if(o)for(i=0;i<n;i++)data[i][j][1]/=o;else for(i=0;i<n;i++)data[i][j][1]=k}for(j=0;j<m;++j)y0[j]=0;return y0},zero:d3_layout_stackOffsetZero});function d3_layout_stackOrderDefault(data){return d3.range(data.length)}function d3_layout_stackOffsetZero(data){var j=-1,m=data[0].length,y0=[];while(++j<m)y0[j]=0;return y0}function d3_layout_stackMaxIndex(array){var i=1,j=0,v=array[0][1],k,n=array.length;for(;i<n;++i){if((k=array[i][1])>v){j=i;v=k}}return j}function d3_layout_stackReduceSum(d){return d.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(p,d){return p+d[1]}d3.layout.histogram=function(){var frequency=true,valuer=Number,ranger=d3_layout_histogramRange,binner=d3_layout_histogramBinSturges;function histogram(data,i){var bins=[],values=data.map(valuer,this),range=ranger.call(this,values,i),thresholds=binner.call(this,range,values,i),bin,i=-1,n=values.length,m=thresholds.length-1,k=frequency?1:1/n,x;while(++i<m){bin=bins[i]=[];bin.dx=thresholds[i+1]-(bin.x=thresholds[i]);bin.y=0}if(m>0){i=-1;while(++i<n){x=values[i];if(x>=range[0]&&x<=range[1]){bin=bins[d3.bisect(thresholds,x,1,m)-1];bin.y+=k;bin.push(data[i])}}}return bins}histogram.value=function(x){if(!arguments.length)return valuer;valuer=x;return histogram};histogram.range=function(x){if(!arguments.length)return ranger;ranger=d3_functor(x);return histogram};histogram.bins=function(x){if(!arguments.length)return binner;binner=typeof x==="number"?function(range){return d3_layout_histogramBinFixed(range,x)}:d3_functor(x);return histogram};histogram.frequency=function(x){if(!arguments.length)return frequency;frequency=!!x;return histogram};return histogram};function d3_layout_histogramBinSturges(range,values){return d3_layout_histogramBinFixed(range,Math.ceil(Math.log(values.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(range,n){var x=-1,b=+range[0],m=(range[1]-b)/n,f=[];while(++x<=n)f[x]=m*x+b;return f}function d3_layout_histogramRange(values){return[d3.min(values),d3.max(values)]}d3.layout.pack=function(){var hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1],radius;function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],w=size[0],h=size[1],r=radius==null?Math.sqrt:typeof radius==="function"?radius:function(){return radius};root.x=root.y=0;d3_layout_hierarchyVisitAfter(root,(function(d){d.r=+r(d.value)}));d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings);if(padding){var dr=padding*(radius?1:Math.max(2*root.r/w,2*root.r/h))/2;d3_layout_hierarchyVisitAfter(root,(function(d){d.r+=dr}));d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings);d3_layout_hierarchyVisitAfter(root,(function(d){d.r-=dr}))}d3_layout_packTransform(root,w/2,h/2,radius?1:1/Math.max(2*root.r/w,2*root.r/h));return nodes}pack.size=function(_){if(!arguments.length)return size;size=_;return pack};pack.radius=function(_){if(!arguments.length)return radius;radius=_==null||typeof _==="function"?_:+_;return pack};pack.padding=function(_){if(!arguments.length)return padding;padding=+_;return pack};return d3_layout_hierarchyRebind(pack,hierarchy)};function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b;b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return.999*dr*dr>dx*dx+dy*dy}function d3_layout_packSiblings(node){if(!(nodes=node.children)||!(n=nodes.length))return;var nodes,xMin=Infinity,xMax=-Infinity,yMin=Infinity,yMax=-Infinity,a,b,c,i,j,k,n;function bound(node){xMin=Math.min(node.x-node.r,xMin);xMax=Math.max(node.x+node.r,xMax);yMin=Math.min(node.y-node.r,yMin);yMax=Math.max(node.y+node.r,yMax)}nodes.forEach(d3_layout_packLink);a=nodes[0];a.x=-a.r;a.y=0;bound(a);if(n>1){b=nodes[1];b.x=b.r;b.y=0;bound(b);if(n>2){c=nodes[2];d3_layout_packPlace(a,b,c);bound(c);d3_layout_packInsert(a,c);a._pack_prev=c;d3_layout_packInsert(c,b);b=a._pack_next;for(i=3;i<n;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++){if(d3_layout_packIntersects(j,c)){isect=1;break}}if(isect==1){for(k=a._pack_prev;k!==j._pack_prev;k=k._pack_prev,s2++){if(d3_layout_packIntersects(k,c)){break}}}if(isect){if(s1<s2||s1==s2&&b.r<a.r)d3_layout_packSplice(a,b=j);else d3_layout_packSplice(a=k,b);i--}else{d3_layout_packInsert(a,c);b=c;bound(c)}}}}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;i<n;i++){c=nodes[i];c.x-=cx;c.y-=cy;cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y))}node.r=cr;nodes.forEach(d3_layout_packUnlink)}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next;delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;node.x=x+=k*node.x;node.y=y+=k*node.y;node.r*=k;if(children){var i=-1,n=children.length;while(++i<n)d3_layout_packTransform(children[i],x,y,k)}}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da;db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy;c.y=a.y+x*dy-y*dx}else{c.x=a.x+db;c.y=a.y}}d3.layout.tree=function(){var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=null;function tree(d,i){var nodes=hierarchy.call(this,d,i),root0=nodes[0],root1=wrapTree(root0);d3_layout_hierarchyVisitAfter(root1,firstWalk),root1.parent.m=-root1.z;d3_layout_hierarchyVisitBefore(root1,secondWalk);if(nodeSize)d3_layout_hierarchyVisitBefore(root0,sizeNode);else{var left=root0,right=root0,bottom=root0;d3_layout_hierarchyVisitBefore(root0,(function(node){if(node.x<left.x)left=node;if(node.x>right.x)right=node;if(node.depth>bottom.depth)bottom=node}));var tx=separation(left,right)/2-left.x,kx=size[0]/(right.x+separation(right,left)/2+tx),ky=size[1]/(bottom.depth||1);d3_layout_hierarchyVisitBefore(root0,(function(node){node.x=(node.x+tx)*kx;node.y=node.depth*ky}))}return nodes}function wrapTree(root0){var root1={A:null,children:[root0]},queue=[root1],node1;while((node1=queue.pop())!=null){for(var children=node1.children,child,i=0,n=children.length;i<n;++i){queue.push((children[i]=child={_:children[i],parent:node1,children:(child=children[i].children)&&child.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=child)}}return root1.children[0]}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children.length){d3_layout_treeShift(v);var midpoint=(children[0].z+children[children.length-1].z)/2;if(w){v.z=w.z+separation(v._,w._);v.m=v.z-midpoint}else{v.z=midpoint}}else if(w){v.z=w.z+separation(v._,w._)}v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m;v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){var vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m,shift;while(vim=d3_layout_treeRight(vim),vip=d3_layout_treeLeft(vip),vim&&vip){vom=d3_layout_treeLeft(vom);vop=d3_layout_treeRight(vop);vop.a=v;shift=vim.z+sim-vip.z-sip+separation(vim._,vip._);if(shift>0){d3_layout_treeMove(d3_layout_treeAncestor(vim,v,ancestor),v,shift);sip+=shift;sop+=shift}sim+=vim.m;sip+=vip.m;som+=vom.m;sop+=vop.m}if(vim&&!d3_layout_treeRight(vop)){vop.t=vim;vop.m+=sim-sop}if(vip&&!d3_layout_treeLeft(vom)){vom.t=vip;vom.m+=sip-som;ancestor=v}}return ancestor}function sizeNode(node){node.x*=size[0];node.y=node.depth*size[1]}tree.separation=function(x){if(!arguments.length)return separation;separation=x;return tree};tree.size=function(x){if(!arguments.length)return nodeSize?null:size;nodeSize=(size=x)==null?sizeNode:null;return tree};tree.nodeSize=function(x){if(!arguments.length)return nodeSize?size:null;nodeSize=(size=x)==null?null:sizeNode;return tree};return d3_layout_hierarchyRebind(tree,hierarchy)};function d3_layout_treeSeparation(a,b){return a.parent==b.parent?1:2}function d3_layout_treeLeft(v){var children=v.children;return children.length?children[0]:v.t}function d3_layout_treeRight(v){var children=v.children,n;return(n=children.length)?children[n-1]:v.t}function d3_layout_treeMove(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change;wp.s+=shift;wm.c+=change;wp.z+=shift;wp.m+=shift}function d3_layout_treeShift(v){var shift=0,change=0,children=v.children,i=children.length,w;while(--i>=0){w=children[i];w.z+=shift;w.m+=shift;shift+=w.s+(change+=w.c)}}function d3_layout_treeAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}d3.layout.cluster=function(){var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=false;function cluster(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],previousNode,x=0;d3_layout_hierarchyVisitAfter(root,(function(node){var children=node.children;if(children&&children.length){node.x=d3_layout_clusterX(children);node.y=d3_layout_clusterY(children)}else{node.x=previousNode?x+=separation(node,previousNode):0;node.y=0;previousNode=node}}));var left=d3_layout_clusterLeft(root),right=d3_layout_clusterRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;d3_layout_hierarchyVisitAfter(root,nodeSize?function(node){node.x=(node.x-root.x)*size[0];node.y=(root.y-node.y)*size[1]}:function(node){node.x=(node.x-x0)/(x1-x0)*size[0];node.y=(1-(root.y?node.y/root.y:1))*size[1]});return nodes}cluster.separation=function(x){if(!arguments.length)return separation;separation=x;return cluster};cluster.size=function(x){if(!arguments.length)return nodeSize?null:size;nodeSize=(size=x)==null;return cluster};cluster.nodeSize=function(x){if(!arguments.length)return nodeSize?size:null;nodeSize=(size=x)!=null;return cluster};return d3_layout_hierarchyRebind(cluster,hierarchy)};function d3_layout_clusterY(children){return 1+d3.max(children,(function(child){return child.y}))}function d3_layout_clusterX(children){return children.reduce((function(x,child){return x+child.x}),0)/children.length}function d3_layout_clusterLeft(node){var children=node.children;return children&&children.length?d3_layout_clusterLeft(children[0]):node}function d3_layout_clusterRight(node){var children=node.children,n;return children&&(n=children.length)?d3_layout_clusterRight(children[n-1]):node}d3.layout.treemap=function(){var hierarchy=d3.layout.hierarchy(),round=Math.round,size=[1,1],padding=null,pad=d3_layout_treemapPadNull,sticky=false,stickies,mode="squarify",ratio=.5*(1+Math.sqrt(5));function scale(children,k){var i=-1,n=children.length,child,area;while(++i<n){area=(child=children[i]).value*(k<0?0:k);child.area=isNaN(area)||area<=0?0:area}}function squarify(node){var children=node.children;if(children&&children.length){var rect=pad(node),row=[],remaining=children.slice(),child,best=Infinity,score,u=mode==="slice"?rect.dx:mode==="dice"?rect.dy:mode==="slice-dice"?node.depth&1?rect.dy:rect.dx:Math.min(rect.dx,rect.dy),n;scale(remaining,rect.dx*rect.dy/node.value);row.area=0;while((n=remaining.length)>0){row.push(child=remaining[n-1]);row.area+=child.area;if(mode!=="squarify"||(score=worst(row,u))<=best){remaining.pop();best=score}else{row.area-=row.pop().area;position(row,u,rect,false);u=Math.min(rect.dx,rect.dy);row.length=row.area=0;best=Infinity}}if(row.length){position(row,u,rect,true);row.length=row.area=0}children.forEach(squarify)}}function stickify(node){var children=node.children;if(children&&children.length){var rect=pad(node),remaining=children.slice(),child,row=[];scale(remaining,rect.dx*rect.dy/node.value);row.area=0;while(child=remaining.pop()){row.push(child);row.area+=child.area;if(child.z!=null){position(row,child.z?rect.dx:rect.dy,rect,!remaining.length);row.length=row.area=0}}children.forEach(stickify)}}function worst(row,u){var s=row.area,r,rmax=0,rmin=Infinity,i=-1,n=row.length;while(++i<n){if(!(r=row[i].area))continue;if(r<rmin)rmin=r;if(r>rmax)rmax=r}s*=s;u*=u;return s?Math.max(u*rmax*ratio/s,s/(u*rmin*ratio)):Infinity}function position(row,u,rect,flush){var i=-1,n=row.length,x=rect.x,y=rect.y,v=u?round(row.area/u):0,o;if(u==rect.dx){if(flush||v>rect.dy)v=rect.dy;while(++i<n){o=row[i];o.x=x;o.y=y;o.dy=v;x+=o.dx=Math.min(rect.x+rect.dx-x,v?round(o.area/v):0)}o.z=true;o.dx+=rect.x+rect.dx-x;rect.y+=v;rect.dy-=v}else{if(flush||v>rect.dx)v=rect.dx;while(++i<n){o=row[i];o.x=x;o.y=y;o.dx=v;y+=o.dy=Math.min(rect.y+rect.dy-y,v?round(o.area/v):0)}o.z=false;o.dy+=rect.y+rect.dy-y;rect.x+=v;rect.dx-=v}}function treemap(d){var nodes=stickies||hierarchy(d),root=nodes[0];root.x=root.y=0;if(root.value)root.dx=size[0],root.dy=size[1];else root.dx=root.dy=0;if(stickies)hierarchy.revalue(root);scale([root],root.dx*root.dy/root.value);(stickies?stickify:squarify)(root);if(sticky)stickies=nodes;return nodes}treemap.size=function(x){if(!arguments.length)return size;size=x;return treemap};treemap.padding=function(x){if(!arguments.length)return padding;function padFunction(node){var p=x.call(treemap,node,node.depth);return p==null?d3_layout_treemapPadNull(node):d3_layout_treemapPad(node,typeof p==="number"?[p,p,p,p]:p)}function padConstant(node){return d3_layout_treemapPad(node,x)}var type;pad=(padding=x)==null?d3_layout_treemapPadNull:(type=typeof x)==="function"?padFunction:type==="number"?(x=[x,x,x,x],padConstant):padConstant;return treemap};treemap.round=function(x){if(!arguments.length)return round!=Number;round=x?Math.round:Number;return treemap};treemap.sticky=function(x){if(!arguments.length)return sticky;sticky=x;stickies=null;return treemap};treemap.ratio=function(x){if(!arguments.length)return ratio;ratio=x;return treemap};treemap.mode=function(x){if(!arguments.length)return mode;mode=x+"";return treemap};return d3_layout_hierarchyRebind(treemap,hierarchy)};function d3_layout_treemapPadNull(node){return{x:node.x,y:node.y,dx:node.dx,dy:node.dy}}function d3_layout_treemapPad(node,padding){var x=node.x+padding[3],y=node.y+padding[0],dx=node.dx-padding[1]-padding[3],dy=node.dy-padding[0]-padding[2];if(dx<0){x+=dx/2;dx=0}if(dy<0){y+=dy/2;dy=0}return{x:x,y:y,dx:dx,dy:dy}}d3.random={normal:function(µ,σ){var n=arguments.length;if(n<2)σ=1;if(n<1)µ=0;return function(){var x,y,r;do{x=Math.random()*2-1;y=Math.random()*2-1;r=x*x+y*y}while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var random=d3.random.normal.apply(d3,arguments);return function(){return Math.exp(random())}},bates:function(m){var random=d3.random.irwinHall(m);return function(){return random()/m}},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s}}};d3.scale={};function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range())}function d3_scale_bilinear(domain,range,uninterpolate,interpolate){var u=uninterpolate(domain[0],domain[1]),i=interpolate(range[0],range[1]);return function(x){return i(u(x))}}function d3_scale_nice(domain,nice){var i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1],dx;if(x1<x0){dx=i0,i0=i1,i1=dx;dx=x0,x0=x1,x1=dx}domain[i0]=nice.floor(x0);domain[i1]=nice.ceil(x1);return domain}function d3_scale_niceStep(step){return step?{floor:function(x){return Math.floor(x/step)*step},ceil:function(x){return Math.ceil(x/step)*step}}:d3_scale_niceIdentity}var d3_scale_niceIdentity={floor:d3_identity,ceil:d3_identity};function d3_scale_polylinear(domain,range,uninterpolate,interpolate){var u=[],i=[],j=0,k=Math.min(domain.length,range.length)-1;if(domain[k]<domain[0]){domain=domain.slice().reverse();range=range.slice().reverse()}while(++j<=k){u.push(uninterpolate(domain[j-1],domain[j]));i.push(interpolate(range[j-1],range[j]))}return function(x){var j=d3.bisect(domain,x,1,k)-1;return i[j](u[j](x))}}d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,false)};function d3_scale_linear(domain,range,interpolate,clamp){var output,input;function rescale(){var linear=Math.min(domain.length,range.length)>2?d3_scale_polylinear:d3_scale_bilinear,uninterpolate=clamp?d3_uninterpolateClamp:d3_uninterpolateNumber;output=linear(domain,range,uninterpolate,interpolate);input=linear(range,domain,uninterpolate,d3_interpolate);return scale}function scale(x){return output(x)}scale.invert=function(y){return input(y)};scale.domain=function(x){if(!arguments.length)return domain;domain=x.map(Number);return rescale()};scale.range=function(x){if(!arguments.length)return range;range=x;return rescale()};scale.rangeRound=function(x){return scale.range(x).interpolate(d3_interpolateRound)};scale.clamp=function(x){if(!arguments.length)return clamp;clamp=x;return rescale()};scale.interpolate=function(x){if(!arguments.length)return interpolate;interpolate=x;return rescale()};scale.ticks=function(m){return d3_scale_linearTicks(domain,m)};scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)};scale.nice=function(m){d3_scale_linearNice(domain,m);return rescale()};scale.copy=function(){return d3_scale_linear(domain,range,interpolate,clamp)};return rescale()}function d3_scale_linearRebind(scale,linear){return d3.rebind(scale,linear,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(domain,m){d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2]));d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2]));return domain}function d3_scale_linearTickRange(domain,m){if(m==null)m=10;var extent=d3_scaleExtent(domain),span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step;if(err<=.15)step*=10;else if(err<=.35)step*=5;else if(err<=.75)step*=2;extent[0]=Math.ceil(extent[0]/step)*step;extent[1]=Math.floor(extent[1]/step)*step+step*.5;extent[2]=step;return extent}function d3_scale_linearTicks(domain,m){return d3.range.apply(d3,d3_scale_linearTickRange(domain,m))}function d3_scale_linearTickFormat(domain,m,format){var range=d3_scale_linearTickRange(domain,m);if(format){var match=d3_format_re.exec(format);match.shift();if(match[8]==="s"){var prefix=d3.formatPrefix(Math.max(abs(range[0]),abs(range[1])));if(!match[7])match[7]="."+d3_scale_linearPrecision(prefix.scale(range[2]));match[8]="f";format=d3.format(match.join(""));return function(d){return format(prefix.scale(d))+prefix.symbol}}if(!match[7])match[7]="."+d3_scale_linearFormatPrecision(match[8],range);format=match.join("")}else{format=",."+d3_scale_linearPrecision(range[2])+"f"}return d3.format(format)}var d3_scale_linearFormatSignificant={s:1,g:1,p:1,r:1,e:1};function d3_scale_linearPrecision(value){return-Math.floor(Math.log(value)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(type,range){var p=d3_scale_linearPrecision(range[2]);return type in d3_scale_linearFormatSignificant?Math.abs(p-d3_scale_linearPrecision(Math.max(abs(range[0]),abs(range[1]))))+ +(type!=="e"):p-(type==="%")*2}d3.scale.log=function(){return d3_scale_log(d3.scale.linear().domain([0,1]),10,true,[1,10])};function d3_scale_log(linear,base,positive,domain){function log(x){return(positive?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(base)}function pow(x){return positive?Math.pow(base,x):-Math.pow(base,-x)}function scale(x){return linear(log(x))}scale.invert=function(x){return pow(linear.invert(x))};scale.domain=function(x){if(!arguments.length)return domain;positive=x[0]>=0;linear.domain((domain=x.map(Number)).map(log));return scale};scale.base=function(_){if(!arguments.length)return base;base=+_;linear.domain(domain.map(log));return scale};scale.nice=function(){var niced=d3_scale_nice(domain.map(log),positive?Math:d3_scale_logNiceNegative);linear.domain(niced);domain=niced.map(pow);return scale};scale.ticks=function(){var extent=d3_scaleExtent(domain),ticks=[],u=extent[0],v=extent[1],i=Math.floor(log(u)),j=Math.ceil(log(v)),n=base%1?2:base;if(isFinite(j-i)){if(positive){for(;i<j;i++)for(var k=1;k<n;k++)ticks.push(pow(i)*k);ticks.push(pow(i))}else{ticks.push(pow(i));for(;i++<j;)for(var k=n-1;k>0;k--)ticks.push(pow(i)*k)}for(i=0;ticks[i]<u;i++){}for(j=ticks.length;ticks[j-1]>v;j--){}ticks=ticks.slice(i,j)}return ticks};scale.tickFormat=function(n,format){if(!arguments.length)return d3_scale_logFormat;if(arguments.length<2)format=d3_scale_logFormat;else if(typeof format!=="function")format=d3.format(format);var k=Math.max(1,base*n/scale.ticks().length);return function(d){var i=d/pow(Math.round(log(d)));if(i*base<base-.5)i*=base;return i<=k?format(d):""}};scale.copy=function(){return d3_scale_log(linear.copy(),base,positive,domain)};return d3_scale_linearRebind(scale,linear)}var d3_scale_logFormat=d3.format(".0e"),d3_scale_logNiceNegative={floor:function(x){return-Math.ceil(-x)},ceil:function(x){return-Math.floor(-x)}};d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1,[0,1])};function d3_scale_pow(linear,exponent,domain){var powp=d3_scale_powPow(exponent),powb=d3_scale_powPow(1/exponent);function scale(x){return linear(powp(x))}scale.invert=function(x){return powb(linear.invert(x))};scale.domain=function(x){if(!arguments.length)return domain;linear.domain((domain=x.map(Number)).map(powp));return scale};scale.ticks=function(m){return d3_scale_linearTicks(domain,m)};scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)};scale.nice=function(m){return scale.domain(d3_scale_linearNice(domain,m))};scale.exponent=function(x){if(!arguments.length)return exponent;powp=d3_scale_powPow(exponent=x);powb=d3_scale_powPow(1/exponent);linear.domain(domain.map(powp));return scale};scale.copy=function(){return d3_scale_pow(linear.copy(),exponent,domain)};return d3_scale_linearRebind(scale,linear)}function d3_scale_powPow(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e)}}d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)};d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})};function d3_scale_ordinal(domain,ranger){var index,range,rangeBand;function scale(x){return range[((index.get(x)||(ranger.t==="range"?index.set(x,domain.push(x)):NaN))-1)%range.length]}function steps(start,step){return d3.range(domain.length).map((function(i){return start+step*i}))}scale.domain=function(x){if(!arguments.length)return domain;domain=[];index=new d3_Map;var i=-1,n=x.length,xi;while(++i<n)if(!index.has(xi=x[i]))index.set(xi,domain.push(xi));return scale[ranger.t].apply(scale,ranger.a)};scale.range=function(x){if(!arguments.length)return range;range=x;rangeBand=0;ranger={t:"range",a:arguments};return scale};scale.rangePoints=function(x,padding){if(arguments.length<2)padding=0;var start=x[0],stop=x[1],step=domain.length<2?(start=(start+stop)/2,0):(stop-start)/(domain.length-1+padding);range=steps(start+step*padding/2,step);rangeBand=0;ranger={t:"rangePoints",a:arguments};return scale};scale.rangeRoundPoints=function(x,padding){if(arguments.length<2)padding=0;var start=x[0],stop=x[1],step=domain.length<2?(start=stop=Math.round((start+stop)/2),0):(stop-start)/(domain.length-1+padding)|0;range=steps(start+Math.round(step*padding/2+(stop-start-(domain.length-1+padding)*step)/2),step);rangeBand=0;ranger={t:"rangeRoundPoints",a:arguments};return scale};scale.rangeBands=function(x,padding,outerPadding){if(arguments.length<2)padding=0;if(arguments.length<3)outerPadding=padding;var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=(stop-start)/(domain.length-padding+2*outerPadding);range=steps(start+step*outerPadding,step);if(reverse)range.reverse();rangeBand=step*(1-padding);ranger={t:"rangeBands",a:arguments};return scale};scale.rangeRoundBands=function(x,padding,outerPadding){if(arguments.length<2)padding=0;if(arguments.length<3)outerPadding=padding;var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=Math.floor((stop-start)/(domain.length-padding+2*outerPadding));range=steps(start+Math.round((stop-start-(domain.length-padding)*step)/2),step);if(reverse)range.reverse();rangeBand=Math.round(step*(1-padding));ranger={t:"rangeRoundBands",a:arguments};return scale};scale.rangeBand=function(){return rangeBand};scale.rangeExtent=function(){return d3_scaleExtent(ranger.a[0])};scale.copy=function(){return d3_scale_ordinal(domain,ranger)};return scale.domain(domain)}d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)};d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)};d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)};d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString);var d3_category20=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString);var d3_category20b=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString);var d3_category20c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);d3.scale.quantile=function(){return d3_scale_quantile([],[])};function d3_scale_quantile(domain,range){var thresholds;function rescale(){var k=0,q=range.length;thresholds=[];while(++k<q)thresholds[k-1]=d3.quantile(domain,k/q);return scale}function scale(x){if(!isNaN(x=+x))return range[d3.bisect(thresholds,x)]}scale.domain=function(x){if(!arguments.length)return domain;domain=x.map(d3_number).filter(d3_numeric).sort(d3_ascending);return rescale()};scale.range=function(x){if(!arguments.length)return range;range=x;return rescale()};scale.quantiles=function(){return thresholds};scale.invertExtent=function(y){y=range.indexOf(y);return y<0?[NaN,NaN]:[y>0?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]};scale.copy=function(){return d3_scale_quantile(domain,range)};return rescale()}d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])};function d3_scale_quantize(x0,x1,range){var kx,i;function scale(x){return range[Math.max(0,Math.min(i,Math.floor(kx*(x-x0))))]}function rescale(){kx=range.length/(x1-x0);i=range.length-1;return scale}scale.domain=function(x){if(!arguments.length)return[x0,x1];x0=+x[0];x1=+x[x.length-1];return rescale()};scale.range=function(x){if(!arguments.length)return range;range=x;return rescale()};scale.invertExtent=function(y){y=range.indexOf(y);y=y<0?NaN:y/kx+x0;return[y,y+1/kx]};scale.copy=function(){return d3_scale_quantize(x0,x1,range)};return rescale()}d3.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])};function d3_scale_threshold(domain,range){function scale(x){if(x<=x)return range[d3.bisect(domain,x)]}scale.domain=function(_){if(!arguments.length)return domain;domain=_;return scale};scale.range=function(_){if(!arguments.length)return range;range=_;return scale};scale.invertExtent=function(y){y=range.indexOf(y);return[domain[y-1],domain[y]]};scale.copy=function(){return d3_scale_threshold(domain,range)};return scale}d3.scale.identity=function(){return d3_scale_identity([0,1])};function d3_scale_identity(domain){function identity(x){return+x}identity.invert=identity;identity.domain=identity.range=function(x){if(!arguments.length)return domain;domain=x.map(identity);return identity};identity.ticks=function(m){return d3_scale_linearTicks(domain,m)};identity.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)};identity.copy=function(){return d3_scale_identity(domain)};return identity}d3.svg={};function d3_zero(){return 0}d3.svg.arc=function(){var innerRadius=d3_svg_arcInnerRadius,outerRadius=d3_svg_arcOuterRadius,cornerRadius=d3_zero,padRadius=d3_svg_arcAuto,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle,padAngle=d3_svg_arcPadAngle;function arc(){var r0=Math.max(0,+innerRadius.apply(this,arguments)),r1=Math.max(0,+outerRadius.apply(this,arguments)),a0=startAngle.apply(this,arguments)-halfπ,a1=endAngle.apply(this,arguments)-halfπ,da=Math.abs(a1-a0),cw=a0>a1?0:1;if(r1<r0)rc=r1,r1=r0,r0=rc;if(da>=τε)return circleSegment(r1,cw)+(r0?circleSegment(r0,1-cw):"")+"Z";var rc,cr,rp,ap,p0=0,p1=0,x0,y0,x1,y1,x2,y2,x3,y3,path=[];if(ap=(+padAngle.apply(this,arguments)||0)/2){rp=padRadius===d3_svg_arcAuto?Math.sqrt(r0*r0+r1*r1):+padRadius.apply(this,arguments);if(!cw)p1*=-1;if(r1)p1=d3_asin(rp/r1*Math.sin(ap));if(r0)p0=d3_asin(rp/r0*Math.sin(ap))}if(r1){x0=r1*Math.cos(a0+p1);y0=r1*Math.sin(a0+p1);x1=r1*Math.cos(a1-p1);y1=r1*Math.sin(a1-p1);var l1=Math.abs(a1-a0-2*p1)<=π?0:1;if(p1&&d3_svg_arcSweep(x0,y0,x1,y1)===cw^l1){var h1=(a0+a1)/2;x0=r1*Math.cos(h1);y0=r1*Math.sin(h1);x1=y1=null}}else{x0=y0=0}if(r0){x2=r0*Math.cos(a1-p0);y2=r0*Math.sin(a1-p0);x3=r0*Math.cos(a0+p0);y3=r0*Math.sin(a0+p0);var l0=Math.abs(a0-a1+2*p0)<=π?0:1;if(p0&&d3_svg_arcSweep(x2,y2,x3,y3)===1-cw^l0){var h0=(a0+a1)/2;x2=r0*Math.cos(h0);y2=r0*Math.sin(h0);x3=y3=null}}else{x2=y2=0}if(da>ε&&(rc=Math.min(Math.abs(r1-r0)/2,+cornerRadius.apply(this,arguments)))>.001){cr=r0<r1^cw?0:1;var rc1=rc,rc0=rc;if(da<π){var oc=x3==null?[x2,y2]:x1==null?[x0,y0]:d3_geom_polygonIntersect([x0,y0],[x3,y3],[x1,y1],[x2,y2]),ax=x0-oc[0],ay=y0-oc[1],bx=x1-oc[0],by=y1-oc[1],kc=1/Math.sin(Math.acos((ax*bx+ay*by)/(Math.sqrt(ax*ax+ay*ay)*Math.sqrt(bx*bx+by*by)))/2),lc=Math.sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=Math.min(rc,(r0-lc)/(kc-1));rc1=Math.min(rc,(r1-lc)/(kc+1))}if(x1!=null){var t30=d3_svg_arcCornerTangents(x3==null?[x2,y2]:[x3,y3],[x0,y0],r1,rc1,cw),t12=d3_svg_arcCornerTangents([x1,y1],[x2,y2],r1,rc1,cw);if(rc===rc1){path.push("M",t30[0],"A",rc1,",",rc1," 0 0,",cr," ",t30[1],"A",r1,",",r1," 0 ",1-cw^d3_svg_arcSweep(t30[1][0],t30[1][1],t12[1][0],t12[1][1]),",",cw," ",t12[1],"A",rc1,",",rc1," 0 0,",cr," ",t12[0])}else{path.push("M",t30[0],"A",rc1,",",rc1," 0 1,",cr," ",t12[0])}}else{path.push("M",x0,",",y0)}if(x3!=null){var t03=d3_svg_arcCornerTangents([x0,y0],[x3,y3],r0,-rc0,cw),t21=d3_svg_arcCornerTangents([x2,y2],x1==null?[x0,y0]:[x1,y1],r0,-rc0,cw);if(rc===rc0){path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t21[1],"A",r0,",",r0," 0 ",cw^d3_svg_arcSweep(t21[1][0],t21[1][1],t03[1][0],t03[1][1]),",",1-cw," ",t03[1],"A",rc0,",",rc0," 0 0,",cr," ",t03[0])}else{path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t03[0])}}else{path.push("L",x2,",",y2)}}else{path.push("M",x0,",",y0);if(x1!=null)path.push("A",r1,",",r1," 0 ",l1,",",cw," ",x1,",",y1);path.push("L",x2,",",y2);if(x3!=null)path.push("A",r0,",",r0," 0 ",l0,",",1-cw," ",x3,",",y3)}path.push("Z");return path.join("")}function circleSegment(r1,cw){return"M0,"+r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+-r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+r1}arc.innerRadius=function(v){if(!arguments.length)return innerRadius;innerRadius=d3_functor(v);return arc};arc.outerRadius=function(v){if(!arguments.length)return outerRadius;outerRadius=d3_functor(v);return arc};arc.cornerRadius=function(v){if(!arguments.length)return cornerRadius;cornerRadius=d3_functor(v);return arc};arc.padRadius=function(v){if(!arguments.length)return padRadius;padRadius=v==d3_svg_arcAuto?d3_svg_arcAuto:d3_functor(v);return arc};arc.startAngle=function(v){if(!arguments.length)return startAngle;startAngle=d3_functor(v);return arc};arc.endAngle=function(v){if(!arguments.length)return endAngle;endAngle=d3_functor(v);return arc};arc.padAngle=function(v){if(!arguments.length)return padAngle;padAngle=d3_functor(v);return arc};arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-halfπ;return[Math.cos(a)*r,Math.sin(a)*r]};return arc};var d3_svg_arcAuto="auto";function d3_svg_arcInnerRadius(d){return d.innerRadius}function d3_svg_arcOuterRadius(d){return d.outerRadius}function d3_svg_arcStartAngle(d){return d.startAngle}function d3_svg_arcEndAngle(d){return d.endAngle}function d3_svg_arcPadAngle(d){return d&&d.padAngle}function d3_svg_arcSweep(x0,y0,x1,y1){return(x0-x1)*y0-(y0-y1)*x0>0?0:1}function d3_svg_arcCornerTangents(p0,p1,r1,rc,cw){var x01=p0[0]-p1[0],y01=p0[1]-p1[1],lo=(cw?rc:-rc)/Math.sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x1=p0[0]+ox,y1=p0[1]+oy,x2=p1[0]+ox,y2=p1[1]+oy,x3=(x1+x2)/2,y3=(y1+y2)/2,dx=x2-x1,dy=y2-y1,d2=dx*dx+dy*dy,r=r1-rc,D=x1*y2-x2*y1,d=(dy<0?-1:1)*Math.sqrt(Math.max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x3,dy0=cy0-y3,dx1=cx1-x3,dy1=cy1-y3;if(dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1)cx0=cx1,cy0=cy1;return[[cx0-ox,cy0-oy],[cx0*r1/r,cy0*r1/r]]}function d3_svg_line(projection){var x=d3_geom_pointX,y=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,tension=.7;function line(data){var segments=[],points=[],i=-1,n=data.length,d,fx=d3_functor(x),fy=d3_functor(y);function segment(){segments.push("M",interpolate(projection(points),tension))}while(++i<n){if(defined.call(this,d=data[i],i)){points.push([+fx.call(this,d,i),+fy.call(this,d,i)])}else if(points.length){segment();points=[]}}if(points.length)segment();return segments.length?segments.join(""):null}line.x=function(_){if(!arguments.length)return x;x=_;return line};line.y=function(_){if(!arguments.length)return y;y=_;return line};line.defined=function(_){if(!arguments.length)return defined;defined=_;return line};line.interpolate=function(_){if(!arguments.length)return interpolateKey;if(typeof _==="function")interpolateKey=interpolate=_;else interpolateKey=(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key;return line};line.tension=function(_){if(!arguments.length)return tension;tension=_;return line};return line}d3.svg.line=function(){return d3_svg_line(d3_identity)};var d3_svg_lineInterpolators=d3.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});d3_svg_lineInterpolators.forEach((function(key,value){value.key=key;value.closed=/-closed$/.test(key)}));function d3_svg_lineLinear(points){return points.length>1?points.join("L"):points+"Z"}function d3_svg_lineLinearClosed(points){return points.join("L")+"Z"}function d3_svg_lineStep(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("H",(p[0]+(p=points[i])[0])/2,"V",p[1]);if(n>1)path.push("H",p[0]);return path.join("")}function d3_svg_lineStepBefore(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("V",(p=points[i])[1],"H",p[0]);return path.join("")}function d3_svg_lineStepAfter(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("H",(p=points[i])[0],"V",p[1]);return path.join("")}function d3_svg_lineCardinalOpen(points,tension){return points.length<4?d3_svg_lineLinear(points):points[1]+d3_svg_lineHermite(points.slice(1,-1),d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineCardinalClosed(points,tension){return points.length<3?d3_svg_lineLinearClosed(points):points[0]+d3_svg_lineHermite((points.push(points[0]),points),d3_svg_lineCardinalTangents([points[points.length-2]].concat(points,[points[1]]),tension))}function d3_svg_lineCardinal(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineHermite(points,tangents){if(tangents.length<1||points.length!=tangents.length&&points.length!=tangents.length+2){return d3_svg_lineLinear(points)}var quad=points.length!=tangents.length,path="",p0=points[0],p=points[1],t0=tangents[0],t=t0,pi=1;if(quad){path+="Q"+(p[0]-t0[0]*2/3)+","+(p[1]-t0[1]*2/3)+","+p[0]+","+p[1];p0=points[1];pi=2}if(tangents.length>1){t=tangents[1];p=points[pi];pi++;path+="C"+(p0[0]+t0[0])+","+(p0[1]+t0[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<tangents.length;i++,pi++){p=points[pi];t=tangents[i];path+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1]}}if(quad){var lp=points[pi];path+="Q"+(p[0]+t[0]*2/3)+","+(p[1]+t[1]*2/3)+","+lp[0]+","+lp[1]}return path}function d3_svg_lineCardinalTangents(points,tension){var tangents=[],a=(1-tension)/2,p0,p1=points[0],p2=points[1],i=1,n=points.length;while(++i<n){p0=p1;p1=p2;p2=points[i];tangents.push([a*(p2[0]-p0[0]),a*(p2[1]-p0[1])])}return tangents}function d3_svg_lineBasis(points){if(points.length<3)return d3_svg_lineLinear(points);var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py)}points.pop();path.push("L",pi);return path.join("")}function d3_svg_lineBasisOpen(points){if(points.length<4)return d3_svg_lineLinear(points);var path=[],i=-1,n=points.length,pi,px=[0],py=[0];while(++i<3){pi=points[i];px.push(pi[0]);py.push(pi[1])}path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3,px)+","+d3_svg_lineDot4(d3_svg_lineBasisBezier3,py));--i;while(++i<n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py)}return path.join("")}function d3_svg_lineBasisClosed(points){var path,i=-1,n=points.length,m=n+4,pi,px=[],py=[];while(++i<4){pi=points[i%n];px.push(pi[0]);py.push(pi[1])}path=[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];--i;while(++i<m){pi=points[i%n];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py)}return path.join("")}function d3_svg_lineBundle(points,tension){var n=points.length-1;if(n){var x0=points[0][0],y0=points[0][1],dx=points[n][0]-x0,dy=points[n][1]-y0,i=-1,p,t;while(++i<=n){p=points[i];t=i/n;p[0]=tension*p[0]+(1-tension)*(x0+t*dx);p[1]=tension*p[1]+(1-tension)*(y0+t*dy)}}return d3_svg_lineBasis(points)}function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y))}function d3_svg_lineSlope(p0,p1){return(p1[1]-p0[1])/(p1[0]-p0[0])}function d3_svg_lineFiniteDifferences(points){var i=0,j=points.length-1,m=[],p0=points[0],p1=points[1],d=m[0]=d3_svg_lineSlope(p0,p1);while(++i<j){m[i]=(d+(d=d3_svg_lineSlope(p0=p1,p1=points[i+1])))/2}m[i]=d;return m}function d3_svg_lineMonotoneTangents(points){var tangents=[],d,a,b,s,m=d3_svg_lineFiniteDifferences(points),i=-1,j=points.length-1;while(++i<j){d=d3_svg_lineSlope(points[i],points[i+1]);if(abs(d)<ε){m[i]=m[i+1]=0}else{a=m[i]/d;b=m[i+1]/d;s=a*a+b*b;if(s>9){s=d*3/Math.sqrt(s);m[i]=s*a;m[i+1]=s*b}}}i=-1;while(++i<=j){s=(points[Math.min(j,i+1)][0]-points[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i]));tangents.push([s||0,m[i]*s||0])}return tangents}function d3_svg_lineMonotone(points){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineMonotoneTangents(points))}d3.svg.line.radial=function(){var line=d3_svg_line(d3_svg_lineRadial);line.radius=line.x,delete line.x;line.angle=line.y,delete line.y;return line};function d3_svg_lineRadial(points){var point,i=-1,n=points.length,r,a;while(++i<n){point=points[i];r=point[0];a=point[1]-halfπ;point[0]=r*Math.cos(a);point[1]=r*Math.sin(a)}return points}function d3_svg_area(projection){var x0=d3_geom_pointX,x1=d3_geom_pointX,y0=0,y1=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,interpolateReverse=interpolate,L="L",tension=.7;function area(data){var segments=[],points0=[],points1=[],i=-1,n=data.length,d,fx0=d3_functor(x0),fy0=d3_functor(y0),fx1=x0===x1?function(){return x}:d3_functor(x1),fy1=y0===y1?function(){return y}:d3_functor(y1),x,y;function segment(){segments.push("M",interpolate(projection(points1),tension),L,interpolateReverse(projection(points0.reverse()),tension),"Z")}while(++i<n){if(defined.call(this,d=data[i],i)){points0.push([x=+fx0.call(this,d,i),y=+fy0.call(this,d,i)]);points1.push([+fx1.call(this,d,i),+fy1.call(this,d,i)])}else if(points0.length){segment();points0=[];points1=[]}}if(points0.length)segment();return segments.length?segments.join(""):null}area.x=function(_){if(!arguments.length)return x1;x0=x1=_;return area};area.x0=function(_){if(!arguments.length)return x0;x0=_;return area};area.x1=function(_){if(!arguments.length)return x1;x1=_;return area};area.y=function(_){if(!arguments.length)return y1;y0=y1=_;return area};area.y0=function(_){if(!arguments.length)return y0;y0=_;return area};area.y1=function(_){if(!arguments.length)return y1;y1=_;return area};area.defined=function(_){if(!arguments.length)return defined;defined=_;return area};area.interpolate=function(_){if(!arguments.length)return interpolateKey;if(typeof _==="function")interpolateKey=interpolate=_;else interpolateKey=(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key;interpolateReverse=interpolate.reverse||interpolate;L=interpolate.closed?"M":"L";return area};area.tension=function(_){if(!arguments.length)return tension;tension=_;return area};return area}d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter;d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore;d3.svg.area=function(){return d3_svg_area(d3_identity)};d3.svg.area.radial=function(){var area=d3_svg_area(d3_svg_lineRadial);area.radius=area.x,delete area.x;area.innerRadius=area.x0,delete area.x0;area.outerRadius=area.x1,delete area.x1;area.angle=area.y,delete area.y;area.startAngle=area.y0,delete area.y0;area.endAngle=area.y1,delete area.y1;return area};d3.svg.chord=function(){var source=d3_source,target=d3_target,radius=d3_svg_chordRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;function chord(d,i){var s=subgroup(this,source,d,i),t=subgroup(this,target,d,i);return"M"+s.p0+arc(s.r,s.p1,s.a1-s.a0)+(equals(s,t)?curve(s.r,s.p1,s.r,s.p0):curve(s.r,s.p1,t.r,t.p0)+arc(t.r,t.p1,t.a1-t.a0)+curve(t.r,t.p1,s.r,s.p0))+"Z"}function subgroup(self,f,d,i){var subgroup=f.call(self,d,i),r=radius.call(self,subgroup,i),a0=startAngle.call(self,subgroup,i)-halfπ,a1=endAngle.call(self,subgroup,i)-halfπ;return{r:r,a0:a0,a1:a1,p0:[r*Math.cos(a0),r*Math.sin(a0)],p1:[r*Math.cos(a1),r*Math.sin(a1)]}}function equals(a,b){return a.a0==b.a0&&a.a1==b.a1}function arc(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p}function curve(r0,p0,r1,p1){return"Q 0,0 "+p1}chord.radius=function(v){if(!arguments.length)return radius;radius=d3_functor(v);return chord};chord.source=function(v){if(!arguments.length)return source;source=d3_functor(v);return chord};chord.target=function(v){if(!arguments.length)return target;target=d3_functor(v);return chord};chord.startAngle=function(v){if(!arguments.length)return startAngle;startAngle=d3_functor(v);return chord};chord.endAngle=function(v){if(!arguments.length)return endAngle;endAngle=d3_functor(v);return chord};return chord};function d3_svg_chordRadius(d){return d.radius}d3.svg.diagonal=function(){var source=d3_source,target=d3_target,projection=d3_svg_diagonalProjection;function diagonal(d,i){var p0=source.call(this,d,i),p3=target.call(this,d,i),m=(p0.y+p3.y)/2,p=[p0,{x:p0.x,y:m},{x:p3.x,y:m},p3];p=p.map(projection);return"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}diagonal.source=function(x){if(!arguments.length)return source;source=d3_functor(x);return diagonal};diagonal.target=function(x){if(!arguments.length)return target;target=d3_functor(x);return diagonal};diagonal.projection=function(x){if(!arguments.length)return projection;projection=x;return diagonal};return diagonal};function d3_svg_diagonalProjection(d){return[d.x,d.y]}d3.svg.diagonal.radial=function(){var diagonal=d3.svg.diagonal(),projection=d3_svg_diagonalProjection,projection_=diagonal.projection;diagonal.projection=function(x){return arguments.length?projection_(d3_svg_diagonalRadialProjection(projection=x)):projection};return diagonal};function d3_svg_diagonalRadialProjection(projection){return function(){var d=projection.apply(this,arguments),r=d[0],a=d[1]-halfπ;return[r*Math.cos(a),r*Math.sin(a)]}}d3.svg.symbol=function(){var type=d3_svg_symbolType,size=d3_svg_symbolSize;function symbol(d,i){return(d3_svg_symbols.get(type.call(this,d,i))||d3_svg_symbolCircle)(size.call(this,d,i))}symbol.type=function(x){if(!arguments.length)return type;type=d3_functor(x);return symbol};symbol.size=function(x){if(!arguments.length)return size;size=d3_functor(x);return symbol};return symbol};function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(size){var r=Math.sqrt(size/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z"}var d3_svg_symbols=d3.map({circle:d3_svg_symbolCircle,cross:function(size){var r=Math.sqrt(size/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z"},diamond:function(size){var ry=Math.sqrt(size/(2*d3_svg_symbolTan30)),rx=ry*d3_svg_symbolTan30;return"M0,"+-ry+"L"+rx+",0"+" 0,"+ry+" "+-rx+",0"+"Z"},square:function(size){var r=Math.sqrt(size)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z"},"triangle-down":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ry+"L"+rx+","+-ry+" "+-rx+","+-ry+"Z"},"triangle-up":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+-ry+"L"+rx+","+ry+" "+-rx+","+ry+"Z"}});d3.svg.symbolTypes=d3_svg_symbols.keys();var d3_svg_symbolSqrt3=Math.sqrt(3),d3_svg_symbolTan30=Math.tan(30*d3_radians);d3_selectionPrototype.transition=function(name){var id=d3_transitionInheritId||++d3_transitionId,ns=d3_transitionNamespace(name),subgroups=[],subgroup,node,transition=d3_transitionInherit||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250};for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;){if(node=group[i])d3_transitionNode(node,i,ns,id,transition);subgroup.push(node)}}return d3_transition(subgroups,ns,id)};d3_selectionPrototype.interrupt=function(name){return this.each(name==null?d3_selection_interrupt:d3_selection_interruptNS(d3_transitionNamespace(name)))};var d3_selection_interrupt=d3_selection_interruptNS(d3_transitionNamespace());function d3_selection_interruptNS(ns){return function(){var lock,activeId,active;if((lock=this[ns])&&(active=lock[activeId=lock.active])){active.timer.c=null;active.timer.t=NaN;if(--lock.count)delete lock[activeId];else delete this[ns];lock.active+=.5;active.event&&active.event.interrupt.call(this,this.__data__,active.index)}}}function d3_transition(groups,ns,id){d3_subclass(groups,d3_transitionPrototype);groups.namespace=ns;groups.id=id;return groups}var d3_transitionPrototype=[],d3_transitionId=0,d3_transitionInheritId,d3_transitionInherit;d3_transitionPrototype.call=d3_selectionPrototype.call;d3_transitionPrototype.empty=d3_selectionPrototype.empty;d3_transitionPrototype.node=d3_selectionPrototype.node;d3_transitionPrototype.size=d3_selectionPrototype.size;d3.transition=function(selection,name){return selection&&selection.transition?d3_transitionInheritId?selection.transition(name):selection:d3.selection().transition(selection)};d3.transition.prototype=d3_transitionPrototype;d3_transitionPrototype.select=function(selector){var id=this.id,ns=this.namespace,subgroups=[],subgroup,subnode,node;selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;){if((node=group[i])&&(subnode=selector.call(node,node.__data__,i,j))){if("__data__"in node)subnode.__data__=node.__data__;d3_transitionNode(subnode,i,ns,id,node[ns][id]);subgroup.push(subnode)}else{subgroup.push(null)}}}return d3_transition(subgroups,ns,id)};d3_transitionPrototype.selectAll=function(selector){var id=this.id,ns=this.namespace,subgroups=[],subgroup,subnodes,node,subnode,transition;selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;){for(var group=this[j],i=-1,n=group.length;++i<n;){if(node=group[i]){transition=node[ns][id];subnodes=selector.call(node,node.__data__,i,j);subgroups.push(subgroup=[]);for(var k=-1,o=subnodes.length;++k<o;){if(subnode=subnodes[k])d3_transitionNode(subnode,k,ns,id,transition);subgroup.push(subnode)}}}}return d3_transition(subgroups,ns,id)};d3_transitionPrototype.filter=function(filter){var subgroups=[],subgroup,group,node;if(typeof filter!=="function")filter=d3_selection_filter(filter);for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++){if((node=group[i])&&filter.call(node,node.__data__,i,j)){subgroup.push(node)}}}return d3_transition(subgroups,this.namespace,this.id)};d3_transitionPrototype.tween=function(name,tween){var id=this.id,ns=this.namespace;if(arguments.length<2)return this.node()[ns][id].tween.get(name);return d3_selection_each(this,tween==null?function(node){node[ns][id].tween.remove(name)}:function(node){node[ns][id].tween.set(name,tween)})};function d3_transition_tween(groups,name,value,tween){var id=groups.id,ns=groups.namespace;return d3_selection_each(groups,typeof value==="function"?function(node,i,j){node[ns][id].tween.set(name,tween(value.call(node,node.__data__,i,j)))}:(value=tween(value),function(node){node[ns][id].tween.set(name,value)}))}d3_transitionPrototype.attr=function(nameNS,value){if(arguments.length<2){for(value in nameNS)this.attr(value,nameNS[value]);return this}var interpolate=nameNS=="transform"?d3_interpolateTransform:d3_interpolate,name=d3.ns.qualify(nameNS);function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrTween(b){return b==null?attrNull:(b+="",function(){var a=this.getAttribute(name),i;return a!==b&&(i=interpolate(a,b),function(t){this.setAttribute(name,i(t))})})}function attrTweenNS(b){return b==null?attrNullNS:(b+="",function(){var a=this.getAttributeNS(name.space,name.local),i;return a!==b&&(i=interpolate(a,b),function(t){this.setAttributeNS(name.space,name.local,i(t))})})}return d3_transition_tween(this,"attr."+nameNS,value,name.local?attrTweenNS:attrTween)};d3_transitionPrototype.attrTween=function(nameNS,tween){var name=d3.ns.qualify(nameNS);function attrTween(d,i){var f=tween.call(this,d,i,this.getAttribute(name));return f&&function(t){this.setAttribute(name,f(t))}}function attrTweenNS(d,i){var f=tween.call(this,d,i,this.getAttributeNS(name.space,name.local));return f&&function(t){this.setAttributeNS(name.space,name.local,f(t))}}return this.tween("attr."+nameNS,name.local?attrTweenNS:attrTween)};d3_transitionPrototype.style=function(name,value,priority){var n=arguments.length;if(n<3){if(typeof name!=="string"){if(n<2)value="";for(priority in name)this.style(priority,name[priority],value);return this}priority=""}function styleNull(){this.style.removeProperty(name)}function styleString(b){return b==null?styleNull:(b+="",function(){var a=d3_window(this).getComputedStyle(this,null).getPropertyValue(name),i;return a!==b&&(i=d3_interpolate(a,b),function(t){this.style.setProperty(name,i(t),priority)})})}return d3_transition_tween(this,"style."+name,value,styleString)};d3_transitionPrototype.styleTween=function(name,tween,priority){if(arguments.length<3)priority="";function styleTween(d,i){var f=tween.call(this,d,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(name));return f&&function(t){this.style.setProperty(name,f(t),priority)}}return this.tween("style."+name,styleTween)};d3_transitionPrototype.text=function(value){return d3_transition_tween(this,"text",value,d3_transition_text)};function d3_transition_text(b){if(b==null)b="";return function(){this.textContent=b}}d3_transitionPrototype.remove=function(){var ns=this.namespace;return this.each("end.transition",(function(){var p;if(this[ns].count<2&&(p=this.parentNode))p.removeChild(this)}))};d3_transitionPrototype.ease=function(value){var id=this.id,ns=this.namespace;if(arguments.length<1)return this.node()[ns][id].ease;if(typeof value!=="function")value=d3.ease.apply(d3,arguments);return d3_selection_each(this,(function(node){node[ns][id].ease=value}))};d3_transitionPrototype.delay=function(value){var id=this.id,ns=this.namespace;if(arguments.length<1)return this.node()[ns][id].delay;return d3_selection_each(this,typeof value==="function"?function(node,i,j){node[ns][id].delay=+value.call(node,node.__data__,i,j)}:(value=+value,function(node){node[ns][id].delay=value}))};d3_transitionPrototype.duration=function(value){var id=this.id,ns=this.namespace;if(arguments.length<1)return this.node()[ns][id].duration;return d3_selection_each(this,typeof value==="function"?function(node,i,j){node[ns][id].duration=Math.max(1,value.call(node,node.__data__,i,j))}:(value=Math.max(1,value),function(node){node[ns][id].duration=value}))};d3_transitionPrototype.each=function(type,listener){var id=this.id,ns=this.namespace;if(arguments.length<2){var inherit=d3_transitionInherit,inheritId=d3_transitionInheritId;try{d3_transitionInheritId=id;d3_selection_each(this,(function(node,i,j){d3_transitionInherit=node[ns][id];type.call(node,node.__data__,i,j)}))}finally{d3_transitionInherit=inherit;d3_transitionInheritId=inheritId}}else{d3_selection_each(this,(function(node){var transition=node[ns][id];(transition.event||(transition.event=d3.dispatch("start","end","interrupt"))).on(type,listener)}))}return this};d3_transitionPrototype.transition=function(){var id0=this.id,id1=++d3_transitionId,ns=this.namespace,subgroups=[],subgroup,group,node,transition;for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++){if(node=group[i]){transition=node[ns][id0];d3_transitionNode(node,i,ns,id1,{time:transition.time,ease:transition.ease,delay:transition.delay+transition.duration,duration:transition.duration})}subgroup.push(node)}}return d3_transition(subgroups,ns,id1)};function d3_transitionNamespace(name){return name==null?"__transition__":"__transition_"+name+"__"}function d3_transitionNode(node,i,ns,id,inherit){var lock=node[ns]||(node[ns]={active:0,count:0}),transition=lock[id],time,timer,duration,ease,tweens;function schedule(elapsed){var delay=transition.delay;timer.t=delay+time;if(delay<=elapsed)return start(elapsed-delay);timer.c=start}function start(elapsed){var activeId=lock.active,active=lock[activeId];if(active){active.timer.c=null;active.timer.t=NaN;--lock.count;delete lock[activeId];active.event&&active.event.interrupt.call(node,node.__data__,active.index)}for(var cancelId in lock){if(+cancelId<id){var cancel=lock[cancelId];cancel.timer.c=null;cancel.timer.t=NaN;--lock.count;delete lock[cancelId]}}timer.c=tick;d3_timer((function(){if(timer.c&&tick(elapsed||1)){timer.c=null;timer.t=NaN}return 1}),0,time);lock.active=id;transition.event&&transition.event.start.call(node,node.__data__,i);tweens=[];transition.tween.forEach((function(key,value){if(value=value.call(node,node.__data__,i)){tweens.push(value)}}));ease=transition.ease;duration=transition.duration}function tick(elapsed){var t=elapsed/duration,e=ease(t),n=tweens.length;while(n>0){tweens[--n].call(node,e)}if(t>=1){transition.event&&transition.event.end.call(node,node.__data__,i);if(--lock.count)delete lock[id];else delete node[ns];return 1}}if(!transition){time=inherit.time;timer=d3_timer(schedule,0,time);transition=lock[id]={tween:new d3_Map,time:time,timer:timer,delay:inherit.delay,duration:inherit.duration,ease:inherit.ease,index:i};inherit=null;++lock.count}}d3.svg.axis=function(){var scale=d3.scale.linear(),orient=d3_svg_axisDefaultOrient,innerTickSize=6,outerTickSize=6,tickPadding=3,tickArguments_=[10],tickValues=null,tickFormat_;function axis(g){g.each((function(){var g=d3.select(this);var scale0=this.__chart__||scale,scale1=this.__chart__=scale.copy();var ticks=tickValues==null?scale1.ticks?scale1.ticks.apply(scale1,tickArguments_):scale1.domain():tickValues,tickFormat=tickFormat_==null?scale1.tickFormat?scale1.tickFormat.apply(scale1,tickArguments_):d3_identity:tickFormat_,tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),tickExit=d3.transition(tick.exit()).style("opacity",ε).remove(),tickUpdate=d3.transition(tick.order()).style("opacity",1),tickSpacing=Math.max(innerTickSize,0)+tickPadding,tickTransform;var range=d3_scaleRange(scale1),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),d3.transition(path));tickEnter.append("line");tickEnter.append("text");var lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),text=tick.select("text").text(tickFormat),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text"),sign=orient==="top"||orient==="left"?-1:1,x1,x2,y1,y2;if(orient==="bottom"||orient==="top"){tickTransform=d3_svg_axisX,x1="x",y1="y",x2="x2",y2="y2";text.attr("dy",sign<0?"0em":".71em").style("text-anchor","middle");pathUpdate.attr("d","M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize)}else{tickTransform=d3_svg_axisY,x1="y",y1="x",x2="y2",y2="x2";text.attr("dy",".32em").style("text-anchor",sign<0?"end":"start");pathUpdate.attr("d","M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize)}lineEnter.attr(y2,sign*innerTickSize);textEnter.attr(y1,sign*tickSpacing);lineUpdate.attr(x2,0).attr(y2,sign*innerTickSize);textUpdate.attr(x1,0).attr(y1,sign*tickSpacing);if(scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else if(scale0.rangeBand){scale0=scale1}else{tickExit.call(tickTransform,scale1,scale0)}tickEnter.call(tickTransform,scale0,scale1);tickUpdate.call(tickTransform,scale1,scale1)}))}axis.scale=function(x){if(!arguments.length)return scale;scale=x;return axis};axis.orient=function(x){if(!arguments.length)return orient;orient=x in d3_svg_axisOrients?x+"":d3_svg_axisDefaultOrient;return axis};axis.ticks=function(){if(!arguments.length)return tickArguments_;tickArguments_=d3_array(arguments);return axis};axis.tickValues=function(x){if(!arguments.length)return tickValues;tickValues=x;return axis};axis.tickFormat=function(x){if(!arguments.length)return tickFormat_;tickFormat_=x;return axis};axis.tickSize=function(x){var n=arguments.length;if(!n)return innerTickSize;innerTickSize=+x;outerTickSize=+arguments[n-1];return axis};axis.innerTickSize=function(x){if(!arguments.length)return innerTickSize;innerTickSize=+x;return axis};axis.outerTickSize=function(x){if(!arguments.length)return outerTickSize;outerTickSize=+x;return axis};axis.tickPadding=function(x){if(!arguments.length)return tickPadding;tickPadding=+x;return axis};axis.tickSubdivide=function(){return arguments.length&&axis};return axis};var d3_svg_axisDefaultOrient="bottom",d3_svg_axisOrients={top:1,right:1,bottom:1,left:1};function d3_svg_axisX(selection,x0,x1){selection.attr("transform",(function(d){var v0=x0(d);return"translate("+(isFinite(v0)?v0:x1(d))+",0)"}))}function d3_svg_axisY(selection,y0,y1){selection.attr("transform",(function(d){var v0=y0(d);return"translate(0,"+(isFinite(v0)?v0:y1(d))+")"}))}d3.svg.brush=function(){var event=d3_eventDispatch(brush,"brushstart","brush","brushend"),x=null,y=null,xExtent=[0,0],yExtent=[0,0],xExtentDomain,yExtentDomain,xClamp=true,yClamp=true,resizes=d3_svg_brushResizes[0];function brush(g){g.each((function(){var g=d3.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart);var background=g.selectAll(".background").data([0]);background.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var resize=g.selectAll(".resize").data(resizes,d3_identity);resize.exit().remove();resize.enter().append("g").attr("class",(function(d){return"resize "+d})).style("cursor",(function(d){return d3_svg_brushCursor[d]})).append("rect").attr("x",(function(d){return/[ew]$/.test(d)?-3:null})).attr("y",(function(d){return/^[ns]/.test(d)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden");resize.style("display",brush.empty()?"none":null);var gUpdate=d3.transition(g),backgroundUpdate=d3.transition(background),range;if(x){range=d3_scaleRange(x);backgroundUpdate.attr("x",range[0]).attr("width",range[1]-range[0]);redrawX(gUpdate)}if(y){range=d3_scaleRange(y);backgroundUpdate.attr("y",range[0]).attr("height",range[1]-range[0]);redrawY(gUpdate)}redraw(gUpdate)}))}brush.event=function(g){g.each((function(){var event_=event.of(this,arguments),extent1={x:xExtent,y:yExtent,i:xExtentDomain,j:yExtentDomain},extent0=this.__chart__||extent1;this.__chart__=extent1;if(d3_transitionInheritId){d3.select(this).transition().each("start.brush",(function(){xExtentDomain=extent0.i;yExtentDomain=extent0.j;xExtent=extent0.x;yExtent=extent0.y;event_({type:"brushstart"})})).tween("brush:brush",(function(){var xi=d3_interpolateArray(xExtent,extent1.x),yi=d3_interpolateArray(yExtent,extent1.y);xExtentDomain=yExtentDomain=null;return function(t){xExtent=extent1.x=xi(t);yExtent=extent1.y=yi(t);event_({type:"brush",mode:"resize"})}})).each("end.brush",(function(){xExtentDomain=extent1.i;yExtentDomain=extent1.j;event_({type:"brush",mode:"resize"});event_({type:"brushend"})}))}else{event_({type:"brushstart"});event_({type:"brush",mode:"resize"});event_({type:"brushend"})}}))};function redraw(g){g.selectAll(".resize").attr("transform",(function(d){return"translate("+xExtent[+/e$/.test(d)]+","+yExtent[+/^s/.test(d)]+")"}))}function redrawX(g){g.select(".extent").attr("x",xExtent[0]);g.selectAll(".extent,.n>rect,.s>rect").attr("width",xExtent[1]-xExtent[0])}function redrawY(g){g.select(".extent").attr("y",yExtent[0]);g.selectAll(".extent,.e>rect,.w>rect").attr("height",yExtent[1]-yExtent[0])}function brushstart(){var target=this,eventTarget=d3.select(d3.event.target),event_=event.of(target,arguments),g=d3.select(target),resizing=eventTarget.datum(),resizingX=!/^(n|s)$/.test(resizing)&&x,resizingY=!/^(e|w)$/.test(resizing)&&y,dragging=eventTarget.classed("extent"),dragRestore=d3_event_dragSuppress(target),center,origin=d3.mouse(target),offset;var w=d3.select(d3_window(target)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(d3.event.changedTouches){w.on("touchmove.brush",brushmove).on("touchend.brush",brushend)}else{w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend)}g.interrupt().selectAll("*").interrupt();if(dragging){origin[0]=xExtent[0]-origin[0];origin[1]=yExtent[0]-origin[1]}else if(resizing){var ex=+/w$/.test(resizing),ey=+/^n/.test(resizing);offset=[xExtent[1-ex]-origin[0],yExtent[1-ey]-origin[1]];origin[0]=xExtent[ex];origin[1]=yExtent[ey]}else if(d3.event.altKey)center=origin.slice();g.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",eventTarget.style("cursor"));event_({type:"brushstart"});brushmove();function keydown(){if(d3.event.keyCode==32){if(!dragging){center=null;origin[0]-=xExtent[1];origin[1]-=yExtent[1];dragging=2}d3_eventPreventDefault()}}function keyup(){if(d3.event.keyCode==32&&dragging==2){origin[0]+=xExtent[1];origin[1]+=yExtent[1];dragging=0;d3_eventPreventDefault()}}function brushmove(){var point=d3.mouse(target),moved=false;if(offset){point[0]+=offset[0];point[1]+=offset[1]}if(!dragging){if(d3.event.altKey){if(!center)center=[(xExtent[0]+xExtent[1])/2,(yExtent[0]+yExtent[1])/2];origin[0]=xExtent[+(point[0]<center[0])];origin[1]=yExtent[+(point[1]<center[1])]}else center=null}if(resizingX&&move1(point,x,0)){redrawX(g);moved=true}if(resizingY&&move1(point,y,1)){redrawY(g);moved=true}if(moved){redraw(g);event_({type:"brush",mode:dragging?"move":"resize"})}}function move1(point,scale,i){var range=d3_scaleRange(scale),r0=range[0],r1=range[1],position=origin[i],extent=i?yExtent:xExtent,size=extent[1]-extent[0],min,max;if(dragging){r0-=position;r1-=size+position}min=(i?yClamp:xClamp)?Math.max(r0,Math.min(r1,point[i])):point[i];if(dragging){max=(min+=position)+size}else{if(center)position=Math.max(r0,Math.min(r1,2*center[i]-min));if(position<min){max=min;min=position}else{max=position}}if(extent[0]!=min||extent[1]!=max){if(i)yExtentDomain=null;else xExtentDomain=null;extent[0]=min;extent[1]=max;return true}}function brushend(){brushmove();g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null);d3.select("body").style("cursor",null);w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);dragRestore();event_({type:"brushend"})}}brush.x=function(z){if(!arguments.length)return x;x=z;resizes=d3_svg_brushResizes[!x<<1|!y];return brush};brush.y=function(z){if(!arguments.length)return y;y=z;resizes=d3_svg_brushResizes[!x<<1|!y];return brush};brush.clamp=function(z){if(!arguments.length)return x&&y?[xClamp,yClamp]:x?xClamp:y?yClamp:null;if(x&&y)xClamp=!!z[0],yClamp=!!z[1];else if(x)xClamp=!!z;else if(y)yClamp=!!z;return brush};brush.extent=function(z){var x0,x1,y0,y1,t;if(!arguments.length){if(x){if(xExtentDomain){x0=xExtentDomain[0],x1=xExtentDomain[1]}else{x0=xExtent[0],x1=xExtent[1];if(x.invert)x0=x.invert(x0),x1=x.invert(x1);if(x1<x0)t=x0,x0=x1,x1=t}}if(y){if(yExtentDomain){y0=yExtentDomain[0],y1=yExtentDomain[1]}else{y0=yExtent[0],y1=yExtent[1];if(y.invert)y0=y.invert(y0),y1=y.invert(y1);if(y1<y0)t=y0,y0=y1,y1=t}}return x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1]}if(x){x0=z[0],x1=z[1];if(y)x0=x0[0],x1=x1[0];xExtentDomain=[x0,x1];if(x.invert)x0=x(x0),x1=x(x1);if(x1<x0)t=x0,x0=x1,x1=t;if(x0!=xExtent[0]||x1!=xExtent[1])xExtent=[x0,x1]}if(y){y0=z[0],y1=z[1];if(x)y0=y0[1],y1=y1[1];yExtentDomain=[y0,y1];if(y.invert)y0=y(y0),y1=y(y1);if(y1<y0)t=y0,y0=y1,y1=t;if(y0!=yExtent[0]||y1!=yExtent[1])yExtent=[y0,y1]}return brush};brush.clear=function(){if(!brush.empty()){xExtent=[0,0],yExtent=[0,0];xExtentDomain=yExtentDomain=null}return brush};brush.empty=function(){return!!x&&xExtent[0]==xExtent[1]||!!y&&yExtent[0]==yExtent[1]};return d3.rebind(brush,event,"on")};var d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var d3_svg_brushResizes=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var d3_time_format=d3_time.format=d3_locale_enUS.timeFormat;var d3_time_formatUtc=d3_time_format.utc;var d3_time_formatIso=d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");d3_time_format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:d3_time_formatIso;function d3_time_formatIsoNative(date){return date.toISOString()}d3_time_formatIsoNative.parse=function(string){var date=new Date(string);return isNaN(date)?null:date};d3_time_formatIsoNative.toString=d3_time_formatIso.toString;d3_time.second=d3_time_interval((function(date){return new d3_date(Math.floor(date/1e3)*1e3)}),(function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*1e3)}),(function(date){return date.getSeconds()}));d3_time.seconds=d3_time.second.range;d3_time.seconds.utc=d3_time.second.utc.range;d3_time.minute=d3_time_interval((function(date){return new d3_date(Math.floor(date/6e4)*6e4)}),(function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*6e4)}),(function(date){return date.getMinutes()}));d3_time.minutes=d3_time.minute.range;d3_time.minutes.utc=d3_time.minute.utc.range;d3_time.hour=d3_time_interval((function(date){var timezone=date.getTimezoneOffset()/60;return new d3_date((Math.floor(date/36e5-timezone)+timezone)*36e5)}),(function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*36e5)}),(function(date){return date.getHours()}));d3_time.hours=d3_time.hour.range;d3_time.hours.utc=d3_time.hour.utc.range;d3_time.month=d3_time_interval((function(date){date=d3_time.day(date);date.setDate(1);return date}),(function(date,offset){date.setMonth(date.getMonth()+offset)}),(function(date){return date.getMonth()}));d3_time.months=d3_time.month.range;d3_time.months.utc=d3_time.month.utc.range;function d3_time_scale(linear,methods,format){function scale(x){return linear(x)}scale.invert=function(x){return d3_time_scaleDate(linear.invert(x))};scale.domain=function(x){if(!arguments.length)return linear.domain().map(d3_time_scaleDate);linear.domain(x);return scale};function tickMethod(extent,count){var span=extent[1]-extent[0],target=span/count,i=d3.bisect(d3_time_scaleSteps,target);return i==d3_time_scaleSteps.length?[methods.year,d3_scale_linearTickRange(extent.map((function(d){return d/31536e6})),count)[2]]:!i?[d3_time_scaleMilliseconds,d3_scale_linearTickRange(extent,count)[2]]:methods[target/d3_time_scaleSteps[i-1]<d3_time_scaleSteps[i]/target?i-1:i]}scale.nice=function(interval,skip){var domain=scale.domain(),extent=d3_scaleExtent(domain),method=interval==null?tickMethod(extent,10):typeof interval==="number"&&tickMethod(extent,interval);if(method)interval=method[0],skip=method[1];function skipped(date){return!isNaN(date)&&!interval.range(date,d3_time_scaleDate(+date+1),skip).length}return scale.domain(d3_scale_nice(domain,skip>1?{floor:function(date){while(skipped(date=interval.floor(date)))date=d3_time_scaleDate(date-1);return date},ceil:function(date){while(skipped(date=interval.ceil(date)))date=d3_time_scaleDate(+date+1);return date}}:interval))};scale.ticks=function(interval,skip){var extent=d3_scaleExtent(scale.domain()),method=interval==null?tickMethod(extent,10):typeof interval==="number"?tickMethod(extent,interval):!interval.range&&[{range:interval},skip];if(method)interval=method[0],skip=method[1];return interval.range(extent[0],d3_time_scaleDate(+extent[1]+1),skip<1?1:skip)};scale.tickFormat=function(){return format};scale.copy=function(){return d3_time_scale(linear.copy(),methods,format)};return d3_scale_linearRebind(scale,linear)}function d3_time_scaleDate(t){return new Date(t)}var d3_time_scaleSteps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var d3_time_scaleLocalMethods=[[d3_time.second,1],[d3_time.second,5],[d3_time.second,15],[d3_time.second,30],[d3_time.minute,1],[d3_time.minute,5],[d3_time.minute,15],[d3_time.minute,30],[d3_time.hour,1],[d3_time.hour,3],[d3_time.hour,6],[d3_time.hour,12],[d3_time.day,1],[d3_time.day,2],[d3_time.week,1],[d3_time.month,1],[d3_time.month,3],[d3_time.year,1]];var d3_time_scaleLocalFormat=d3_time_format.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%a %d",function(d){return d.getDay()&&d.getDate()!=1}],["%b %d",function(d){return d.getDate()!=1}],["%B",function(d){return d.getMonth()}],["%Y",d3_true]]);var d3_time_scaleMilliseconds={range:function(start,stop,step){return d3.range(Math.ceil(start/step)*step,+stop,step).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};d3_time_scaleLocalMethods.year=d3_time.year;d3_time.scale=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleLocalMethods,d3_time_scaleLocalFormat)};var d3_time_scaleUtcMethods=d3_time_scaleLocalMethods.map((function(m){return[m[0].utc,m[1]]}));var d3_time_scaleUtcFormat=d3_time_formatUtc.multi([[".%L",function(d){return d.getUTCMilliseconds()}],[":%S",function(d){return d.getUTCSeconds()}],["%I:%M",function(d){return d.getUTCMinutes()}],["%I %p",function(d){return d.getUTCHours()}],["%a %d",function(d){return d.getUTCDay()&&d.getUTCDate()!=1}],["%b %d",function(d){return d.getUTCDate()!=1}],["%B",function(d){return d.getUTCMonth()}],["%Y",d3_true]]);d3_time_scaleUtcMethods.year=d3_time.year.utc;d3_time.scale.utc=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleUtcMethods,d3_time_scaleUtcFormat)};d3.text=d3_xhrType((function(request){return request.responseText}));d3.json=function(url,callback){return d3_xhr(url,"application/json",d3_json,callback)};function d3_json(request){return JSON.parse(request.responseText)}d3.html=function(url,callback){return d3_xhr(url,"text/html",d3_html,callback)};function d3_html(request){var range=d3_document.createRange();range.selectNode(d3_document.body);return range.createContextualFragment(request.responseText)}d3.xml=d3_xhrType((function(request){return request.responseXML}));if(true)this.d3=d3,!(__WEBPACK_AMD_DEFINE_FACTORY__=d3,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else{}}()},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(64);module.exports=Graph;var DEFAULT_EDGE_NAME="\0";var GRAPH_NODE="\0";var EDGE_KEY_DELIM="";function Graph(opts){this._isDirected=_.has(opts,"directed")?opts.directed:true;this._isMultigraph=_.has(opts,"multigraph")?opts.multigraph:false;this._isCompound=_.has(opts,"compound")?opts.compound:false;this._label=undefined;this._defaultNodeLabelFn=_.constant(undefined);this._defaultEdgeLabelFn=_.constant(undefined);this._nodes={};if(this._isCompound){this._parent={};this._children={};this._children[GRAPH_NODE]={}}this._in={};this._preds={};this._out={};this._sucs={};this._edgeObjs={};this._edgeLabels={}}Graph.prototype._nodeCount=0;Graph.prototype._edgeCount=0;Graph.prototype.isDirected=function(){return this._isDirected};Graph.prototype.isMultigraph=function(){return this._isMultigraph};Graph.prototype.isCompound=function(){return this._isCompound};Graph.prototype.setGraph=function(label){this._label=label;return this};Graph.prototype.graph=function(){return this._label};Graph.prototype.setDefaultNodeLabel=function(newDefault){if(!_.isFunction(newDefault)){newDefault=_.constant(newDefault)}this._defaultNodeLabelFn=newDefault;return this};Graph.prototype.nodeCount=function(){return this._nodeCount};Graph.prototype.nodes=function(){return _.keys(this._nodes)};Graph.prototype.sources=function(){var self=this;return _.filter(this.nodes(),(function(v){return _.isEmpty(self._in[v])}))};Graph.prototype.sinks=function(){var self=this;return _.filter(this.nodes(),(function(v){return _.isEmpty(self._out[v])}))};Graph.prototype.setNodes=function(vs,value){var args=arguments;var self=this;_.each(vs,(function(v){if(args.length>1){self.setNode(v,value)}else{self.setNode(v)}}));return this};Graph.prototype.setNode=function(v,value){if(_.has(this._nodes,v)){if(arguments.length>1){this._nodes[v]=value}return this}this._nodes[v]=arguments.length>1?value:this._defaultNodeLabelFn(v);if(this._isCompound){this._parent[v]=GRAPH_NODE;this._children[v]={};this._children[GRAPH_NODE][v]=true}this._in[v]={};this._preds[v]={};this._out[v]={};this._sucs[v]={};++this._nodeCount;return this};Graph.prototype.node=function(v){return this._nodes[v]};Graph.prototype.hasNode=function(v){return _.has(this._nodes,v)};Graph.prototype.removeNode=function(v){var self=this;if(_.has(this._nodes,v)){var removeEdge=function(e){self.removeEdge(self._edgeObjs[e])};delete this._nodes[v];if(this._isCompound){this._removeFromParentsChildList(v);delete this._parent[v];_.each(this.children(v),(function(child){self.setParent(child)}));delete this._children[v]}_.each(_.keys(this._in[v]),removeEdge);delete this._in[v];delete this._preds[v];_.each(_.keys(this._out[v]),removeEdge);delete this._out[v];delete this._sucs[v];--this._nodeCount}return this};Graph.prototype.setParent=function(v,parent){if(!this._isCompound){throw new Error("Cannot set parent in a non-compound graph")}if(_.isUndefined(parent)){parent=GRAPH_NODE}else{parent+="";for(var ancestor=parent;!_.isUndefined(ancestor);ancestor=this.parent(ancestor)){if(ancestor===v){throw new Error("Setting "+parent+" as parent of "+v+" would create a cycle")}}this.setNode(parent)}this.setNode(v);this._removeFromParentsChildList(v);this._parent[v]=parent;this._children[parent][v]=true;return this};Graph.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]};Graph.prototype.parent=function(v){if(this._isCompound){var parent=this._parent[v];if(parent!==GRAPH_NODE){return parent}}};Graph.prototype.children=function(v){if(_.isUndefined(v)){v=GRAPH_NODE}if(this._isCompound){var children=this._children[v];if(children){return _.keys(children)}}else if(v===GRAPH_NODE){return this.nodes()}else if(this.hasNode(v)){return[]}};Graph.prototype.predecessors=function(v){var predsV=this._preds[v];if(predsV){return _.keys(predsV)}};Graph.prototype.successors=function(v){var sucsV=this._sucs[v];if(sucsV){return _.keys(sucsV)}};Graph.prototype.neighbors=function(v){var preds=this.predecessors(v);if(preds){return _.union(preds,this.successors(v))}};Graph.prototype.isLeaf=function(v){var neighbors;if(this.isDirected()){neighbors=this.successors(v)}else{neighbors=this.neighbors(v)}return neighbors.length===0};Graph.prototype.filterNodes=function(filter){var copy=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});copy.setGraph(this.graph());var self=this;_.each(this._nodes,(function(value,v){if(filter(v)){copy.setNode(v,value)}}));_.each(this._edgeObjs,(function(e){if(copy.hasNode(e.v)&&copy.hasNode(e.w)){copy.setEdge(e,self.edge(e))}}));var parents={};function findParent(v){var parent=self.parent(v);if(parent===undefined||copy.hasNode(parent)){parents[v]=parent;return parent}else if(parent in parents){return parents[parent]}else{return findParent(parent)}}if(this._isCompound){_.each(copy.nodes(),(function(v){copy.setParent(v,findParent(v))}))}return copy};Graph.prototype.setDefaultEdgeLabel=function(newDefault){if(!_.isFunction(newDefault)){newDefault=_.constant(newDefault)}this._defaultEdgeLabelFn=newDefault;return this};Graph.prototype.edgeCount=function(){return this._edgeCount};Graph.prototype.edges=function(){return _.values(this._edgeObjs)};Graph.prototype.setPath=function(vs,value){var self=this;var args=arguments;_.reduce(vs,(function(v,w){if(args.length>1){self.setEdge(v,w,value)}else{self.setEdge(v,w)}return w}));return this};Graph.prototype.setEdge=function(){var v,w,name,value;var valueSpecified=false;var arg0=arguments[0];if(typeof arg0==="object"&&arg0!==null&&"v"in arg0){v=arg0.v;w=arg0.w;name=arg0.name;if(arguments.length===2){value=arguments[1];valueSpecified=true}}else{v=arg0;w=arguments[1];name=arguments[3];if(arguments.length>2){value=arguments[2];valueSpecified=true}}v=""+v;w=""+w;if(!_.isUndefined(name)){name=""+name}var e=edgeArgsToId(this._isDirected,v,w,name);if(_.has(this._edgeLabels,e)){if(valueSpecified){this._edgeLabels[e]=value}return this}if(!_.isUndefined(name)&&!this._isMultigraph){throw new Error("Cannot set a named edge when isMultigraph = false")}this.setNode(v);this.setNode(w);this._edgeLabels[e]=valueSpecified?value:this._defaultEdgeLabelFn(v,w,name);var edgeObj=edgeArgsToObj(this._isDirected,v,w,name);v=edgeObj.v;w=edgeObj.w;Object.freeze(edgeObj);this._edgeObjs[e]=edgeObj;incrementOrInitEntry(this._preds[w],v);incrementOrInitEntry(this._sucs[v],w);this._in[w][e]=edgeObj;this._out[v][e]=edgeObj;this._edgeCount++;return this};Graph.prototype.edge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return this._edgeLabels[e]};Graph.prototype.hasEdge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return _.has(this._edgeLabels,e)};Graph.prototype.removeEdge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);var edge=this._edgeObjs[e];if(edge){v=edge.v;w=edge.w;delete this._edgeLabels[e];delete this._edgeObjs[e];decrementOrRemoveEntry(this._preds[w],v);decrementOrRemoveEntry(this._sucs[v],w);delete this._in[w][e];delete this._out[v][e];this._edgeCount--}return this};Graph.prototype.inEdges=function(v,u){var inV=this._in[v];if(inV){var edges=_.values(inV);if(!u){return edges}return _.filter(edges,(function(edge){return edge.v===u}))}};Graph.prototype.outEdges=function(v,w){var outV=this._out[v];if(outV){var edges=_.values(outV);if(!w){return edges}return _.filter(edges,(function(edge){return edge.w===w}))}};Graph.prototype.nodeEdges=function(v,w){var inEdges=this.inEdges(v,w);if(inEdges){return inEdges.concat(this.outEdges(v,w))}};function incrementOrInitEntry(map,k){if(map[k]){map[k]++}else{map[k]=1}}function decrementOrRemoveEntry(map,k){if(!--map[k]){delete map[k]}}function edgeArgsToId(isDirected,v_,w_,name){var v=""+v_;var w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w;w=tmp}return v+EDGE_KEY_DELIM+w+EDGE_KEY_DELIM+(_.isUndefined(name)?DEFAULT_EDGE_NAME:name)}function edgeArgsToObj(isDirected,v_,w_,name){var v=""+v_;var w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w;w=tmp}var edgeObj={v:v,w:w};if(name){edgeObj.name=name}return edgeObj}function edgeObjToId(isDirected,edgeObj){return edgeArgsToId(isDirected,edgeObj.v,edgeObj.w,edgeObj.name)}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(84),root=__webpack_require__(69);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(568),mapCacheDelete=__webpack_require__(575),mapCacheGet=__webpack_require__(577),mapCacheHas=__webpack_require__(578),mapCacheSet=__webpack_require__(579);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports){function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}module.exports=arrayEach},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}module.exports=isLength},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(229);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(9)(module))},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(132),nativeKeys=__webpack_require__(585);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}module.exports=baseKeys},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(236),stubArray=__webpack_require__(237);var objectProto=Object.prototype;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)}))};module.exports=getSymbols},function(module,exports){function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}module.exports=arrayPush},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(242);function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}module.exports=cloneArrayBuffer},function(module,exports){function constant(value){return function(){return value}}module.exports=constant},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(177),keys=__webpack_require__(75);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}module.exports=baseForOwn},function(module,exports,__webpack_require__){var createBaseFor=__webpack_require__(604);var baseFor=createBaseFor();module.exports=baseFor},function(module,exports){function setToArray(set){var index=-1,result=Array(set.size);set.forEach((function(value){result[++index]=value}));return result}module.exports=setToArray},function(module,exports,__webpack_require__){var isArray=__webpack_require__(53),isSymbol=__webpack_require__(101);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(173),isFlattenable=__webpack_require__(638);function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}module.exports=baseFlatten},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(101);function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}module.exports=baseExtremum},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScaleUtils=exports.AxisUtils=exports.FlexibleHeightXYPlot=exports.FlexibleWidthXYPlot=exports.FlexibleXYPlot=exports.makeWidthFlexible=exports.makeVisFlexible=exports.makeHeightFlexible=exports.Sunburst=exports.Sankey=exports.ParallelCoordinates=exports.RadarChart=exports.RadialChart=exports.Treemap=exports.ContinuousSizeLegend=exports.ContinuousColorLegend=exports.SearchableDiscreteColorLegend=exports.DiscreteColorLegend=exports.Voronoi=exports.HorizontalGridLines=exports.VerticalGridLines=exports.GradientDefs=exports.GridLines=exports.CircularGridLines=exports.YAxis=exports.XAxis=exports.DecorativeAxis=exports.XYPlot=exports.Crosshair=exports.Borders=exports.Hint=exports.LineMarkSeriesCanvas=exports.LineMarkSeries=exports.ArcSeries=exports.AreaSeries=exports.CustomSVGSeries=exports.ContourSeries=exports.HeatmapSeries=exports.WhiskerSeries=exports.MarkSeriesCanvas=exports.MarkSeries=exports.RectSeriesCanvas=exports.RectSeries=exports.PolygonSeries=exports.LabelSeries=exports.HorizontalRectSeriesCanvas=exports.HorizontalRectSeries=exports.VerticalRectSeriesCanvas=exports.VerticalRectSeries=exports.VerticalBarSeriesCanvas=exports.VerticalBarSeries=exports.HorizontalBarSeriesCanvas=exports.HorizontalBarSeries=exports.LineSeriesCanvas=exports.LineSeries=exports.AbstractSeries=undefined;var _makeVisFlexible=__webpack_require__(758);Object.defineProperty(exports,"makeHeightFlexible",{enumerable:true,get:function get(){return _makeVisFlexible.makeHeightFlexible}});Object.defineProperty(exports,"makeVisFlexible",{enumerable:true,get:function get(){return _makeVisFlexible.makeVisFlexible}});Object.defineProperty(exports,"makeWidthFlexible",{enumerable:true,get:function get(){return _makeVisFlexible.makeWidthFlexible}});Object.defineProperty(exports,"FlexibleXYPlot",{enumerable:true,get:function get(){return _makeVisFlexible.FlexibleXYPlot}});Object.defineProperty(exports,"FlexibleWidthXYPlot",{enumerable:true,get:function get(){return _makeVisFlexible.FlexibleWidthXYPlot}});Object.defineProperty(exports,"FlexibleHeightXYPlot",{enumerable:true,get:function get(){return _makeVisFlexible.FlexibleHeightXYPlot}});var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _lineSeries=__webpack_require__(190);var _lineSeries2=_interopRequireDefault(_lineSeries);var _lineSeriesCanvas=__webpack_require__(298);var _lineSeriesCanvas2=_interopRequireDefault(_lineSeriesCanvas);var _horizontalBarSeries=__webpack_require__(787);var _horizontalBarSeries2=_interopRequireDefault(_horizontalBarSeries);var _horizontalBarSeriesCanvas=__webpack_require__(788);var _horizontalBarSeriesCanvas2=_interopRequireDefault(_horizontalBarSeriesCanvas);var _verticalBarSeries=__webpack_require__(789);var _verticalBarSeries2=_interopRequireDefault(_verticalBarSeries);var _verticalBarSeriesCanvas=__webpack_require__(790);var _verticalBarSeriesCanvas2=_interopRequireDefault(_verticalBarSeriesCanvas);var _verticalRectSeries=__webpack_require__(301);var _verticalRectSeries2=_interopRequireDefault(_verticalRectSeries);var _verticalRectSeriesCanvas=__webpack_require__(791);var _verticalRectSeriesCanvas2=_interopRequireDefault(_verticalRectSeriesCanvas);var _horizontalRectSeries=__webpack_require__(792);var _horizontalRectSeries2=_interopRequireDefault(_horizontalRectSeries);var _horizontalRectSeriesCanvas=__webpack_require__(793);var _horizontalRectSeriesCanvas2=_interopRequireDefault(_horizontalRectSeriesCanvas);var _labelSeries=__webpack_require__(91);var _labelSeries2=_interopRequireDefault(_labelSeries);var _polygonSeries=__webpack_require__(193);var _polygonSeries2=_interopRequireDefault(_polygonSeries);var _rectSeries=__webpack_require__(191);var _rectSeries2=_interopRequireDefault(_rectSeries);var _rectSeriesCanvas=__webpack_require__(192);var _rectSeriesCanvas2=_interopRequireDefault(_rectSeriesCanvas);var _markSeries=__webpack_require__(194);var _markSeries2=_interopRequireDefault(_markSeries);var _markSeriesCanvas=__webpack_require__(302);var _markSeriesCanvas2=_interopRequireDefault(_markSeriesCanvas);var _whiskerSeries=__webpack_require__(794);var _whiskerSeries2=_interopRequireDefault(_whiskerSeries);var _heatmapSeries=__webpack_require__(795);var _heatmapSeries2=_interopRequireDefault(_heatmapSeries);var _contourSeries=__webpack_require__(796);var _contourSeries2=_interopRequireDefault(_contourSeries);var _customSvgSeries=__webpack_require__(799);var _customSvgSeries2=_interopRequireDefault(_customSvgSeries);var _areaSeries=__webpack_require__(800);var _areaSeries2=_interopRequireDefault(_areaSeries);var _arcSeries=__webpack_require__(195);var _arcSeries2=_interopRequireDefault(_arcSeries);var _lineMarkSeries=__webpack_require__(303);var _lineMarkSeries2=_interopRequireDefault(_lineMarkSeries);var _lineMarkSeriesCanvas=__webpack_require__(801);var _lineMarkSeriesCanvas2=_interopRequireDefault(_lineMarkSeriesCanvas);var _hint=__webpack_require__(802);var _hint2=_interopRequireDefault(_hint);var _borders=__webpack_require__(803);var _borders2=_interopRequireDefault(_borders);var _crosshair=__webpack_require__(804);var _crosshair2=_interopRequireDefault(_crosshair);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _decorativeAxis=__webpack_require__(196);var _decorativeAxis2=_interopRequireDefault(_decorativeAxis);var _xAxis=__webpack_require__(806);var _xAxis2=_interopRequireDefault(_xAxis);var _yAxis=__webpack_require__(810);var _yAxis2=_interopRequireDefault(_yAxis);var _circularGridLines=__webpack_require__(811);var _circularGridLines2=_interopRequireDefault(_circularGridLines);var _gridLines=__webpack_require__(197);var _gridLines2=_interopRequireDefault(_gridLines);var _gradientDefs=__webpack_require__(812);var _gradientDefs2=_interopRequireDefault(_gradientDefs);var _verticalGridLines=__webpack_require__(813);var _verticalGridLines2=_interopRequireDefault(_verticalGridLines);var _horizontalGridLines=__webpack_require__(814);var _horizontalGridLines2=_interopRequireDefault(_horizontalGridLines);var _voronoi=__webpack_require__(305);var _voronoi2=_interopRequireDefault(_voronoi);var _discreteColorLegend=__webpack_require__(306);var _discreteColorLegend2=_interopRequireDefault(_discreteColorLegend);var _searchableDiscreteColorLegend=__webpack_require__(816);var _searchableDiscreteColorLegend2=_interopRequireDefault(_searchableDiscreteColorLegend);var _continuousColorLegend=__webpack_require__(817);var _continuousColorLegend2=_interopRequireDefault(_continuousColorLegend);var _continuousSizeLegend=__webpack_require__(818);var _continuousSizeLegend2=_interopRequireDefault(_continuousSizeLegend);var _treemap=__webpack_require__(819);var _treemap2=_interopRequireDefault(_treemap);var _radialChart=__webpack_require__(823);var _radialChart2=_interopRequireDefault(_radialChart);var _radarChart=__webpack_require__(824);var _radarChart2=_interopRequireDefault(_radarChart);var _parallelCoordinates=__webpack_require__(825);var _parallelCoordinates2=_interopRequireDefault(_parallelCoordinates);var _sankey=__webpack_require__(826);var _sankey2=_interopRequireDefault(_sankey);var _sunburst=__webpack_require__(829);var _sunburst2=_interopRequireDefault(_sunburst);var _axisUtils=__webpack_require__(66);var _axisUtils2=_interopRequireDefault(_axisUtils);var _scalesUtils=__webpack_require__(58);var _scalesUtils2=_interopRequireDefault(_scalesUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.AbstractSeries=_abstractSeries2.default;exports.LineSeries=_lineSeries2.default;exports.LineSeriesCanvas=_lineSeriesCanvas2.default;exports.HorizontalBarSeries=_horizontalBarSeries2.default;exports.HorizontalBarSeriesCanvas=_horizontalBarSeriesCanvas2.default;exports.VerticalBarSeries=_verticalBarSeries2.default;exports.VerticalBarSeriesCanvas=_verticalBarSeriesCanvas2.default;exports.VerticalRectSeries=_verticalRectSeries2.default;exports.VerticalRectSeriesCanvas=_verticalRectSeriesCanvas2.default;exports.HorizontalRectSeries=_horizontalRectSeries2.default;exports.HorizontalRectSeriesCanvas=_horizontalRectSeriesCanvas2.default;exports.LabelSeries=_labelSeries2.default;exports.PolygonSeries=_polygonSeries2.default;exports.RectSeries=_rectSeries2.default;exports.RectSeriesCanvas=_rectSeriesCanvas2.default;exports.MarkSeries=_markSeries2.default;exports.MarkSeriesCanvas=_markSeriesCanvas2.default;exports.WhiskerSeries=_whiskerSeries2.default;exports.HeatmapSeries=_heatmapSeries2.default;exports.ContourSeries=_contourSeries2.default;exports.CustomSVGSeries=_customSvgSeries2.default;exports.AreaSeries=_areaSeries2.default;exports.ArcSeries=_arcSeries2.default;exports.LineMarkSeries=_lineMarkSeries2.default;exports.LineMarkSeriesCanvas=_lineMarkSeriesCanvas2.default;exports.Hint=_hint2.default;exports.Borders=_borders2.default;exports.Crosshair=_crosshair2.default;exports.XYPlot=_xyPlot2.default;exports.DecorativeAxis=_decorativeAxis2.default;exports.XAxis=_xAxis2.default;exports.YAxis=_yAxis2.default;exports.CircularGridLines=_circularGridLines2.default;exports.GridLines=_gridLines2.default;exports.GradientDefs=_gradientDefs2.default;exports.VerticalGridLines=_verticalGridLines2.default;exports.HorizontalGridLines=_horizontalGridLines2.default;exports.Voronoi=_voronoi2.default;exports.DiscreteColorLegend=_discreteColorLegend2.default;exports.SearchableDiscreteColorLegend=_searchableDiscreteColorLegend2.default;exports.ContinuousColorLegend=_continuousColorLegend2.default;exports.ContinuousSizeLegend=_continuousSizeLegend2.default;exports.Treemap=_treemap2.default;exports.RadialChart=_radialChart2.default;exports.RadarChart=_radarChart2.default;exports.ParallelCoordinates=_parallelCoordinates2.default;exports.Sankey=_sankey2.default;exports.Sunburst=_sunburst2.default;exports.AxisUtils=_axisUtils2.default;exports.ScaleUtils=_scalesUtils2.default},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";var prefix="$";function Map(){}Map.prototype=map.prototype={constructor:Map,has:function(key){return prefix+key in this},get:function(key){return this[prefix+key]},set:function(key,value){this[prefix+key]=value;return this},remove:function(key){var property=prefix+key;return property in this&&delete this[property]},clear:function(){for(var property in this)if(property[0]===prefix)delete this[property]},keys:function(){var keys=[];for(var property in this)if(property[0]===prefix)keys.push(property.slice(1));return keys},values:function(){var values=[];for(var property in this)if(property[0]===prefix)values.push(this[property]);return values},entries:function(){var entries=[];for(var property in this)if(property[0]===prefix)entries.push({key:property.slice(1),value:this[property]});return entries},size:function(){var size=0;for(var property in this)if(property[0]===prefix)++size;return size},empty:function(){for(var property in this)if(property[0]===prefix)return false;return true},each:function(f){for(var property in this)if(property[0]===prefix)f(this[property],property.slice(1),this)}};function map(object,f){var map=new Map;if(object instanceof Map)object.each((function(value,key){map.set(key,value)}));else if(Array.isArray(object)){var i=-1,n=object.length,o;if(f==null)while(++i<n)map.set(i,object[i]);else while(++i<n)map.set(f(o=object[i],i,object),o)}else if(object)for(var key in object)map.set(key,object[key]);return map}function nest(){var keys=[],sortKeys=[],sortValues,rollup,nest;function apply(array,depth,createResult,setResult){if(depth>=keys.length){if(sortValues!=null)array.sort(sortValues);return rollup!=null?rollup(array):array}var i=-1,n=array.length,key=keys[depth++],keyValue,value,valuesByKey=map(),values,result=createResult();while(++i<n){if(values=valuesByKey.get(keyValue=key(value=array[i])+"")){values.push(value)}else{valuesByKey.set(keyValue,[value])}}valuesByKey.each((function(values,key){setResult(result,key,apply(values,depth,createResult,setResult))}));return result}function entries(map$$1,depth){if(++depth>keys.length)return map$$1;var array,sortKey=sortKeys[depth-1];if(rollup!=null&&depth>=keys.length)array=map$$1.entries();else array=[],map$$1.each((function(v,k){array.push({key:k,values:entries(v,depth)})}));return sortKey!=null?array.sort((function(a,b){return sortKey(a.key,b.key)})):array}return nest={object:function(array){return apply(array,0,createObject,setObject)},map:function(array){return apply(array,0,createMap,setMap)},entries:function(array){return entries(apply(array,0,createMap,setMap),0)},key:function(d){keys.push(d);return nest},sortKeys:function(order){sortKeys[keys.length-1]=order;return nest},sortValues:function(order){sortValues=order;return nest},rollup:function(f){rollup=f;return nest}}}function createObject(){return{}}function setObject(object,key,value){object[key]=value}function createMap(){return map()}function setMap(map$$1,key,value){map$$1.set(key,value)}function Set(){}var proto=map.prototype;Set.prototype=set.prototype={constructor:Set,has:proto.has,add:function(value){value+="";this[prefix+value]=value;return this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};function set(object,f){var set=new Set;if(object instanceof Set)object.each((function(value){set.add(value)}));else if(object){var i=-1,n=object.length;if(f==null)while(++i<n)set.add(object[i]);else while(++i<n)set.add(f(object[i],i,object))}return set}function keys(map){var keys=[];for(var key in map)keys.push(key);return keys}function values(map){var values=[];for(var key in map)values.push(map[key]);return values}function entries(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries}exports.nest=nest;exports.set=set;exports.map=map;exports.keys=keys;exports.values=values;exports.entries=entries;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(89)):undefined})(this,(function(exports,d3Color){"use strict";function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}function basis$1(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}function basisClosed(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis((t-i/n)*n,v0,v1,v2,v3)}}function constant(x){return function(){return x}}function linear(a,d){return function(t){return a+t*d}}function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}function hue(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):constant(isNaN(a)?b:a)}function gamma(y){return(y=+y)===1?nogamma:function(a,b){return b-a?exponential(a,b,y):constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):constant(isNaN(a)?b:a)}var rgb=function rgbGamma(y){var color=gamma(y);function rgb(start,end){var r=color((start=d3Color.rgb(start)).r,(end=d3Color.rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){start.r=r(t);start.g=g(t);start.b=b(t);start.opacity=opacity(t);return start+""}}rgb.gamma=rgbGamma;return rgb}(1);function rgbSpline(spline){return function(colors){var n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n),i,color;for(i=0;i<n;++i){color=d3Color.rgb(colors[i]);r[i]=color.r||0;g[i]=color.g||0;b[i]=color.b||0}r=spline(r);g=spline(g);b=spline(b);color.opacity=1;return function(t){color.r=r(t);color.g=g(t);color.b=b(t);return color+""}}}var rgbBasis=rgbSpline(basis$1);var rgbBasisClosed=rgbSpline(basisClosed);function numberArray(a,b){if(!b)b=[];var n=a?Math.min(b.length,a.length):0,c=b.slice(),i;return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function array(a,b){return(isNumberArray(b)?numberArray:genericArray)(a,b)}function genericArray(a,b){var nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb),i;for(i=0;i<na;++i)x[i]=value(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function number(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var i={},c={},k;if(a===null||typeof a!=="object")a={};if(b===null||typeof b!=="object")b={};for(k in b){if(k in a){i[k]=value(a[k],b[k])}else{c[k]=b[k]}}return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(b){return function(){return b}}function one(b){return function(t){return b(t)+""}}function string(a,b){var bi=reA.lastIndex=reB.lastIndex=0,am,bm,bs,i=-1,s=[],q=[];a=a+"",b=b+"";while((am=reA.exec(a))&&(bm=reB.exec(b))){if((bs=bm.index)>bi){bs=b.slice(bi,bs);if(s[i])s[i]+=bs;else s[++i]=bs}if((am=am[0])===(bm=bm[0])){if(s[i])s[i]+=bm;else s[++i]=bm}else{s[++i]=null;q.push({i:i,x:number(am,bm)})}bi=reB.lastIndex}if(bi<b.length){bs=b.slice(bi);if(s[i])s[i]+=bs;else s[++i]=bs}return s.length<2?q[0]?one(q[0].x):zero(b):(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function value(a,b){var t=typeof b,c;return b==null||t==="boolean"?constant(b):(t==="number"?number:t==="string"?(c=d3Color.color(b))?(b=c,rgb):string:b instanceof d3Color.color?rgb:b instanceof Date?date:isNumberArray(b)?numberArray:Array.isArray(b)?genericArray:typeof b.valueOf!=="function"&&typeof b.toString!=="function"||isNaN(b)?object:number)(a,b)}function discrete(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function hue$1(a,b){var i=hue(+a,+b);return function(t){var x=i(t);return x-360*Math.floor(x/360)}}function round(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}var degrees=180/Math.PI;var identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;if(scaleX=Math.sqrt(a*a+b*b))a/=scaleX,b/=scaleX;if(skewX=a*c+b*d)c-=a*skewX,d-=b*skewX;if(scaleY=Math.sqrt(c*c+d*d))c/=scaleY,d/=scaleY,skewX/=scaleY;if(a*d<b*c)a=-a,b=-b,skewX=-skewX,scaleX=-scaleX;return{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}}var cssNode,cssRoot,cssView,svgNode;function parseCss(value){if(value==="none")return identity;if(!cssNode)cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView;cssNode.style.transform=value;value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform");cssRoot.removeChild(cssNode);value=value.slice(7,-1).split(",");return decompose(+value[0],+value[1],+value[2],+value[3],+value[4],+value[5])}function parseSvg(value){if(value==null)return identity;if(!svgNode)svgNode=document.createElementNS("http://www.w3.org/2000/svg","g");svgNode.setAttribute("transform",value);if(!(value=svgNode.transform.baseVal.consolidate()))return identity;value=value.matrix;return decompose(value.a,value.b,value.c,value.d,value.e,value.f)}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:number(xa,xb)},{i:i-2,x:number(ya,yb)})}else if(xb||yb){s.push("translate("+xb+pxComma+yb+pxParen)}}function rotate(a,b,s,q){if(a!==b){if(a-b>180)b+=360;else if(b-a>180)a+=360;q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:number(a,b)})}else if(b){s.push(pop(s)+"rotate("+b+degParen)}}function skewX(a,b,s,q){if(a!==b){q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:number(a,b)})}else if(b){s.push(pop(s)+"skewX("+b+degParen)}}function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:number(xa,xb)},{i:i-2,x:number(ya,yb)})}else if(xb!==1||yb!==1){s.push(pop(s)+"scale("+xb+","+yb+")")}}return function(a,b){var s=[],q=[];a=parse(a),b=parse(b);translate(a.translateX,a.translateY,b.translateX,b.translateY,s,q);rotate(a.rotate,b.rotate,s,q);skewX(a.skewX,b.skewX,s,q);scale(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q);a=b=null;return function(t){var i=-1,n=q.length,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)");var interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");var rho=Math.SQRT2,rho2=2,rho4=4,epsilon2=1e-12;function cosh(x){return((x=Math.exp(x))+1/x)/2}function sinh(x){return((x=Math.exp(x))-1/x)/2}function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function zoom(p0,p1){var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,i,S;if(d2<epsilon2){S=Math.log(w1/w0)/rho;i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]}}else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+rho4*d2)/(2*w0*rho2*d1),b1=(w1*w1-w0*w0-rho4*d2)/(2*w1*rho2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho;i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(rho2*d1)*(coshr0*tanh(rho*s+r0)-sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}i.duration=S*1e3;return i}function hsl(hue){return function(start,end){var h=hue((start=d3Color.hsl(start)).h,(end=d3Color.hsl(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.s=s(t);start.l=l(t);start.opacity=opacity(t);return start+""}}}var hsl$1=hsl(hue);var hslLong=hsl(nogamma);function lab(start,end){var l=nogamma((start=d3Color.lab(start)).l,(end=d3Color.lab(end)).l),a=nogamma(start.a,end.a),b=nogamma(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){start.l=l(t);start.a=a(t);start.b=b(t);start.opacity=opacity(t);return start+""}}function hcl(hue){return function(start,end){var h=hue((start=d3Color.hcl(start)).h,(end=d3Color.hcl(end)).h),c=nogamma(start.c,end.c),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.c=c(t);start.l=l(t);start.opacity=opacity(t);return start+""}}}var hcl$1=hcl(hue);var hclLong=hcl(nogamma);function cubehelix(hue){return function cubehelixGamma(y){y=+y;function cubehelix(start,end){var h=hue((start=d3Color.cubehelix(start)).h,(end=d3Color.cubehelix(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.s=s(t);start.l=l(Math.pow(t,y));start.opacity=opacity(t);return start+""}}cubehelix.gamma=cubehelixGamma;return cubehelix}(1)}var cubehelix$1=cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(interpolate,values){var i=0,n=values.length-1,v=values[0],I=new Array(n<0?0:n);while(i<n)I[i]=interpolate(v,v=values[++i]);return function(t){var i=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return I[i](t-i)}}function quantize(interpolator,n){var samples=new Array(n);for(var i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}exports.interpolate=value;exports.interpolateArray=array;exports.interpolateBasis=basis$1;exports.interpolateBasisClosed=basisClosed;exports.interpolateCubehelix=cubehelix$1;exports.interpolateCubehelixLong=cubehelixLong;exports.interpolateDate=date;exports.interpolateDiscrete=discrete;exports.interpolateHcl=hcl$1;exports.interpolateHclLong=hclLong;exports.interpolateHsl=hsl$1;exports.interpolateHslLong=hslLong;exports.interpolateHue=hue$1;exports.interpolateLab=lab;exports.interpolateNumber=number;exports.interpolateNumberArray=numberArray;exports.interpolateObject=object;exports.interpolateRgb=rgb;exports.interpolateRgbBasis=rgbBasis;exports.interpolateRgbBasisClosed=rgbBasisClosed;exports.interpolateRound=round;exports.interpolateString=string;exports.interpolateTransformCss=interpolateTransformCss;exports.interpolateTransformSvg=interpolateTransformSvg;exports.interpolateZoom=zoom;exports.piecewise=piecewise;exports.quantize=quantize;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=mapToZero;function mapToZero(obj){var ret={};for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){ret[key]=0}}return ret}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=stepper;var reusedTuple=[0,0];function stepper(secondPerFrame,x,v,destX,k,b,precision){var Fspring=-k*(x-destX);var Fdamper=-b*v;var a=Fspring+Fdamper;var newV=v+a*secondPerFrame;var newX=x+newV*secondPerFrame;if(Math.abs(newV)<precision&&Math.abs(newX-destX)<precision){reusedTuple[0]=destX;reusedTuple[1]=0;return reusedTuple}reusedTuple[0]=newX;reusedTuple[1]=newV;return reusedTuple}module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;if(typeof performance!=="undefined"&&performance!==null&&performance.now){module.exports=function(){return performance.now()}}else if(typeof process!=="undefined"&&process!==null&&process.hrtime){module.exports=function(){return(getNanoSeconds()-loadTime)/1e6};hrtime=process.hrtime;getNanoSeconds=function(){var hr;hr=hrtime();return hr[0]*1e9+hr[1]};loadTime=getNanoSeconds()}else if(Date.now){module.exports=function(){return Date.now()-loadTime};loadTime=Date.now()}else{module.exports=function(){return(new Date).getTime()-loadTime};loadTime=(new Date).getTime()}}).call(this)}).call(this,__webpack_require__(105))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=shouldStopAnimation;function shouldStopAnimation(currentStyle,style,currentVelocity){for(var key in style){if(!Object.prototype.hasOwnProperty.call(style,key)){continue}if(currentVelocity[key]!==0){return false}var styleValue=typeof style[key]==="number"?style[key]:style[key].val;if(currentStyle[key]!==styleValue){return false}}return true}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(2);var factory=__webpack_require__(776);if(typeof React==="undefined"){throw Error("create-react-class could not find the React object. If you are using script tags, "+"make sure that React is being loaded before create-react-class.")}var ReactNoopUpdateQueue=(new React.Component).updater;module.exports=factory(React.Component,React.isValidElement,ReactNoopUpdateQueue)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Shape=__webpack_require__(119);var d3Shape=_interopRequireWildcard(_d3Shape);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _theme=__webpack_require__(56);var _seriesUtils=__webpack_require__(57);var _reactUtils=__webpack_require__(103);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--line";var STROKE_STYLES={dashed:"6, 2",solid:null};var LineSeries=function(_AbstractSeries){_inherits(LineSeries,_AbstractSeries);function LineSeries(){_classCallCheck(this,LineSeries);return _possibleConstructorReturn(this,(LineSeries.__proto__||Object.getPrototypeOf(LineSeries)).apply(this,arguments))}_createClass(LineSeries,[{key:"_renderLine",value:function _renderLine(data,x,y,curve,getNull){var line=d3Shape.line();if(curve!==null){if(typeof curve==="string"&&d3Shape[curve]){line=line.curve(d3Shape[curve])}else if(typeof curve==="function"){line=line.curve(curve)}}line=line.defined(getNull);line=line.x(x).y(y);return line(data)}},{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,data=_props.data;if(this.props.nullAccessor){(0,_reactUtils.warning)("nullAccessor has been renamed to getNull",true)}if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(LineSeries,_extends({},this.props,{animation:null})))}var _props2=this.props,curve=_props2.curve,marginLeft=_props2.marginLeft,marginTop=_props2.marginTop,strokeDasharray=_props2.strokeDasharray,strokeStyle=_props2.strokeStyle,strokeWidth=_props2.strokeWidth,style=_props2.style;var x=this._getAttributeFunctor("x");var y=this._getAttributeFunctor("y");var stroke=this._getAttributeValue("stroke")||this._getAttributeValue("color");var newOpacity=this._getAttributeValue("opacity");var opacity=Number.isFinite(newOpacity)?newOpacity:_theme.DEFAULT_OPACITY;var getNull=this.props.nullAccessor||this.props.getNull;var d=this._renderLine(data,x,y,curve,getNull);return _react2.default.createElement("path",{d:d,className:predefinedClassName+" "+className,transform:"translate("+marginLeft+","+marginTop+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:_extends({opacity:opacity,strokeDasharray:STROKE_STYLES[strokeStyle]||strokeDasharray,strokeWidth:strokeWidth,stroke:stroke},style)})}}]);return LineSeries}(_abstractSeries2.default);LineSeries.displayName="LineSeries";LineSeries.propTypes=_extends({},_abstractSeries2.default.propTypes,{strokeStyle:_propTypes2.default.oneOf(Object.keys(STROKE_STYLES)),curve:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.func]),getNull:_propTypes2.default.func});LineSeries.defaultProps={strokeStyle:"solid",style:{},opacity:1,curve:null,className:"",getNull:function getNull(){return true}};exports.default=LineSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--rect";var RectSeries=function(_AbstractSeries){_inherits(RectSeries,_AbstractSeries);function RectSeries(){_classCallCheck(this,RectSeries);return _possibleConstructorReturn(this,(RectSeries.__proto__||Object.getPrototypeOf(RectSeries)).apply(this,arguments))}_createClass(RectSeries,[{key:"render",value:function render(){var _this2=this;var _props=this.props,animation=_props.animation,className=_props.className,data=_props.data,linePosAttr=_props.linePosAttr,lineSizeAttr=_props.lineSizeAttr,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style,valuePosAttr=_props.valuePosAttr,valueSizeAttr=_props.valueSizeAttr;if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(RectSeries,_extends({},this.props,{animation:null})))}var lineFunctor=this._getAttributeFunctor(linePosAttr);var line0Functor=this._getAttr0Functor(linePosAttr);var valueFunctor=this._getAttributeFunctor(valuePosAttr);var value0Functor=this._getAttr0Functor(valuePosAttr);var fillFunctor=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color");var strokeFunctor=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color");var opacityFunctor=this._getAttributeFunctor("opacity");return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},data.map((function(d,i){var _attrs;var attrs=(_attrs={style:_extends({opacity:opacityFunctor&&opacityFunctor(d),stroke:strokeFunctor&&strokeFunctor(d),fill:fillFunctor&&fillFunctor(d)},style)},_defineProperty(_attrs,linePosAttr,line0Functor(d)),_defineProperty(_attrs,lineSizeAttr,Math.abs(lineFunctor(d)-line0Functor(d))),_defineProperty(_attrs,valuePosAttr,Math.min(value0Functor(d),valueFunctor(d))),_defineProperty(_attrs,valueSizeAttr,Math.abs(-value0Functor(d)+valueFunctor(d))),_defineProperty(_attrs,"onClick",(function onClick(e){return _this2._valueClickHandler(d,e)})),_defineProperty(_attrs,"onContextMenu",(function onContextMenu(e){return _this2._valueRightClickHandler(d,e)})),_defineProperty(_attrs,"onMouseOver",(function onMouseOver(e){return _this2._valueMouseOverHandler(d,e)})),_defineProperty(_attrs,"onMouseOut",(function onMouseOut(e){return _this2._valueMouseOutHandler(d,e)})),_defineProperty(_attrs,"key",i),_attrs);return _react2.default.createElement("rect",attrs)})))}}],[{key:"propTypes",get:function get(){return _extends({},_abstractSeries2.default.propTypes,{linePosAttr:_propTypes2.default.string,valuePosAttr:_propTypes2.default.string,lineSizeAttr:_propTypes2.default.string,valueSizeAttr:_propTypes2.default.string})}}]);return RectSeries}(_abstractSeries2.default);RectSeries.displayName="RectSeries";exports.default=RectSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Color=__webpack_require__(89);var _theme=__webpack_require__(56);var _scalesUtils=__webpack_require__(58);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RectSeriesCanvas=function(_AbstractSeries){_inherits(RectSeriesCanvas,_AbstractSeries);function RectSeriesCanvas(){_classCallCheck(this,RectSeriesCanvas);return _possibleConstructorReturn(this,(RectSeriesCanvas.__proto__||Object.getPrototypeOf(RectSeriesCanvas)).apply(this,arguments))}_createClass(RectSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"renderLayer",value:function renderLayer(props,ctx){var data=props.data,linePosAttr=props.linePosAttr,lineSizeAttr=props.lineSizeAttr,marginLeft=props.marginLeft,marginTop=props.marginTop,valuePosAttr=props.valuePosAttr;if(!data||data.length===0){return}var line=(0,_scalesUtils.getAttributeFunctor)(props,linePosAttr);var line0=(0,_scalesUtils.getAttr0Functor)(props,linePosAttr);var value=(0,_scalesUtils.getAttributeFunctor)(props,valuePosAttr);var value0=(0,_scalesUtils.getAttr0Functor)(props,valuePosAttr);var fill=(0,_scalesUtils.getAttributeFunctor)(props,"fill")||(0,_scalesUtils.getAttributeFunctor)(props,"color");var stroke=(0,_scalesUtils.getAttributeFunctor)(props,"stroke")||(0,_scalesUtils.getAttributeFunctor)(props,"color");var opacity=(0,_scalesUtils.getAttributeFunctor)(props,"opacity");data.forEach((function(row){var fillColor=(0,_d3Color.rgb)(fill(row));var strokeColor=(0,_d3Color.rgb)(stroke(row));var rowOpacity=opacity(row)||_theme.DEFAULT_OPACITY;var linePos=line0(row);var valuePos=Math.min(value0(row),value(row));var x=valuePosAttr==="x"?valuePos:linePos;var y=valuePosAttr==="y"?valuePos:linePos;var lineSize=Math.abs(line(row)-line0(row));var valueSize=Math.abs(-value0(row)+value(row));var height=lineSizeAttr==="height"?lineSize:valueSize;var width=lineSizeAttr==="width"?lineSize:valueSize;ctx.beginPath();ctx.rect(x+marginLeft,y+marginTop,width,height);ctx.fillStyle="rgba("+fillColor.r+", "+fillColor.g+", "+fillColor.b+", "+rowOpacity+")";ctx.fill();ctx.strokeStyle="rgba("+strokeColor.r+", "+strokeColor.g+", "+strokeColor.b+", "+rowOpacity+")";ctx.stroke()}))}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return RectSeriesCanvas}(_abstractSeries2.default);RectSeriesCanvas.displayName="RectSeriesCanvas";RectSeriesCanvas.defaultProps={linePosAttr:_propTypes2.default.string.isRequired,valuePosAttr:_propTypes2.default.string.isRequired,lineSizeAttr:_propTypes2.default.string.isRequired,valueSizeAttr:_propTypes2.default.string.isRequired};RectSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=RectSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--polygon";var DEFAULT_COLOR="#12939A";var generatePath=function generatePath(data,xFunctor,yFunctor){return data.reduce((function(res,row,i){return res+" "+(i?"L":"M")+xFunctor(row)+" "+yFunctor(row)}),"")+" Z"};var PolygonSeries=function(_AbstractSeries){_inherits(PolygonSeries,_AbstractSeries);function PolygonSeries(){_classCallCheck(this,PolygonSeries);return _possibleConstructorReturn(this,(PolygonSeries.__proto__||Object.getPrototypeOf(PolygonSeries)).apply(this,arguments))}_createClass(PolygonSeries,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,color=_props.color,className=_props.className,data=_props.data,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style;if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(PolygonSeries,_extends({},this.props,{animation:null})))}var xFunctor=this._getAttributeFunctor("x");var yFunctor=this._getAttributeFunctor("y");return _react2.default.createElement("path",{className:predefinedClassName+" "+className,onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,fill:color||DEFAULT_COLOR,style:style,d:generatePath(data,xFunctor,yFunctor),transform:"translate("+marginLeft+","+marginTop+")",ref:"container"})}}],[{key:"propTypes",get:function get(){return _extends({},_abstractSeries2.default.propTypes)}}]);return PolygonSeries}(_abstractSeries2.default);PolygonSeries.displayName="PolygonSeries";exports.default=PolygonSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _reactUtils=__webpack_require__(103);var _theme=__webpack_require__(56);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--mark";var DEFAULT_STROKE_WIDTH=1;var MarkSeries=function(_AbstractSeries){_inherits(MarkSeries,_AbstractSeries);function MarkSeries(){_classCallCheck(this,MarkSeries);return _possibleConstructorReturn(this,(MarkSeries.__proto__||Object.getPrototypeOf(MarkSeries)).apply(this,arguments))}_createClass(MarkSeries,[{key:"_renderCircle",value:function _renderCircle(d,i,strokeWidth,style,scalingFunctions){var _this2=this;var fill=scalingFunctions.fill,opacity=scalingFunctions.opacity,size=scalingFunctions.size,stroke=scalingFunctions.stroke,x=scalingFunctions.x,y=scalingFunctions.y;var attrs={r:size?size(d):_theme.DEFAULT_SIZE,cx:x(d),cy:y(d),style:_extends({opacity:opacity?opacity(d):_theme.DEFAULT_OPACITY,stroke:stroke&&stroke(d),fill:fill&&fill(d),strokeWidth:strokeWidth||DEFAULT_STROKE_WIDTH},style),key:i,onClick:function onClick(e){return _this2._valueClickHandler(d,e)},onContextMenu:function onContextMenu(e){return _this2._valueRightClickHandler(d,e)},onMouseOver:function onMouseOver(e){return _this2._valueMouseOverHandler(d,e)},onMouseOut:function onMouseOut(e){return _this2._valueMouseOutHandler(d,e)}};return _react2.default.createElement("circle",attrs)}},{key:"render",value:function render(){var _this3=this;var _props=this.props,animation=_props.animation,className=_props.className,data=_props.data,marginLeft=_props.marginLeft,marginTop=_props.marginTop,strokeWidth=_props.strokeWidth,style=_props.style;if(this.props.nullAccessor){(0,_reactUtils.warning)("nullAccessor has been renamed to getNull",true)}var getNull=this.props.nullAccessor||this.props.getNull;if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(MarkSeries,_extends({},this.props,{animation:null})))}var scalingFunctions={fill:this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),opacity:this._getAttributeFunctor("opacity"),size:this._getAttributeFunctor("size"),stroke:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x:this._getAttributeFunctor("x"),y:this._getAttributeFunctor("y")};return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},data.map((function(d,i){return getNull(d)&&_this3._renderCircle(d,i,strokeWidth,style,scalingFunctions)})))}}]);return MarkSeries}(_abstractSeries2.default);MarkSeries.displayName="MarkSeries";MarkSeries.propTypes=_extends({},_abstractSeries2.default.propTypes,{getNull:_propTypes2.default.func,strokeWidth:_propTypes2.default.number});MarkSeries.defaultProps={getNull:function getNull(){return true}};exports.default=MarkSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _d3Shape=__webpack_require__(119);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _scalesUtils=__webpack_require__(58);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--arc";var ATTRIBUTES=["radius","angle"];var defaultProps={center:{x:0,y:0},arcClassName:"",className:"",style:{}};function modifyRow(row){var radius=row.radius,angle=row.angle,angle0=row.angle0;var truedAngle=-1*angle+Math.PI/2;var truedAngle0=-1*angle0+Math.PI/2;return _extends({},row,{x:radius*Math.cos(truedAngle),y:radius*Math.sin(truedAngle),angle:truedAngle,angle0:truedAngle0})}var ArcSeries=function(_AbstractSeries){_inherits(ArcSeries,_AbstractSeries);function ArcSeries(props){_classCallCheck(this,ArcSeries);var _this=_possibleConstructorReturn(this,(ArcSeries.__proto__||Object.getPrototypeOf(ArcSeries)).call(this,props));var scaleProps=_this._getAllScaleProps(props);_this.state={scaleProps:scaleProps};return _this}_createClass(ArcSeries,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){this.setState({scaleProps:this._getAllScaleProps(nextProps)})}},{key:"_getAllScaleProps",value:function _getAllScaleProps(props){var defaultScaleProps=this._getDefaultScaleProps(props);var userScaleProps=(0,_scalesUtils.extractScalePropsFromProps)(props,ATTRIBUTES);var missingScaleProps=(0,_scalesUtils.getMissingScaleProps)(_extends({},defaultScaleProps,userScaleProps),props.data,ATTRIBUTES);return _extends({},defaultScaleProps,userScaleProps,missingScaleProps)}},{key:"_getDefaultScaleProps",value:function _getDefaultScaleProps(props){var innerWidth=props.innerWidth,innerHeight=props.innerHeight;var radius=Math.min(innerWidth/2,innerHeight/2);return{radiusRange:[0,radius],_radiusValue:radius,angleType:"literal"}}},{key:"render",value:function render(){var _this2=this;var _props=this.props,arcClassName=_props.arcClassName,animation=_props.animation,className=_props.className,center=_props.center,data=_props.data,disableSeries=_props.disableSeries,hideSeries=_props.hideSeries,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style;if(!data){return null}if(animation){var cloneData=data.map((function(d){return _extends({},d)}));return _react2.default.createElement("g",{className:"rv-xy-plot__series--arc__animation-wrapper"},_react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS,data:cloneData}),_react2.default.createElement(ArcSeries,_extends({},this.props,{animation:null,disableSeries:true,data:cloneData}))),_react2.default.createElement(ArcSeries,_extends({},this.props,{animation:null,hideSeries:true,style:{stroke:"red"}})))}var scaleProps=this.state.scaleProps;var radiusDomain=scaleProps.radiusDomain;var radius=(0,_scalesUtils.getAttributeFunctor)(scaleProps,"radius");var radius0=(0,_scalesUtils.getAttr0Functor)(scaleProps,"radius");var angle=(0,_scalesUtils.getAttributeFunctor)(scaleProps,"angle");var angle0=(0,_scalesUtils.getAttr0Functor)(scaleProps,"angle");var fill=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color");var stroke=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color");var opacity=this._getAttributeFunctor("opacity");var x=this._getAttributeFunctor("x");var y=this._getAttributeFunctor("y");return _react2.default.createElement("g",{className:predefinedClassName+" "+className,onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,ref:"container",opacity:hideSeries?0:1,pointerEvents:disableSeries?"none":"all",transform:"translate("+(marginLeft+x(center))+","+(marginTop+y(center))+")"},data.map((function(row,i){var noRadius=radiusDomain[1]===radiusDomain[0];var arcArg={innerRadius:noRadius?0:radius0(row),outerRadius:radius(row),startAngle:angle0(row)||0,endAngle:angle(row)};var arcedData=(0,_d3Shape.arc)();var rowStyle=row.style||{};var rowClassName=row.className||"";return _react2.default.createElement("path",{style:_extends({opacity:opacity&&opacity(row),stroke:stroke&&stroke(row),fill:fill&&fill(row)},style,rowStyle),onClick:function onClick(e){return _this2._valueClickHandler(modifyRow(row),e)},onContextMenu:function onContextMenu(e){return _this2._valueRightClickHandler(modifyRow(row),e)},onMouseOver:function onMouseOver(e){return _this2._valueMouseOverHandler(modifyRow(row),e)},onMouseOut:function onMouseOut(e){return _this2._valueMouseOutHandler(modifyRow(row),e)},key:i,className:predefinedClassName+"-path "+arcClassName+" "+rowClassName,d:arcedData(arcArg)})})))}}]);return ArcSeries}(_abstractSeries2.default);ArcSeries.propTypes=_extends({},_abstractSeries2.default.propTypes,(0,_scalesUtils.getScalePropTypesByAttribute)("radius"),(0,_scalesUtils.getScalePropTypesByAttribute)("angle"),{center:_propTypes2.default.shape({x:_propTypes2.default.number,y:_propTypes2.default.number}),arcClassName:_propTypes2.default.string});ArcSeries.defaultProps=defaultProps;ArcSeries.displayName="ArcSeries";exports.default=ArcSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _d3Format=__webpack_require__(143);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _decorativeAxisTicks=__webpack_require__(805);var _decorativeAxisTicks2=_interopRequireDefault(_decorativeAxisTicks);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-manipulable-axis rv-xy-plot__axis";var animatedProps=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"];var DecorativeAxis=function(_AbstractSeries){_inherits(DecorativeAxis,_AbstractSeries);function DecorativeAxis(){_classCallCheck(this,DecorativeAxis);return _possibleConstructorReturn(this,(DecorativeAxis.__proto__||Object.getPrototypeOf(DecorativeAxis)).apply(this,arguments))}_createClass(DecorativeAxis,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,marginLeft=_props.marginLeft,marginTop=_props.marginTop,axisStart=_props.axisStart,axisEnd=_props.axisEnd,axisDomain=_props.axisDomain,numberOfTicks=_props.numberOfTicks,tickValue=_props.tickValue,tickSize=_props.tickSize,style=_props.style;if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:animatedProps}),_react2.default.createElement(DecorativeAxis,_extends({},this.props,{animation:null})))}var x=this._getAttributeFunctor("x");var y=this._getAttributeFunctor("y");return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},_react2.default.createElement("line",_extends({},_extends({x1:x({x:axisStart.x}),x2:x({x:axisEnd.x}),y1:y({y:axisStart.y}),y2:y({y:axisEnd.y})},style.line),{className:"rv-xy-plot__axis__line"})),_react2.default.createElement("g",{className:"rv-xy-manipulable-axis__ticks"},(0,_decorativeAxisTicks2.default)({axisDomain:axisDomain,axisEnd:{x:x(axisEnd),y:y(axisEnd)},axisStart:{x:x(axisStart),y:y(axisStart)},numberOfTicks:numberOfTicks,tickValue:tickValue,tickSize:tickSize,style:style})))}}]);return DecorativeAxis}(_abstractSeries2.default);var DEFAULT_FORMAT=(0,_d3Format.format)(".2r");DecorativeAxis.defaultProps={className:"",numberOfTicks:10,tickValue:function tickValue(d){return DEFAULT_FORMAT(d)},tickSize:5,style:{line:{strokeWidth:1},ticks:{strokeWidth:2},text:{}}};DecorativeAxis.propTypes=_extends({},_abstractSeries2.default.propTypes,{axisDomain:_propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,axisEnd:_propTypes2.default.shape({x:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),y:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string])}).isRequired,axisStart:_propTypes2.default.shape({x:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),y:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string])}).isRequired,className:_propTypes2.default.string,numberOfTicks:_propTypes2.default.number,tickValue:_propTypes2.default.func,tickSize:_propTypes2.default.number,style:_propTypes2.default.shape({line:_propTypes2.default.object,ticks:_propTypes2.default.object,text:_propTypes2.default.object})});DecorativeAxis.displayName="DecorativeAxis";exports.default=DecorativeAxis},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _scalesUtils=__webpack_require__(58);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _axisUtils=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var VERTICAL=_axisUtils.DIRECTION.VERTICAL,HORIZONTAL=_axisUtils.DIRECTION.HORIZONTAL;var propTypes={direction:_propTypes2.default.oneOf([VERTICAL,HORIZONTAL]),attr:_propTypes2.default.string.isRequired,width:_propTypes2.default.number,height:_propTypes2.default.number,top:_propTypes2.default.number,left:_propTypes2.default.number,style:_propTypes2.default.object,tickValues:_propTypes2.default.array,tickTotal:_propTypes2.default.number,animation:_animation.AnimationPropType,marginTop:_propTypes2.default.number,marginBottom:_propTypes2.default.number,marginLeft:_propTypes2.default.number,marginRight:_propTypes2.default.number,innerWidth:_propTypes2.default.number,innerHeight:_propTypes2.default.number};var defaultProps={direction:VERTICAL};var animatedProps=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"];var GridLines=function(_PureComponent){_inherits(GridLines,_PureComponent);function GridLines(){_classCallCheck(this,GridLines);return _possibleConstructorReturn(this,(GridLines.__proto__||Object.getPrototypeOf(GridLines)).apply(this,arguments))}_createClass(GridLines,[{key:"_getDefaultProps",value:function _getDefaultProps(){var _props=this.props,innerWidth=_props.innerWidth,innerHeight=_props.innerHeight,marginTop=_props.marginTop,marginLeft=_props.marginLeft,direction=_props.direction;return{left:marginLeft,top:marginTop,width:innerWidth,height:innerHeight,tickTotal:(0,_axisUtils.getTicksTotalFromSize)(direction===VERTICAL?innerWidth:innerHeight)}}},{key:"render",value:function render(){var animation=this.props.animation;if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:animatedProps}),_react2.default.createElement(GridLines,_extends({},this.props,{animation:null})))}var props=_extends({},this._getDefaultProps(),this.props);var attr=props.attr,direction=props.direction,width=props.width,height=props.height,style=props.style,tickTotal=props.tickTotal,tickValues=props.tickValues,top=props.top,left=props.left;var isVertical=direction===VERTICAL;var tickXAttr=isVertical?"y":"x";var tickYAttr=isVertical?"x":"y";var length=isVertical?height:width;var scale=(0,_scalesUtils.getAttributeScale)(props,attr);var values=(0,_axisUtils.getTickValues)(scale,tickTotal,tickValues);return _react2.default.createElement("g",{transform:"translate("+left+","+top+")",className:"rv-xy-plot__grid-lines"},values.map((function(v,i){var _pathProps;var pos=scale(v);var pathProps=(_pathProps={},_defineProperty(_pathProps,tickYAttr+"1",pos),_defineProperty(_pathProps,tickYAttr+"2",pos),_defineProperty(_pathProps,tickXAttr+"1",0),_defineProperty(_pathProps,tickXAttr+"2",length),_pathProps);return _react2.default.createElement("line",_extends({},pathProps,{key:i,className:"rv-xy-plot__grid-lines__line",style:style}))})))}}]);return GridLines}(_react.PureComponent);GridLines.displayName="GridLines";GridLines.defaultProps=defaultProps;GridLines.propTypes=propTypes;GridLines.requiresSVG=true;exports.default=GridLines},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LicenseContext}));__webpack_require__.d(__webpack_exports__,"b",(function(){return LicenseProvider}));var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var useObservable=__webpack_require__(373);var useObservable_default=__webpack_require__.n(useObservable);var useApmPluginContext=__webpack_require__(45);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(18);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);var useKibanaUrl=__webpack_require__(210);function InvalidLicenseNotification(){const manageLicenseURL=Object(useKibanaUrl["a"])("/app/management/stack/license_management");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",iconColor:"warning",title:external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.invalidLicense.title",{defaultMessage:"Invalid License"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.invalidLicense.message",{defaultMessage:"The APM UI is not available because your current license has expired or is no longer valid."})),actions:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:manageLicenseURL},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.invalidLicense.licenseManagementLink",{defaultMessage:"Manage your license"}))]})}const LicenseContext=external_kbnSharedDeps_React_default.a.createContext(undefined);function LicenseProvider({children:children}){const license$=Object(useApmPluginContext["a"])().plugins.licensing.license$;const license=useObservable_default()(license$);const hasInvalidLicense=(license===null||license===void 0?void 0:license.isActive)===false;if(hasInvalidLicense){return external_kbnSharedDeps_React_default.a.createElement(InvalidLicenseNotification,null)}return external_kbnSharedDeps_React_default.a.createElement(LicenseContext.Provider,{value:license,children:children})}},,function(module,exports,__webpack_require__){(function(global){var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){if(timeout){timeout.close()}};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout((function onTimeout(){if(item._onTimeout)item._onTimeout()}),msecs)}};__webpack_require__(334);exports.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof global!=="undefined"&&global.setImmediate||this&&this.setImmediate;exports.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof global!=="undefined"&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__(8))},,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useKibanaUrl}));var url__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var url__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_0__);var _useApmPluginContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45);function useKibanaUrl(path,hash){const _useApmPluginContext=Object(_useApmPluginContext__WEBPACK_IMPORTED_MODULE_1__["a"])(),core=_useApmPluginContext.core;return url__WEBPACK_IMPORTED_MODULE_0___default.a.format({pathname:core.http.basePath.prepend(path),hash:hash})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EnvironmentFilter}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);var react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20);var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);var _common_environment_filter_values__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59);var _hooks_useEnvironments__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(108);var _hooks_useUrlParams__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(42);var _Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function updateEnvironmentUrl(history,location,environment){const nextEnvironmentQueryParam=environment!==_common_environment_filter_values__WEBPACK_IMPORTED_MODULE_4__["a"].value?environment:undefined;history.push(_objectSpread(_objectSpread({},location),{},{search:Object(_Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__["b"])(_objectSpread(_objectSpread({},Object(_Links_url_helpers__WEBPACK_IMPORTED_MODULE_7__["c"])(location.search)),{},{environment:nextEnvironmentQueryParam}))}))}const SEPARATOR_OPTION={text:"- ".concat(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.apm.filter.environment.selectEnvironmentLabel",{defaultMessage:"Select environment"})," -"),disabled:true};function getOptions(environments){const environmentOptions=environments.filter(env=>env!==_common_environment_filter_values__WEBPACK_IMPORTED_MODULE_4__["b"].value).map(environment=>({value:environment,text:environment}));return[_common_environment_filter_values__WEBPACK_IMPORTED_MODULE_4__["a"],...environments.includes(_common_environment_filter_values__WEBPACK_IMPORTED_MODULE_4__["b"].value)?[_common_environment_filter_values__WEBPACK_IMPORTED_MODULE_4__["b"]]:[],...environmentOptions.length>0?[SEPARATOR_OPTION]:[],...environmentOptions]}function EnvironmentFilter(){const history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useHistory"])();const location=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useLocation"])();const _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(_hooks_useUrlParams__WEBPACK_IMPORTED_MODULE_6__["a"])(),uiFilters=_useUrlParams.uiFilters,urlParams=_useUrlParams.urlParams;const environment=uiFilters.environment;const start=urlParams.start,end=urlParams.end;const _useEnvironments=Object(_hooks_useEnvironments__WEBPACK_IMPORTED_MODULE_5__["a"])({serviceName:serviceName,start:start,end:end}),environments=_useEnvironments.environments,_useEnvironments$stat=_useEnvironments.status,status=_useEnvironments$stat===void 0?"loading":_useEnvironments$stat;const minWidth=200;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiSelect"],{prepend:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.apm.filter.environment.label",{defaultMessage:"Environment"}),options:getOptions(environments),value:environment||_common_environment_filter_values__WEBPACK_IMPORTED_MODULE_4__["a"].value,onChange:event=>{updateEnvironmentUrl(history,location,event.target.value)},isLoading:status==="loading",style:{minWidth:minWidth}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function capitalizeString(string){return string.charAt(0).toUpperCase()+string.slice(1)}exports.default=capitalizeString;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _endsWith=__webpack_require__(376);var _endsWith2=_interopRequireDefault(_endsWith);var _stripUnit=__webpack_require__(154);var _stripUnit2=_interopRequireDefault(_stripUnit);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var pxtoFactory=function pxtoFactory(to){return function(pxval){var base=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"16px";var newPxval=pxval;var newBase=base;if(typeof pxval==="string"){if(!(0,_endsWith2.default)(pxval,"px")){throw new Error('Expected a string ending in "px" or a number passed as the first argument to '+to+'(), got "'+pxval+'" instead.')}newPxval=(0,_stripUnit2.default)(pxval)}if(typeof base==="string"){if(!(0,_endsWith2.default)(base,"px")){throw new Error('Expected a string ending in "px" or a number passed as the second argument to '+to+'(), got "'+base+'" instead.')}newBase=(0,_stripUnit2.default)(base)}if(typeof newPxval==="string"){throw new Error('Passed invalid pixel value ("'+pxval+'") to '+to+'(), please pass a value like "12px" or 12.')}if(typeof newBase==="string"){throw new Error('Passed invalid base value ("'+base+'") to '+to+'(), please pass a value like "12px" or 12.')}return""+newPxval/newBase+to}};exports.default=pxtoFactory;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function hiDPI(){var ratio=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.3;return"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+ratio+"),\n    only screen and (min--moz-device-pixel-ratio: "+ratio+"),\n    only screen and (-o-min-device-pixel-ratio: "+ratio+"/1),\n    only screen and (min-resolution: "+Math.round(ratio*96)+"dpi),\n    only screen and (min-resolution: "+ratio+"dppx)\n  "}exports.default=hiDPI;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reduceHexValue=function reduceHexValue(value){if(value.length===7&&value[1]===value[2]&&value[3]===value[4]&&value[5]===value[6]){return"#"+value[1]+value[3]+value[5]}return value};exports.default=reduceHexValue;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function numberToHex(value){var hex=value.toString(16);return hex.length===1?"0"+hex:hex}exports.default=numberToHex;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _hslToHex=__webpack_require__(218);var _hslToHex2=_interopRequireDefault(_hslToHex);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function hsl(value,saturation,lightness){if(typeof value==="number"&&typeof saturation==="number"&&typeof lightness==="number"){return(0,_hslToHex2.default)(value,saturation,lightness)}else if(typeof value==="object"&&saturation===undefined&&lightness===undefined){return(0,_hslToHex2.default)(value.hue,value.saturation,value.lightness)}throw new Error("Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).")}exports.default=hsl;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _hslToRgb=__webpack_require__(155);var _hslToRgb2=_interopRequireDefault(_hslToRgb);var _reduceHexValue=__webpack_require__(215);var _reduceHexValue2=_interopRequireDefault(_reduceHexValue);var _numberToHex=__webpack_require__(216);var _numberToHex2=_interopRequireDefault(_numberToHex);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function colorToHex(color){return(0,_numberToHex2.default)(Math.round(color*255))}function convertToHex(red,green,blue){return(0,_reduceHexValue2.default)("#"+colorToHex(red)+colorToHex(green)+colorToHex(blue))}function hslToHex(hue,saturation,lightness){return(0,_hslToRgb2.default)(hue,saturation,lightness,convertToHex)}exports.default=hslToHex;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _hslToHex=__webpack_require__(218);var _hslToHex2=_interopRequireDefault(_hslToHex);var _hslToRgb=__webpack_require__(155);var _hslToRgb2=_interopRequireDefault(_hslToRgb);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function hsla(value,saturation,lightness,alpha){if(typeof value==="number"&&typeof saturation==="number"&&typeof lightness==="number"&&typeof alpha==="number"){return alpha>=1?(0,_hslToHex2.default)(value,saturation,lightness):"rgba("+(0,_hslToRgb2.default)(value,saturation,lightness)+","+alpha+")"}else if(typeof value==="object"&&saturation===undefined&&lightness===undefined&&alpha===undefined){return value.alpha>=1?(0,_hslToHex2.default)(value.hue,value.saturation,value.lightness):"rgba("+(0,_hslToRgb2.default)(value.hue,value.saturation,value.lightness)+","+value.alpha+")"}throw new Error("Passed invalid arguments to hsla, please pass multiple numbers e.g. hsl(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).")}exports.default=hsla;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getLuminance(color){var rgbColor=(0,_parseToRgb2.default)(color);var _Object$keys$map=Object.keys(rgbColor).map((function(key){var channel=rgbColor[key]/255;return channel<=.03928?channel/12.92:Math.pow((channel+.055)/1.055,2.4)})),r=_Object$keys$map[0],g=_Object$keys$map[1],b=_Object$keys$map[2];return.2126*r+.7152*g+.0722*b}exports.default=getLuminance;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function generateSelectors(template,state){var stateSuffix=state?":"+state:"";return template(stateSuffix)}function statefulSelectors(states,template,stateMap){if(!template)throw new Error("You must provide a template to this method.");if(states.length===0)return generateSelectors(template,null);var selectors=[];for(var i=0;i<states.length;i+=1){if(stateMap&&stateMap.indexOf(states[i])<0){throw new Error("You passed an unsupported selector state to this method.")}selectors.push(generateSelectors(template,states[i]))}selectors=selectors.join(",");return selectors}exports.default=statefulSelectors;module.exports=exports["default"]},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(224);var defined=__webpack_require__(225);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(447);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return cof(it)=="String"?it.split(""):Object(it)}},function(module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}},function(module,exports){var ceil=Math.ceil;var floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _agate=__webpack_require__(464);Object.defineProperty(exports,"agate",{enumerable:true,get:function get(){return _interopRequireDefault(_agate).default}});var _androidstudio=__webpack_require__(465);Object.defineProperty(exports,"androidstudio",{enumerable:true,get:function get(){return _interopRequireDefault(_androidstudio).default}});var _arduinoLight=__webpack_require__(466);Object.defineProperty(exports,"arduinoLight",{enumerable:true,get:function get(){return _interopRequireDefault(_arduinoLight).default}});var _arta=__webpack_require__(467);Object.defineProperty(exports,"arta",{enumerable:true,get:function get(){return _interopRequireDefault(_arta).default}});var _ascetic=__webpack_require__(468);Object.defineProperty(exports,"ascetic",{enumerable:true,get:function get(){return _interopRequireDefault(_ascetic).default}});var _atelierCaveDark=__webpack_require__(469);Object.defineProperty(exports,"atelierCaveDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierCaveDark).default}});var _atelierCaveLight=__webpack_require__(470);Object.defineProperty(exports,"atelierCaveLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierCaveLight).default}});var _atelierDuneDark=__webpack_require__(471);Object.defineProperty(exports,"atelierDuneDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierDuneDark).default}});var _atelierDuneLight=__webpack_require__(472);Object.defineProperty(exports,"atelierDuneLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierDuneLight).default}});var _atelierEstuaryDark=__webpack_require__(473);Object.defineProperty(exports,"atelierEstuaryDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierEstuaryDark).default}});var _atelierEstuaryLight=__webpack_require__(474);Object.defineProperty(exports,"atelierEstuaryLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierEstuaryLight).default}});var _atelierForestDark=__webpack_require__(475);Object.defineProperty(exports,"atelierForestDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierForestDark).default}});var _atelierForestLight=__webpack_require__(476);Object.defineProperty(exports,"atelierForestLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierForestLight).default}});var _atelierHeathDark=__webpack_require__(477);Object.defineProperty(exports,"atelierHeathDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierHeathDark).default}});var _atelierHeathLight=__webpack_require__(478);Object.defineProperty(exports,"atelierHeathLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierHeathLight).default}});var _atelierLakesideDark=__webpack_require__(479);Object.defineProperty(exports,"atelierLakesideDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierLakesideDark).default}});var _atelierLakesideLight=__webpack_require__(480);Object.defineProperty(exports,"atelierLakesideLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierLakesideLight).default}});var _atelierPlateauDark=__webpack_require__(481);Object.defineProperty(exports,"atelierPlateauDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierPlateauDark).default}});var _atelierPlateauLight=__webpack_require__(482);Object.defineProperty(exports,"atelierPlateauLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierPlateauLight).default}});var _atelierSavannaDark=__webpack_require__(483);Object.defineProperty(exports,"atelierSavannaDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierSavannaDark).default}});var _atelierSavannaLight=__webpack_require__(484);Object.defineProperty(exports,"atelierSavannaLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierSavannaLight).default}});var _atelierSeasideDark=__webpack_require__(485);Object.defineProperty(exports,"atelierSeasideDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierSeasideDark).default}});var _atelierSeasideLight=__webpack_require__(486);Object.defineProperty(exports,"atelierSeasideLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierSeasideLight).default}});var _atelierSulphurpoolDark=__webpack_require__(487);Object.defineProperty(exports,"atelierSulphurpoolDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierSulphurpoolDark).default}});var _atelierSulphurpoolLight=__webpack_require__(488);Object.defineProperty(exports,"atelierSulphurpoolLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atelierSulphurpoolLight).default}});var _atomOneDark=__webpack_require__(489);Object.defineProperty(exports,"atomOneDark",{enumerable:true,get:function get(){return _interopRequireDefault(_atomOneDark).default}});var _atomOneLight=__webpack_require__(490);Object.defineProperty(exports,"atomOneLight",{enumerable:true,get:function get(){return _interopRequireDefault(_atomOneLight).default}});var _brownPaper=__webpack_require__(491);Object.defineProperty(exports,"brownPaper",{enumerable:true,get:function get(){return _interopRequireDefault(_brownPaper).default}});var _codepenEmbed=__webpack_require__(492);Object.defineProperty(exports,"codepenEmbed",{enumerable:true,get:function get(){return _interopRequireDefault(_codepenEmbed).default}});var _colorBrewer=__webpack_require__(493);Object.defineProperty(exports,"colorBrewer",{enumerable:true,get:function get(){return _interopRequireDefault(_colorBrewer).default}});var _darcula=__webpack_require__(494);Object.defineProperty(exports,"darcula",{enumerable:true,get:function get(){return _interopRequireDefault(_darcula).default}});var _dark=__webpack_require__(495);Object.defineProperty(exports,"dark",{enumerable:true,get:function get(){return _interopRequireDefault(_dark).default}});var _darkula=__webpack_require__(496);Object.defineProperty(exports,"darkula",{enumerable:true,get:function get(){return _interopRequireDefault(_darkula).default}});var _defaultStyle=__webpack_require__(497);Object.defineProperty(exports,"defaultStyle",{enumerable:true,get:function get(){return _interopRequireDefault(_defaultStyle).default}});var _docco=__webpack_require__(498);Object.defineProperty(exports,"docco",{enumerable:true,get:function get(){return _interopRequireDefault(_docco).default}});var _dracula=__webpack_require__(499);Object.defineProperty(exports,"dracula",{enumerable:true,get:function get(){return _interopRequireDefault(_dracula).default}});var _far=__webpack_require__(500);Object.defineProperty(exports,"far",{enumerable:true,get:function get(){return _interopRequireDefault(_far).default}});var _foundation=__webpack_require__(501);Object.defineProperty(exports,"foundation",{enumerable:true,get:function get(){return _interopRequireDefault(_foundation).default}});var _githubGist=__webpack_require__(502);Object.defineProperty(exports,"githubGist",{enumerable:true,get:function get(){return _interopRequireDefault(_githubGist).default}});var _github=__webpack_require__(503);Object.defineProperty(exports,"github",{enumerable:true,get:function get(){return _interopRequireDefault(_github).default}});var _googlecode=__webpack_require__(504);Object.defineProperty(exports,"googlecode",{enumerable:true,get:function get(){return _interopRequireDefault(_googlecode).default}});var _grayscale=__webpack_require__(505);Object.defineProperty(exports,"grayscale",{enumerable:true,get:function get(){return _interopRequireDefault(_grayscale).default}});var _gruvboxDark=__webpack_require__(506);Object.defineProperty(exports,"gruvboxDark",{enumerable:true,get:function get(){return _interopRequireDefault(_gruvboxDark).default}});var _gruvboxLight=__webpack_require__(507);Object.defineProperty(exports,"gruvboxLight",{enumerable:true,get:function get(){return _interopRequireDefault(_gruvboxLight).default}});var _hopscotch=__webpack_require__(508);Object.defineProperty(exports,"hopscotch",{enumerable:true,get:function get(){return _interopRequireDefault(_hopscotch).default}});var _hybrid=__webpack_require__(509);Object.defineProperty(exports,"hybrid",{enumerable:true,get:function get(){return _interopRequireDefault(_hybrid).default}});var _idea=__webpack_require__(510);Object.defineProperty(exports,"idea",{enumerable:true,get:function get(){return _interopRequireDefault(_idea).default}});var _irBlack=__webpack_require__(511);Object.defineProperty(exports,"irBlack",{enumerable:true,get:function get(){return _interopRequireDefault(_irBlack).default}});var _kimbie=__webpack_require__(512);Object.defineProperty(exports,"kimbieDark",{enumerable:true,get:function get(){return _interopRequireDefault(_kimbie).default}});var _kimbie2=__webpack_require__(513);Object.defineProperty(exports,"kimbieLight",{enumerable:true,get:function get(){return _interopRequireDefault(_kimbie2).default}});var _magula=__webpack_require__(514);Object.defineProperty(exports,"magula",{enumerable:true,get:function get(){return _interopRequireDefault(_magula).default}});var _monoBlue=__webpack_require__(515);Object.defineProperty(exports,"monoBlue",{enumerable:true,get:function get(){return _interopRequireDefault(_monoBlue).default}});var _monokaiSublime=__webpack_require__(516);Object.defineProperty(exports,"monokaiSublime",{enumerable:true,get:function get(){return _interopRequireDefault(_monokaiSublime).default}});var _monokai=__webpack_require__(517);Object.defineProperty(exports,"monokai",{enumerable:true,get:function get(){return _interopRequireDefault(_monokai).default}});var _obsidian=__webpack_require__(518);Object.defineProperty(exports,"obsidian",{enumerable:true,get:function get(){return _interopRequireDefault(_obsidian).default}});var _ocean=__webpack_require__(519);Object.defineProperty(exports,"ocean",{enumerable:true,get:function get(){return _interopRequireDefault(_ocean).default}});var _paraisoDark=__webpack_require__(520);Object.defineProperty(exports,"paraisoDark",{enumerable:true,get:function get(){return _interopRequireDefault(_paraisoDark).default}});var _paraisoLight=__webpack_require__(521);Object.defineProperty(exports,"paraisoLight",{enumerable:true,get:function get(){return _interopRequireDefault(_paraisoLight).default}});var _pojoaque=__webpack_require__(522);Object.defineProperty(exports,"pojoaque",{enumerable:true,get:function get(){return _interopRequireDefault(_pojoaque).default}});var _purebasic=__webpack_require__(523);Object.defineProperty(exports,"purebasic",{enumerable:true,get:function get(){return _interopRequireDefault(_purebasic).default}});var _qtcreator_dark=__webpack_require__(524);Object.defineProperty(exports,"qtcreatorDark",{enumerable:true,get:function get(){return _interopRequireDefault(_qtcreator_dark).default}});var _qtcreator_light=__webpack_require__(525);Object.defineProperty(exports,"qtcreatorLight",{enumerable:true,get:function get(){return _interopRequireDefault(_qtcreator_light).default}});var _railscasts=__webpack_require__(526);Object.defineProperty(exports,"railscasts",{enumerable:true,get:function get(){return _interopRequireDefault(_railscasts).default}});var _rainbow=__webpack_require__(527);Object.defineProperty(exports,"rainbow",{enumerable:true,get:function get(){return _interopRequireDefault(_rainbow).default}});var _routeros=__webpack_require__(528);Object.defineProperty(exports,"routeros",{enumerable:true,get:function get(){return _interopRequireDefault(_routeros).default}});var _schoolBook=__webpack_require__(529);Object.defineProperty(exports,"schoolBook",{enumerable:true,get:function get(){return _interopRequireDefault(_schoolBook).default}});var _solarizedDark=__webpack_require__(530);Object.defineProperty(exports,"solarizedDark",{enumerable:true,get:function get(){return _interopRequireDefault(_solarizedDark).default}});var _solarizedLight=__webpack_require__(531);Object.defineProperty(exports,"solarizedLight",{enumerable:true,get:function get(){return _interopRequireDefault(_solarizedLight).default}});var _sunburst=__webpack_require__(532);Object.defineProperty(exports,"sunburst",{enumerable:true,get:function get(){return _interopRequireDefault(_sunburst).default}});var _tomorrowNightBlue=__webpack_require__(533);Object.defineProperty(exports,"tomorrowNightBlue",{enumerable:true,get:function get(){return _interopRequireDefault(_tomorrowNightBlue).default}});var _tomorrowNightBright=__webpack_require__(534);Object.defineProperty(exports,"tomorrowNightBright",{enumerable:true,get:function get(){return _interopRequireDefault(_tomorrowNightBright).default}});var _tomorrowNightEighties=__webpack_require__(535);Object.defineProperty(exports,"tomorrowNightEighties",{enumerable:true,get:function get(){return _interopRequireDefault(_tomorrowNightEighties).default}});var _tomorrowNight=__webpack_require__(536);Object.defineProperty(exports,"tomorrowNight",{enumerable:true,get:function get(){return _interopRequireDefault(_tomorrowNight).default}});var _tomorrow=__webpack_require__(537);Object.defineProperty(exports,"tomorrow",{enumerable:true,get:function get(){return _interopRequireDefault(_tomorrow).default}});var _vs=__webpack_require__(538);Object.defineProperty(exports,"vs",{enumerable:true,get:function get(){return _interopRequireDefault(_vs).default}});var _vs2=__webpack_require__(539);Object.defineProperty(exports,"vs2015",{enumerable:true,get:function get(){return _interopRequireDefault(_vs2).default}});var _xcode=__webpack_require__(540);Object.defineProperty(exports,"xcode",{enumerable:true,get:function get(){return _interopRequireDefault(_xcode).default}});var _xt=__webpack_require__(541);Object.defineProperty(exports,"xt256",{enumerable:true,get:function get(){return _interopRequireDefault(_xt).default}});var _zenburn=__webpack_require__(542);Object.defineProperty(exports,"zenburn",{enumerable:true,get:function get(){return _interopRequireDefault(_zenburn).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(123),arrayEach=__webpack_require__(168),assignValue=__webpack_require__(128),baseAssign=__webpack_require__(580),baseAssignIn=__webpack_require__(586),cloneBuffer=__webpack_require__(234),copyArray=__webpack_require__(235),copySymbols=__webpack_require__(589),copySymbolsIn=__webpack_require__(590),getAllKeys=__webpack_require__(239),getAllKeysIn=__webpack_require__(591),getTag=__webpack_require__(100),initCloneArray=__webpack_require__(595),initCloneByTag=__webpack_require__(596),initCloneObject=__webpack_require__(244),isArray=__webpack_require__(53),isBuffer=__webpack_require__(99),isMap=__webpack_require__(600),isObject=__webpack_require__(65),isSet=__webpack_require__(602),keys=__webpack_require__(75),keysIn=__webpack_require__(86);var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(isSet(value)){value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}))}else if(isMap(value)){value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}))}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,(function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}));return result}module.exports=baseClone},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(8))},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports,__webpack_require__){var getNative=__webpack_require__(84);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(581),isArguments=__webpack_require__(113),isArray=__webpack_require__(53),isBuffer=__webpack_require__(99),isIndex=__webpack_require__(130),isTypedArray=__webpack_require__(114);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}module.exports=arrayLikeKeys},function(module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(69);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined;function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}module.exports=cloneBuffer}).call(this,__webpack_require__(9)(module))},function(module,exports){function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}module.exports=copyArray},function(module,exports){function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}module.exports=arrayFilter},function(module,exports){function stubArray(){return[]}module.exports=stubArray},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(173),getPrototype=__webpack_require__(133),getSymbols=__webpack_require__(172),stubArray=__webpack_require__(237);var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};module.exports=getSymbolsIn},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(240),getSymbols=__webpack_require__(172),keys=__webpack_require__(75);function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}module.exports=getAllKeys},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(173),isArray=__webpack_require__(53);function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}module.exports=baseGetAllKeys},function(module,exports,__webpack_require__){var getNative=__webpack_require__(84),root=__webpack_require__(69);var Set=getNative(root,"Set");module.exports=Set},function(module,exports,__webpack_require__){var root=__webpack_require__(69);var Uint8Array=root.Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(174);function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}module.exports=cloneTypedArray},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(245),getPrototype=__webpack_require__(133),isPrototype=__webpack_require__(132);function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}module.exports=initCloneObject},function(module,exports,__webpack_require__){var isObject=__webpack_require__(65);var objectCreate=Object.create;var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){module.exports=__webpack_require__(247)},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(168),baseEach=__webpack_require__(134),castFunction=__webpack_require__(248),isArray=__webpack_require__(53);function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,castFunction(iteratee))}module.exports=forEach},function(module,exports,__webpack_require__){var identity=__webpack_require__(87);function castFunction(value){return typeof value=="function"?value:identity}module.exports=castFunction},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(236),baseFilter=__webpack_require__(606),baseIteratee=__webpack_require__(72),isArray=__webpack_require__(53);function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,baseIteratee(predicate,3))}module.exports=filter},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(609),isObjectLike=__webpack_require__(70);function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}module.exports=baseIsEqual},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(252),arraySome=__webpack_require__(612),cacheHas=__webpack_require__(253);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var arrStacked=stack.get(array);var othStacked=stack.get(other);if(arrStacked&&othStacked){return arrStacked==other&&othStacked==array}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}}))){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}module.exports=equalArrays},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(167),setCacheAdd=__webpack_require__(610),setCacheHas=__webpack_require__(611);function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;module.exports=SetCache},function(module,exports){function cacheHas(cache,key){return cache.has(key)}module.exports=cacheHas},function(module,exports,__webpack_require__){var isObject=__webpack_require__(65);function isStrictComparable(value){return value===value&&!isObject(value)}module.exports=isStrictComparable},function(module,exports){function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}module.exports=matchesStrictComparable},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(622);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(623),hasPath=__webpack_require__(258);function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}module.exports=hasIn},function(module,exports,__webpack_require__){var castPath=__webpack_require__(136),isArguments=__webpack_require__(113),isArray=__webpack_require__(53),isIndex=__webpack_require__(130),isLength=__webpack_require__(169),toKey=__webpack_require__(115);function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}module.exports=hasPath},function(module,exports){function baseProperty(key){return function(object){return object==null?undefined:object[key]}}module.exports=baseProperty},function(module,exports,__webpack_require__){var baseHas=__webpack_require__(626),hasPath=__webpack_require__(258);function has(object,path){return object!=null&&hasPath(object,path,baseHas)}module.exports=has},function(module,exports){function isUndefined(value){return value===undefined}module.exports=isUndefined},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(137),baseIteratee=__webpack_require__(72),baseMap=__webpack_require__(263),isArray=__webpack_require__(53);function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,baseIteratee(iteratee,3))}module.exports=map},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(134),isArrayLike=__webpack_require__(71);function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)}));return result}module.exports=baseMap},function(module,exports,__webpack_require__){var arrayReduce=__webpack_require__(628),baseEach=__webpack_require__(134),baseIteratee=__webpack_require__(72),baseReduce=__webpack_require__(629),isArray=__webpack_require__(53);function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,baseIteratee(iteratee,4),accumulator,initAccum,baseEach)}module.exports=reduce},function(module,exports,__webpack_require__){var apply=__webpack_require__(639);var nativeMax=Math.max;function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}module.exports=overRest},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(640),shortOut=__webpack_require__(641);var setToString=shortOut(baseSetToString);module.exports=setToString},function(module,exports){function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}module.exports=baseFindIndex},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(71),isObjectLike=__webpack_require__(70);function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}module.exports=isArrayLikeObject},function(module,exports,__webpack_require__){var baseValues=__webpack_require__(650),keys=__webpack_require__(75);function values(object){return object==null?[]:baseValues(object,keys(object))}module.exports=values},function(module,exports,__webpack_require__){var _=__webpack_require__(64);var PriorityQueue=__webpack_require__(271);module.exports=dijkstra;var DEFAULT_WEIGHT_FUNC=_.constant(1);function dijkstra(g,source,weightFn,edgeFn){return runDijkstra(g,String(source),weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})}function runDijkstra(g,source,weightFn,edgeFn){var results={};var pq=new PriorityQueue;var v,vEntry;var updateNeighbors=function(edge){var w=edge.v!==v?edge.v:edge.w;var wEntry=results[w];var weight=weightFn(edge);var distance=vEntry.distance+weight;if(weight<0){throw new Error("dijkstra does not allow negative edge weights. "+"Bad edge: "+edge+" Weight: "+weight)}if(distance<wEntry.distance){wEntry.distance=distance;wEntry.predecessor=v;pq.decrease(w,distance)}};g.nodes().forEach((function(v){var distance=v===source?0:Number.POSITIVE_INFINITY;results[v]={distance:distance};pq.add(v,distance)}));while(pq.size()>0){v=pq.removeMin();vEntry=results[v];if(vEntry.distance===Number.POSITIVE_INFINITY){break}edgeFn(v).forEach(updateNeighbors)}return results}},function(module,exports,__webpack_require__){var _=__webpack_require__(64);module.exports=PriorityQueue;function PriorityQueue(){this._arr=[];this._keyIndices={}}PriorityQueue.prototype.size=function(){return this._arr.length};PriorityQueue.prototype.keys=function(){return this._arr.map((function(x){return x.key}))};PriorityQueue.prototype.has=function(key){return _.has(this._keyIndices,key)};PriorityQueue.prototype.priority=function(key){var index=this._keyIndices[key];if(index!==undefined){return this._arr[index].priority}};PriorityQueue.prototype.min=function(){if(this.size()===0){throw new Error("Queue underflow")}return this._arr[0].key};PriorityQueue.prototype.add=function(key,priority){var keyIndices=this._keyIndices;key=String(key);if(!_.has(keyIndices,key)){var arr=this._arr;var index=arr.length;keyIndices[key]=index;arr.push({key:key,priority:priority});this._decrease(index);return true}return false};PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var min=this._arr.pop();delete this._keyIndices[min.key];this._heapify(0);return min.key};PriorityQueue.prototype.decrease=function(key,priority){var index=this._keyIndices[key];if(priority>this._arr[index].priority){throw new Error("New priority is greater than current priority. "+"Key: "+key+" Old: "+this._arr[index].priority+" New: "+priority)}this._arr[index].priority=priority;this._decrease(index)};PriorityQueue.prototype._heapify=function(i){var arr=this._arr;var l=2*i;var r=l+1;var largest=i;if(l<arr.length){largest=arr[l].priority<arr[largest].priority?l:largest;if(r<arr.length){largest=arr[r].priority<arr[largest].priority?r:largest}if(largest!==i){this._swap(i,largest);this._heapify(largest)}}};PriorityQueue.prototype._decrease=function(index){var arr=this._arr;var priority=arr[index].priority;var parent;while(index!==0){parent=index>>1;if(arr[parent].priority<priority){break}this._swap(index,parent);index=parent}};PriorityQueue.prototype._swap=function(i,j){var arr=this._arr;var keyIndices=this._keyIndices;var origArrI=arr[i];var origArrJ=arr[j];arr[i]=origArrJ;arr[j]=origArrI;keyIndices[origArrJ.key]=i;keyIndices[origArrI.key]=j}},function(module,exports,__webpack_require__){var _=__webpack_require__(64);module.exports=tarjan;function tarjan(g){var index=0;var stack=[];var visited={};var results=[];function dfs(v){var entry=visited[v]={onStack:true,lowlink:index,index:index++};stack.push(v);g.successors(v).forEach((function(w){if(!_.has(visited,w)){dfs(w);entry.lowlink=Math.min(entry.lowlink,visited[w].lowlink)}else if(visited[w].onStack){entry.lowlink=Math.min(entry.lowlink,visited[w].index)}}));if(entry.lowlink===entry.index){var cmpt=[];var w;do{w=stack.pop();visited[w].onStack=false;cmpt.push(w)}while(v!==w);results.push(cmpt)}}g.nodes().forEach((function(v){if(!_.has(visited,v)){dfs(v)}}));return results}},function(module,exports,__webpack_require__){var _=__webpack_require__(64);module.exports=topsort;topsort.CycleException=CycleException;function topsort(g){var visited={};var stack={};var results=[];function visit(node){if(_.has(stack,node)){throw new CycleException}if(!_.has(visited,node)){stack[node]=true;visited[node]=true;_.each(g.predecessors(node),visit);delete stack[node];results.push(node)}}_.each(g.sinks(),visit);if(_.size(visited)!==g.nodeCount()){throw new CycleException}return results}function CycleException(){}CycleException.prototype=new Error},function(module,exports,__webpack_require__){var _=__webpack_require__(64);module.exports=dfs;function dfs(g,vs,order){if(!_.isArray(vs)){vs=[vs]}var navigation=(g.isDirected()?g.successors:g.neighbors).bind(g);var acc=[];var visited={};_.each(vs,(function(v){if(!g.hasNode(v)){throw new Error("Graph does not have node: "+v)}doDfs(g,v,order==="post",visited,navigation,acc)}));return acc}function doDfs(g,v,postorder,visited,navigation,acc){if(!_.has(visited,v)){visited[v]=true;if(!postorder){acc.push(v)}_.each(navigation(v),(function(w){doDfs(g,w,postorder,visited,navigation,acc)}));if(postorder){acc.push(v)}}}},function(module,exports,__webpack_require__){var toNumber=__webpack_require__(669);var INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}module.exports=toFinite},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(180);function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}module.exports=flatten},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(129),eq=__webpack_require__(97);function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignMergeValue},function(module,exports){function safeGet(object,key){if(key==="constructor"&&typeof object[key]==="function"){return}if(key=="__proto__"){return}return object[key]}module.exports=safeGet},function(module,exports){function baseLt(value,other){return value<other}module.exports=baseLt},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var Graph=__webpack_require__(68).Graph;var slack=__webpack_require__(140).slack;module.exports=feasibleTree;function feasibleTree(g){var t=new Graph({directed:false});var start=g.nodes()[0];var size=g.nodeCount();t.setNode(start,{});var edge,delta;while(tightTree(t,g)<size){edge=findMinSlackEdge(t,g);delta=t.hasNode(edge.v)?slack(g,edge):-slack(g,edge);shiftRanks(t,g,delta)}return t}function tightTree(t,g){function dfs(v){_.forEach(g.nodeEdges(v),(function(e){var edgeV=e.v,w=v===edgeV?e.w:edgeV;if(!t.hasNode(w)&&!slack(g,e)){t.setNode(w,{});t.setEdge(v,w,{});dfs(w)}}))}_.forEach(t.nodes(),dfs);return t.nodeCount()}function findMinSlackEdge(t,g){return _.minBy(g.edges(),(function(e){if(t.hasNode(e.v)!==t.hasNode(e.w)){return slack(g,e)}}))}function shiftRanks(t,g,delta){_.forEach(t.nodes(),(function(v){g.node(v).rank+=delta}))}},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS43MjkgMjQuNzQ3cy0xLjI0My43MS44ODUuOTUxYzIuNTguMjkgMy44OTcuMjQ4IDYuNzM4LS4yOCAwIDAgLjc0OC40NiAxLjc5Mi44NTgtNi4zNzEgMi42ODUtMTQuNDE5LS4xNTUtOS40MTUtMS41M3ptLS43NzktMy41MDNzLTEuMzk0IDEuMDE0LjczNiAxLjIzMWMyLjc1NS4yOCA0LjkzLjMwMyA4LjY5NS0uNDEgMCAwIC41Mi41MiAxLjMzOC44MDMtNy43MDIgMi4yMTUtMTYuMjguMTc0LTEwLjc2OS0xLjYyNHoiIGZpbGw9IiMzMTc0QjkiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjUxMiAxNS4zYzEuNTcgMS43NzgtLjQxMSAzLjM3Ny0uNDExIDMuMzc3czMuOTg2LTIuMDIzIDIuMTU1LTQuNTU3Yy0xLjcxLTIuMzYyLTMuMDItMy41MzYgNC4wNzctNy41ODMgMCAwLTExLjE0MSAyLjczNS01LjgyIDguNzYzeiIgZmlsbD0iI0NBMzEzMiIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjUuOTM4IDI3LjMzOHMuOTIuNzQ2LTEuMDEzIDEuMzIzYy0zLjY3NyAxLjA5NS0xNS4zMDQgMS40MjUtMTguNTM0LjA0NC0xLjE2LS40OTcgMS4wMTYtMS4xODYgMS43MDEtMS4zMzIuNzE0LS4xNTEgMS4xMjItLjEyNCAxLjEyMi0uMTI0LTEuMjkxLS44OTQtOC4zNDYgMS43NTYtMy41ODMgMi41MTYgMTIuOTg4IDIuMDcxIDIzLjY3NS0uOTMyIDIwLjMwNy0yLjQyN3ptLTEzLjYxMS05LjcyNHMtNS45MTQgMS4zODEtMi4wOTQgMS44ODRjMS42MTMuMjEyIDQuODI3LjE2MyA3LjgyMy0uMDg0YTYxLjg4MyA2MS44ODMgMCAwMDQuOTA1LS42MzRzLS44NjIuMzYzLTEuNDg3Ljc4MmMtNi4wMDcgMS41NTQtMTcuNjA4LjgzLTE0LjI2OC0uNzU4IDIuODI0LTEuMzQzIDUuMTItMS4xOSA1LjEyLTEuMTl6bTEwLjYxIDUuODMxYzYuMTA1LTMuMTIgMy4yODItNi4xMTcgMS4zMTEtNS43MTNhNC43MDIgNC43MDIgMCAwMC0uNjk4LjE4NHMuMTgtLjI3Ni41MjItLjM5NWMzLjg5OC0xLjM0NyA2Ljg5NiAzLjk3NC0xLjI1NyA2LjA4MiAwIDAgLjA5NC0uMDg0LjEyMi0uMTU4eiIgZmlsbD0iIzMxNzRCOSIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMjU2IDBzMy4zOCAzLjMyNi0zLjIwNyA4LjQ0Yy01LjI4MyA0LjEwMy0xLjIwNSA2LjQ0Mi0uMDAyIDkuMTE1LTMuMDg0LTIuNzM2LTUuMzQ3LTUuMTQ0LTMuODMtNy4zODZDMTQuNDQ4IDYuODc5IDIwLjYyIDUuMjgzIDE5LjI1NyAweiIgZmlsbD0iI0NBMzEzMiIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTIuOTI3IDMxLjljNS44Ni4zNjggMTQuODYtLjIwNSAxNS4wNzMtMi45MzIgMCAwLS40MSAxLjAzMy00Ljg0MyAxLjg1My01LjAwMi45MjYtMTEuMTcyLjgxOS0xNC44My4yMjUgMCAwIC43NS42MSA0LjYuODUzeiIgZmlsbD0iIzMxNzRCOSIvPgo8L3N2Zz4K"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(30);var react_1=__webpack_require__(2);var useRafState_1=tslib_1.__importDefault(__webpack_require__(749));var util_1=__webpack_require__(283);var useWindowSize=function(initialWidth,initialHeight){if(initialWidth===void 0){initialWidth=Infinity}if(initialHeight===void 0){initialHeight=Infinity}var _a=useRafState_1.default({width:util_1.isClient?window.innerWidth:initialWidth,height:util_1.isClient?window.innerHeight:initialHeight}),state=_a[0],setState=_a[1];react_1.useEffect((function(){if(util_1.isClient){var handler_1=function(){setState({width:window.innerWidth,height:window.innerHeight})};window.addEventListener("resize",handler_1);return function(){window.removeEventListener("resize",handler_1)}}}),[]);return state};exports.default=useWindowSize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isClient=typeof window==="object";exports.on=function(obj){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}return obj.addEventListener.apply(obj,args)};exports.off=function(obj){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}return obj.removeEventListener.apply(obj,args)};exports.isDeepEqual=__webpack_require__(752)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */(function defineMustache(global,factory){if(true&&exports&&typeof exports.nodeName!=="string"){factory(exports)}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this,(function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return obj!=null&&typeof obj==="object"&&propName in obj}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,(function fromEntityMap(s){return entityMap[s]}))}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\n")stripSpace()}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){value=context.view;names=name.split(".");index=0;while(value!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(value,names[index]);value=value[names[index++]]}}else{value=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit)break;context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var tokens=cache[template];if(tokens==null)tokens=cache[template]=parseTemplate(template,tags);return tokens};Writer.prototype.render=function render(template,view,partials){var tokens=this.parse(template);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate);else if(symbol===">")value=this.renderPartial(token,context,partials,originalTemplate);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate)}}else if(typeof value==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)return this.renderTokens(this.parse(value),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name="mustache.js";mustache.version="2.3.2";mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials){if(typeof template!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+typeStr(template)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;return mustache}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StickyContainer=exports.Sticky=undefined;var _Sticky=__webpack_require__(753);var _Sticky2=_interopRequireDefault(_Sticky);var _Container=__webpack_require__(756);var _Container2=_interopRequireDefault(_Container);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Sticky=_Sticky2.default;exports.StickyContainer=_Container2.default;exports.default=_Sticky2.default},function(module,exports,__webpack_require__){"use strict";var slice=Array.prototype.slice;var isArgs=__webpack_require__(287);var origKeys=Object.keys;var keysShim=origKeys?function keys(o){return origKeys(o)}:__webpack_require__(761);var originalKeys=Object.keys;keysShim.shim=function shimObjectKeys(){if(Object.keys){var keysWorksWithArguments=function(){var args=Object.keys(arguments);return args&&args.length===arguments.length}(1,2);if(!keysWorksWithArguments){Object.keys=function keys(object){if(isArgs(object)){return originalKeys(slice.call(object))}return originalKeys(object)}}}else{Object.keys=keysShim}return Object.keys||keysShim};module.exports=keysShim},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value);var isArgs=str==="[object Arguments]";if(!isArgs){isArgs=str!=="[object Array]"&&value!==null&&typeof value==="object"&&typeof value.length==="number"&&value.length>=0&&toStr.call(value.callee)==="[object Function]"}return isArgs}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(289);var GetIntrinsic=__webpack_require__(765);var $apply=GetIntrinsic("%Function.prototype.apply%");var $call=GetIntrinsic("%Function.prototype.call%");var $reflectApply=GetIntrinsic("%Reflect.apply%",true)||bind.call($call,$apply);module.exports=function callBind(){return $reflectApply(bind,$call,arguments)};module.exports.apply=function applyBind(){return $reflectApply(bind,$apply,arguments)}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(764);module.exports=Function.prototype.bind||implementation},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol;var hasSymbolSham=__webpack_require__(766);module.exports=function hasNativeSymbols(){if(typeof origSymbol!=="function"){return false}if(typeof Symbol!=="function"){return false}if(typeof origSymbol("foo")!=="symbol"){return false}if(typeof Symbol("bar")!=="symbol"){return false}return hasSymbolSham()}}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){"use strict";var numberIsNaN=function(value){return value!==value};module.exports=function is(a,b){if(a===0&&b===0){return 1/a===1/b}if(a===b){return true}if(numberIsNaN(a)&&numberIsNaN(b)){return true}return false}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(291);module.exports=function getPolyfill(){return typeof Object.is==="function"?Object.is:implementation}},function(module,exports,__webpack_require__){"use strict";var $Object=Object;var $TypeError=TypeError;module.exports=function flags(){if(this!=null&&this!==$Object(this)){throw new $TypeError("RegExp.prototype.flags getter called on non-object")}var result="";if(this.global){result+="g"}if(this.ignoreCase){result+="i"}if(this.multiline){result+="m"}if(this.dotAll){result+="s"}if(this.unicode){result+="u"}if(this.sticky){result+="y"}return result}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(293);var supportsDescriptors=__webpack_require__(118).supportsDescriptors;var $gOPD=Object.getOwnPropertyDescriptor;var $TypeError=TypeError;module.exports=function getPolyfill(){if(!supportsDescriptors){throw new $TypeError("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors")}if(/a/gim.flags==="gim"){var descriptor=$gOPD(RegExp.prototype,"flags");if(descriptor&&typeof descriptor.get==="function"&&typeof/a/.dotAll==="boolean"){return descriptor.get}}return implementation}},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";var t0=new Date,t1=new Date;function newInterval(floori,offseti,count,field){function interval(date){return floori(date=arguments.length===0?new Date:new Date(+date)),date}interval.floor=function(date){return floori(date=new Date(+date)),date};interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date};interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1};interval.offset=function(date,step){return offseti(date=new Date(+date),step==null?1:Math.floor(step)),date};interval.range=function(start,stop,step){var range=[],previous;start=interval.ceil(start);step=step==null?1:Math.floor(step);if(!(start<stop)||!(step>0))return range;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range};interval.filter=function(test){return newInterval((function(date){if(date>=date)while(floori(date),!test(date))date.setTime(date-1)}),(function(date,step){if(date>=date){if(step<0)while(++step<=0){while(offseti(date,-1),!test(date)){}}else while(--step>=0){while(offseti(date,+1),!test(date)){}}}}))};if(count){interval.count=function(start,end){t0.setTime(+start),t1.setTime(+end);floori(t0),floori(t1);return Math.floor(count(t0,t1))};interval.every=function(step){step=Math.floor(step);return!isFinite(step)||!(step>0)?null:!(step>1)?interval:interval.filter(field?function(d){return field(d)%step===0}:function(d){return interval.count(0,d)%step===0})}}return interval}var millisecond=newInterval((function(){}),(function(date,step){date.setTime(+date+step)}),(function(start,end){return end-start}));millisecond.every=function(k){k=Math.floor(k);if(!isFinite(k)||!(k>0))return null;if(!(k>1))return millisecond;return newInterval((function(date){date.setTime(Math.floor(date/k)*k)}),(function(date,step){date.setTime(+date+step*k)}),(function(start,end){return(end-start)/k}))};var milliseconds=millisecond.range;var durationSecond=1e3;var durationMinute=6e4;var durationHour=36e5;var durationDay=864e5;var durationWeek=6048e5;var second=newInterval((function(date){date.setTime(date-date.getMilliseconds())}),(function(date,step){date.setTime(+date+step*durationSecond)}),(function(start,end){return(end-start)/durationSecond}),(function(date){return date.getUTCSeconds()}));var seconds=second.range;var minute=newInterval((function(date){date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond)}),(function(date,step){date.setTime(+date+step*durationMinute)}),(function(start,end){return(end-start)/durationMinute}),(function(date){return date.getMinutes()}));var minutes=minute.range;var hour=newInterval((function(date){date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond-date.getMinutes()*durationMinute)}),(function(date,step){date.setTime(+date+step*durationHour)}),(function(start,end){return(end-start)/durationHour}),(function(date){return date.getHours()}));var hours=hour.range;var day=newInterval((function(date){date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+step)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationDay}),(function(date){return date.getDate()-1}));var days=day.range;function weekday(i){return newInterval((function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7);date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+step*7)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationWeek}))}var sunday=weekday(0);var monday=weekday(1);var tuesday=weekday(2);var wednesday=weekday(3);var thursday=weekday(4);var friday=weekday(5);var saturday=weekday(6);var sundays=sunday.range;var mondays=monday.range;var tuesdays=tuesday.range;var wednesdays=wednesday.range;var thursdays=thursday.range;var fridays=friday.range;var saturdays=saturday.range;var month=newInterval((function(date){date.setDate(1);date.setHours(0,0,0,0)}),(function(date,step){date.setMonth(date.getMonth()+step)}),(function(start,end){return end.getMonth()-start.getMonth()+(end.getFullYear()-start.getFullYear())*12}),(function(date){return date.getMonth()}));var months=month.range;var year=newInterval((function(date){date.setMonth(0,1);date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step)}),(function(start,end){return end.getFullYear()-start.getFullYear()}),(function(date){return date.getFullYear()}));year.every=function(k){return!isFinite(k=Math.floor(k))||!(k>0)?null:newInterval((function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k);date.setMonth(0,1);date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step*k)}))};var years=year.range;var utcMinute=newInterval((function(date){date.setUTCSeconds(0,0)}),(function(date,step){date.setTime(+date+step*durationMinute)}),(function(start,end){return(end-start)/durationMinute}),(function(date){return date.getUTCMinutes()}));var utcMinutes=utcMinute.range;var utcHour=newInterval((function(date){date.setUTCMinutes(0,0,0)}),(function(date,step){date.setTime(+date+step*durationHour)}),(function(start,end){return(end-start)/durationHour}),(function(date){return date.getUTCHours()}));var utcHours=utcHour.range;var utcDay=newInterval((function(date){date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+step)}),(function(start,end){return(end-start)/durationDay}),(function(date){return date.getUTCDate()-1}));var utcDays=utcDay.range;function utcWeekday(i){return newInterval((function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7);date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+step*7)}),(function(start,end){return(end-start)/durationWeek}))}var utcSunday=utcWeekday(0);var utcMonday=utcWeekday(1);var utcTuesday=utcWeekday(2);var utcWednesday=utcWeekday(3);var utcThursday=utcWeekday(4);var utcFriday=utcWeekday(5);var utcSaturday=utcWeekday(6);var utcSundays=utcSunday.range;var utcMondays=utcMonday.range;var utcTuesdays=utcTuesday.range;var utcWednesdays=utcWednesday.range;var utcThursdays=utcThursday.range;var utcFridays=utcFriday.range;var utcSaturdays=utcSaturday.range;var utcMonth=newInterval((function(date){date.setUTCDate(1);date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCMonth(date.getUTCMonth()+step)}),(function(start,end){return end.getUTCMonth()-start.getUTCMonth()+(end.getUTCFullYear()-start.getUTCFullYear())*12}),(function(date){return date.getUTCMonth()}));var utcMonths=utcMonth.range;var utcYear=newInterval((function(date){date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)}),(function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()}),(function(date){return date.getUTCFullYear()}));utcYear.every=function(k){return!isFinite(k=Math.floor(k))||!(k>0)?null:newInterval((function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k);date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)}))};var utcYears=utcYear.range;exports.timeDay=day;exports.timeDays=days;exports.timeFriday=friday;exports.timeFridays=fridays;exports.timeHour=hour;exports.timeHours=hours;exports.timeInterval=newInterval;exports.timeMillisecond=millisecond;exports.timeMilliseconds=milliseconds;exports.timeMinute=minute;exports.timeMinutes=minutes;exports.timeMonday=monday;exports.timeMondays=mondays;exports.timeMonth=month;exports.timeMonths=months;exports.timeSaturday=saturday;exports.timeSaturdays=saturdays;exports.timeSecond=second;exports.timeSeconds=seconds;exports.timeSunday=sunday;exports.timeSundays=sundays;exports.timeThursday=thursday;exports.timeThursdays=thursdays;exports.timeTuesday=tuesday;exports.timeTuesdays=tuesdays;exports.timeWednesday=wednesday;exports.timeWednesdays=wednesdays;exports.timeWeek=sunday;exports.timeWeeks=sundays;exports.timeYear=year;exports.timeYears=years;exports.utcDay=utcDay;exports.utcDays=utcDays;exports.utcFriday=utcFriday;exports.utcFridays=utcFridays;exports.utcHour=utcHour;exports.utcHours=utcHours;exports.utcMillisecond=millisecond;exports.utcMilliseconds=milliseconds;exports.utcMinute=utcMinute;exports.utcMinutes=utcMinutes;exports.utcMonday=utcMonday;exports.utcMondays=utcMondays;exports.utcMonth=utcMonth;exports.utcMonths=utcMonths;exports.utcSaturday=utcSaturday;exports.utcSaturdays=utcSaturdays;exports.utcSecond=second;exports.utcSeconds=seconds;exports.utcSunday=utcSunday;exports.utcSundays=utcSundays;exports.utcThursday=utcThursday;exports.utcThursdays=utcThursdays;exports.utcTuesday=utcTuesday;exports.utcTuesdays=utcTuesdays;exports.utcWednesday=utcWednesday;exports.utcWednesdays=utcWednesdays;exports.utcWeek=utcSunday;exports.utcWeeks=utcSundays;exports.utcYear=utcYear;exports.utcYears=utcYears;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function constant(x){return function(){return x}}function x(d){return d[0]}function y(d){return d[1]}function RedBlackTree(){this._=null}function RedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(after,node){var parent,grandpa,uncle;if(after){node.P=after;node.N=after.N;if(after.N)after.N.P=node;after.N=node;if(after.R){after=after.R;while(after.L)after=after.L;after.L=node}else{after.R=node}parent=after}else if(this._){after=RedBlackFirst(this._);node.P=null;node.N=after;after.P=after.L=node;parent=after}else{node.P=node.N=null;this._=node;parent=null}node.L=node.R=null;node.U=parent;node.C=true;after=node;while(parent&&parent.C){grandpa=parent.U;if(parent===grandpa.L){uncle=grandpa.R;if(uncle&&uncle.C){parent.C=uncle.C=false;grandpa.C=true;after=grandpa}else{if(after===parent.R){RedBlackRotateLeft(this,parent);after=parent;parent=after.U}parent.C=false;grandpa.C=true;RedBlackRotateRight(this,grandpa)}}else{uncle=grandpa.L;if(uncle&&uncle.C){parent.C=uncle.C=false;grandpa.C=true;after=grandpa}else{if(after===parent.L){RedBlackRotateRight(this,parent);after=parent;parent=after.U}parent.C=false;grandpa.C=true;RedBlackRotateLeft(this,grandpa)}}parent=after.U}this._.C=false},remove:function(node){if(node.N)node.N.P=node.P;if(node.P)node.P.N=node.N;node.N=node.P=null;var parent=node.U,sibling,left=node.L,right=node.R,next,red;if(!left)next=right;else if(!right)next=left;else next=RedBlackFirst(right);if(parent){if(parent.L===node)parent.L=next;else parent.R=next}else{this._=next}if(left&&right){red=next.C;next.C=node.C;next.L=left;left.U=next;if(next!==right){parent=next.U;next.U=node.U;node=next.R;parent.L=node;next.R=right;right.U=next}else{next.U=parent;parent=next;node=next.R}}else{red=node.C;node=next}if(node)node.U=parent;if(red)return;if(node&&node.C){node.C=false;return}do{if(node===this._)break;if(node===parent.L){sibling=parent.R;if(sibling.C){sibling.C=false;parent.C=true;RedBlackRotateLeft(this,parent);sibling=parent.R}if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.R||!sibling.R.C){sibling.L.C=false;sibling.C=true;RedBlackRotateRight(this,sibling);sibling=parent.R}sibling.C=parent.C;parent.C=sibling.R.C=false;RedBlackRotateLeft(this,parent);node=this._;break}}else{sibling=parent.L;if(sibling.C){sibling.C=false;parent.C=true;RedBlackRotateRight(this,parent);sibling=parent.L}if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.L||!sibling.L.C){sibling.R.C=false;sibling.C=true;RedBlackRotateLeft(this,sibling);sibling=parent.L}sibling.C=parent.C;parent.C=sibling.L.C=false;RedBlackRotateRight(this,parent);node=this._;break}}sibling.C=true;node=parent;parent=parent.U}while(!node.C);if(node)node.C=false}};function RedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;if(parent){if(parent.L===p)parent.L=q;else parent.R=q}else{tree._=q}q.U=parent;p.U=q;p.R=q.L;if(p.R)p.R.U=p;q.L=p}function RedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;if(parent){if(parent.L===p)parent.L=q;else parent.R=q}else{tree._=q}q.U=parent;p.U=q;p.L=q.R;if(p.L)p.L.U=p;q.R=p}function RedBlackFirst(node){while(node.L)node=node.L;return node}function createEdge(left,right,v0,v1){var edge=[null,null],index=edges.push(edge)-1;edge.left=left;edge.right=right;if(v0)setEdgeEnd(edge,left,right,v0);if(v1)setEdgeEnd(edge,right,left,v1);cells[left.index].halfedges.push(index);cells[right.index].halfedges.push(index);return edge}function createBorderEdge(left,v0,v1){var edge=[v0,v1];edge.left=left;return edge}function setEdgeEnd(edge,left,right,vertex){if(!edge[0]&&!edge[1]){edge[0]=vertex;edge.left=left;edge.right=right}else if(edge.left===right){edge[1]=vertex}else{edge[0]=vertex}}function clipEdge(edge,x0,y0,x1,y1){var a=edge[0],b=edge[1],ax=a[0],ay=a[1],bx=b[0],by=b[1],t0=0,t1=1,dx=bx-ax,dy=by-ay,r;r=x0-ax;if(!dx&&r>0)return;r/=dx;if(dx<0){if(r<t0)return;if(r<t1)t1=r}else if(dx>0){if(r>t1)return;if(r>t0)t0=r}r=x1-ax;if(!dx&&r<0)return;r/=dx;if(dx<0){if(r>t1)return;if(r>t0)t0=r}else if(dx>0){if(r<t0)return;if(r<t1)t1=r}r=y0-ay;if(!dy&&r>0)return;r/=dy;if(dy<0){if(r<t0)return;if(r<t1)t1=r}else if(dy>0){if(r>t1)return;if(r>t0)t0=r}r=y1-ay;if(!dy&&r<0)return;r/=dy;if(dy<0){if(r>t1)return;if(r>t0)t0=r}else if(dy>0){if(r<t0)return;if(r<t1)t1=r}if(!(t0>0)&&!(t1<1))return true;if(t0>0)edge[0]=[ax+t0*dx,ay+t0*dy];if(t1<1)edge[1]=[ax+t1*dx,ay+t1*dy];return true}function connectEdge(edge,x0,y0,x1,y1){var v1=edge[1];if(v1)return true;var v0=edge[0],left=edge.left,right=edge.right,lx=left[0],ly=left[1],rx=right[0],ry=right[1],fx=(lx+rx)/2,fy=(ly+ry)/2,fm,fb;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(!v0)v0=[fx,y0];else if(v0[1]>=y1)return;v1=[fx,y1]}else{if(!v0)v0=[fx,y1];else if(v0[1]<y0)return;v1=[fx,y0]}}else{fm=(lx-rx)/(ry-ly);fb=fy-fm*fx;if(fm<-1||fm>1){if(lx>rx){if(!v0)v0=[(y0-fb)/fm,y0];else if(v0[1]>=y1)return;v1=[(y1-fb)/fm,y1]}else{if(!v0)v0=[(y1-fb)/fm,y1];else if(v0[1]<y0)return;v1=[(y0-fb)/fm,y0]}}else{if(ly<ry){if(!v0)v0=[x0,fm*x0+fb];else if(v0[0]>=x1)return;v1=[x1,fm*x1+fb]}else{if(!v0)v0=[x1,fm*x1+fb];else if(v0[0]<x0)return;v1=[x0,fm*x0+fb]}}}edge[0]=v0;edge[1]=v1;return true}function clipEdges(x0,y0,x1,y1){var i=edges.length,edge;while(i--){if(!connectEdge(edge=edges[i],x0,y0,x1,y1)||!clipEdge(edge,x0,y0,x1,y1)||!(Math.abs(edge[0][0]-edge[1][0])>epsilon||Math.abs(edge[0][1]-edge[1][1])>epsilon)){delete edges[i]}}}function createCell(site){return cells[site.index]={site:site,halfedges:[]}}function cellHalfedgeAngle(cell,edge){var site=cell.site,va=edge.left,vb=edge.right;if(site===vb)vb=va,va=site;if(vb)return Math.atan2(vb[1]-va[1],vb[0]-va[0]);if(site===va)va=edge[1],vb=edge[0];else va=edge[0],vb=edge[1];return Math.atan2(va[0]-vb[0],vb[1]-va[1])}function cellHalfedgeStart(cell,edge){return edge[+(edge.left!==cell.site)]}function cellHalfedgeEnd(cell,edge){return edge[+(edge.left===cell.site)]}function sortCellHalfedges(){for(var i=0,n=cells.length,cell,halfedges,j,m;i<n;++i){if((cell=cells[i])&&(m=(halfedges=cell.halfedges).length)){var index=new Array(m),array=new Array(m);for(j=0;j<m;++j)index[j]=j,array[j]=cellHalfedgeAngle(cell,edges[halfedges[j]]);index.sort((function(i,j){return array[j]-array[i]}));for(j=0;j<m;++j)array[j]=halfedges[index[j]];for(j=0;j<m;++j)halfedges[j]=array[j]}}}function clipCells(x0,y0,x1,y1){var nCells=cells.length,iCell,cell,site,iHalfedge,halfedges,nHalfedges,start,startX,startY,end,endX,endY,cover=true;for(iCell=0;iCell<nCells;++iCell){if(cell=cells[iCell]){site=cell.site;halfedges=cell.halfedges;iHalfedge=halfedges.length;while(iHalfedge--){if(!edges[halfedges[iHalfedge]]){halfedges.splice(iHalfedge,1)}}iHalfedge=0,nHalfedges=halfedges.length;while(iHalfedge<nHalfedges){end=cellHalfedgeEnd(cell,edges[halfedges[iHalfedge]]),endX=end[0],endY=end[1];start=cellHalfedgeStart(cell,edges[halfedges[++iHalfedge%nHalfedges]]),startX=start[0],startY=start[1];if(Math.abs(endX-startX)>epsilon||Math.abs(endY-startY)>epsilon){halfedges.splice(iHalfedge,0,edges.push(createBorderEdge(site,end,Math.abs(endX-x0)<epsilon&&y1-endY>epsilon?[x0,Math.abs(startX-x0)<epsilon?startY:y1]:Math.abs(endY-y1)<epsilon&&x1-endX>epsilon?[Math.abs(startY-y1)<epsilon?startX:x1,y1]:Math.abs(endX-x1)<epsilon&&endY-y0>epsilon?[x1,Math.abs(startX-x1)<epsilon?startY:y0]:Math.abs(endY-y0)<epsilon&&endX-x0>epsilon?[Math.abs(startY-y0)<epsilon?startX:x0,y0]:null))-1);++nHalfedges}}if(nHalfedges)cover=false}}if(cover){var dx,dy,d2,dc=Infinity;for(iCell=0,cover=null;iCell<nCells;++iCell){if(cell=cells[iCell]){site=cell.site;dx=site[0]-x0;dy=site[1]-y0;d2=dx*dx+dy*dy;if(d2<dc)dc=d2,cover=cell}}if(cover){var v00=[x0,y0],v01=[x0,y1],v11=[x1,y1],v10=[x1,y0];cover.halfedges.push(edges.push(createBorderEdge(site=cover.site,v00,v01))-1,edges.push(createBorderEdge(site,v01,v11))-1,edges.push(createBorderEdge(site,v11,v10))-1,edges.push(createBorderEdge(site,v10,v00))-1)}}for(iCell=0;iCell<nCells;++iCell){if(cell=cells[iCell]){if(!cell.halfedges.length){delete cells[iCell]}}}}var circlePool=[];var firstCircle;function Circle(){RedBlackNode(this);this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(arc){var lArc=arc.P,rArc=arc.N;if(!lArc||!rArc)return;var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite===rSite)return;var bx=cSite[0],by=cSite[1],ax=lSite[0]-bx,ay=lSite[1]-by,cx=rSite[0]-bx,cy=rSite[1]-by;var d=2*(ax*cy-ay*cx);if(d>=-epsilon2)return;var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d;var circle=circlePool.pop()||new Circle;circle.arc=arc;circle.site=cSite;circle.x=x+bx;circle.y=(circle.cy=y+by)+Math.sqrt(x*x+y*y);arc.circle=circle;var before=null,node=circles._;while(node){if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(node.L)node=node.L;else{before=node.P;break}}else{if(node.R)node=node.R;else{before=node;break}}}circles.insert(before,circle);if(!before)firstCircle=circle}function detachCircle(arc){var circle=arc.circle;if(circle){if(!circle.P)firstCircle=circle.N;circles.remove(circle);circlePool.push(circle);RedBlackNode(circle);arc.circle=null}}var beachPool=[];function Beach(){RedBlackNode(this);this.edge=this.site=this.circle=null}function createBeach(site){var beach=beachPool.pop()||new Beach;beach.site=site;return beach}function detachBeach(beach){detachCircle(beach);beaches.remove(beach);beachPool.push(beach);RedBlackNode(beach)}function removeBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex=[x,y],previous=beach.P,next=beach.N,disappearing=[beach];detachBeach(beach);var lArc=previous;while(lArc.circle&&Math.abs(x-lArc.circle.x)<epsilon&&Math.abs(y-lArc.circle.cy)<epsilon){previous=lArc.P;disappearing.unshift(lArc);detachBeach(lArc);lArc=previous}disappearing.unshift(lArc);detachCircle(lArc);var rArc=next;while(rArc.circle&&Math.abs(x-rArc.circle.x)<epsilon&&Math.abs(y-rArc.circle.cy)<epsilon){next=rArc.N;disappearing.push(rArc);detachBeach(rArc);rArc=next}disappearing.push(rArc);detachCircle(rArc);var nArcs=disappearing.length,iArc;for(iArc=1;iArc<nArcs;++iArc){rArc=disappearing[iArc];lArc=disappearing[iArc-1];setEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex)}lArc=disappearing[0];rArc=disappearing[nArcs-1];rArc.edge=createEdge(lArc.site,rArc.site,null,vertex);attachCircle(lArc);attachCircle(rArc)}function addBeach(site){var x=site[0],directrix=site[1],lArc,rArc,dxl,dxr,node=beaches._;while(node){dxl=leftBreakPoint(node,directrix)-x;if(dxl>epsilon)node=node.L;else{dxr=x-rightBreakPoint(node,directrix);if(dxr>epsilon){if(!node.R){lArc=node;break}node=node.R}else{if(dxl>-epsilon){lArc=node.P;rArc=node}else if(dxr>-epsilon){lArc=node;rArc=node.N}else{lArc=rArc=node}break}}}createCell(site);var newArc=createBeach(site);beaches.insert(lArc,newArc);if(!lArc&&!rArc)return;if(lArc===rArc){detachCircle(lArc);rArc=createBeach(lArc.site);beaches.insert(newArc,rArc);newArc.edge=rArc.edge=createEdge(lArc.site,newArc.site);attachCircle(lArc);attachCircle(rArc);return}if(!rArc){newArc.edge=createEdge(lArc.site,newArc.site);return}detachCircle(lArc);detachCircle(rArc);var lSite=lArc.site,ax=lSite[0],ay=lSite[1],bx=site[0]-ax,by=site[1]-ay,rSite=rArc.site,cx=rSite[0]-ax,cy=rSite[1]-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex=[(cy*hb-by*hc)/d+ax,(bx*hc-cx*hb)/d+ay];setEdgeEnd(rArc.edge,lSite,rSite,vertex);newArc.edge=createEdge(lSite,site,null,vertex);rArc.edge=createEdge(site,rSite,null,vertex);attachCircle(lArc);attachCircle(rArc)}function leftBreakPoint(arc,directrix){var site=arc.site,rfocx=site[0],rfocy=site[1],pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-Infinity;site=lArc.site;var lfocx=site[0],lfocy=site[1],plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;if(aby2)return(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx;return(rfocx+lfocx)/2}function rightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return leftBreakPoint(rArc,directrix);var site=arc.site;return site[1]===directrix?site[0]:Infinity}var epsilon=1e-6;var epsilon2=1e-12;var beaches;var cells;var circles;var edges;function triangleArea(a,b,c){return(a[0]-c[0])*(b[1]-a[1])-(a[0]-b[0])*(c[1]-a[1])}function lexicographic(a,b){return b[1]-a[1]||b[0]-a[0]}function Diagram(sites,extent){var site=sites.sort(lexicographic).pop(),x,y,circle;edges=[];cells=new Array(sites.length);beaches=new RedBlackTree;circles=new RedBlackTree;while(true){circle=firstCircle;if(site&&(!circle||site[1]<circle.y||site[1]===circle.y&&site[0]<circle.x)){if(site[0]!==x||site[1]!==y){addBeach(site);x=site[0],y=site[1]}site=sites.pop()}else if(circle){removeBeach(circle.arc)}else{break}}sortCellHalfedges();if(extent){var x0=+extent[0][0],y0=+extent[0][1],x1=+extent[1][0],y1=+extent[1][1];clipEdges(x0,y0,x1,y1);clipCells(x0,y0,x1,y1)}this.edges=edges;this.cells=cells;beaches=circles=edges=cells=null}Diagram.prototype={constructor:Diagram,polygons:function(){var edges=this.edges;return this.cells.map((function(cell){var polygon=cell.halfedges.map((function(i){return cellHalfedgeStart(cell,edges[i])}));polygon.data=cell.site.data;return polygon}))},triangles:function(){var triangles=[],edges=this.edges;this.cells.forEach((function(cell,i){if(!(m=(halfedges=cell.halfedges).length))return;var site=cell.site,halfedges,j=-1,m,s0,e1=edges[halfedges[m-1]],s1=e1.left===site?e1.right:e1.left;while(++j<m){s0=s1;e1=edges[halfedges[j]];s1=e1.left===site?e1.right:e1.left;if(s0&&s1&&i<s0.index&&i<s1.index&&triangleArea(site,s0,s1)<0){triangles.push([site.data,s0.data,s1.data])}}}));return triangles},links:function(){return this.edges.filter((function(edge){return edge.right})).map((function(edge){return{source:edge.left.data,target:edge.right.data}}))},find:function(x,y,radius){var that=this,i0,i1=that._found||0,n=that.cells.length,cell;while(!(cell=that.cells[i1]))if(++i1>=n)return null;var dx=x-cell.site[0],dy=y-cell.site[1],d2=dx*dx+dy*dy;do{cell=that.cells[i0=i1],i1=null;cell.halfedges.forEach((function(e){var edge=that.edges[e],v=edge.left;if((v===cell.site||!v)&&!(v=edge.right))return;var vx=x-v[0],vy=y-v[1],v2=vx*vx+vy*vy;if(v2<d2)d2=v2,i1=v.index}))}while(i1!==null);that._found=i0;return radius==null||d2<=radius*radius?cell.site:null}};function voronoi(){var x$$1=x,y$$1=y,extent=null;function voronoi(data){return new Diagram(data.map((function(d,i){var s=[Math.round(x$$1(d,i,data)/epsilon)*epsilon,Math.round(y$$1(d,i,data)/epsilon)*epsilon];s.index=i;s.data=d;return s})),extent)}voronoi.polygons=function(data){return voronoi(data).polygons()};voronoi.links=function(data){return voronoi(data).links()};voronoi.triangles=function(data){return voronoi(data).triangles()};voronoi.x=function(_){return arguments.length?(x$$1=typeof _==="function"?_:constant(+_),voronoi):x$$1};voronoi.y=function(_){return arguments.length?(y$$1=typeof _==="function"?_:constant(+_),voronoi):y$$1};voronoi.extent=function(_){return arguments.length?(extent=_==null?null:[[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]],voronoi):extent&&[[extent[0][0],extent[0][1]],[extent[1][0],extent[1][1]]]};voronoi.size=function(_){return arguments.length?(extent=_==null?null:[[0,0],[+_[0],+_[1]]],voronoi):extent&&[extent[1][0]-extent[0][0],extent[1][1]-extent[0][1]]};return voronoi}exports.voronoi=voronoi;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Color=__webpack_require__(89);var _theme=__webpack_require__(56);var _scalesUtils=__webpack_require__(58);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LineSeriesCanvas=function(_AbstractSeries){_inherits(LineSeriesCanvas,_AbstractSeries);function LineSeriesCanvas(){_classCallCheck(this,LineSeriesCanvas);return _possibleConstructorReturn(this,(LineSeriesCanvas.__proto__||Object.getPrototypeOf(LineSeriesCanvas)).apply(this,arguments))}_createClass(LineSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"renderLayer",value:function renderLayer(props,ctx){var data=props.data,marginLeft=props.marginLeft,marginTop=props.marginTop,strokeWidth=props.strokeWidth,strokeDasharray=props.strokeDasharray;if(!data||data.length===0){return}var x=(0,_scalesUtils.getAttributeFunctor)(props,"x");var y=(0,_scalesUtils.getAttributeFunctor)(props,"y");var stroke=(0,_scalesUtils.getAttributeValue)(props,"stroke")||(0,_scalesUtils.getAttributeValue)(props,"color");var strokeColor=(0,_d3Color.rgb)(stroke);var newOpacity=(0,_scalesUtils.getAttributeValue)(props,"opacity");var opacity=Number.isFinite(newOpacity)?newOpacity:_theme.DEFAULT_OPACITY;ctx.beginPath();ctx.moveTo(x(data[0])+marginLeft,y(data[0])+marginTop);data.forEach((function(row){return ctx.lineTo(x(row)+marginLeft,y(row)+marginTop)}));ctx.strokeStyle="rgba("+strokeColor.r+", "+strokeColor.g+", "+strokeColor.b+", "+opacity+")";ctx.lineWidth=strokeWidth;if(strokeDasharray){ctx.setLineDash(strokeDasharray)}ctx.stroke();ctx.lineWidth=1}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return LineSeriesCanvas}(_abstractSeries2.default);LineSeriesCanvas.displayName="LineSeriesCanvas";LineSeriesCanvas.defaultProps={strokeWidth:1,strokeDasharray:""};LineSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes,{strokeWidth:_propTypes2.default.number});exports.default=LineSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--bar";var BarSeries=function(_AbstractSeries){_inherits(BarSeries,_AbstractSeries);function BarSeries(){_classCallCheck(this,BarSeries);return _possibleConstructorReturn(this,(BarSeries.__proto__||Object.getPrototypeOf(BarSeries)).apply(this,arguments))}_createClass(BarSeries,[{key:"render",value:function render(){var _this2=this;var _props=this.props,animation=_props.animation,className=_props.className,data=_props.data,linePosAttr=_props.linePosAttr,lineSizeAttr=_props.lineSizeAttr,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style,valuePosAttr=_props.valuePosAttr,valueSizeAttr=_props.valueSizeAttr;if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(BarSeries,_extends({},this.props,{animation:null})))}var _getStackParams=(0,_seriesUtils.getStackParams)(this.props),sameTypeTotal=_getStackParams.sameTypeTotal,sameTypeIndex=_getStackParams.sameTypeIndex;var distance=this._getScaleDistance(linePosAttr);var lineFunctor=this._getAttributeFunctor(linePosAttr);var valueFunctor=this._getAttributeFunctor(valuePosAttr);var value0Functor=this._getAttr0Functor(valuePosAttr);var fillFunctor=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color");var strokeFunctor=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color");var opacityFunctor=this._getAttributeFunctor("opacity");var itemSize=distance/2*.85;return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},data.map((function(d,i){var _attrs;var attrs=(_attrs={style:_extends({opacity:opacityFunctor&&opacityFunctor(d),stroke:strokeFunctor&&strokeFunctor(d),fill:fillFunctor&&fillFunctor(d)},style)},_defineProperty(_attrs,linePosAttr,lineFunctor(d)-itemSize+itemSize*2/sameTypeTotal*sameTypeIndex),_defineProperty(_attrs,lineSizeAttr,itemSize*2/sameTypeTotal),_defineProperty(_attrs,valuePosAttr,Math.min(value0Functor(d),valueFunctor(d))),_defineProperty(_attrs,valueSizeAttr,Math.abs(-value0Functor(d)+valueFunctor(d))),_defineProperty(_attrs,"onClick",(function onClick(e){return _this2._valueClickHandler(d,e)})),_defineProperty(_attrs,"onContextMenu",(function onContextMenu(e){return _this2._valueRightClickHandler(d,e)})),_defineProperty(_attrs,"onMouseOver",(function onMouseOver(e){return _this2._valueMouseOverHandler(d,e)})),_defineProperty(_attrs,"onMouseOut",(function onMouseOut(e){return _this2._valueMouseOutHandler(d,e)})),_defineProperty(_attrs,"key",i),_attrs);return _react2.default.createElement("rect",attrs)})))}}],[{key:"propTypes",get:function get(){return _extends({},_abstractSeries2.default.propTypes,{linePosAttr:_propTypes2.default.string,valuePosAttr:_propTypes2.default.string,lineSizeAttr:_propTypes2.default.string,valueSizeAttr:_propTypes2.default.string,cluster:_propTypes2.default.string})}}]);return BarSeries}(_abstractSeries2.default);BarSeries.displayName="BarSeries";exports.default=BarSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Color=__webpack_require__(89);var _theme=__webpack_require__(56);var _scalesUtils=__webpack_require__(58);var _seriesUtils=__webpack_require__(57);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getScaleDistance(props,attr){var scaleObject=(0,_scalesUtils.getScaleObjectFromProps)(props,attr);return scaleObject?scaleObject.distance:0}var BarSeriesCanvas=function(_AbstractSeries){_inherits(BarSeriesCanvas,_AbstractSeries);function BarSeriesCanvas(){_classCallCheck(this,BarSeriesCanvas);return _possibleConstructorReturn(this,(BarSeriesCanvas.__proto__||Object.getPrototypeOf(BarSeriesCanvas)).apply(this,arguments))}_createClass(BarSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"renderLayer",value:function renderLayer(props,ctx){var data=props.data,linePosAttr=props.linePosAttr,lineSizeAttr=props.lineSizeAttr,valuePosAttr=props.valuePosAttr,marginTop=props.marginTop,marginBottom=props.marginBottom;if(!data||data.length===0){return}var distance=getScaleDistance(props,linePosAttr);var line=(0,_scalesUtils.getAttributeFunctor)(props,linePosAttr);var value=(0,_scalesUtils.getAttributeFunctor)(props,valuePosAttr);var value0=(0,_scalesUtils.getAttr0Functor)(props,valuePosAttr);var fill=(0,_scalesUtils.getAttributeFunctor)(props,"fill")||(0,_scalesUtils.getAttributeFunctor)(props,"color");var stroke=(0,_scalesUtils.getAttributeFunctor)(props,"stroke")||(0,_scalesUtils.getAttributeFunctor)(props,"color");var opacity=(0,_scalesUtils.getAttributeFunctor)(props,"opacity");var itemSize=distance/2*.85;var _getStackParams=(0,_seriesUtils.getStackParams)(props),sameTypeTotal=_getStackParams.sameTypeTotal,sameTypeIndex=_getStackParams.sameTypeIndex;data.forEach((function(row){var fillColor=(0,_d3Color.rgb)(fill(row));var strokeColor=(0,_d3Color.rgb)(stroke(row));var rowOpacity=opacity(row)||_theme.DEFAULT_OPACITY;var linePos=line(row)-itemSize+itemSize*2/sameTypeTotal*sameTypeIndex;var valuePos=Math.min(value0(row),value(row));var x=valuePosAttr==="x"?valuePos:linePos;var y=valuePosAttr==="y"?valuePos:linePos;var lineSize=itemSize*2/sameTypeTotal;var valueSize=Math.abs(-value0(row)+value(row));var height=lineSizeAttr==="height"?lineSize:valueSize;var width=lineSizeAttr==="width"?lineSize:valueSize;ctx.beginPath();ctx.rect(x+marginBottom,y+marginTop,width,height);ctx.fillStyle="rgba("+fillColor.r+", "+fillColor.g+", "+fillColor.b+", "+rowOpacity+")";ctx.fill();ctx.strokeStyle="rgba("+strokeColor.r+", "+strokeColor.g+", "+strokeColor.b+", "+rowOpacity+")";ctx.stroke()}))}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return BarSeriesCanvas}(_abstractSeries2.default);BarSeriesCanvas.displayName="BarSeriesCanvas";BarSeriesCanvas.defaultProps={linePosAttr:_propTypes2.default.string.isRequired,valuePosAttr:_propTypes2.default.string.isRequired,lineSizeAttr:_propTypes2.default.string.isRequired,valueSizeAttr:_propTypes2.default.string.isRequired};BarSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=BarSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _rectSeries=__webpack_require__(191);var _rectSeries2=_interopRequireDefault(_rectSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var VerticalRectSeries=function(_AbstractSeries){_inherits(VerticalRectSeries,_AbstractSeries);function VerticalRectSeries(){_classCallCheck(this,VerticalRectSeries);return _possibleConstructorReturn(this,(VerticalRectSeries.__proto__||Object.getPrototypeOf(VerticalRectSeries)).apply(this,arguments))}_createClass(VerticalRectSeries,[{key:"render",value:function render(){return _react2.default.createElement(_rectSeries2.default,_extends({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=false;var zeroBaseValue=attr==="y";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}}]);return VerticalRectSeries}(_abstractSeries2.default);VerticalRectSeries.displayName="VerticalRectSeries";exports.default=VerticalRectSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _d3Color=__webpack_require__(89);var _theme=__webpack_require__(56);var _scalesUtils=__webpack_require__(58);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MarkSeriesCanvas=function(_AbstractSeries){_inherits(MarkSeriesCanvas,_AbstractSeries);function MarkSeriesCanvas(){_classCallCheck(this,MarkSeriesCanvas);return _possibleConstructorReturn(this,(MarkSeriesCanvas.__proto__||Object.getPrototypeOf(MarkSeriesCanvas)).apply(this,arguments))}_createClass(MarkSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"renderLayer",value:function renderLayer(props,ctx){var data=props.data,marginLeft=props.marginLeft,marginTop=props.marginTop;var x=(0,_scalesUtils.getAttributeFunctor)(props,"x");var y=(0,_scalesUtils.getAttributeFunctor)(props,"y");var size=(0,_scalesUtils.getAttributeFunctor)(props,"size")||function(p){return _theme.DEFAULT_SIZE};var fill=(0,_scalesUtils.getAttributeFunctor)(props,"fill")||(0,_scalesUtils.getAttributeFunctor)(props,"color");var stroke=(0,_scalesUtils.getAttributeFunctor)(props,"stroke")||(0,_scalesUtils.getAttributeFunctor)(props,"color");var opacity=(0,_scalesUtils.getAttributeFunctor)(props,"opacity");data.forEach((function(row){var fillColor=(0,_d3Color.rgb)(fill(row));var strokeColor=(0,_d3Color.rgb)(stroke(row));var rowOpacity=opacity(row)||_theme.DEFAULT_OPACITY;ctx.beginPath();ctx.arc(x(row)+marginLeft,y(row)+marginTop,size(row),0,2*Math.PI);ctx.fillStyle="rgba("+fillColor.r+", "+fillColor.g+", "+fillColor.b+", "+rowOpacity+")";ctx.fill();ctx.strokeStyle="rgba("+strokeColor.r+", "+strokeColor.g+", "+strokeColor.b+", "+rowOpacity+")";ctx.stroke()}))}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return MarkSeriesCanvas}(_abstractSeries2.default);MarkSeriesCanvas.displayName="MarkSeriesCanvas";MarkSeriesCanvas.defaultProps={};MarkSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=MarkSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _lineSeries=__webpack_require__(190);var _lineSeries2=_interopRequireDefault(_lineSeries);var _markSeries=__webpack_require__(194);var _markSeries2=_interopRequireDefault(_markSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var propTypes=_extends({},_lineSeries2.default.propTypes,{lineStyle:_propTypes2.default.object,markStyle:_propTypes2.default.object});var LineMarkSeries=function(_AbstractSeries){_inherits(LineMarkSeries,_AbstractSeries);function LineMarkSeries(){_classCallCheck(this,LineMarkSeries);return _possibleConstructorReturn(this,(LineMarkSeries.__proto__||Object.getPrototypeOf(LineMarkSeries)).apply(this,arguments))}_createClass(LineMarkSeries,[{key:"render",value:function render(){var _props=this.props,lineStyle=_props.lineStyle,markStyle=_props.markStyle,style=_props.style;return _react2.default.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--linemark"},_react2.default.createElement(_lineSeries2.default,_extends({},this.props,{style:_extends({},style,lineStyle)})),_react2.default.createElement(_markSeries2.default,_extends({},this.props,{style:_extends({},style,markStyle)})))}}],[{key:"defaultProps",get:function get(){return _extends({},_lineSeries2.default.defaultProps,{lineStyle:{},markStyle:{}})}}]);return LineMarkSeries}(_abstractSeries2.default);LineMarkSeries.displayName="LineMarkSeries";LineMarkSeries.propTypes=propTypes;exports.default=LineMarkSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _axisUtils=__webpack_require__(66);var _scalesUtils=__webpack_require__(58);var _axisLine=__webpack_require__(807);var _axisLine2=_interopRequireDefault(_axisLine);var _axisTicks=__webpack_require__(808);var _axisTicks2=_interopRequireDefault(_axisTicks);var _axisTitle=__webpack_require__(809);var _axisTitle2=_interopRequireDefault(_axisTitle);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var defaultAnimatedProps=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"];var LEFT=_axisUtils.ORIENTATION.LEFT,RIGHT=_axisUtils.ORIENTATION.RIGHT,TOP=_axisUtils.ORIENTATION.TOP,BOTTOM=_axisUtils.ORIENTATION.BOTTOM;var propTypes={orientation:_propTypes2.default.oneOf([LEFT,RIGHT,TOP,BOTTOM]),attr:_propTypes2.default.string.isRequired,attrAxis:_propTypes2.default.string,width:_propTypes2.default.number,height:_propTypes2.default.number,top:_propTypes2.default.number,left:_propTypes2.default.number,title:_propTypes2.default.string,style:_propTypes2.default.object,className:_propTypes2.default.string,hideTicks:_propTypes2.default.bool,hideLine:_propTypes2.default.bool,on0:_propTypes2.default.bool,tickLabelAngle:_propTypes2.default.number,tickSize:_propTypes2.default.number,tickSizeInner:_propTypes2.default.number,tickSizeOuter:_propTypes2.default.number,tickPadding:_propTypes2.default.number,tickValues:_propTypes2.default.array,tickFormat:_propTypes2.default.func,tickTotal:_propTypes2.default.number,marginTop:_propTypes2.default.number,marginBottom:_propTypes2.default.number,marginLeft:_propTypes2.default.number,marginRight:_propTypes2.default.number,innerWidth:_propTypes2.default.number,innerHeight:_propTypes2.default.number};var defaultProps={className:"",on0:false,style:{},tickSize:6,tickPadding:8,orientation:BOTTOM};var predefinedClassName="rv-xy-plot__axis";var VERTICAL_CLASS_NAME="rv-xy-plot__axis--vertical";var HORIZONTAL_CLASS_NAME="rv-xy-plot__axis--horizontal";var Axis=function(_PureComponent){_inherits(Axis,_PureComponent);function Axis(){_classCallCheck(this,Axis);return _possibleConstructorReturn(this,(Axis.__proto__||Object.getPrototypeOf(Axis)).apply(this,arguments))}_createClass(Axis,[{key:"_getDefaultAxisProps",value:function _getDefaultAxisProps(){var _props=this.props,innerWidth=_props.innerWidth,innerHeight=_props.innerHeight,marginTop=_props.marginTop,marginBottom=_props.marginBottom,marginLeft=_props.marginLeft,marginRight=_props.marginRight,orientation=_props.orientation;if(orientation===BOTTOM){return{tickTotal:(0,_axisUtils.getTicksTotalFromSize)(innerWidth),top:innerHeight+marginTop,left:marginLeft,width:innerWidth,height:marginBottom}}else if(orientation===TOP){return{tickTotal:(0,_axisUtils.getTicksTotalFromSize)(innerWidth),top:0,left:marginLeft,width:innerWidth,height:marginTop}}else if(orientation===LEFT){return{tickTotal:(0,_axisUtils.getTicksTotalFromSize)(innerHeight),top:marginTop,left:0,width:marginLeft,height:innerHeight}}return{tickTotal:(0,_axisUtils.getTicksTotalFromSize)(innerHeight),top:marginTop,left:marginLeft+innerWidth,width:marginRight,height:innerHeight}}},{key:"render",value:function render(){var animation=this.props.animation;if(animation){var animatedProps=animation.nonAnimatedProps?defaultAnimatedProps.filter((function(prop){return animation.nonAnimatedProps.indexOf(prop)<0})):defaultAnimatedProps;return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:animatedProps}),_react2.default.createElement(Axis,_extends({},this.props,{animation:null})))}var props=_extends({},this._getDefaultAxisProps(),this.props);var attrAxis=props.attrAxis,className=props.className,height=props.height,hideLine=props.hideLine,hideTicks=props.hideTicks,left=props.left,marginTop=props.marginTop,on0=props.on0,orientation=props.orientation,style=props.style,title=props.title,top=props.top,width=props.width;var isVertical=[LEFT,RIGHT].indexOf(orientation)>-1;var axisClassName=isVertical?VERTICAL_CLASS_NAME:HORIZONTAL_CLASS_NAME;var leftPos=left;var topPos=top;if(on0){var scale=(0,_scalesUtils.getAttributeScale)(props,attrAxis);if(isVertical){leftPos=scale(0)}else{topPos=marginTop+scale(0)}}return _react2.default.createElement("g",{transform:"translate("+leftPos+","+topPos+")",className:predefinedClassName+" "+axisClassName+" "+className,style:style},!hideLine&&_react2.default.createElement(_axisLine2.default,{height:height,width:width,orientation:orientation,style:_extends({},style,style.line)}),!hideTicks&&_react2.default.createElement(_axisTicks2.default,_extends({},props,{style:_extends({},style,style.ticks)})),title?_react2.default.createElement(_axisTitle2.default,{title:title,height:height,width:width,style:_extends({},style,style.title),orientation:orientation}):null)}}]);return Axis}(_react.PureComponent);Axis.displayName="Axis";Axis.propTypes=propTypes;Axis.defaultProps=defaultProps;Axis.requiresSVG=true;exports.default=Axis},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Voronoi=__webpack_require__(296);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NOOP=function NOOP(f){return f};function Voronoi(_ref){var className=_ref.className,extent=_ref.extent,nodes=_ref.nodes,onBlur=_ref.onBlur,_onClick=_ref.onClick,_onMouseUp=_ref.onMouseUp,_onMouseDown=_ref.onMouseDown,onHover=_ref.onHover,polygonStyle=_ref.polygonStyle,style=_ref.style,x=_ref.x,y=_ref.y;var voronoiInstance=(0,_d3Voronoi.voronoi)().x(x).y(y).extent(extent);return _react2.default.createElement("g",{className:className+" rv-voronoi",style:style},voronoiInstance.polygons(nodes).map((function(d,i){return _react2.default.createElement("path",{className:"rv-voronoi__cell "+(d.data&&d.data.className||""),d:"M"+d.join("L")+"Z",onClick:function onClick(){return _onClick(d.data)},onMouseUp:function onMouseUp(){return _onMouseUp(d.data)},onMouseDown:function onMouseDown(){return _onMouseDown(d.data)},onMouseOver:function onMouseOver(){return onHover(d.data)},onMouseOut:function onMouseOut(){return onBlur(d.data)},fill:"none",style:_extends({pointerEvents:"all"},polygonStyle,d.data&&d.data.style),key:i})})))}Voronoi.requiresSVG=true;Voronoi.defaultProps={className:"",onBlur:NOOP,onClick:NOOP,onHover:NOOP,onMouseDown:NOOP,onMouseUp:NOOP,x:function x(d){return d.x},y:function y(d){return d.y}};Voronoi.propTypes={className:_propTypes2.default.string,extent:_propTypes2.default.arrayOf(_propTypes2.default.arrayOf(_propTypes2.default.number)).isRequired,nodes:_propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,onBlur:_propTypes2.default.func,onClick:_propTypes2.default.func,onHover:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onMouseUp:_propTypes2.default.func,x:_propTypes2.default.func,y:_propTypes2.default.func};exports.default=Voronoi},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _discreteColorLegendItem=__webpack_require__(815);var _discreteColorLegendItem2=_interopRequireDefault(_discreteColorLegendItem);var _theme=__webpack_require__(56);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DiscreteColorLegend(_ref){var className=_ref.className,colors=_ref.colors,height=_ref.height,items=_ref.items,onItemClick=_ref.onItemClick,onItemMouseEnter=_ref.onItemMouseEnter,onItemMouseLeave=_ref.onItemMouseLeave,orientation=_ref.orientation,width=_ref.width;return _react2.default.createElement("div",{className:"rv-discrete-color-legend "+orientation+" "+className,style:{width:width,height:height}},items.map((function(item,i){return _react2.default.createElement(_discreteColorLegendItem2.default,{title:item.title?item.title:item,color:item.color?item.color:colors[i%colors.length],disabled:Boolean(item.disabled),orientation:orientation,key:i,onClick:onItemClick?function(e){return onItemClick(item,i,e)}:null,onMouseEnter:onItemMouseEnter?function(e){return onItemMouseEnter(item,i,e)}:null,onMouseLeave:onItemMouseEnter?function(e){return onItemMouseLeave(item,i,e)}:null})})))}DiscreteColorLegend.displayName="DiscreteColorLegendItem";DiscreteColorLegend.propTypes={className:_propTypes2.default.string,items:_propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.shape({title:_propTypes2.default.string.isRequired,color:_propTypes2.default.string,disabled:_propTypes2.default.bool}),_propTypes2.default.string.isRequired,_propTypes2.default.element])).isRequired,onItemClick:_propTypes2.default.func,onItemMouseEnter:_propTypes2.default.func,onItemMouseLeave:_propTypes2.default.func,height:_propTypes2.default.number,width:_propTypes2.default.number,orientation:_propTypes2.default.oneOf(["vertical","horizontal"])};DiscreteColorLegend.defaultProps={className:"",colors:_theme.DISCRETE_COLOR_RANGE,orientation:"vertical"};exports.default=DiscreteColorLegend},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function defaultSeparation(a,b){return a.parent===b.parent?1:2}function meanX(children){return children.reduce(meanXReduce,0)/children.length}function meanXReduce(x,c){return x+c.x}function maxY(children){return 1+children.reduce(maxYReduce,0)}function maxYReduce(y,c){return Math.max(y,c.y)}function leafLeft(node){var children;while(children=node.children)node=children[0];return node}function leafRight(node){var children;while(children=node.children)node=children[children.length-1];return node}function cluster(){var separation=defaultSeparation,dx=1,dy=1,nodeSize=false;function cluster(root){var previousNode,x=0;root.eachAfter((function(node){var children=node.children;if(children){node.x=meanX(children);node.y=maxY(children)}else{node.x=previousNode?x+=separation(node,previousNode):0;node.y=0;previousNode=node}}));var left=leafLeft(root),right=leafRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return root.eachAfter(nodeSize?function(node){node.x=(node.x-root.x)*dx;node.y=(root.y-node.y)*dy}:function(node){node.x=(node.x-x0)/(x1-x0)*dx;node.y=(1-(root.y?node.y/root.y:1))*dy})}cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation};cluster.size=function(x){return arguments.length?(nodeSize=false,dx=+x[0],dy=+x[1],cluster):nodeSize?null:[dx,dy]};cluster.nodeSize=function(x){return arguments.length?(nodeSize=true,dx=+x[0],dy=+x[1],cluster):nodeSize?[dx,dy]:null};return cluster}function count(node){var sum=0,children=node.children,i=children&&children.length;if(!i)sum=1;else while(--i>=0)sum+=children[i].value;node.value=sum}function node_count(){return this.eachAfter(count)}function node_each(callback){var node=this,current,next=[node],children,i,n;do{current=next.reverse(),next=[];while(node=current.pop()){callback(node),children=node.children;if(children)for(i=0,n=children.length;i<n;++i){next.push(children[i])}}}while(next.length);return this}function node_eachBefore(callback){var node=this,nodes=[node],children,i;while(node=nodes.pop()){callback(node),children=node.children;if(children)for(i=children.length-1;i>=0;--i){nodes.push(children[i])}}return this}function node_eachAfter(callback){var node=this,nodes=[node],next=[],children,i,n;while(node=nodes.pop()){next.push(node),children=node.children;if(children)for(i=0,n=children.length;i<n;++i){nodes.push(children[i])}}while(node=next.pop()){callback(node)}return this}function node_sum(value){return this.eachAfter((function(node){var sum=+value(node.data)||0,children=node.children,i=children&&children.length;while(--i>=0)sum+=children[i].value;node.value=sum}))}function node_sort(compare){return this.eachBefore((function(node){if(node.children){node.children.sort(compare)}}))}function node_path(end){var start=this,ancestor=leastCommonAncestor(start,end),nodes=[start];while(start!==ancestor){start=start.parent;nodes.push(start)}var k=nodes.length;while(end!==ancestor){nodes.splice(k,0,end);end=end.parent}return nodes}function leastCommonAncestor(a,b){if(a===b)return a;var aNodes=a.ancestors(),bNodes=b.ancestors(),c=null;a=aNodes.pop();b=bNodes.pop();while(a===b){c=a;a=aNodes.pop();b=bNodes.pop()}return c}function node_ancestors(){var node=this,nodes=[node];while(node=node.parent){nodes.push(node)}return nodes}function node_descendants(){var nodes=[];this.each((function(node){nodes.push(node)}));return nodes}function node_leaves(){var leaves=[];this.eachBefore((function(node){if(!node.children){leaves.push(node)}}));return leaves}function node_links(){var root=this,links=[];root.each((function(node){if(node!==root){links.push({source:node.parent,target:node})}}));return links}function hierarchy(data,children){var root=new Node(data),valued=+data.value&&(root.value=data.value),node,nodes=[root],child,childs,i,n;if(children==null)children=defaultChildren;while(node=nodes.pop()){if(valued)node.value=+node.data.value;if((childs=children(node.data))&&(n=childs.length)){node.children=new Array(n);for(i=n-1;i>=0;--i){nodes.push(child=node.children[i]=new Node(childs[i]));child.parent=node;child.depth=node.depth+1}}}return root.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function defaultChildren(d){return d.children}function copyData(node){node.data=node.data.data}function computeHeight(node){var height=0;do{node.height=height}while((node=node.parent)&&node.height<++height)}function Node(data){this.data=data;this.depth=this.height=0;this.parent=null}Node.prototype=hierarchy.prototype={constructor:Node,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy};var slice=Array.prototype.slice;function shuffle(array){var m=array.length,t,i;while(m){i=Math.random()*m--|0;t=array[m];array[m]=array[i];array[i]=t}return array}function enclose(circles){var i=0,n=(circles=shuffle(slice.call(circles))).length,B=[],p,e;while(i<n){p=circles[i];if(e&&enclosesWeak(e,p))++i;else e=encloseBasis(B=extendBasis(B,p)),i=0}return e}function extendBasis(B,p){var i,j;if(enclosesWeakAll(p,B))return[p];for(i=0;i<B.length;++i){if(enclosesNot(p,B[i])&&enclosesWeakAll(encloseBasis2(B[i],p),B)){return[B[i],p]}}for(i=0;i<B.length-1;++i){for(j=i+1;j<B.length;++j){if(enclosesNot(encloseBasis2(B[i],B[j]),p)&&enclosesNot(encloseBasis2(B[i],p),B[j])&&enclosesNot(encloseBasis2(B[j],p),B[i])&&enclosesWeakAll(encloseBasis3(B[i],B[j],p),B)){return[B[i],B[j],p]}}}throw new Error}function enclosesNot(a,b){var dr=a.r-b.r,dx=b.x-a.x,dy=b.y-a.y;return dr<0||dr*dr<dx*dx+dy*dy}function enclosesWeak(a,b){var dr=a.r-b.r+1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function enclosesWeakAll(a,B){for(var i=0;i<B.length;++i){if(!enclosesWeak(a,B[i])){return false}}return true}function encloseBasis(B){switch(B.length){case 1:return encloseBasis1(B[0]);case 2:return encloseBasis2(B[0],B[1]);case 3:return encloseBasis3(B[0],B[1],B[2])}}function encloseBasis1(a){return{x:a.x,y:a.y,r:a.r}}function encloseBasis2(a,b){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x21=x2-x1,y21=y2-y1,r21=r2-r1,l=Math.sqrt(x21*x21+y21*y21);return{x:(x1+x2+x21/l*r21)/2,y:(y1+y2+y21/l*r21)/2,r:(l+r1+r2)/2}}function encloseBasis3(a,b,c){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x3=c.x,y3=c.y,r3=c.r,a2=x1-x2,a3=x1-x3,b2=y1-y2,b3=y1-y3,c2=r2-r1,c3=r3-r1,d1=x1*x1+y1*y1-r1*r1,d2=d1-x2*x2-y2*y2+r2*r2,d3=d1-x3*x3-y3*y3+r3*r3,ab=a3*b2-a2*b3,xa=(b2*d3-b3*d2)/(ab*2)-x1,xb=(b3*c2-b2*c3)/ab,ya=(a3*d2-a2*d3)/(ab*2)-y1,yb=(a2*c3-a3*c2)/ab,A=xb*xb+yb*yb-1,B=2*(r1+xa*xb+ya*yb),C=xa*xa+ya*ya-r1*r1,r=-(A?(B+Math.sqrt(B*B-4*A*C))/(2*A):C/B);return{x:x1+xa+xb*r,y:y1+ya+yb*r,r:r}}function place(b,a,c){var dx=b.x-a.x,x,a2,dy=b.y-a.y,y,b2,d2=dx*dx+dy*dy;if(d2){a2=a.r+c.r,a2*=a2;b2=b.r+c.r,b2*=b2;if(a2>b2){x=(d2+b2-a2)/(2*d2);y=Math.sqrt(Math.max(0,b2/d2-x*x));c.x=b.x-x*dx-y*dy;c.y=b.y-x*dy+y*dx}else{x=(d2+a2-b2)/(2*d2);y=Math.sqrt(Math.max(0,a2/d2-x*x));c.x=a.x+x*dx-y*dy;c.y=a.y+x*dy+y*dx}}else{c.x=a.x+c.r;c.y=a.y}}function intersects(a,b){var dr=a.r+b.r-1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function score(node){var a=node._,b=node.next._,ab=a.r+b.r,dx=(a.x*b.r+b.x*a.r)/ab,dy=(a.y*b.r+b.y*a.r)/ab;return dx*dx+dy*dy}function Node$1(circle){this._=circle;this.next=null;this.previous=null}function packEnclose(circles){if(!(n=circles.length))return 0;var a,b,c,n,aa,ca,i,j,k,sj,sk;a=circles[0],a.x=0,a.y=0;if(!(n>1))return a.r;b=circles[1],a.x=-b.r,b.x=a.r,b.y=0;if(!(n>2))return a.r+b.r;place(b,a,c=circles[2]);a=new Node$1(a),b=new Node$1(b),c=new Node$1(c);a.next=c.previous=b;b.next=a.previous=c;c.next=b.previous=a;pack:for(i=3;i<n;++i){place(a._,b._,c=circles[i]),c=new Node$1(c);j=b.next,k=a.previous,sj=b._.r,sk=a._.r;do{if(sj<=sk){if(intersects(j._,c._)){b=j,a.next=b,b.previous=a,--i;continue pack}sj+=j._.r,j=j.next}else{if(intersects(k._,c._)){a=k,a.next=b,b.previous=a,--i;continue pack}sk+=k._.r,k=k.previous}}while(j!==k.next);c.previous=a,c.next=b,a.next=b.previous=b=c;aa=score(a);while((c=c.next)!==b){if((ca=score(c))<aa){a=c,aa=ca}}b=a.next}a=[b._],c=b;while((c=c.next)!==b)a.push(c._);c=enclose(a);for(i=0;i<n;++i)a=circles[i],a.x-=c.x,a.y-=c.y;return c.r}function siblings(circles){packEnclose(circles);return circles}function optional(f){return f==null?null:required(f)}function required(f){if(typeof f!=="function")throw new Error;return f}function constantZero(){return 0}function constant(x){return function(){return x}}function defaultRadius(d){return Math.sqrt(d.value)}function index(){var radius=null,dx=1,dy=1,padding=constantZero;function pack(root){root.x=dx/2,root.y=dy/2;if(radius){root.eachBefore(radiusLeaf(radius)).eachAfter(packChildren(padding,.5)).eachBefore(translateChild(1))}else{root.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(padding,root.r/Math.min(dx,dy))).eachBefore(translateChild(Math.min(dx,dy)/(2*root.r)))}return root}pack.radius=function(x){return arguments.length?(radius=optional(x),pack):radius};pack.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],pack):[dx,dy]};pack.padding=function(x){return arguments.length?(padding=typeof x==="function"?x:constant(+x),pack):padding};return pack}function radiusLeaf(radius){return function(node){if(!node.children){node.r=Math.max(0,+radius(node)||0)}}}function packChildren(padding,k){return function(node){if(children=node.children){var children,i,n=children.length,r=padding(node)*k||0,e;if(r)for(i=0;i<n;++i)children[i].r+=r;e=packEnclose(children);if(r)for(i=0;i<n;++i)children[i].r-=r;node.r=e+r}}}function translateChild(k){return function(node){var parent=node.parent;node.r*=k;if(parent){node.x=parent.x+k*node.x;node.y=parent.y+k*node.y}}}function roundNode(node){node.x0=Math.round(node.x0);node.y0=Math.round(node.y0);node.x1=Math.round(node.x1);node.y1=Math.round(node.y1)}function treemapDice(parent,x0,y0,x1,y1){var nodes=parent.children,node,i=-1,n=nodes.length,k=parent.value&&(x1-x0)/parent.value;while(++i<n){node=nodes[i],node.y0=y0,node.y1=y1;node.x0=x0,node.x1=x0+=node.value*k}}function partition(){var dx=1,dy=1,padding=0,round=false;function partition(root){var n=root.height+1;root.x0=root.y0=padding;root.x1=dx;root.y1=dy/n;root.eachBefore(positionNode(dy,n));if(round)root.eachBefore(roundNode);return root}function positionNode(dy,n){return function(node){if(node.children){treemapDice(node,node.x0,dy*(node.depth+1)/n,node.x1,dy*(node.depth+2)/n)}var x0=node.x0,y0=node.y0,x1=node.x1-padding,y1=node.y1-padding;if(x1<x0)x0=x1=(x0+x1)/2;if(y1<y0)y0=y1=(y0+y1)/2;node.x0=x0;node.y0=y0;node.x1=x1;node.y1=y1}}partition.round=function(x){return arguments.length?(round=!!x,partition):round};partition.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],partition):[dx,dy]};partition.padding=function(x){return arguments.length?(padding=+x,partition):padding};return partition}var keyPrefix="$",preroot={depth:-1},ambiguous={};function defaultId(d){return d.id}function defaultParentId(d){return d.parentId}function stratify(){var id=defaultId,parentId=defaultParentId;function stratify(data){var d,i,n=data.length,root,parent,node,nodes=new Array(n),nodeId,nodeKey,nodeByKey={};for(i=0;i<n;++i){d=data[i],node=nodes[i]=new Node(d);if((nodeId=id(d,i,data))!=null&&(nodeId+="")){nodeKey=keyPrefix+(node.id=nodeId);nodeByKey[nodeKey]=nodeKey in nodeByKey?ambiguous:node}}for(i=0;i<n;++i){node=nodes[i],nodeId=parentId(data[i],i,data);if(nodeId==null||!(nodeId+="")){if(root)throw new Error("multiple roots");root=node}else{parent=nodeByKey[keyPrefix+nodeId];if(!parent)throw new Error("missing: "+nodeId);if(parent===ambiguous)throw new Error("ambiguous: "+nodeId);if(parent.children)parent.children.push(node);else parent.children=[node];node.parent=parent}}if(!root)throw new Error("no root");root.parent=preroot;root.eachBefore((function(node){node.depth=node.parent.depth+1;--n})).eachBefore(computeHeight);root.parent=null;if(n>0)throw new Error("cycle");return root}stratify.id=function(x){return arguments.length?(id=required(x),stratify):id};stratify.parentId=function(x){return arguments.length?(parentId=required(x),stratify):parentId};return stratify}function defaultSeparation$1(a,b){return a.parent===b.parent?1:2}function nextLeft(v){var children=v.children;return children?children[0]:v.t}function nextRight(v){var children=v.children;return children?children[children.length-1]:v.t}function moveSubtree(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change;wp.s+=shift;wm.c+=change;wp.z+=shift;wp.m+=shift}function executeShifts(v){var shift=0,change=0,children=v.children,i=children.length,w;while(--i>=0){w=children[i];w.z+=shift;w.m+=shift;shift+=w.s+(change+=w.c)}}function nextAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function TreeNode(node,i){this._=node;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=i}TreeNode.prototype=Object.create(Node.prototype);function treeRoot(root){var tree=new TreeNode(root,0),node,nodes=[tree],child,children,i,n;while(node=nodes.pop()){if(children=node._.children){node.children=new Array(n=children.length);for(i=n-1;i>=0;--i){nodes.push(child=node.children[i]=new TreeNode(children[i],i));child.parent=node}}}(tree.parent=new TreeNode(null,0)).children=[tree];return tree}function tree(){var separation=defaultSeparation$1,dx=1,dy=1,nodeSize=null;function tree(root){var t=treeRoot(root);t.eachAfter(firstWalk),t.parent.m=-t.z;t.eachBefore(secondWalk);if(nodeSize)root.eachBefore(sizeNode);else{var left=root,right=root,bottom=root;root.eachBefore((function(node){if(node.x<left.x)left=node;if(node.x>right.x)right=node;if(node.depth>bottom.depth)bottom=node}));var s=left===right?1:separation(left,right)/2,tx=s-left.x,kx=dx/(right.x+s+tx),ky=dy/(bottom.depth||1);root.eachBefore((function(node){node.x=(node.x+tx)*kx;node.y=node.depth*ky}))}return root}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children){executeShifts(v);var midpoint=(children[0].z+children[children.length-1].z)/2;if(w){v.z=w.z+separation(v._,w._);v.m=v.z-midpoint}else{v.z=midpoint}}else if(w){v.z=w.z+separation(v._,w._)}v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m;v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){var vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m,shift;while(vim=nextRight(vim),vip=nextLeft(vip),vim&&vip){vom=nextLeft(vom);vop=nextRight(vop);vop.a=v;shift=vim.z+sim-vip.z-sip+separation(vim._,vip._);if(shift>0){moveSubtree(nextAncestor(vim,v,ancestor),v,shift);sip+=shift;sop+=shift}sim+=vim.m;sip+=vip.m;som+=vom.m;sop+=vop.m}if(vim&&!nextRight(vop)){vop.t=vim;vop.m+=sim-sop}if(vip&&!nextLeft(vom)){vom.t=vip;vom.m+=sip-som;ancestor=v}}return ancestor}function sizeNode(node){node.x*=dx;node.y=node.depth*dy}tree.separation=function(x){return arguments.length?(separation=x,tree):separation};tree.size=function(x){return arguments.length?(nodeSize=false,dx=+x[0],dy=+x[1],tree):nodeSize?null:[dx,dy]};tree.nodeSize=function(x){return arguments.length?(nodeSize=true,dx=+x[0],dy=+x[1],tree):nodeSize?[dx,dy]:null};return tree}function treemapSlice(parent,x0,y0,x1,y1){var nodes=parent.children,node,i=-1,n=nodes.length,k=parent.value&&(y1-y0)/parent.value;while(++i<n){node=nodes[i],node.x0=x0,node.x1=x1;node.y0=y0,node.y1=y0+=node.value*k}}var phi=(1+Math.sqrt(5))/2;function squarifyRatio(ratio,parent,x0,y0,x1,y1){var rows=[],nodes=parent.children,row,nodeValue,i0=0,i1=0,n=nodes.length,dx,dy,value=parent.value,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta;while(i0<n){dx=x1-x0,dy=y1-y0;do{sumValue=nodes[i1++].value}while(!sumValue&&i1<n);minValue=maxValue=sumValue;alpha=Math.max(dy/dx,dx/dy)/(value*ratio);beta=sumValue*sumValue*alpha;minRatio=Math.max(maxValue/beta,beta/minValue);for(;i1<n;++i1){sumValue+=nodeValue=nodes[i1].value;if(nodeValue<minValue)minValue=nodeValue;if(nodeValue>maxValue)maxValue=nodeValue;beta=sumValue*sumValue*alpha;newRatio=Math.max(maxValue/beta,beta/minValue);if(newRatio>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}rows.push(row={value:sumValue,dice:dx<dy,children:nodes.slice(i0,i1)});if(row.dice)treemapDice(row,x0,y0,x1,value?y0+=dy*sumValue/value:y1);else treemapSlice(row,x0,y0,value?x0+=dx*sumValue/value:x1,y1);value-=sumValue,i0=i1}return rows}var squarify=function custom(ratio){function squarify(parent,x0,y0,x1,y1){squarifyRatio(ratio,parent,x0,y0,x1,y1)}squarify.ratio=function(x){return custom((x=+x)>1?x:1)};return squarify}(phi);function index$1(){var tile=squarify,round=false,dx=1,dy=1,paddingStack=[0],paddingInner=constantZero,paddingTop=constantZero,paddingRight=constantZero,paddingBottom=constantZero,paddingLeft=constantZero;function treemap(root){root.x0=root.y0=0;root.x1=dx;root.y1=dy;root.eachBefore(positionNode);paddingStack=[0];if(round)root.eachBefore(roundNode);return root}function positionNode(node){var p=paddingStack[node.depth],x0=node.x0+p,y0=node.y0+p,x1=node.x1-p,y1=node.y1-p;if(x1<x0)x0=x1=(x0+x1)/2;if(y1<y0)y0=y1=(y0+y1)/2;node.x0=x0;node.y0=y0;node.x1=x1;node.y1=y1;if(node.children){p=paddingStack[node.depth+1]=paddingInner(node)/2;x0+=paddingLeft(node)-p;y0+=paddingTop(node)-p;x1-=paddingRight(node)-p;y1-=paddingBottom(node)-p;if(x1<x0)x0=x1=(x0+x1)/2;if(y1<y0)y0=y1=(y0+y1)/2;tile(node,x0,y0,x1,y1)}}treemap.round=function(x){return arguments.length?(round=!!x,treemap):round};treemap.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],treemap):[dx,dy]};treemap.tile=function(x){return arguments.length?(tile=required(x),treemap):tile};treemap.padding=function(x){return arguments.length?treemap.paddingInner(x).paddingOuter(x):treemap.paddingInner()};treemap.paddingInner=function(x){return arguments.length?(paddingInner=typeof x==="function"?x:constant(+x),treemap):paddingInner};treemap.paddingOuter=function(x){return arguments.length?treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):treemap.paddingTop()};treemap.paddingTop=function(x){return arguments.length?(paddingTop=typeof x==="function"?x:constant(+x),treemap):paddingTop};treemap.paddingRight=function(x){return arguments.length?(paddingRight=typeof x==="function"?x:constant(+x),treemap):paddingRight};treemap.paddingBottom=function(x){return arguments.length?(paddingBottom=typeof x==="function"?x:constant(+x),treemap):paddingBottom};treemap.paddingLeft=function(x){return arguments.length?(paddingLeft=typeof x==="function"?x:constant(+x),treemap):paddingLeft};return treemap}function binary(parent,x0,y0,x1,y1){var nodes=parent.children,i,n=nodes.length,sum,sums=new Array(n+1);for(sums[0]=sum=i=0;i<n;++i){sums[i+1]=sum+=nodes[i].value}partition(0,n,parent.value,x0,y0,x1,y1);function partition(i,j,value,x0,y0,x1,y1){if(i>=j-1){var node=nodes[i];node.x0=x0,node.y0=y0;node.x1=x1,node.y1=y1;return}var valueOffset=sums[i],valueTarget=value/2+valueOffset,k=i+1,hi=j-1;while(k<hi){var mid=k+hi>>>1;if(sums[mid]<valueTarget)k=mid+1;else hi=mid}if(valueTarget-sums[k-1]<sums[k]-valueTarget&&i+1<k)--k;var valueLeft=sums[k]-valueOffset,valueRight=value-valueLeft;if(x1-x0>y1-y0){var xk=(x0*valueRight+x1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,xk,y1);partition(k,j,valueRight,xk,y0,x1,y1)}else{var yk=(y0*valueRight+y1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,x1,yk);partition(k,j,valueRight,x0,yk,x1,y1)}}}function sliceDice(parent,x0,y0,x1,y1){(parent.depth&1?treemapSlice:treemapDice)(parent,x0,y0,x1,y1)}var resquarify=function custom(ratio){function resquarify(parent,x0,y0,x1,y1){if((rows=parent._squarify)&&rows.ratio===ratio){var rows,row,nodes,i,j=-1,n,m=rows.length,value=parent.value;while(++j<m){row=rows[j],nodes=row.children;for(i=row.value=0,n=nodes.length;i<n;++i)row.value+=nodes[i].value;if(row.dice)treemapDice(row,x0,y0,x1,y0+=(y1-y0)*row.value/value);else treemapSlice(row,x0,y0,x0+=(x1-x0)*row.value/value,y1);value-=row.value}}else{parent._squarify=rows=squarifyRatio(ratio,parent,x0,y0,x1,y1);rows.ratio=ratio}}resquarify.ratio=function(x){return custom((x=+x)>1?x:1)};return resquarify}(phi);exports.cluster=cluster;exports.hierarchy=hierarchy;exports.pack=index;exports.packEnclose=enclose;exports.packSiblings=siblings;exports.partition=partition;exports.stratify=stratify;exports.tree=tree;exports.treemap=index$1;exports.treemapBinary=binary;exports.treemapDice=treemapDice;exports.treemapResquarify=resquarify;exports.treemapSlice=treemapSlice;exports.treemapSliceDice=sliceDice;exports.treemapSquarify=squarify;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ScrollToTopOnPathChange}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);class ScrollToTopOnPathChange extends react__WEBPACK_IMPORTED_MODULE_0__["Component"]{componentDidUpdate(prevProps){if(this.props.location.pathname!==prevProps.location.pathname){window.scrollTo(0,0)}}render(){return null}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useBreadcrumbs}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20);var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);var _components_shared_Links_apm_APMLink__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(52);var _useApmPluginContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function getBreadcrumbText({breadcrumbTitle:breadcrumbTitle,history:history,location:location,match:match}){return typeof breadcrumbTitle==="function"?breadcrumbTitle({history:history,location:location,match:match}):breadcrumbTitle}function getBreadcrumb({currentPath:currentPath,history:history,location:location,routes:routes}){return routes.reduce((found,_ref)=>{let breadcrumb=_ref.breadcrumb,routeDefinition=_objectWithoutProperties(_ref,["breadcrumb"]);if(found){return found}if(!breadcrumb){return null}const match=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["matchPath"])(currentPath,routeDefinition);if(match){return{match:match,text:getBreadcrumbText({breadcrumbTitle:breadcrumb,history:history,location:location,match:match})}}return null},null)}function addLinksToBreadcrumbs({breadcrumbs:breadcrumbs,navigateToUrl:navigateToUrl,wrappedGetAPMHref:wrappedGetAPMHref}){return breadcrumbs.map((breadcrumb,index)=>{const isLastBreadcrumbItem=index===breadcrumbs.length-1;const href=isLastBreadcrumbItem?undefined:wrappedGetAPMHref(breadcrumb.match.url);const onClick=!href?undefined:event=>{event.preventDefault();navigateToUrl(href)};return _objectSpread(_objectSpread({},breadcrumb),{},{match:undefined,href:href,onClick:onClick})})}function routeDefinitionsToBreadcrumbs({history:history,location:location,routes:routes}){const breadcrumbs=[];const pathname=location.pathname;pathname.split("?")[0].replace(/\/$/,"").split("/").reduce((acc,next)=>{const currentPath=!next?"/":"".concat(acc,"/").concat(next);const breadcrumb=getBreadcrumb({currentPath:currentPath,history:history,location:location,routes:routes});if(breadcrumb){breadcrumbs.push(breadcrumb)}return currentPath==="/"?"":currentPath},"");return breadcrumbs}function getTitleFromBreadcrumbs(breadcrumbs){function removeNonStrings(item){return typeof item==="string"}return breadcrumbs.map(({text:text})=>text).reverse().filter(removeNonStrings)}function useBreadcrumbs(routes){const history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["useHistory"])();const location=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["useLocation"])();const search=location.search;const _useApmPluginContext=Object(_useApmPluginContext__WEBPACK_IMPORTED_MODULE_3__["a"])(),core=_useApmPluginContext.core;const basePath=core.http.basePath;const navigateToUrl=core.application.navigateToUrl;const _core$chrome=core.chrome,docTitle=_core$chrome.docTitle,setBreadcrumbs=_core$chrome.setBreadcrumbs;const changeTitle=docTitle.change;function wrappedGetAPMHref(path){return Object(_components_shared_Links_apm_APMLink__WEBPACK_IMPORTED_MODULE_2__["b"])({basePath:basePath,path:path,search:search})}const breadcrumbsWithoutLinks=routeDefinitionsToBreadcrumbs({history:history,location:location,routes:routes});const breadcrumbs=addLinksToBreadcrumbs({breadcrumbs:breadcrumbsWithoutLinks,wrappedGetAPMHref:wrappedGetAPMHref,navigateToUrl:navigateToUrl});const title=getTitleFromBreadcrumbs(breadcrumbs);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{changeTitle(title);setBreadcrumbs(breadcrumbs)},[breadcrumbs,changeTitle,location,title,setBreadcrumbs])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createStaticIndexPattern}));var _createCallApmApi__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const createStaticIndexPattern=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Object(_createCallApmApi__WEBPACK_IMPORTED_MODULE_0__["a"])({endpoint:"POST /api/apm/index_pattern/static"});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)})));return function createStaticIndexPattern(){return _ref.apply(this,arguments)}}();const getApmIndexPatternTitle=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Object(_createCallApmApi__WEBPACK_IMPORTED_MODULE_0__["a"])({endpoint:"GET /api/apm/index_pattern/title"});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}),_callee2)})));return function getApmIndexPatternTitle(){return _ref2.apply(this,arguments)}}()},,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return renderAsRedirectTo}));__webpack_require__.d(__webpack_exports__,"b",(function(){return routes}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(20);const NOT_AVAILABLE_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.notAvailableLabel",{defaultMessage:"N/A"});const UNIDENTIFIED_SERVICE_NODES_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceNodeNameMissing",{defaultMessage:"(Empty)"});const SERVICE_NODE_NAME_MISSING="_service_node_name_missing_";var url_helpers=__webpack_require__(46);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(18);var external_kbnSharedDeps_StyledComponents_=__webpack_require__(19);var external_kbnSharedDeps_StyledComponents_default=__webpack_require__.n(external_kbnSharedDeps_StyledComponents_);var public_=__webpack_require__(22);var useFetcher=__webpack_require__(43);var useUrlParams=__webpack_require__(42);var createCallApmApi=__webpack_require__(48);var variables=__webpack_require__(7);const getAlertingCapabilities=(plugins,capabilities)=>{const canReadAlerts=!!capabilities.apm["alerting:show"];const canSaveAlerts=!!capabilities.apm["alerting:save"];const isAlertingPluginEnabled="alerts"in plugins;const isAlertingAvailable=isAlertingPluginEnabled&&(canReadAlerts||canSaveAlerts);const isMlPluginEnabled="ml"in plugins;const canReadAnomalies=!!(isMlPluginEnabled&&capabilities.ml.canAccessML&&capabilities.ml.canGetJobs);return{isAlertingAvailable:isAlertingAvailable,canReadAlerts:canReadAlerts,canSaveAlerts:canSaveAlerts,canReadAnomalies:canReadAnomalies}};var APMLink=__webpack_require__(52);var useApmPluginContext=__webpack_require__(45);var alert_types=__webpack_require__(3);var triggersActionsUi_public_=__webpack_require__(29);function AlertingFlyout(props){const addFlyoutVisible=props.addFlyoutVisible,setAddFlyoutVisibility=props.setAddFlyoutVisibility,alertType=props.alertType;return alertType&&external_kbnSharedDeps_React_default.a.createElement(triggersActionsUi_public_["AlertAdd"],{addFlyoutVisible:addFlyoutVisible,setAddFlyoutVisibility:setAddFlyoutVisibility,consumer:"apm",alertTypeId:alertType,canChangeTrigger:false})}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const alertLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.alertsMenu.alerts",{defaultMessage:"Alerts"});const transactionDurationLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.alertsMenu.transactionDuration",{defaultMessage:"Transaction duration"});const transactionErrorRateLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.alertsMenu.transactionErrorRate",{defaultMessage:"Transaction error rate"});const errorCountLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.alertsMenu.errorCount",{defaultMessage:"Error count"});const createThresholdAlertLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.alertsMenu.createThresholdAlert",{defaultMessage:"Create threshold alert"});const createAnomalyAlertAlertLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.alertsMenu.createAnomalyAlert",{defaultMessage:"Create anomaly alert"});const CREATE_TRANSACTION_DURATION_ALERT_PANEL_ID="create_transaction_duration_panel";const CREATE_TRANSACTION_ERROR_RATE_ALERT_PANEL_ID="create_transaction_error_rate_panel";const CREATE_ERROR_COUNT_ALERT_PANEL_ID="create_error_count_panel";function AlertingPopoverAndFlyout({basePath:basePath,canSaveAlerts:canSaveAlerts,canReadAlerts:canReadAlerts,canReadAnomalies:canReadAnomalies,includeTransactionDuration:includeTransactionDuration}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=_slicedToArray(_useState,2),popoverOpen=_useState2[0],setPopoverOpen=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])(null),_useState4=_slicedToArray(_useState3,2),alertType=_useState4[0],setAlertType=_useState4[1];const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHeaderLink"],{color:"primary",iconType:"arrowDown",iconSide:"right",onClick:()=>setPopoverOpen(prevState=>!prevState)},alertLabel);const panels=[{id:0,title:alertLabel,items:[...canSaveAlerts?[{name:transactionDurationLabel,panel:CREATE_TRANSACTION_DURATION_ALERT_PANEL_ID},{name:transactionErrorRateLabel,panel:CREATE_TRANSACTION_ERROR_RATE_ALERT_PANEL_ID},{name:errorCountLabel,panel:CREATE_ERROR_COUNT_ALERT_PANEL_ID}]:[],...canReadAlerts?[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.alertsMenu.viewActiveAlerts",{defaultMessage:"View active alerts"}),href:basePath.prepend("/app/management/insightsAndAlerting/triggersActions/alerts"),icon:"tableOfContents"}]:[]]},{id:CREATE_TRANSACTION_DURATION_ALERT_PANEL_ID,title:transactionDurationLabel,items:[...includeTransactionDuration?[{name:createThresholdAlertLabel,onClick:()=>{setAlertType(alert_types["c"].TransactionDuration);setPopoverOpen(false)}}]:[],...canReadAnomalies?[{name:createAnomalyAlertAlertLabel,onClick:()=>{setAlertType(alert_types["c"].TransactionDurationAnomaly);setPopoverOpen(false)}}]:[]]},{id:CREATE_TRANSACTION_ERROR_RATE_ALERT_PANEL_ID,title:transactionErrorRateLabel,items:[{name:createThresholdAlertLabel,onClick:()=>{setAlertType(alert_types["c"].TransactionErrorRate);setPopoverOpen(false)}}]},{id:CREATE_ERROR_COUNT_ALERT_PANEL_ID,title:errorCountLabel,items:[{name:createThresholdAlertLabel,onClick:()=>{setAlertType(alert_types["c"].ErrorCount);setPopoverOpen(false)}}]}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"integrations-menu",button:button,isOpen:popoverOpen,closePopover:()=>setPopoverOpen(false),panelPaddingSize:"none",anchorPosition:"downRight"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenu"],{initialPanelId:0,panels:panels})),external_kbnSharedDeps_React_default.a.createElement(AlertingFlyout,{alertType:alertType,addFlyoutVisible:!!alertType,setAddFlyoutVisibility:visible=>{if(!visible){setAlertType(null)}}}))}var environment_filter_values=__webpack_require__(59);var LicenseContext=__webpack_require__(198);function useLicense(){return Object(external_kbnSharedDeps_React_["useContext"])(LicenseContext["a"])}const DEFAULT_DATA={jobs:[],hasLegacyJobs:false};function AnomalyDetectionSetupLink(){var _core$application$cap;const _useUrlParams=Object(useUrlParams["a"])(),uiFilters=_useUrlParams.uiFilters;const environment=uiFilters.environment;const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const canGetJobs=!!((_core$application$cap=core.application.capabilities.ml)===null||_core$application$cap===void 0?void 0:_core$application$cap.canGetJobs);const license=useLicense();const hasValidLicense=(license===null||license===void 0?void 0:license.isActive)&&(license===null||license===void 0?void 0:license.hasAtLeast("platinum"));const basePath=core.http.basePath;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHeaderLink"],{color:"primary",href:Object(APMLink["b"])({basePath:basePath,path:"/settings/anomaly-detection"}),style:{whiteSpace:"nowrap"}},canGetJobs&&hasValidLicense?external_kbnSharedDeps_React_default.a.createElement(MissingJobsAlert,{environment:environment}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"inspect",color:"primary"}),external_kbnSharedDeps_React_default.a.createElement("span",{style:{marginInlineStart:variables["units"].half}},ANOMALY_DETECTION_LINK_LABEL))}function MissingJobsAlert({environment:environment}){const _useFetcher=Object(useFetcher["b"])(callApmApi=>callApmApi({endpoint:"GET /api/apm/settings/anomaly-detection"}),[],{preservePreviousData:false,showToastOnError:false}),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?DEFAULT_DATA:_useFetcher$data,status=_useFetcher.status;const defaultIcon=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"inspect",color:"primary"});if(status===useFetcher["a"].LOADING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],null)}if(status!==useFetcher["a"].SUCCESS){return defaultIcon}const isEnvironmentSelected=environment&&environment!==environment_filter_values["a"].value;if(!isEnvironmentSelected&&data.jobs.length>0){return defaultIcon}if(isEnvironmentSelected&&data.jobs.some(job=>environment===job.environment)){return defaultIcon}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"bottom",content:getTooltipText(environment)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"alert",color:"danger"}))}function getTooltipText(environment){if(!environment||environment===environment_filter_values["a"].value){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.anomalyDetectionSetup.notEnabledText",{defaultMessage:"Anomaly detection is not yet enabled. Click to continue setup."})}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.anomalyDetectionSetup.notEnabledForEnvironmentText",{defaultMessage:'Anomaly detection is not yet enabled for the environment "{currentEnvironment}". Click to continue setup.',values:{currentEnvironment:Object(environment_filter_values["c"])(environment)}})}const ANOMALY_DETECTION_LINK_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.anomalyDetectionSetup.linkLabel",{defaultMessage:"Anomaly detection"});function ActionMenu(){var _capabilities$ml;const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core,plugins=_useApmPluginContext.plugins;const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const search=window.location.search;const application=core.application,http=core.http;const basePath=http.basePath;const capabilities=application.capabilities;const canAccessML=!!((_capabilities$ml=capabilities.ml)===null||_capabilities$ml===void 0?void 0:_capabilities$ml.canAccessML);const _getAlertingCapabilit=getAlertingCapabilities(plugins,capabilities),isAlertingAvailable=_getAlertingCapabilit.isAlertingAvailable,canReadAlerts=_getAlertingCapabilit.canReadAlerts,canSaveAlerts=_getAlertingCapabilit.canSaveAlerts,canReadAnomalies=_getAlertingCapabilit.canReadAnomalies;function apmHref(path){return Object(APMLink["b"])({basePath:basePath,path:path,search:search})}function kibanaHref(path){return basePath.prepend(path)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHeaderLinks"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHeaderLink"],{color:"primary",href:apmHref("/settings"),iconType:"gear"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settingsLinkLabel",{defaultMessage:"Settings"})),isAlertingAvailable&&external_kbnSharedDeps_React_default.a.createElement(AlertingPopoverAndFlyout,{basePath:basePath,canReadAlerts:canReadAlerts,canSaveAlerts:canSaveAlerts,canReadAnomalies:canReadAnomalies,includeTransactionDuration:serviceName!==undefined}),canAccessML&&external_kbnSharedDeps_React_default.a.createElement(AnomalyDetectionSetupLink,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHeaderLink"],{color:"primary",href:kibanaHref("/app/home#/tutorial/apm"),iconType:"indexOpen"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.addDataButtonLabel",{defaultMessage:"Add data"})))}var EnvironmentFilter=__webpack_require__(211);const HeaderFlexGroup=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"]).withConfig({displayName:"HeaderFlexGroup",componentId:"sc-1erfzp7-0"})(["padding:",";border-bottom:",";"],({theme:theme})=>theme.eui.gutterTypes.gutterMedium,({theme:theme})=>theme.eui.euiBorderThin);function ApmHeader({children:children}){const setHeaderActionMenu=Object(useApmPluginContext["a"])().appMountParameters.setHeaderActionMenu;return external_kbnSharedDeps_React_default.a.createElement(HeaderFlexGroup,{alignItems:"center",gutterSize:"s",wrap:true},external_kbnSharedDeps_React_default.a.createElement(public_["HeaderMenuPortal"],{setHeaderActionMenu:setHeaderActionMenu},external_kbnSharedDeps_React_default.a.createElement(ActionMenu,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,children),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(EnvironmentFilter["a"],null)))}var DatePicker=__webpack_require__(153);var external_kbnSharedDeps_Lodash_=__webpack_require__(21);var data_public_=__webpack_require__(40);function useDynamicIndexPattern(processorEvent){const _useFetcher=Object(useFetcher["b"])(callApmApi=>callApmApi({endpoint:"GET /api/apm/index_pattern/dynamic",isCachable:true,params:{query:{processorEvent:processorEvent}}}),[processorEvent]),data=_useFetcher.data,status=_useFetcher.status;return{indexPattern:data===null||data===void 0?void 0:data.dynamicIndexPattern,status:status}}var elasticsearch_fieldnames=__webpack_require__(55);function getBoolFilter({groupId:groupId,processorEvent:processorEvent,serviceName:serviceName,urlParams:urlParams}){const boolFilter=[];if(serviceName){boolFilter.push({term:{[elasticsearch_fieldnames["i"]]:serviceName}})}switch(processorEvent){case"transaction":boolFilter.push({term:{[elasticsearch_fieldnames["g"]]:"transaction"}});if(urlParams.transactionName){boolFilter.push({term:{[elasticsearch_fieldnames["r"]]:urlParams.transactionName}})}if(urlParams.transactionType){boolFilter.push({term:{[elasticsearch_fieldnames["t"]]:urlParams.transactionType}})}break;case"error":boolFilter.push({term:{[elasticsearch_fieldnames["g"]]:"error"}});if(groupId){boolFilter.push({term:{[elasticsearch_fieldnames["d"]]:groupId}})}break;case"metric":boolFilter.push({term:{[elasticsearch_fieldnames["g"]]:"metric"}});break;default:boolFilter.push({bool:{should:[{term:{[elasticsearch_fieldnames["g"]]:"error"}},{term:{[elasticsearch_fieldnames["g"]]:"transaction"}},{term:{[elasticsearch_fieldnames["g"]]:"metric"}}]}})}return boolFilter}var lib=__webpack_require__(109);function getIconColor(type,theme){switch(type){case"field":return theme.eui.euiColorVis7;case"value":return theme.eui.euiColorVis0;case"operator":return theme.eui.euiColorVis1;case"conjunction":return theme.eui.euiColorVis3;case"recentSearch":return theme.eui.euiColorMediumShade}}const Description=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Description",componentId:"sc-1dwkywc-0"})(["color:",";p{display:inline;span{font-family:",";color:",";padding:0 ",";display:inline-block;}}"],({theme:theme})=>theme.eui.euiColorDarkShade,variables["fontFamilyCode"],({theme:theme})=>theme.eui.euiColorFullShade,Object(variables["px"])(variables["units"].quarter));const ListItem=external_kbnSharedDeps_StyledComponents_default.a.li.withConfig({displayName:"ListItem",componentId:"sc-1dwkywc-1"})(["font-size:",";height:",";align-items:center;display:flex;background:",";cursor:pointer;border-radius:",";","{p span{background:",";}}"],variables["fontSizes"].small,Object(variables["px"])(variables["units"].double),({selected:selected,theme:theme})=>selected?theme.eui.euiColorLightestShade:"initial",Object(variables["px"])(variables["units"].quarter),Description,({selected:selected,theme:theme})=>selected?theme.eui.euiColorEmptyShade:theme.eui.euiColorLightestShade);const Icon=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Icon",componentId:"sc-1dwkywc-2"})(["flex:0 0 ",";background:",";color:",";width:100%;height:100%;text-align:center;line-height:",";"],Object(variables["px"])(variables["units"].double),({type:type,theme:theme})=>Object(lib["tint"])(.1,getIconColor(type,theme)),({type:type,theme:theme})=>getIconColor(type,theme),Object(variables["px"])(variables["units"].double));const TextValue=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"TextValue",componentId:"sc-1dwkywc-3"})(["flex:0 0 ",";color:",";padding:0 ",";"],Object(variables["px"])(variables["unit"]*16),({theme:theme})=>theme.eui.euiColorDarkestShade,Object(variables["px"])(variables["units"].half));function getEuiIconType(type){switch(type){case"field":return"kqlField";case"value":return"kqlValue";case"recentSearch":return"search";case"conjunction":return"kqlSelector";case"operator":return"kqlOperand";default:throw new Error("Unknown type",type)}}function Suggestion(props){return external_kbnSharedDeps_React_default.a.createElement(ListItem,{innerRef:props.innerRef,selected:props.selected,onClick:()=>props.onClick(props.suggestion),onMouseEnter:props.onMouseEnter},external_kbnSharedDeps_React_default.a.createElement(Icon,{type:props.suggestion.type},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:getEuiIconType(props.suggestion.type)})),external_kbnSharedDeps_React_default.a.createElement(TextValue,null,props.suggestion.text),external_kbnSharedDeps_React_default.a.createElement(Description,null,props.suggestion.description))}var Typeahead_Suggestion=Suggestion;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const List=external_kbnSharedDeps_StyledComponents_default.a.ul.withConfig({displayName:"List",componentId:"sc-14rspay-0"})(["width:100%;border:1px solid ",";border-radius:",";box-shadow:0px "," "," ",";position:absolute;background:",";z-index:10;left:0;max-height:",";overflow:scroll;"],({theme:theme})=>theme.eui.euiColorLightShade,Object(variables["px"])(variables["units"].quarter),Object(variables["px"])(variables["units"].quarter),Object(variables["px"])(variables["units"].double),({theme:theme})=>Object(lib["tint"])(.1,theme.eui.euiColorFullShade),({theme:theme})=>theme.eui.euiColorEmptyShade,Object(variables["px"])(variables["unit"]*20));class Suggestions_Suggestions extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);_defineProperty(this,"childNodes",[]);_defineProperty(this,"scrollIntoView",()=>{const parent=this.parentNode;const child=this.childNodes[this.props.index];if(this.props.index==null||!parent||!child){return}const scrollTop=Math.max(Math.min(parent.scrollTop,child.offsetTop),child.offsetTop+child.offsetHeight-parent.offsetHeight);parent.scrollTop=scrollTop})}componentDidUpdate(prevProps){if(prevProps.index!==this.props.index){this.scrollIntoView()}}render(){if(!this.props.show||Object(external_kbnSharedDeps_Lodash_["isEmpty"])(this.props.suggestions)){return null}const suggestions=this.props.suggestions.map((suggestion,index)=>{const key=suggestion+"_"+index;return external_kbnSharedDeps_React_default.a.createElement(Typeahead_Suggestion,{innerRef:node=>this.childNodes[index]=node,selected:index===this.props.index,suggestion:suggestion,onClick:this.props.onClick,onMouseEnter:()=>this.props.onMouseEnter(index),key:key})});return external_kbnSharedDeps_React_default.a.createElement(List,{innerRef:node=>this.parentNode=node},suggestions)}}var Typeahead_Suggestions=Suggestions_Suggestions;function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ClickOutside_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class ClickOutside_ClickOutside extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);ClickOutside_defineProperty(this,"setNodeRef",node=>{this.nodeRef=node});ClickOutside_defineProperty(this,"onClick",event=>{if(this.nodeRef&&!this.nodeRef.contains(event.target)){this.props.onClickOutside()}})}componentDidMount(){document.addEventListener("mousedown",this.onClick)}componentWillUnmount(){document.removeEventListener("mousedown",this.onClick)}render(){const _this$props=this.props,onClickOutside=_this$props.onClickOutside,restProps=_objectWithoutProperties(_this$props,["onClickOutside"]);return external_kbnSharedDeps_React_default.a.createElement("div",_extends({ref:this.setNodeRef},restProps),this.props.children)}}function Typeahead_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const KEY_CODES={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,ESC:27,TAB:9};class Typeahead_Typeahead extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);Typeahead_defineProperty(this,"state",{isSuggestionsVisible:false,index:null,value:"",initialValue:""});Typeahead_defineProperty(this,"incrementIndex",currentIndex=>{let nextIndex=currentIndex+1;if(currentIndex===null||nextIndex>=this.props.suggestions.length){nextIndex=0}this.setState({index:nextIndex})});Typeahead_defineProperty(this,"decrementIndex",currentIndex=>{let previousIndex=currentIndex-1;if(previousIndex<0){previousIndex=null}this.setState({index:previousIndex})});Typeahead_defineProperty(this,"onKeyUp",event=>{const selectionStart=event.target.selectionStart;const value=this.state.value;switch(event.keyCode){case KEY_CODES.LEFT:this.setState({isSuggestionsVisible:true});this.props.onChange(value,selectionStart);break;case KEY_CODES.RIGHT:this.setState({isSuggestionsVisible:true});this.props.onChange(value,selectionStart);break}});Typeahead_defineProperty(this,"onKeyDown",event=>{const _this$state=this.state,isSuggestionsVisible=_this$state.isSuggestionsVisible,index=_this$state.index,value=_this$state.value;switch(event.keyCode){case KEY_CODES.DOWN:event.preventDefault();if(isSuggestionsVisible){this.incrementIndex(index)}else{this.setState({isSuggestionsVisible:true,index:0})}break;case KEY_CODES.UP:event.preventDefault();if(isSuggestionsVisible){this.decrementIndex(index)}break;case KEY_CODES.ENTER:event.preventDefault();if(isSuggestionsVisible&&this.props.suggestions[index]){this.selectSuggestion(this.props.suggestions[index])}else{this.setState({isSuggestionsVisible:false});this.props.onSubmit(value)}break;case KEY_CODES.ESC:event.preventDefault();this.setState({isSuggestionsVisible:false});break;case KEY_CODES.TAB:this.setState({isSuggestionsVisible:false});break}});Typeahead_defineProperty(this,"selectSuggestion",suggestion=>{const nextInputValue=this.state.value.substr(0,suggestion.start)+suggestion.text+this.state.value.substr(suggestion.end);this.setState({value:nextInputValue,index:null});this.props.onChange(nextInputValue,nextInputValue.length)});Typeahead_defineProperty(this,"onClickOutside",()=>{this.setState({isSuggestionsVisible:false})});Typeahead_defineProperty(this,"onChangeInputValue",event=>{const _event$target=event.target,value=_event$target.value,selectionStart=_event$target.selectionStart;const hasValue=Boolean(value.trim());this.setState({value:value,isSuggestionsVisible:hasValue,index:null});if(!hasValue){this.props.onSubmit(value)}this.props.onChange(value,selectionStart)});Typeahead_defineProperty(this,"onClickInput",event=>{const selectionStart=event.target.selectionStart;this.props.onChange(this.state.value,selectionStart)});Typeahead_defineProperty(this,"onClickSuggestion",suggestion=>{this.selectSuggestion(suggestion);this.inputRef.focus()});Typeahead_defineProperty(this,"onMouseEnterSuggestion",index=>{this.setState({index:index})});Typeahead_defineProperty(this,"onSubmit",()=>{this.props.onSubmit(this.state.value);this.setState({isSuggestionsVisible:false})})}static getDerivedStateFromProps(props,state){const initialValue=props.initialValue?props.initialValue:"";if(initialValue!==state.initialValue){return{value:initialValue,initialValue:initialValue}}return null}render(){const placeholder=this.props.placeholder;return external_kbnSharedDeps_React_default.a.createElement(ClickOutside_ClickOutside,{onClickOutside:this.onClickOutside,style:{position:"relative"}},external_kbnSharedDeps_React_default.a.createElement("div",{style:{position:"relative"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{fullWidth:true,style:{backgroundImage:"none"},placeholder:placeholder,inputRef:node=>{if(node){this.inputRef=node}},disabled:this.props.disabled,value:this.state.value,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onChange:this.onChangeInputValue,onClick:this.onClickInput,autoComplete:"off",spellCheck:false}),this.props.isLoading&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiProgress"],{size:"xs",color:"accent",position:"absolute",style:{bottom:0,top:"initial"}})),external_kbnSharedDeps_React_default.a.createElement(Typeahead_Suggestions,{show:this.state.isSuggestionsVisible,suggestions:this.props.suggestions,index:this.state.index,onClick:this.onClickSuggestion,onMouseEnter:this.onMouseEnterSuggestion}))}}Typeahead_Typeahead.defaultProps={isLoading:false,disabled:false,suggestions:[]};let ProcessorEvent;(function(ProcessorEvent){ProcessorEvent["transaction"]="transaction";ProcessorEvent["error"]="error";ProcessorEvent["metric"]="metric";ProcessorEvent["span"]="span";ProcessorEvent["onboarding"]="onboarding";ProcessorEvent["sourcemap"]="sourcemap"})(ProcessorEvent||(ProcessorEvent={}));function useProcessorEvent(){const _useLocation=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])(),pathname=_useLocation.pathname;const paths=pathname.split("/").slice(1);const pageName=paths[0];switch(pageName){case"services":let servicePageName=paths[2];if(servicePageName==="nodes"&&paths.length>3){servicePageName="metrics"}switch(servicePageName){case"transactions":return ProcessorEvent.transaction;case"errors":return ProcessorEvent.error;case"metrics":return ProcessorEvent.metric;case"nodes":return ProcessorEvent.metric;default:return undefined}case"traces":return ProcessorEvent.transaction;default:return undefined}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){KueryBar_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function KueryBar_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function KueryBar_slicedToArray(arr,i){return KueryBar_arrayWithHoles(arr)||KueryBar_iterableToArrayLimit(arr,i)||KueryBar_unsupportedIterableToArray(arr,i)||KueryBar_nonIterableRest()}function KueryBar_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function KueryBar_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return KueryBar_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KueryBar_arrayLikeToArray(o,minLen)}function KueryBar_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function KueryBar_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function KueryBar_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"iytvti-0"})(["margin-bottom:10px;"]);function convertKueryToEsQuery(kuery,indexPattern){const ast=data_public_["esKuery"].fromKueryExpression(kuery);return data_public_["esKuery"].toElasticsearchQuery(ast,indexPattern)}function KueryBar(){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),groupId=_useParams.groupId,serviceName=_useParams.serviceName;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useState=Object(external_kbnSharedDeps_React_["useState"])({suggestions:[],isLoadingSuggestions:false}),_useState2=KueryBar_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const location=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const data=Object(useApmPluginContext["a"])().plugins.data;let currentRequestCheck;const processorEvent=useProcessorEvent();const examples={transaction:"transaction.duration.us > 300000",error:"http.response.status_code >= 400",metric:'process.pid = "1234"',defaults:"transaction.duration.us > 300000 AND http.response.status_code >= 400"};const example=examples[processorEvent||"defaults"];const _useDynamicIndexPatte=useDynamicIndexPattern(processorEvent),indexPattern=_useDynamicIndexPatte.indexPattern;const placeholder=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.kueryBar.placeholder",{defaultMessage:"Search {event, select,\n            transaction {transactions}\n            metric {metrics}\n            error {errors}\n            other {transactions, errors and metrics}\n          } (E.g. {queryExample})",values:{queryExample:example,event:processorEvent}});function onChange(_x,_x2){return _onChange.apply(this,arguments)}function _onChange(){_onChange=_asyncToGenerator(regeneratorRuntime.mark((function _callee(inputValue,selectionStart){var currentRequest,suggestions;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(indexPattern==null)){_context.next=2;break}return _context.abrupt("return");case 2:setState(_objectSpread(_objectSpread({},state),{},{suggestions:[],isLoadingSuggestions:true}));currentRequest=Object(external_kbnSharedDeps_Lodash_["uniqueId"])();currentRequestCheck=currentRequest;_context.prev=5;_context.next=8;return data.autocomplete.getQuerySuggestions({language:"kuery",indexPatterns:[indexPattern],boolFilter:getBoolFilter({groupId:groupId,processorEvent:processorEvent,serviceName:serviceName,urlParams:urlParams}),query:inputValue,selectionStart:selectionStart,selectionEnd:selectionStart,useTimeRange:true});case 8:_context.t0=_context.sent;if(_context.t0){_context.next=11;break}_context.t0=[];case 11:suggestions=_context.t0.filter(suggestion=>!Object(external_kbnSharedDeps_Lodash_["startsWith"])(suggestion.text,"span.")).slice(0,15);if(!(currentRequest!==currentRequestCheck)){_context.next=14;break}return _context.abrupt("return");case 14:setState(_objectSpread(_objectSpread({},state),{},{suggestions:suggestions,isLoadingSuggestions:false}));_context.next=20;break;case 17:_context.prev=17;_context.t1=_context["catch"](5);console.error("Error while fetching suggestions",_context.t1);case 20:case"end":return _context.stop()}}),_callee,null,[[5,17]])})));return _onChange.apply(this,arguments)}function onSubmit(inputValue){if(indexPattern==null){return}try{const res=convertKueryToEsQuery(inputValue,indexPattern);if(!res){return}history.push(_objectSpread(_objectSpread({},location),{},{search:Object(url_helpers["b"])(_objectSpread(_objectSpread({},Object(url_helpers["c"])(location.search)),{},{kuery:encodeURIComponent(inputValue.trim())}))}))}catch(e){console.log("Invalid kuery syntax")}}return external_kbnSharedDeps_React_default.a.createElement(Container,null,external_kbnSharedDeps_React_default.a.createElement(Typeahead_Typeahead,{isLoading:state.isLoadingSuggestions,initialValue:urlParams.kuery,onChange:onChange,onSubmit:onSubmit,suggestions:state.suggestions,placeholder:placeholder}))}const SearchBarFlexGroup=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"]).withConfig({displayName:"SearchBarFlexGroup",componentId:"sc-1c8tw9w-0"})(["margin:",";"],({theme:theme})=>"".concat(theme.eui.euiSizeM," ").concat(theme.eui.euiSizeM," -").concat(theme.eui.gutterTypes.gutterMedium," ").concat(theme.eui.euiSizeM));function SearchBar(){return external_kbnSharedDeps_React_default.a.createElement(SearchBarFlexGroup,{alignItems:"flexStart",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:3},external_kbnSharedDeps_React_default.a.createElement(KueryBar,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(DatePicker["a"],null)))}var pick_keys=__webpack_require__(62);function TransactionDetailLink_extends(){TransactionDetailLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return TransactionDetailLink_extends.apply(this,arguments)}function TransactionDetailLink_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function TransactionDetailLink_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TransactionDetailLink_ownKeys(Object(source),true).forEach((function(key){TransactionDetailLink_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{TransactionDetailLink_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function TransactionDetailLink_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function TransactionDetailLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=TransactionDetailLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function TransactionDetailLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function TransactionDetailLink(_ref){let serviceName=_ref.serviceName,traceId=_ref.traceId,transactionId=_ref.transactionId,transactionName=_ref.transactionName,transactionType=_ref.transactionType,rest=TransactionDetailLink_objectWithoutProperties(_ref,["serviceName","traceId","transactionId","transactionName","transactionType"]);const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const persistedFilters=Object(pick_keys["a"])(urlParams,"transactionResult","serviceVersion");return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],TransactionDetailLink_extends({path:"/services/".concat(serviceName,"/transactions/view"),query:TransactionDetailLink_objectSpread({traceId:traceId,transactionId:transactionId,transactionName:transactionName,transactionType:transactionType},persistedFilters)},rest))}var rison=__webpack_require__(424);var rison_default=__webpack_require__.n(rison);var url_url=__webpack_require__(5);var url_default=__webpack_require__.n(url_url);var apmOss_public_=__webpack_require__(34);function getTimepickerRisonData(currentSearch){const currentQuery=Object(url_helpers["c"])(currentSearch);return{time:{from:currentQuery.rangeFrom||"",to:currentQuery.rangeTo||""},refreshInterval:{pause:currentQuery.refreshPaused?Boolean(currentQuery.refreshPaused):true,value:currentQuery.refreshInterval?parseInt(currentQuery.refreshInterval,10):0}}}function DiscoverLink_extends(){DiscoverLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return DiscoverLink_extends.apply(this,arguments)}function DiscoverLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=DiscoverLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function DiscoverLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function DiscoverLink_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function DiscoverLink_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){DiscoverLink_ownKeys(Object(source),true).forEach((function(key){DiscoverLink_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{DiscoverLink_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function DiscoverLink_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const getDiscoverHref=({basePath:basePath,location:location,query:query})=>{const risonQuery={_g:getTimepickerRisonData(location.search),_a:DiscoverLink_objectSpread(DiscoverLink_objectSpread({},query._a),{},{index:apmOss_public_["APM_STATIC_INDEX_PATTERN_ID"]})};const href=url_default.a.format({pathname:basePath.prepend("/app/discover"),hash:"/?_g=".concat(rison_default.a.encode(risonQuery._g),"&_a=").concat(rison_default.a.encode(risonQuery._a))});return href};function DiscoverLink(_ref){let _ref$query=_ref.query,query=_ref$query===void 0?{}:_ref$query,rest=DiscoverLink_objectWithoutProperties(_ref,["query"]);const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const location=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const href=getDiscoverHref({basePath:core.http.basePath,query:query,location:location});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],DiscoverLink_extends({},rest,{href:href}))}function getDiscoverQuery(error,kuery){const serviceName=error.service.name;const groupId=error.error.grouping_key;let query="".concat(elasticsearch_fieldnames["i"],':"').concat(serviceName,'" AND ').concat(elasticsearch_fieldnames["d"],':"').concat(groupId,'"');if(kuery){query+=" AND ".concat(kuery)}return{_a:{interval:"auto",query:{language:"kuery",query:query},sort:{"@timestamp":"desc"}}}}function DiscoverErrorLink({error:error,kuery:kuery,children:children}){return external_kbnSharedDeps_React_default.a.createElement(DiscoverLink,{query:getDiscoverQuery(error,kuery),children:children})}const LABELS={key:"labels",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.labelsLabel",{defaultMessage:"Labels"})};const HTTP={key:"http",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.httpLabel",{defaultMessage:"HTTP"})};const HOST={key:"host",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.hostLabel",{defaultMessage:"Host"})};const CLIENT={key:"client",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.clientLabel",{defaultMessage:"Client"}),properties:["ip"]};const CONTAINER={key:"container",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.containerLabel",{defaultMessage:"Container"})};const SERVICE={key:"service",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.serviceLabel",{defaultMessage:"Service"})};const PROCESS={key:"process",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.processLabel",{defaultMessage:"Process"})};const AGENT={key:"agent",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.agentLabel",{defaultMessage:"Agent"})};const sections_URL={key:"url",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.urlLabel",{defaultMessage:"URL"})};const USER={key:"user",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.userLabel",{defaultMessage:"User"})};const USER_AGENT={key:"user_agent",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.userAgentLabel",{defaultMessage:"User agent"})};const PAGE={key:"page",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.pageLabel",{defaultMessage:"Page"})};const SPAN={key:"span",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.spanLabel",{defaultMessage:"Span"}),properties:["id"]};const TRANSACTION={key:"transaction",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.transactionLabel",{defaultMessage:"Transaction"}),properties:["id"]};const TRACE={key:"trace",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.traceLabel",{defaultMessage:"Trace"}),properties:["id"]};const ERROR={key:"error",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.errorLabel",{defaultMessage:"Error"}),properties:["id"]};const customLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.customLabel",{defaultMessage:"Custom"});const CUSTOM_ERROR={key:"error.custom",label:customLabel};const CUSTOM_TRANSACTION={key:"transaction.custom",label:customLabel};const messageLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metadataTable.section.messageLabel",{defaultMessage:"Message"});const MESSAGE_TRANSACTION={key:"transaction.message",label:messageLabel};const MESSAGE_SPAN={key:"span.message",label:messageLabel};function sections_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function sections_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){sections_ownKeys(Object(source),true).forEach((function(key){sections_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{sections_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function sections_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const ERROR_METADATA_SECTIONS=[sections_objectSpread(sections_objectSpread({},LABELS),{},{required:true}),TRACE,TRANSACTION,ERROR,HTTP,HOST,CONTAINER,SERVICE,PROCESS,AGENT,sections_URL,sections_objectSpread(sections_objectSpread({},USER),{},{required:true}),CUSTOM_ERROR];const flattenObject=(item,parentKey)=>{if(item){const isArrayWithSingleValue=Array.isArray(item)&&item.length===1;return Object.keys(item).sort().reduce((acc,key)=>{const childKey=isArrayWithSingleValue?"":key;const currentKey=Object(external_kbnSharedDeps_Lodash_["compact"])([parentKey,childKey]).join(".");if(Object(external_kbnSharedDeps_Lodash_["isObject"])(item[key])){return acc.concat(flattenObject(item[key],currentKey))}else{acc.push({key:currentKey,value:item[key]});return acc}},[])}return[]};function helper_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function helper_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){helper_ownKeys(Object(source),true).forEach((function(key){helper_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{helper_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function helper_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const getSectionsWithRows=(sections,apmDoc)=>sections.map(section=>{const sectionData=Object(external_kbnSharedDeps_Lodash_["get"])(apmDoc,section.key);const filteredData=section.properties?Object(external_kbnSharedDeps_Lodash_["pick"])(sectionData,section.properties):sectionData;const rows=flattenObject(filteredData,section.key);return helper_objectSpread(helper_objectSpread({},section),{},{rows:rows})}).filter(({required:required,rows:rows})=>required||!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(rows));const filterSectionsByTerm=(sections,searchTerm)=>{if(!searchTerm){return sections}return sections.map(section=>{const _section$rows=section.rows,rows=_section$rows===void 0?[]:_section$rows;const filteredRows=rows.filter(({key:key,value:value})=>{const valueAsString=String(value).toLowerCase();return key.toLowerCase().includes(searchTerm)||valueAsString.includes(searchTerm)});return helper_objectSpread(helper_objectSpread({},section),{},{rows:filteredRows})}).filter(({rows:rows})=>!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(rows))};function ElasticDocsLink_extends(){ElasticDocsLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return ElasticDocsLink_extends.apply(this,arguments)}function ElasticDocsLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=ElasticDocsLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function ElasticDocsLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ElasticDocsLink(_ref){let section=_ref.section,path=_ref.path,children=_ref.children,rest=ElasticDocsLink_objectWithoutProperties(_ref,["section","path","children"]);const docLinks=Object(useApmPluginContext["a"])().core.docLinks;const baseUrl=docLinks.ELASTIC_WEBSITE_URL;const version=docLinks.DOC_LINK_VERSION;const href="".concat(baseUrl,"guide/en").concat(section,"/").concat(version).concat(path);return typeof children==="function"?children(href):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],ElasticDocsLink_extends({href:href},rest),children)}function HeightRetainer_extends(){HeightRetainer_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return HeightRetainer_extends.apply(this,arguments)}function HeightRetainer(props){const containerElement=Object(external_kbnSharedDeps_React_["useRef"])(null);const minHeight=Object(external_kbnSharedDeps_React_["useRef"])(0);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(containerElement.current){const currentHeight=containerElement.current.clientHeight;if(minHeight.current<currentHeight){minHeight.current=currentHeight}}});return external_kbnSharedDeps_React_default.a.createElement("div",HeightRetainer_extends({},props,{ref:containerElement,style:{minHeight:minHeight.current}}))}const EmptyValue=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"EmptyValue",componentId:"sc-136ppy3-0"})(["color:",";text-align:left;"],({theme:theme})=>theme.eui.euiColorMediumShade);function FormattedKey({k:k,value:value}){if(value==null){return external_kbnSharedDeps_React_default.a.createElement(EmptyValue,null,k)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,k)}function FormattedValue({value:value}){if(Object(external_kbnSharedDeps_Lodash_["isObject"])(value)){return external_kbnSharedDeps_React_default.a.createElement("pre",null,JSON.stringify(value,null,4))}else if(Object(external_kbnSharedDeps_Lodash_["isBoolean"])(value)||Object(external_kbnSharedDeps_Lodash_["isNumber"])(value)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,String(value))}else if(!value){return external_kbnSharedDeps_React_default.a.createElement(EmptyValue,null,NOT_AVAILABLE_LABEL)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,value)}function KeyValueTable_extends(){KeyValueTable_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return KeyValueTable_extends.apply(this,arguments)}function KeyValueTable({keyValuePairs:keyValuePairs,tableProps:tableProps={}}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTable"],KeyValueTable_extends({compressed:true},tableProps),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableBody"],null,keyValuePairs.map(({key:key,value:value})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRow"],{key:key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement("strong",{"data-test-subj":"dot-key"},key)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],{"data-test-subj":"value"},external_kbnSharedDeps_React_default.a.createElement(FormattedValue,{value:value}))))))}function Section({keyValuePairs:keyValuePairs}){if(!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(keyValuePairs)){return external_kbnSharedDeps_React_default.a.createElement(KeyValueTable,{keyValuePairs:keyValuePairs})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.agentFeature.noDataAvailableLabel",{defaultMessage:"No data available"}))}function MetadataTable_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function MetadataTable_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){MetadataTable_ownKeys(Object(source),true).forEach((function(key){MetadataTable_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{MetadataTable_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function MetadataTable_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function MetadataTable({sections:sections}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const location=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const _urlParams$searchTerm=urlParams.searchTerm,searchTerm=_urlParams$searchTerm===void 0?"":_urlParams$searchTerm;const filteredSections=filterSectionsByTerm(sections,searchTerm);const onSearchChange=Object(external_kbnSharedDeps_React_["useCallback"])(e=>{const value=e.target.value.trim().toLowerCase();history.replace(MetadataTable_objectSpread(MetadataTable_objectSpread({},location),{},{search:Object(url_helpers["b"])(MetadataTable_objectSpread(MetadataTable_objectSpread({},Object(url_helpers["c"])(location.search)),{},{searchTerm:value}))}))},[history,location]);const noResultFound=Boolean(searchTerm)&&Object(external_kbnSharedDeps_Lodash_["isEmpty"])(filteredSections);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(ElasticDocsLink,{section:"/apm/get-started",path:"/metadata.html"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"help"})," How to add labels and other data"))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{onChange:onSearchChange,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.searchInput.filter",{defaultMessage:"Filter..."}),style:{width:400},isInvalid:noResultFound,value:searchTerm}))),external_kbnSharedDeps_React_default.a.createElement(HeightRetainer,null,filteredSections.map(section=>external_kbnSharedDeps_React_default.a.createElement("div",{key:section.key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h6",null,section.label)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(Section,{keyValuePairs:section.rows}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xl"}))),noResultFound&&external_kbnSharedDeps_React_default.a.createElement(NoResultFound,{value:searchTerm})))}function NoResultFound({value:value}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.agentFeature.noResultFound",{defaultMessage:'No results for "{value}".',values:{value:value}}))))}function ErrorMetadata({error:error}){const sectionsWithRows=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getSectionsWithRows(ERROR_METADATA_SECTIONS,error),[error]);return external_kbnSharedDeps_React_default.a.createElement(MetadataTable,{sections:sectionsWithRows})}function EmptyMessage({heading:heading=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.emptyMessage.noDataFoundLabel",{defaultMessage:"No data found."}),subheading:subheading=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.emptyMessage.noDataFoundDescription",{defaultMessage:"Try another time range or reset the search filter."}),hideSubheading:hideSubheading=false}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{titleSize:"s",title:external_kbnSharedDeps_React_default.a.createElement("div",null,heading),body:!hideSubheading&&subheading})}var javascript=__webpack_require__(425);var javascript_default=__webpack_require__.n(javascript);var python=__webpack_require__(427);var python_default=__webpack_require__.n(python);var ruby=__webpack_require__(429);var ruby_default=__webpack_require__.n(ruby);var light=__webpack_require__(158);var light_default=__webpack_require__.n(light);var styles=__webpack_require__(227);Object(light["registerLanguage"])("javascript",javascript_default.a);Object(light["registerLanguage"])("python",python_default.a);Object(light["registerLanguage"])("ruby",ruby_default.a);const ContextContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ContextContainer",componentId:"iqpaz7-0"})(["position:relative;border-radius:",";"],variables["borderRadius"]);const LINE_HEIGHT=variables["units"].eighth*9;const LineHighlight=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"LineHighlight",componentId:"iqpaz7-1"})(["position:absolute;width:100%;height:",";top:",";pointer-events:none;background-color:",";"],Object(variables["px"])(variables["units"].eighth*9),props=>Object(variables["px"])(props.lineNumber*LINE_HEIGHT),({theme:theme})=>Object(lib["tint"])(.1,theme.eui.euiColorWarning));const LineNumberContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"LineNumberContainer",componentId:"iqpaz7-2"})(["position:absolute;top:0;left:0;border-radius:",";background:",";"],variables["borderRadius"],({isLibraryFrame:isLibraryFrame,theme:theme})=>isLibraryFrame?theme.eui.euiColorEmptyShade:theme.eui.euiColorLightestShade);const LineNumber=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"LineNumber",componentId:"iqpaz7-3"})(["position:relative;min-width:",";padding-left:",";padding-right:",";color:",";line-height:",";text-align:right;border-right:1px solid ",";background-color:",";&:last-of-type{border-radius:0 0 0 ",";}"],Object(variables["px"])(variables["units"].eighth*21),Object(variables["px"])(variables["units"].half),Object(variables["px"])(variables["units"].quarter),({theme:theme})=>theme.eui.euiColorMediumShade,Object(variables["px"])(variables["unit"]+variables["units"].eighth),({theme:theme})=>theme.eui.euiColorLightShade,({highlight:highlight,theme:theme})=>highlight?Object(lib["tint"])(.1,theme.eui.euiColorWarning):null,variables["borderRadius"]);const LineContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"LineContainer",componentId:"iqpaz7-4"})(["overflow:auto;margin:0 0 0 ",";padding:0;background-color:",";&:last-of-type{border-radius:0 0 "," 0;}"],Object(variables["px"])(variables["units"].eighth*21),({theme:theme})=>theme.eui.euiColorEmptyShade,variables["borderRadius"]);const Line=external_kbnSharedDeps_StyledComponents_default.a.pre.withConfig({displayName:"Line",componentId:"iqpaz7-5"})(["margin:0;color:inherit;background:inherit;border:0;border-radius:0;overflow:initial;padding:0 ",";line-height:",";"],Object(variables["px"])(LINE_HEIGHT),Object(variables["px"])(LINE_HEIGHT));const Code=external_kbnSharedDeps_StyledComponents_default.a.code.withConfig({displayName:"Code",componentId:"iqpaz7-6"})(["position:relative;padding:0;margin:0;white-space:pre;z-index:2;"]);function getStackframeLines(stackframe){var _stackframe$context,_stackframe$context2;const line=stackframe.line.context;const preLines=((_stackframe$context=stackframe.context)===null||_stackframe$context===void 0?void 0:_stackframe$context.pre)||[];const postLines=((_stackframe$context2=stackframe.context)===null||_stackframe$context2===void 0?void 0:_stackframe$context2.post)||[];return[...preLines,line,...postLines]}function getStartLineNumber(stackframe){var _stackframe$context3;const preLines=Object(external_kbnSharedDeps_Lodash_["size"])(((_stackframe$context3=stackframe.context)===null||_stackframe$context3===void 0?void 0:_stackframe$context3.pre)||[]);return stackframe.line.number-preLines}function Context({stackframe:stackframe,codeLanguage:codeLanguage,isLibraryFrame:isLibraryFrame}){var _stackframe$context4;const lines=getStackframeLines(stackframe);const startLineNumber=getStartLineNumber(stackframe);const highlightedLineIndex=Object(external_kbnSharedDeps_Lodash_["size"])(((_stackframe$context4=stackframe.context)===null||_stackframe$context4===void 0?void 0:_stackframe$context4.pre)||[]);const language=codeLanguage||"javascript";return external_kbnSharedDeps_React_default.a.createElement(ContextContainer,null,external_kbnSharedDeps_React_default.a.createElement(LineHighlight,{lineNumber:highlightedLineIndex}),external_kbnSharedDeps_React_default.a.createElement(LineNumberContainer,{isLibraryFrame:isLibraryFrame},lines.map((line,i)=>external_kbnSharedDeps_React_default.a.createElement(LineNumber,{key:line+i,highlight:highlightedLineIndex===i},i+startLineNumber,"."))),external_kbnSharedDeps_React_default.a.createElement(LineContainer,null,lines.map((line,i)=>external_kbnSharedDeps_React_default.a.createElement(light_default.a,{key:line+i,language:language,style:styles["xcode"],PreTag:Line,CodeTag:Code,customStyle:{padding:null,overflowX:null}},line||"\n"))))}function DefaultFrameHeadingRenderer({stackframe:stackframe,fileDetailComponent:FileDetail}){var _stackframe$line$numb,_stackframe$line;const lineNumber=(_stackframe$line$numb=(_stackframe$line=stackframe.line)===null||_stackframe$line===void 0?void 0:_stackframe$line.number)!==null&&_stackframe$line$numb!==void 0?_stackframe$line$numb:0;const name="filename"in stackframe?stackframe.filename:stackframe.classname;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,name)," in"," ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,stackframe.function),lineNumber>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null," at ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,"line ",lineNumber)))}function CSharpFrameHeadingRenderer({stackframe:stackframe,fileDetailComponent:FileDetail}){var _stackframe$line$numb,_stackframe$line;const classname=stackframe.classname,filename=stackframe.filename,fn=stackframe.function;const lineNumber=(_stackframe$line$numb=(_stackframe$line=stackframe.line)===null||_stackframe$line===void 0?void 0:_stackframe$line.number)!==null&&_stackframe$line$numb!==void 0?_stackframe$line$numb:0;if(classname){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,classname)," in ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,fn)," in ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,filename),lineNumber>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null," at ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,"line ",lineNumber)))}else{return external_kbnSharedDeps_React_default.a.createElement(DefaultFrameHeadingRenderer,{fileDetailComponent:FileDetail,stackframe:stackframe})}}function JavaFrameHeadingRenderer({stackframe:stackframe,fileDetailComponent:FileDetail}){var _stackframe$line$numb,_stackframe$line;const classname=stackframe.classname,filename=stackframe.filename,fn=stackframe.function;const lineNumber=(_stackframe$line$numb=(_stackframe$line=stackframe.line)===null||_stackframe$line===void 0?void 0:_stackframe$line.number)!==null&&_stackframe$line$numb!==void 0?_stackframe$line$numb:0;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,"at ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,[classname,fn].join(".")),"(",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,filename,lineNumber>0&&":".concat(lineNumber)),")")}function JavaScriptFrameHeadingRenderer({stackframe:stackframe,fileDetailComponent:FileDetail}){var _stackframe$line$numb,_stackframe$line,_stackframe$line$colu,_stackframe$line2;const classname=stackframe.classname,filename=stackframe.filename,fn=stackframe.function;const lineNumber=(_stackframe$line$numb=(_stackframe$line=stackframe.line)===null||_stackframe$line===void 0?void 0:_stackframe$line.number)!==null&&_stackframe$line$numb!==void 0?_stackframe$line$numb:0;const columnNumber=(_stackframe$line$colu=(_stackframe$line2=stackframe.line)===null||_stackframe$line2===void 0?void 0:_stackframe$line2.column)!==null&&_stackframe$line$colu!==void 0?_stackframe$line$colu:0;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,"at"," ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,classname&&"".concat(classname,"."),fn)," ","(",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,filename,lineNumber>0&&":".concat(lineNumber),lineNumber>0&&columnNumber>0&&":".concat(columnNumber)),")")}function RubyFrameHeadingRenderer({stackframe:stackframe,fileDetailComponent:FileDetail}){var _stackframe$line$numb,_stackframe$line;const filename=stackframe.filename,fn=stackframe.function;const lineNumber=(_stackframe$line$numb=(_stackframe$line=stackframe.line)===null||_stackframe$line===void 0?void 0:_stackframe$line.number)!==null&&_stackframe$line$numb!==void 0?_stackframe$line$numb:0;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,filename,lineNumber>0&&":".concat(lineNumber))," in ",external_kbnSharedDeps_React_default.a.createElement(FileDetail,null,"`",fn,"'"))}const FileDetails=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"FileDetails",componentId:"sc-11gkbjs-0"})(["color:",";line-height:1.5;padding:"," 0;font-family:",";font-size:",";"],({theme:theme})=>theme.eui.euiColorDarkShade,Object(variables["px"])(variables["units"].eighth),variables["fontFamilyCode"],variables["fontSize"]);const LibraryFrameFileDetail=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"LibraryFrameFileDetail",componentId:"sc-11gkbjs-1"})(["color:",";word-break:break-word;"],({theme:theme})=>theme.eui.euiColorDarkShade);const AppFrameFileDetail=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"AppFrameFileDetail",componentId:"sc-11gkbjs-2"})(["color:",";word-break:break-word;"],({theme:theme})=>theme.eui.euiColorFullShade);function FrameHeading({codeLanguage:codeLanguage,stackframe:stackframe,isLibraryFrame:isLibraryFrame}){const FileDetail=isLibraryFrame?LibraryFrameFileDetail:AppFrameFileDetail;let Renderer;switch(codeLanguage===null||codeLanguage===void 0?void 0:codeLanguage.toString().toLowerCase()){case"c#":Renderer=CSharpFrameHeadingRenderer;break;case"java":Renderer=JavaFrameHeadingRenderer;break;case"javascript":Renderer=JavaScriptFrameHeadingRenderer;break;case"ruby":Renderer=RubyFrameHeadingRenderer;break;default:Renderer=DefaultFrameHeadingRenderer;break}return external_kbnSharedDeps_React_default.a.createElement(FileDetails,{"data-test-subj":"FrameHeading"},external_kbnSharedDeps_React_default.a.createElement(Renderer,{fileDetailComponent:FileDetail,stackframe:stackframe}))}const VariablesContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"VariablesContainer",componentId:"ngpgc4-0"})(["background:",";border-radius:0 0 "," ",";padding:"," ",";"],({theme:theme})=>theme.eui.euiColorEmptyShade,variables["borderRadius"],variables["borderRadius"],Object(variables["px"])(variables["units"].half),Object(variables["px"])(variables["unit"]));function Variables({vars:vars}){if(!vars){return null}const flattenedVariables=flattenObject(vars);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(VariablesContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiAccordion"],{id:"local-variables",className:"euiAccordion",buttonContent:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.stacktraceTab.localVariablesToogleButtonLabel",{defaultMessage:"Local variables"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(KeyValueTable,{keyValuePairs:flattenedVariables})))))}const Stackframe_ContextContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ContextContainer",componentId:"sc-1m688x4-0"})(["position:relative;font-family:",";font-size:",";border:1px solid ",";border-radius:",";background:",";"],variables["fontFamilyCode"],variables["fontSize"],({theme:theme})=>theme.eui.euiColorLightShade,variables["borderRadius"],({isLibraryFrame:isLibraryFrame,theme:theme})=>isLibraryFrame?theme.eui.euiColorEmptyShade:theme.eui.euiColorLightestShade);const NoContextFrameHeadingWrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"NoContextFrameHeadingWrapper",componentId:"sc-1m688x4-1"})(["margin-left:",";"],Object(variables["px"])(variables["units"].unit+variables["units"].half+variables["units"].quarter));function Stackframe({stackframe:stackframe,codeLanguage:codeLanguage,id:id,initialIsOpen:initialIsOpen=false,isLibraryFrame:isLibraryFrame=false}){if(!hasLineContext(stackframe)){return external_kbnSharedDeps_React_default.a.createElement(NoContextFrameHeadingWrapper,null,external_kbnSharedDeps_React_default.a.createElement(FrameHeading,{codeLanguage:codeLanguage,stackframe:stackframe,isLibraryFrame:isLibraryFrame}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiAccordion"],{buttonContent:external_kbnSharedDeps_React_default.a.createElement(FrameHeading,{codeLanguage:codeLanguage,stackframe:stackframe,isLibraryFrame:isLibraryFrame}),id:id,initialIsOpen:initialIsOpen},external_kbnSharedDeps_React_default.a.createElement(Stackframe_ContextContainer,{isLibraryFrame:isLibraryFrame},external_kbnSharedDeps_React_default.a.createElement(Context,{stackframe:stackframe,codeLanguage:codeLanguage,isLibraryFrame:isLibraryFrame})),external_kbnSharedDeps_React_default.a.createElement(Variables,{vars:stackframe.vars}))}function hasLineContext(stackframe){var _stackframe$line;return((_stackframe$line=stackframe.line)===null||_stackframe$line===void 0?void 0:_stackframe$line.hasOwnProperty("context"))||false}const LibraryStacktraceAccordion=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiAccordion"]).withConfig({displayName:"LibraryStacktraceAccordion",componentId:"sc-98iltj-0"})(["margin:"," 0;"],Object(variables["px"])(variables["units"].quarter));function LibraryStacktrace({codeLanguage:codeLanguage,id:id,stackframes:stackframes}){if(stackframes.length===0){return null}return external_kbnSharedDeps_React_default.a.createElement(LibraryStacktraceAccordion,{buttonContent:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.stacktraceTab.libraryFramesToogleButtonLabel",{defaultMessage:"{count, plural, one {# library frame} other {# library frames}}",values:{count:stackframes.length}}),"data-test-subj":"LibraryStacktraceAccordion",id:id},stackframes.map((stackframe,i)=>external_kbnSharedDeps_React_default.a.createElement(Stackframe,{key:i,id:i.toString(10),isLibraryFrame:true,codeLanguage:codeLanguage,stackframe:stackframe})))}function Stacktrace({stackframes:stackframes=[],codeLanguage:codeLanguage}){if(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(stackframes)){return external_kbnSharedDeps_React_default.a.createElement(EmptyMessage,{heading:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.stacktraceTab.noStacktraceAvailableLabel",{defaultMessage:"No stack trace available."}),hideSubheading:true})}const groups=getGroupedStackframes(stackframes);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,groups.map((group,i)=>{if(group.isLibraryFrame&&groups.length>1){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:i},external_kbnSharedDeps_React_default.a.createElement(LibraryStacktrace,{id:i.toString(),stackframes:group.stackframes,codeLanguage:codeLanguage}))}return group.stackframes.map((stackframe,idx)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:"".concat(i,"-").concat(idx)},external_kbnSharedDeps_React_default.a.createElement(Stackframe,{codeLanguage:codeLanguage,id:"".concat(i,"-").concat(idx),initialIsOpen:i===0&&groups.length>1,stackframe:stackframe})))}))}function getGroupedStackframes(stackframes){return stackframes.reduce((acc,stackframe)=>{const prevGroup=Object(external_kbnSharedDeps_Lodash_["last"])(acc);const shouldAppend=prevGroup&&prevGroup.isLibraryFrame===stackframe.library_frame&&!prevGroup.excludeFromGrouping&&!stackframe.exclude_from_grouping;if(prevGroup&&shouldAppend){prevGroup.stackframes.push(stackframe);return acc}acc.push({isLibraryFrame:Boolean(stackframe.library_frame),excludeFromGrouping:Boolean(stackframe.exclude_from_grouping),stackframes:[stackframe]});return acc},[])}const Item=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"]).withConfig({displayName:"Item",componentId:"sc-6onu4g-0"})(["flex-wrap:nowrap;border-right:1px solid ",";padding-right:",";flex-flow:row nowrap;line-height:1.5;align-items:center !important;&:last-child{border-right:none;padding-right:0;}"],({theme:theme})=>theme.eui.euiColorLightShade,Object(variables["px"])(variables["units"].half));function Summary({items:items}){const filteredItems=items.filter(Boolean);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{gutterSize:"s"},filteredItems.map((item,index)=>external_kbnSharedDeps_React_default.a.createElement(Item,{key:index,grow:false},item)))}const statusCodes={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",511:"Network Authentication Required","1xx":"**Informational**","2xx":"**Successful**","3xx":"**Redirection**","4xx":"**Client Error**","5xx":"**Server Error**","7xx":"**Developer Error**"};var external_kbnSharedDeps_Theme_euiLightVars_=__webpack_require__(25);var external_kbnSharedDeps_Theme_euiLightVars_default=__webpack_require__.n(external_kbnSharedDeps_Theme_euiLightVars_);const euiColorDarkShade=external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorDarkShade,euiColorWarning=external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorWarning;const errorColor="#c23c2b";const neutralColor=euiColorDarkShade;const successColor="#327a42";const warningColor=euiColorWarning;const httpStatusCodeColors={1:neutralColor,2:successColor,3:neutralColor,4:warningColor,5:errorColor};function getStatusColor(status){return httpStatusCodeColors[status.toString().substr(0,1)]}function httpStatusCodeToColor(status){if(typeof status==="string"){return getStatusColor(parseInt(status.replace(/\D/g,""),10))}else{return getStatusColor(status)}}function HttpStatusBadge({status:status}){const label=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.statusCode",{defaultMessage:"Status code"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:label},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:httpStatusCodeToColor(status)||"default"},status," ",statusCodes[status.toString()]))}const HttpInfoBadge=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiBadge"]).withConfig({displayName:"HttpInfoBadge",componentId:"sc-1gv1ip7-0"})(["margin-right:",";"],Object(variables["px"])(variables["units"].quarter));const Url=external_kbnSharedDeps_StyledComponents_default()("span").withConfig({displayName:"Url",componentId:"sc-1gv1ip7-1"})(["display:inline-block;vertical-align:bottom;",";"],Object(variables["truncate"])(Object(variables["px"])(variables["unit"]*24)));const Span=external_kbnSharedDeps_StyledComponents_default()("span").withConfig({displayName:"Span",componentId:"sc-1gv1ip7-2"})(["white-space:nowrap;"]);function HttpInfoSummaryItem({status:status,method:method,url:url}){if(!url){return null}const methodLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.requestMethodLabel",{defaultMessage:"Request method"});return external_kbnSharedDeps_React_default.a.createElement(Span,null,external_kbnSharedDeps_React_default.a.createElement(HttpInfoBadge,{title:undefined},method&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:methodLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,method.toUpperCase()))," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:url},external_kbnSharedDeps_React_default.a.createElement(Url,null,url))),status&&external_kbnSharedDeps_React_default.a.createElement(HttpStatusBadge,{status:status}))}const Version=external_kbnSharedDeps_StyledComponents_default()("span").withConfig({displayName:"Version",componentId:"sc-1i9zej3-0"})(["font-size:",";"],({theme:theme})=>theme.eui.euiFontSizeS);function UserAgentSummaryItem({name:name,version:version}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.userAgentAndVersionLabel",{defaultMessage:"User agent & version"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,name," ",version&&external_kbnSharedDeps_React_default.a.createElement(Version,null,"(",version,")")))}var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(36);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);var external_kbnSharedDeps_ElasticNumeral_=__webpack_require__(26);var external_kbnSharedDeps_ElasticNumeral_default=__webpack_require__.n(external_kbnSharedDeps_ElasticNumeral_);function isFiniteNumber(value){return Object(external_kbnSharedDeps_Lodash_["isFinite"])(value)}function asDecimal(value){return external_kbnSharedDeps_ElasticNumeral_default()(value).format("0,0.0")}function asInteger(value){return external_kbnSharedDeps_ElasticNumeral_default()(value).format("0,0")}function asPercent(numerator,denominator,fallbackResult=NOT_AVAILABLE_LABEL){if(!denominator||!isFiniteNumber(numerator)){return fallbackResult}const decimal=numerator/denominator;if(Math.abs(decimal)>=.1||decimal===0){return external_kbnSharedDeps_ElasticNumeral_default()(decimal).format("0%")}return external_kbnSharedDeps_ElasticNumeral_default()(decimal).format("0.0%")}function asDecimalOrInteger(value){if(value===0||value>=10){return asInteger(value)}return asDecimal(value)}function formatTimezone(momentTime){const DEFAULT_TIMEZONE_FORMAT="Z";const utcOffsetHours=momentTime.utcOffset()/60;const customTimezoneFormat=utcOffsetHours>0?"+".concat(utcOffsetHours):utcOffsetHours;const utcOffsetFormatted=Number.isInteger(utcOffsetHours)?customTimezoneFormat:DEFAULT_TIMEZONE_FORMAT;return momentTime.format("(UTC".concat(utcOffsetFormatted,")"))}function getTimeFormat(timeUnit){switch(timeUnit){case"hours":return"HH";case"minutes":return"HH:mm";case"seconds":return"HH:mm:ss";case"milliseconds":return"HH:mm:ss.SSS";default:return""}}function getDateFormat(dateUnit){switch(dateUnit){case"years":return"YYYY";case"months":return"MMM YYYY";case"days":return"MMM D, YYYY";default:return""}}const getDateDifference=(start,end,unitOfTime)=>end.diff(start,unitOfTime);function getFormatsAccordingToDateDifference(start,end){if(getDateDifference(start,end,"years")>=5){return{dateFormat:getDateFormat("years")}}if(getDateDifference(start,end,"months")>=5){return{dateFormat:getDateFormat("months")}}const dateFormatWithDays=getDateFormat("days");if(getDateDifference(start,end,"days")>1){return{dateFormat:dateFormatWithDays}}if(getDateDifference(start,end,"hours")>=5){return{dateFormat:dateFormatWithDays,timeFormat:getTimeFormat("minutes")}}if(getDateDifference(start,end,"minutes")>=5){return{dateFormat:dateFormatWithDays,timeFormat:getTimeFormat("seconds")}}return{dateFormat:dateFormatWithDays,timeFormat:getTimeFormat("milliseconds")}}function asAbsoluteDateTime(time,timeUnit="milliseconds"){const momentTime=external_kbnSharedDeps_MomentTimezone_default()(time);const formattedTz=formatTimezone(momentTime);return momentTime.format("".concat(getDateFormat("days"),", ").concat(getTimeFormat(timeUnit)," ").concat(formattedTz))}function asRelativeDateTimeRange(start,end){const momentStartTime=external_kbnSharedDeps_MomentTimezone_default()(start);const momentEndTime=external_kbnSharedDeps_MomentTimezone_default()(end);const _getFormatsAccordingT=getFormatsAccordingToDateDifference(momentStartTime,momentEndTime),dateFormat=_getFormatsAccordingT.dateFormat,timeFormat=_getFormatsAccordingT.timeFormat;if(timeFormat){const startFormatted=momentStartTime.format("".concat(dateFormat,", ").concat(timeFormat));const endFormatted=momentEndTime.format(timeFormat);const formattedTz=formatTimezone(momentStartTime);return"".concat(startFormatted," - ").concat(endFormatted," ").concat(formattedTz)}const startFormatted=momentStartTime.format(dateFormat);const endFormatted=momentEndTime.format(dateFormat);return"".concat(startFormatted," - ").concat(endFormatted)}var external_kbnSharedDeps_Moment_=__webpack_require__(27);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function getUnitLabelAndConvertedValue(unitKey,value){switch(unitKey){case"hours":{return{unitLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.formatters.hoursTimeUnitLabel",{defaultMessage:"h"}),convertedValue:asDecimalOrInteger(external_kbnSharedDeps_Moment_default.a.duration(value/1e3).asHours())}}case"minutes":{return{unitLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.formatters.minutesTimeUnitLabel",{defaultMessage:"min"}),convertedValue:asDecimalOrInteger(external_kbnSharedDeps_Moment_default.a.duration(value/1e3).asMinutes())}}case"seconds":{return{unitLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.formatters.secondsTimeUnitLabel",{defaultMessage:"s"}),convertedValue:asDecimalOrInteger(external_kbnSharedDeps_Moment_default.a.duration(value/1e3).asSeconds())}}case"milliseconds":{return{unitLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.formatters.millisTimeUnitLabel",{defaultMessage:"ms"}),convertedValue:asDecimalOrInteger(external_kbnSharedDeps_Moment_default.a.duration(value/1e3).asMilliseconds())}}case"microseconds":{return{unitLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.formatters.microsTimeUnitLabel",{defaultMessage:"μs"}),convertedValue:asInteger(value)}}}}function convertTo({unit:unit,microseconds:microseconds,defaultValue:defaultValue=NOT_AVAILABLE_LABEL}){if(!isFiniteNumber(microseconds)){return{value:defaultValue,formatted:defaultValue}}const _getUnitLabelAndConve=getUnitLabelAndConvertedValue(unit,microseconds),convertedValue=_getUnitLabelAndConve.convertedValue,unitLabel=_getUnitLabelAndConve.unitLabel;return{value:convertedValue,unit:unitLabel,formatted:"".concat(convertedValue," ").concat(unitLabel)}}const toMicroseconds=(value,timeUnit)=>external_kbnSharedDeps_Moment_default.a.duration(value,timeUnit).asMilliseconds()*1e3;function getDurationUnitKey(max){if(max>toMicroseconds(10,"hours")){return"hours"}if(max>toMicroseconds(10,"minutes")){return"minutes"}if(max>toMicroseconds(10,"seconds")){return"seconds"}if(max>toMicroseconds(1,"milliseconds")){return"milliseconds"}return"microseconds"}const getDurationFormatter=Object(external_kbnSharedDeps_Lodash_["memoize"])(max=>{const unit=getDurationUnitKey(max);return(value,{defaultValue:defaultValue}={})=>convertTo({unit:unit,microseconds:value,defaultValue:defaultValue})});function asTransactionRate(value){if(!isFiniteNumber(value)){return NOT_AVAILABLE_LABEL}let displayedValue;if(value===0){displayedValue="0"}else if(value<=.1){displayedValue="< 0.1"}else{displayedValue=asDecimal(value)}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionRateLabel",{defaultMessage:"{value} tpm",values:{value:displayedValue}})}function asDuration(value,{defaultValue:defaultValue=NOT_AVAILABLE_LABEL}={}){if(!isFiniteNumber(value)){return defaultValue}const formatter=getDurationFormatter(value);return formatter(value,{defaultValue:defaultValue}).formatted}function asMillisecondDuration(time){return convertTo({unit:"milliseconds",microseconds:time}).formatted}function asKilobytes(value){return"".concat(asDecimal(value/1e3)," KB")}function asMegabytes(value){return"".concat(asDecimal(value/1e6)," MB")}function asGigabytes(value){return"".concat(asDecimal(value/1e9)," GB")}function asTerabytes(value){return"".concat(asDecimal(value/1e12)," TB")}function asBytes(value){return"".concat(asDecimal(value)," B")}const bailIfNumberInvalid=cb=>val=>{if(val===null||val===undefined||isNaN(val)){return""}return cb(val)};const getFixedByteFormatter=Object(external_kbnSharedDeps_Lodash_["memoize"])(max=>{const formatter=unmemoizedFixedByteFormatter(max);return bailIfNumberInvalid(formatter)});const asDynamicBytes=bailIfNumberInvalid(value=>unmemoizedFixedByteFormatter(value)(value));const unmemoizedFixedByteFormatter=max=>{if(max>1e12){return asTerabytes}if(max>1e9){return asGigabytes}if(max>1e6){return asMegabytes}if(max>1e3){return asKilobytes}return asBytes};function TimestampTooltip({time:time,timeUnit:timeUnit="milliseconds"}){const momentTime=external_kbnSharedDeps_MomentTimezone_default()(time);const relativeTimeLabel=momentTime.fromNow();const absoluteTimeLabel=asAbsoluteDateTime(time,timeUnit);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:absoluteTimeLabel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,relativeTimeLabel))}const logStacktraceTab={key:"log_stacktrace",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.tabs.logStacktraceLabel",{defaultMessage:"Log stack trace"})};const exceptionStacktraceTab={key:"exception_stacktrace",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.tabs.exceptionStacktraceLabel",{defaultMessage:"Exception stack trace"})};const metadataTab={key:"metadata",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.tabs.metadataLabel",{defaultMessage:"Metadata"})};function getTabs(error){var _error$error$log;const hasLogStacktrace=!Object(external_kbnSharedDeps_Lodash_["isEmpty"])((_error$error$log=error.error.log)===null||_error$error$log===void 0?void 0:_error$error$log.stacktrace);return[...hasLogStacktrace?[logStacktraceTab]:[],exceptionStacktraceTab,metadataTab]}const Accordion=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiAccordion"]).withConfig({displayName:"Accordion",componentId:"sc-9xqdu5-0"})(["border-top:",";margin-top:",";"],({theme:theme})=>theme.eui.euiBorderThin,Object(variables["px"])(variables["units"].half));const CausedByContainer=external_kbnSharedDeps_StyledComponents_default()("h5").withConfig({displayName:"CausedByContainer",componentId:"sc-9xqdu5-1"})(["padding:"," 0;"],({theme:theme})=>theme.eui.spacerSizes.s);const CausedByHeading=external_kbnSharedDeps_StyledComponents_default()("span").withConfig({displayName:"CausedByHeading",componentId:"sc-9xqdu5-2"})(["color:",";display:block;font-size:",";font-weight:",";text-transform:uppercase;"],({theme:theme})=>theme.eui.textColors.subdued,({theme:theme})=>theme.eui.euiFontSizeXS,({theme:theme})=>theme.eui.euiFontWeightBold);const FramesContainer=external_kbnSharedDeps_StyledComponents_default()("div").withConfig({displayName:"FramesContainer",componentId:"sc-9xqdu5-3"})(["padding-left:",";"],Object(variables["px"])(variables["unit"]));function CausedBy({message:message}){return external_kbnSharedDeps_React_default.a.createElement(CausedByContainer,null,external_kbnSharedDeps_React_default.a.createElement(CausedByHeading,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.stacktraceTab.causedByFramesToogleButtonLabel",{defaultMessage:"Caused By"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("span",null,message)))}function CauseStacktrace({codeLanguage:codeLanguage,id:id,message:message="…",stackframes:stackframes=[]}){if(stackframes.length===0){return external_kbnSharedDeps_React_default.a.createElement(CausedBy,{message:message})}return external_kbnSharedDeps_React_default.a.createElement(Accordion,{buttonContent:external_kbnSharedDeps_React_default.a.createElement(CausedBy,{message:message}),id:id},external_kbnSharedDeps_React_default.a.createElement(FramesContainer,null,external_kbnSharedDeps_React_default.a.createElement(Stacktrace,{stackframes:stackframes,codeLanguage:codeLanguage})))}function ExceptionStacktrace({codeLanguage:codeLanguage,exceptions:exceptions}){var _exceptions$;const title=(_exceptions$=exceptions[0])===null||_exceptions$===void 0?void 0:_exceptions$.message;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",null,title)),exceptions.map((ex,index)=>index===0?external_kbnSharedDeps_React_default.a.createElement(Stacktrace,{key:index,stackframes:ex.stacktrace,codeLanguage:codeLanguage}):external_kbnSharedDeps_React_default.a.createElement(CauseStacktrace,{codeLanguage:codeLanguage,key:index,id:index.toString(),message:ex.message,stackframes:ex.stacktrace})))}function DetailView_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function DetailView_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){DetailView_ownKeys(Object(source),true).forEach((function(key){DetailView_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{DetailView_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function DetailView_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const HeaderContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"HeaderContainer",componentId:"hqj9qf-0"})(["display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:",";"],Object(variables["px"])(variables["unit"]));const TransactionLinkName=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"TransactionLinkName",componentId:"hqj9qf-1"})(["margin-left:",";display:inline-block;vertical-align:middle;"],Object(variables["px"])(variables["units"].half));function getCurrentTab(tabs=[],currentTabKey){const selectedTab=tabs.find(({key:key})=>key===currentTabKey);return selectedTab?selectedTab:Object(external_kbnSharedDeps_Lodash_["first"])(tabs)||{}}function DetailView({errorGroup:errorGroup,urlParams:urlParams,location:location}){var _error$error$page,_error$url,_error$http,_error$http$request,_error$http2,_error$http2$response;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const transaction=errorGroup.transaction,error=errorGroup.error,occurrencesCount=errorGroup.occurrencesCount;if(!error){return null}const tabs=getTabs(error);const currentTab=getCurrentTab(tabs,urlParams.detailTab);const errorUrl=((_error$error$page=error.error.page)===null||_error$error$page===void 0?void 0:_error$error$page.url)||((_error$url=error.url)===null||_error$url===void 0?void 0:_error$url.full);const method=(_error$http=error.http)===null||_error$http===void 0?void 0:(_error$http$request=_error$http.request)===null||_error$http$request===void 0?void 0:_error$http$request.method;const status=(_error$http2=error.http)===null||_error$http2===void 0?void 0:(_error$http2$response=_error$http2.response)===null||_error$http2$response===void 0?void 0:_error$http2$response.status_code;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(HeaderContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.errorOccurrenceTitle",{defaultMessage:"Error occurrence"}))),external_kbnSharedDeps_React_default.a.createElement(DiscoverErrorLink,{error:error,kuery:urlParams.kuery},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"discoverApp"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.viewOccurrencesInDiscoverButtonLabel",{defaultMessage:"View {occurrencesCount} {occurrencesCount, plural, one {occurrence} other {occurrences}} in Discover.",values:{occurrencesCount:occurrencesCount}})))),external_kbnSharedDeps_React_default.a.createElement(Summary,{items:[external_kbnSharedDeps_React_default.a.createElement(TimestampTooltip,{time:error.timestamp.us/1e3}),errorUrl&&method?external_kbnSharedDeps_React_default.a.createElement(HttpInfoSummaryItem,{url:errorUrl,method:method,status:status}):null,transaction&&transaction.user_agent?external_kbnSharedDeps_React_default.a.createElement(UserAgentSummaryItem,transaction.user_agent):null,transaction&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.relatedTransactionSample",{defaultMessage:"Related transaction sample"})},external_kbnSharedDeps_React_default.a.createElement(TransactionDetailLink,{traceId:transaction.trace.id,transactionId:transaction.transaction.id,transactionName:transaction.transaction.name,transactionType:transaction.transaction.type,serviceName:transaction.service.name},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"merge"}),external_kbnSharedDeps_React_default.a.createElement(TransactionLinkName,null,transaction.transaction.name)))]}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabs"],null,tabs.map(({key:key,label:label})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{onClick:()=>{history.replace(DetailView_objectSpread(DetailView_objectSpread({},location),{},{search:Object(url_helpers["b"])(DetailView_objectSpread(DetailView_objectSpread({},Object(url_helpers["c"])(location.search)),{},{detailTab:key}))}))},isSelected:currentTab.key===key,key:key},label))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(TabContent,{error:error,currentTab:currentTab}))}function TabContent({error:error,currentTab:currentTab}){var _error$service$langua,_error$error$log;const codeLanguage=(_error$service$langua=error.service.language)===null||_error$service$langua===void 0?void 0:_error$service$langua.name;const exceptions=error.error.exception||[];const logStackframes=(_error$error$log=error.error.log)===null||_error$error$log===void 0?void 0:_error$error$log.stacktrace;switch(currentTab.key){case logStacktraceTab.key:return external_kbnSharedDeps_React_default.a.createElement(Stacktrace,{stackframes:logStackframes,codeLanguage:codeLanguage});case exceptionStacktraceTab.key:return external_kbnSharedDeps_React_default.a.createElement(ExceptionStacktrace,{codeLanguage:codeLanguage,exceptions:exceptions});default:return external_kbnSharedDeps_React_default.a.createElement(ErrorMetadata,{error:error})}}var external_kbnSharedDeps_ElasticCharts_=__webpack_require__(23);var d3=__webpack_require__(164);var d3_default=__webpack_require__.n(d3);function useTheme(){const theme=Object(external_kbnSharedDeps_React_["useContext"])(external_kbnSharedDeps_StyledComponents_["ThemeContext"]);return theme}function getFormattedBuckets(buckets,bucketSize){return buckets.map(({count:count,key:key})=>({x0:key,x:key+bucketSize,y:count}))}function ErrorDistribution({distribution:distribution,title:title}){const theme=useTheme();const buckets=getFormattedBuckets(distribution.buckets,distribution.bucketSize);const xMin=d3_default.a.min(buckets,d=>d.x0);const xMax=d3_default.a.max(buckets,d=>d.x0);const xFormatter=Object(external_kbnSharedDeps_ElasticCharts_["niceTimeFormatter"])([xMin,xMax]);const tooltipProps={headerFormatter:tooltip=>{const serie=buckets.find(bucket=>bucket.x0===tooltip.value);if(serie){return asRelativeDateTimeRange(serie.x0,serie.x)}return"".concat(tooltip.value)}};return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,title)),external_kbnSharedDeps_React_default.a.createElement("div",{style:{height:180}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{xDomain:{min:xMin,max:xMax},tooltip:tooltipProps,showLegend:true,showLegendExtra:true,legendPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"x-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,showOverlappingTicks:true,tickFormat:xFormatter}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"y-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,ticks:2,gridLine:{visible:true}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["HistogramBarSeries"],{minBarHeight:2,id:"errorOccurrences",name:"Occurences",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x0",yAccessors:["y"],data:buckets,color:theme.eui.euiColorVis1}))))}const Titles=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Titles",componentId:"sc-1sso7ll-0"})(["margin-bottom:",";"],Object(variables["px"])(variables["units"].plus));const Label=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Label",componentId:"sc-1sso7ll-1"})(["margin-bottom:",";font-size:",";color:",";"],Object(variables["px"])(variables["units"].quarter),variables["fontSizes"].small,({theme:theme})=>theme.eui.euiColorMediumShade);const Message=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Message",componentId:"sc-1sso7ll-2"})(["font-family:",";font-weight:bold;font-size:",";margin-bottom:",";"],variables["fontFamilyCode"],variables["fontSizes"].large,Object(variables["px"])(variables["units"].half));const Culprit=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Culprit",componentId:"sc-1sso7ll-3"})(["font-family:",";"],variables["fontFamilyCode"]);function getShortGroupId(errorGroupId){if(!errorGroupId){return NOT_AVAILABLE_LABEL}return errorGroupId.slice(0,5)}function ErrorGroupDetails({location:location,match:match}){var _errorGroupData$error,_errorGroupData$error2,_errorGroupData$error3,_errorGroupData$error4,_errorGroupData$error5,_errorGroupData$error6,_errorGroupData$error7;const _match$params=match.params,serviceName=_match$params.serviceName,groupId=_match$params.groupId;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const start=urlParams.start,end=urlParams.end;const _useFetcher=Object(useFetcher["b"])(()=>{if(start&&end){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/errors/{groupId}",params:{path:{serviceName:serviceName,groupId:groupId},query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,groupId,uiFilters]),errorGroupData=_useFetcher.data;const _useFetcher2=Object(useFetcher["b"])(()=>{if(start&&end){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/errors/distribution",params:{path:{serviceName:serviceName},query:{start:start,end:end,groupId:groupId,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,groupId,uiFilters]),errorDistributionData=_useFetcher2.data;Object(public_["useTrackPageview"])({app:"apm",path:"error_group_details"});Object(public_["useTrackPageview"])({app:"apm",path:"error_group_details",delay:15e3});if(!errorGroupData||!errorDistributionData){return null}const showDetails=errorGroupData.occurrencesCount!==0;const logMessage=(_errorGroupData$error=errorGroupData.error)===null||_errorGroupData$error===void 0?void 0:(_errorGroupData$error2=_errorGroupData$error.error.log)===null||_errorGroupData$error2===void 0?void 0:_errorGroupData$error2.message;const excMessage=(_errorGroupData$error3=errorGroupData.error)===null||_errorGroupData$error3===void 0?void 0:(_errorGroupData$error4=_errorGroupData$error3.error.exception)===null||_errorGroupData$error4===void 0?void 0:_errorGroupData$error4[0].message;const culprit=(_errorGroupData$error5=errorGroupData.error)===null||_errorGroupData$error5===void 0?void 0:_errorGroupData$error5.error.culprit;const isUnhandled=((_errorGroupData$error6=errorGroupData.error)===null||_errorGroupData$error6===void 0?void 0:(_errorGroupData$error7=_errorGroupData$error6.error.exception)===null||_errorGroupData$error7===void 0?void 0:_errorGroupData$error7[0].handled)===false;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(ApmHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.errorGroupTitle",{defaultMessage:"Error group {errorGroupId}",values:{errorGroupId:getShortGroupId(groupId)}})))),isUnhandled&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"warning"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.unhandledLabel",{defaultMessage:"Unhandled"}))))),external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,showDetails&&external_kbnSharedDeps_React_default.a.createElement(Titles,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,logMessage&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(Label,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.logMessageLabel",{defaultMessage:"Log message"})),external_kbnSharedDeps_React_default.a.createElement(Message,null,logMessage)),external_kbnSharedDeps_React_default.a.createElement(Label,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.exceptionMessageLabel",{defaultMessage:"Exception message"})),external_kbnSharedDeps_React_default.a.createElement(Message,null,excMessage||NOT_AVAILABLE_LABEL),external_kbnSharedDeps_React_default.a.createElement(Label,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.culpritLabel",{defaultMessage:"Culprit"})),external_kbnSharedDeps_React_default.a.createElement(Culprit,null,culprit||NOT_AVAILABLE_LABEL))),external_kbnSharedDeps_React_default.a.createElement(ErrorDistribution,{distribution:errorDistributionData,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorGroupDetails.occurrencesChartLabel",{defaultMessage:"Occurrences"})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),showDetails&&external_kbnSharedDeps_React_default.a.createElement(DetailView,{errorGroup:errorGroupData,urlParams:urlParams,location:location}))))}function ServiceMapLink_extends(){ServiceMapLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return ServiceMapLink_extends.apply(this,arguments)}function ServiceMapLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=ServiceMapLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function ServiceMapLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function pathFor(serviceName){return serviceName?"/services/".concat(serviceName,"/service-map"):"/service-map"}function useServiceMapHref(serviceName){return Object(APMLink["c"])(pathFor(serviceName))}function ServiceMapLink(_ref){let serviceName=_ref.serviceName,rest=ServiceMapLink_objectWithoutProperties(_ref,["serviceName"]);const path=pathFor(serviceName);return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],ServiceMapLink_extends({path:path},rest))}function service_inventory_link_extends(){service_inventory_link_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return service_inventory_link_extends.apply(this,arguments)}const service_inventory_link_persistedFilters=["host","agentName"];function useServiceInventoryHref(){return Object(APMLink["c"])("/services",service_inventory_link_persistedFilters)}function ServiceInventoryLink(props){const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const query=Object(pick_keys["a"])(urlParams,...service_inventory_link_persistedFilters);return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],service_inventory_link_extends({path:"/services",query:query},props))}function TraceOverviewLink_extends(){TraceOverviewLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return TraceOverviewLink_extends.apply(this,arguments)}const TraceOverviewLink_persistedFilters=["transactionResult","host","containerId","podName"];function useTraceOverviewHref(){return Object(APMLink["c"])("/traces",TraceOverviewLink_persistedFilters)}function TraceOverviewLink(props){const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],TraceOverviewLink_extends({path:"/traces",query:Object(pick_keys["a"])(urlParams,...TraceOverviewLink_persistedFilters)},props))}const StyledTabs=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiTabs"]).withConfig({displayName:"StyledTabs",componentId:"sc-1dd0cfh-0"})(["padding:",";border-bottom:",";"],({theme:theme})=>"".concat(theme.eui.gutterTypes.gutterMedium),({theme:theme})=>theme.eui.euiBorderThin);function MainTabs({children:children}){return external_kbnSharedDeps_React_default.a.createElement(StyledTabs,{display:"condensed"},children)}function isActivePlatinumLicense(license){return license.isActive&&license.hasAtLeast("platinum")}const invalidLicenseMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.invalidLicenseMessage",{defaultMessage:"In order to access Service Maps, you must be subscribed to an Elastic Platinum license. With it, you'll have the ability to visualize your entire application stack along with your APM data."});const NONGROUPED_SPANS={aws:["servicename"],cache:["all"],db:["all"],external:["graphql","grpc","websocket"],messaging:["all"],template:["handlebars"]};function isSpanGroupingSupported(type,subtype){if(!type||!(type in NONGROUPED_SPANS)){return true}return!NONGROUPED_SPANS[type].some(nongroupedSubType=>nongroupedSubType==="all"||nongroupedSubType===subtype)}const SERVICE_MAP_TIMEOUT_ERROR="ServiceMapTimeoutError";var useKibanaUrl=__webpack_require__(210);function LicensePrompt({text:text,showBetaBadge:showBetaBadge=false}){const licensePageUrl=Object(useKibanaUrl["a"])("/app/management/stack/license_management");const renderLicenseBody=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"iInCircle",iconColor:"subdued",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.license.title",{defaultMessage:"Start free 30-day trial"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,text),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,href:licensePageUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.license.button",{defaultMessage:"Start trial"}))});const renderWithBetaBadge=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{betaBadgeLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.license.betaBadge",{defaultMessage:"Beta"}),betaBadgeTooltipContent:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.license.betaTooltipMessage",{defaultMessage:"This feature is currently in beta. If you encounter any bugs or have feedback, please open an issue or visit our discussion forum."})},renderLicenseBody);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,showBetaBadge?renderWithBetaBadge:renderLicenseBody)}var cytoscape_cjs=__webpack_require__(543);var cytoscape_cjs_default=__webpack_require__.n(cytoscape_cjs);var cytoscape_dagre=__webpack_require__(547);var cytoscape_dagre_default=__webpack_require__.n(cytoscape_dagre);var common_=__webpack_require__(1);let ServiceHealthStatus;(function(ServiceHealthStatus){ServiceHealthStatus["healthy"]="healthy";ServiceHealthStatus["critical"]="critical";ServiceHealthStatus["warning"]="warning";ServiceHealthStatus["unknown"]="unknown"})(ServiceHealthStatus||(ServiceHealthStatus={}));function getServiceHealthStatus({severity:severity}){switch(severity){case common_["ANOMALY_SEVERITY"].CRITICAL:case common_["ANOMALY_SEVERITY"].MAJOR:return ServiceHealthStatus.critical;case common_["ANOMALY_SEVERITY"].MINOR:case common_["ANOMALY_SEVERITY"].WARNING:return ServiceHealthStatus.warning;case common_["ANOMALY_SEVERITY"].LOW:return ServiceHealthStatus.healthy;case common_["ANOMALY_SEVERITY"].UNKNOWN:return ServiceHealthStatus.unknown}}function getServiceHealthStatusColor(theme,status){switch(status){case ServiceHealthStatus.healthy:return theme.eui.euiColorVis0;case ServiceHealthStatus.warning:return theme.eui.euiColorVis5;case ServiceHealthStatus.critical:return theme.eui.euiColorVis9;case ServiceHealthStatus.unknown:return theme.eui.euiColorMediumShade}}function getServiceHealthStatusBadgeColor(theme,status){switch(status){case ServiceHealthStatus.healthy:return theme.eui.euiColorVis0_behindText;case ServiceHealthStatus.warning:return theme.eui.euiColorVis5_behindText;case ServiceHealthStatus.critical:return theme.eui.euiColorVis9_behindText;case ServiceHealthStatus.unknown:return theme.eui.euiColorMediumShade}}function getServiceHealthStatusLabel(status){switch(status){case ServiceHealthStatus.critical:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceHealthStatus.critical",{defaultMessage:"Critical"});case ServiceHealthStatus.warning:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceHealthStatus.warning",{defaultMessage:"Warning"});case ServiceHealthStatus.healthy:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceHealthStatus.healthy",{defaultMessage:"Healthy"});case ServiceHealthStatus.unknown:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceHealthStatus.unknown",{defaultMessage:"Unknown"})}}var aws=__webpack_require__(725);var aws_default=__webpack_require__.n(aws);var cassandra=__webpack_require__(726);var cassandra_default=__webpack_require__.n(cassandra);var database=__webpack_require__(727);var database_default=__webpack_require__.n(database);var icons_default=__webpack_require__(728);var default_default=__webpack_require__.n(icons_default);var documents=__webpack_require__(729);var documents_default=__webpack_require__.n(documents);var elasticsearch=__webpack_require__(730);var elasticsearch_default=__webpack_require__.n(elasticsearch);var globe=__webpack_require__(731);var globe_default=__webpack_require__.n(globe);var graphql=__webpack_require__(732);var graphql_default=__webpack_require__.n(graphql);var grpc=__webpack_require__(733);var grpc_default=__webpack_require__.n(grpc);var handlebars=__webpack_require__(734);var handlebars_default=__webpack_require__.n(handlebars);var kafka=__webpack_require__(735);var kafka_default=__webpack_require__.n(kafka);var mongodb=__webpack_require__(736);var mongodb_default=__webpack_require__.n(mongodb);var mysql=__webpack_require__(737);var mysql_default=__webpack_require__.n(mysql);var postgresql=__webpack_require__(738);var postgresql_default=__webpack_require__.n(postgresql);var redis=__webpack_require__(739);var redis_default=__webpack_require__.n(redis);var websocket=__webpack_require__(740);var websocket_default=__webpack_require__.n(websocket);var java=__webpack_require__(281);var java_default=__webpack_require__.n(java);var agent_name=__webpack_require__(76);var dot_net=__webpack_require__(741);var dot_net_default=__webpack_require__.n(dot_net);var go=__webpack_require__(742);var go_default=__webpack_require__.n(go);var nodejs=__webpack_require__(743);var nodejs_default=__webpack_require__.n(nodejs);var opentelemetry=__webpack_require__(744);var opentelemetry_default=__webpack_require__.n(opentelemetry);var php=__webpack_require__(745);var php_default=__webpack_require__.n(php);var icons_python=__webpack_require__(746);var icons_python_default=__webpack_require__.n(icons_python);var icons_ruby=__webpack_require__(747);var icons_ruby_default=__webpack_require__.n(icons_ruby);var rumjs=__webpack_require__(748);var rumjs_default=__webpack_require__.n(rumjs);const agentIcons={dotnet:dot_net_default.a,go:go_default.a,java:java_default.a,nodejs:nodejs_default.a,opentelemetry:opentelemetry_default.a,php:php_default.a,python:icons_python_default.a,ruby:icons_ruby_default.a,rum:rumjs_default.a};function getAgentIconKey(agentName){const lowercasedAgentName=agentName.toLowerCase();if(agent_name["b"].includes(lowercasedAgentName)){return"rum"}const agentNameWithoutPrefix=lowercasedAgentName.replace(/^opentelemetry\//,"");if(Object.keys(agentIcons).includes(agentNameWithoutPrefix)){return agentNameWithoutPrefix}if(agent_name["a"].includes(lowercasedAgentName)){return"opentelemetry"}}function getAgentIcon(agentName){const key=agentName&&getAgentIconKey(agentName);return key&&agentIcons[key]}const icons_defaultIcon=default_default.a;const defaultTypeIcons={cache:database_default.a,db:database_default.a,ext:globe_default.a,external:globe_default.a,messaging:documents_default.a,resource:globe_default.a};const typeIcons={aws:{servicename:aws_default.a},db:{cassandra:cassandra_default.a,elasticsearch:elasticsearch_default.a,mongodb:mongodb_default.a,mysql:mysql_default.a,postgresql:postgresql_default.a,redis:redis_default.a},external:{graphql:graphql_default.a,grpc:grpc_default.a,websocket:websocket_default.a},messaging:{jms:java_default.a,kafka:kafka_default.a},template:{handlebars:handlebars_default.a}};function getSpanIcon(type,subtype){if(!type){return}const types=type?typeIcons[type]:{};if(subtype&&types&&subtype in types){return types[subtype]}return defaultTypeIcons[type]||icons_defaultIcon}const isIE11=!!window.MSInputMethodContext&&!!document.documentMode;function iconForNode(node){const agentName=node.data(elasticsearch_fieldnames["a"]);const subtype=node.data(elasticsearch_fieldnames["n"]);const type=node.data(elasticsearch_fieldnames["o"]);if(isIE11){return icons_defaultIcon}return getAgentIcon(agentName)||getSpanIcon(type,subtype)||icons_defaultIcon}const popoverWidth=280;function getServiceAnomalyStats(el){const serviceAnomalyStats=el.data("serviceAnomalyStats");return serviceAnomalyStats}function getBorderColorFn(theme){return el=>{const hasAnomalyDetectionJob=el.data("serviceAnomalyStats")!==undefined;const anomalyStats=getServiceAnomalyStats(el);if(hasAnomalyDetectionJob){var _anomalyStats$healthS;return getServiceHealthStatusColor(theme,(_anomalyStats$healthS=anomalyStats===null||anomalyStats===void 0?void 0:anomalyStats.healthStatus)!==null&&_anomalyStats$healthS!==void 0?_anomalyStats$healthS:ServiceHealthStatus.unknown)}if(el.hasClass("primary")||el.selected()){return theme.eui.euiColorPrimary}return theme.eui.euiColorMediumShade}}const getBorderStyle=el=>{var _getServiceAnomalySta;const status=(_getServiceAnomalySta=getServiceAnomalyStats(el))===null||_getServiceAnomalySta===void 0?void 0:_getServiceAnomalySta.healthStatus;if(status===ServiceHealthStatus.critical){return"double"}else{return"solid"}};function getBorderWidth(el){var _getServiceAnomalySta2;const status=(_getServiceAnomalySta2=getServiceAnomalyStats(el))===null||_getServiceAnomalySta2===void 0?void 0:_getServiceAnomalySta2.healthStatus;if(status===ServiceHealthStatus.warning){return 4}else if(status===ServiceHealthStatus.critical){return 8}else{return 4}}const cytoscape_options_isIE11=!!window.MSInputMethodContext&&!!document.documentMode;const getAnimationOptions=theme=>({duration:parseInt(theme.eui.euiAnimSpeedNormal,10),easing:theme.eui.euiAnimSlightBounce});const zIndexNode=200;const zIndexEdge=100;const zIndexEdgeHighlight=110;const zIndexEdgeHover=120;const getNodeHeight=theme=>parseInt(theme.eui.avatarSizing.l.size,10);function cytoscape_options_isService(el){return el.data(elasticsearch_fieldnames["i"])!==undefined}const getStyle=theme=>{const lineColor=theme.eui.euiColorMediumShade;return[{selector:"core",style:{"active-bg-opacity":0}},{selector:"node",style:{"background-color":theme.eui.euiColorGhost,"background-image":cytoscape_options_isIE11?undefined:el=>{var _iconForNode;return(_iconForNode=iconForNode(el))!==null&&_iconForNode!==void 0?_iconForNode:icons_defaultIcon},"background-height":el=>cytoscape_options_isService(el)?"60%":"40%","background-width":el=>cytoscape_options_isService(el)?"60%":"40%","border-color":getBorderColorFn(theme),"border-style":getBorderStyle,"border-width":getBorderWidth,color:el=>el.hasClass("primary")||el.selected()?theme.eui.euiColorPrimaryText:theme.eui.textColors.text,"font-family":"Inter UI, Segoe UI, Helvetica, Arial, sans-serif","font-size":theme.eui.euiFontSizeS,ghost:"yes","ghost-offset-x":0,"ghost-offset-y":2,"ghost-opacity":.15,height:getNodeHeight(theme),label:el=>cytoscape_options_isService(el)?el.data(elasticsearch_fieldnames["i"]):el.data("label")||el.data(elasticsearch_fieldnames["k"]),"min-zoomed-font-size":parseInt(theme.eui.euiSizeS,10),"overlay-opacity":0,shape:el=>cytoscape_options_isService(el)?cytoscape_options_isIE11?"rectangle":"ellipse":"diamond","text-background-color":theme.eui.euiColorPrimary,"text-background-opacity":el=>el.hasClass("primary")||el.selected()?.1:0,"text-background-padding":theme.eui.paddingSizes.xs,"text-background-shape":"roundrectangle","text-margin-y":parseInt(theme.eui.paddingSizes.s,10),"text-max-width":"200px","text-valign":"bottom","text-wrap":"ellipsis",width:theme.eui.avatarSizing.l.size,"z-index":zIndexNode}},{selector:"edge",style:{"curve-style":"unbundled-bezier","line-color":lineColor,"overlay-opacity":0,"target-arrow-color":lineColor,"target-arrow-shape":cytoscape_options_isIE11?"none":"triangle","target-distance-from-node":cytoscape_options_isIE11?undefined:theme.eui.paddingSizes.xs,width:1,"source-arrow-shape":"none","z-index":zIndexEdge}},{selector:"edge[bidirectional]",style:{"source-arrow-shape":cytoscape_options_isIE11?"none":"triangle","source-arrow-color":lineColor,"target-arrow-shape":cytoscape_options_isIE11?"none":"triangle","source-distance-from-node":cytoscape_options_isIE11?undefined:parseInt(theme.eui.paddingSizes.xs,10),"target-distance-from-node":cytoscape_options_isIE11?undefined:parseInt(theme.eui.paddingSizes.xs,10)}},{selector:"edge[isInverseEdge]",style:{visibility:"hidden"}},{selector:"edge.nodeHover",style:{width:4,"z-index":zIndexEdgeHover,"line-color":theme.eui.euiColorDarkShade,"source-arrow-color":theme.eui.euiColorDarkShade,"target-arrow-color":theme.eui.euiColorDarkShade}},{selector:"node.hover",style:{"border-width":getBorderWidth}},{selector:"edge.highlight",style:{width:4,"line-color":theme.eui.euiColorPrimary,"source-arrow-color":theme.eui.euiColorPrimary,"target-arrow-color":theme.eui.euiColorPrimary,"z-index":zIndexEdgeHighlight}}]};const getCytoscapeDivStyle=(theme,status)=>({background:"linear-gradient(\n  90deg,\n  ".concat(theme.eui.euiPageBackgroundColor,"\n    calc(").concat(theme.eui.euiSizeL," - calc(").concat(theme.eui.euiSizeXS," / 2)),\n  transparent 1%\n)\ncenter,\nlinear-gradient(\n  ").concat(theme.eui.euiPageBackgroundColor,"\n    calc(").concat(theme.eui.euiSizeL," - calc(").concat(theme.eui.euiSizeXS," / 2)),\n  transparent 1%\n)\ncenter,\n").concat(theme.eui.euiColorLightShade),backgroundSize:"".concat(theme.eui.euiSizeL," ").concat(theme.eui.euiSizeL),cursor:"".concat(status===useFetcher["a"].LOADING?"wait":"grab"),marginTop:0});const getCytoscapeOptions=theme=>({boxSelectionEnabled:false,maxZoom:3,minZoom:.2,style:getStyle(theme)});function applyCubicBezierStyles(edges){edges.forEach(edge=>{const _edge$source$position=edge.source().position(),x0=_edge$source$position.x,y0=_edge$source$position.y;const _edge$target$position=edge.target().position(),x1=_edge$target$position.x,y1=_edge$target$position.y;const x=x1-x0;const y=y1-y0;const z=Math.sqrt(x*x+y*y);const costheta=z===0?0:x/z;const alpha=.25;edge.style("control-point-distances",[-alpha*y*costheta,alpha*y*costheta]);edge.style("control-point-weights",[alpha,1-alpha])})}function getLayoutOptions({fit:fit=false,nodeHeight:nodeHeight,theme:theme}){const animationOptions=getAnimationOptions(theme);return{animationDuration:animationOptions.duration,animationEasing:animationOptions.easing,fit:fit,name:"dagre",animate:!fit,padding:nodeHeight,spacingFactor:1.2,nodeSep:nodeHeight,edgeSep:32,rankSep:128,rankDir:"LR",ranker:"network-simplex"}}function setCursor(cursor,event){const container=event.cy.container();if(container){container.style.cursor=cursor}}function resetConnectedEdgeStyle(cytoscapeInstance,node){cytoscapeInstance.edges().removeClass("highlight");if(node){node.connectedEdges().addClass("highlight")}}function useCytoscapeEventHandlers({cy:cy,serviceName:serviceName,theme:theme}){const trackApmEvent=Object(public_["useUiTracker"])({app:"apm"});Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const nodeHeight=getNodeHeight(theme);const dataHandler=(event,fit)=>{if(serviceName){const node=event.cy.getElementById(serviceName);resetConnectedEdgeStyle(event.cy,node);if(event.cy.nodes().length>0){event.cy.nodes().removeClass("primary");node.addClass("primary")}}else{resetConnectedEdgeStyle(event.cy)}event.cy.elements("[!hasBeenDragged]").difference("node:selected").layout(getLayoutOptions({fit:fit,nodeHeight:nodeHeight,theme:theme})).run()};const layoutstopHandler=event=>{applyCubicBezierStyles(event.cy.edges())};const trackNodeEdgeHover=Object(external_kbnSharedDeps_Lodash_["debounce"])(()=>trackApmEvent({metric:"service_map_node_or_edge_hover"}),1e3);const mouseoverHandler=event=>{if(event.target.isNode()){setCursor("pointer",event)}trackNodeEdgeHover();event.target.addClass("hover");event.target.connectedEdges().addClass("nodeHover")};const mouseoutHandler=event=>{setCursor("grab",event);event.target.removeClass("hover");event.target.connectedEdges().removeClass("nodeHover")};const selectHandler=event=>{trackApmEvent({metric:"service_map_node_select"});resetConnectedEdgeStyle(event.cy,event.target)};const unselectHandler=event=>{resetConnectedEdgeStyle(event.cy,serviceName?event.cy.getElementById(serviceName):undefined)};const debugHandler=event=>{const debugEnabled=sessionStorage.getItem("apm_debug")==="true";if(debugEnabled){console.debug("cytoscape:",event)}};const dragHandler=event=>{setCursor("grabbing",event);applyCubicBezierStyles(event.target.connectedEdges());if(!event.target.data("hasBeenDragged")){event.target.data("hasBeenDragged",true)}};const dragfreeHandler=event=>{setCursor("pointer",event)};const tapstartHandler=event=>{if(!event.target.isNode||!event.target.isNode()){setCursor("grabbing",event)}};const tapendHandler=event=>{if(!event.target.isNode||!event.target.isNode()){setCursor("grab",event)}};if(cy){cy.on("custom:data drag dragfree layoutstop select tapstart tapend unselect",debugHandler);cy.on("custom:data",dataHandler);cy.on("layoutstop",layoutstopHandler);cy.on("mouseover","edge, node",mouseoverHandler);cy.on("mouseout","edge, node",mouseoutHandler);cy.on("select","node",selectHandler);cy.on("unselect","node",unselectHandler);cy.on("drag","node",dragHandler);cy.on("dragfree","node",dragfreeHandler);cy.on("tapstart",tapstartHandler);cy.on("tapend",tapendHandler)}return()=>{if(cy){cy.removeListener("custom:data drag dragfree layoutstop select tapstart tapend unselect",undefined,debugHandler);cy.removeListener("custom:data",undefined,dataHandler);cy.removeListener("layoutstop",undefined,layoutstopHandler);cy.removeListener("mouseover","edge, node",mouseoverHandler);cy.removeListener("mouseout","edge, node",mouseoutHandler);cy.removeListener("select","node",selectHandler);cy.removeListener("unselect","node",unselectHandler);cy.removeListener("drag","node",dragHandler);cy.removeListener("dragfree","node",dragfreeHandler);cy.removeListener("tapstart",undefined,tapstartHandler);cy.removeListener("tapend",undefined,tapendHandler)}}},[cy,serviceName,trackApmEvent,theme])}function Cytoscape_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function Cytoscape_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Cytoscape_ownKeys(Object(source),true).forEach((function(key){Cytoscape_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{Cytoscape_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function Cytoscape_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function Cytoscape_slicedToArray(arr,i){return Cytoscape_arrayWithHoles(arr)||Cytoscape_iterableToArrayLimit(arr,i)||Cytoscape_unsupportedIterableToArray(arr,i)||Cytoscape_nonIterableRest()}function Cytoscape_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cytoscape_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return Cytoscape_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cytoscape_arrayLikeToArray(o,minLen)}function Cytoscape_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Cytoscape_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function Cytoscape_arrayWithHoles(arr){if(Array.isArray(arr))return arr}cytoscape_cjs_default.a.use(cytoscape_dagre_default.a);const CytoscapeContext=Object(external_kbnSharedDeps_React_["createContext"])(undefined);function useCytoscape(options){const _useState=Object(external_kbnSharedDeps_React_["useState"])(undefined),_useState2=Cytoscape_slicedToArray(_useState,2),cy=_useState2[0],setCy=_useState2[1];const ref=Object(external_kbnSharedDeps_React_["useRef"])(null);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(!cy){setCy(cytoscape_cjs_default()(Cytoscape_objectSpread(Cytoscape_objectSpread({},options),{},{container:ref.current})))}},[options,cy]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>()=>{if(cy){cy.destroy()}},[cy]);return[ref,cy]}function CytoscapeComponent({children:children,elements:elements,height:height,serviceName:serviceName,style:style}){const theme=useTheme();const _useCytoscape=useCytoscape(Cytoscape_objectSpread(Cytoscape_objectSpread({},getCytoscapeOptions(theme)),{},{elements:elements})),_useCytoscape2=Cytoscape_slicedToArray(_useCytoscape,2),ref=_useCytoscape2[0],cy=_useCytoscape2[1];useCytoscapeEventHandlers({cy:cy,serviceName:serviceName,theme:theme});Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(cy&&elements.length>0){const fit=cy.elements().length===0;cy.add(elements);const elementIds=elements.map(element=>element.data.id);cy.elements().forEach(element=>{if(!elementIds.includes(element.data("id"))){cy.remove(element)}else{var _newElement$data;const newElement=elements.find(el=>el.data.id===element.id());element.data((_newElement$data=newElement===null||newElement===void 0?void 0:newElement.data)!==null&&_newElement$data!==void 0?_newElement$data:element.data())}});cy.trigger("custom:data",[fit])}},[cy,elements]);const divStyle=Cytoscape_objectSpread(Cytoscape_objectSpread({},style),{},{height:height});return external_kbnSharedDeps_React_default.a.createElement(CytoscapeContext.Provider,{value:cy},external_kbnSharedDeps_React_default.a.createElement("div",{ref:ref,style:divStyle},children))}const Cytoscape=Object(external_kbnSharedDeps_React_["memo"])(CytoscapeComponent,(prevProps,nextProps)=>{const prevElementIds=prevProps.elements.map(element=>element.data.id).sort();const nextElementIds=nextProps.elements.map(element=>element.data.id).sort();const propsAreEqual=prevProps.height===nextProps.height&&prevProps.serviceName===nextProps.serviceName&&Object(external_kbnSharedDeps_Lodash_["isEqual"])(prevProps.style,nextProps.style)&&Object(external_kbnSharedDeps_Lodash_["isEqual"])(prevElementIds,nextElementIds);return propsAreEqual});function Controls_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function Controls_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Controls_ownKeys(Object(source),true).forEach((function(key){Controls_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{Controls_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function Controls_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function Controls_slicedToArray(arr,i){return Controls_arrayWithHoles(arr)||Controls_iterableToArrayLimit(arr,i)||Controls_unsupportedIterableToArray(arr,i)||Controls_nonIterableRest()}function Controls_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Controls_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return Controls_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Controls_arrayLikeToArray(o,minLen)}function Controls_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Controls_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function Controls_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const ControlsContainer=external_kbnSharedDeps_StyledComponents_default()("div").withConfig({displayName:"ControlsContainer",componentId:"sc-7064uw-0"})(["left:",";position:absolute;top:",";z-index:1;"],({theme:theme})=>theme.eui.gutterTypes.gutterMedium,({theme:theme})=>theme.eui.gutterTypes.gutterSmall);const Button=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"]).withConfig({displayName:"Button",componentId:"sc-7064uw-1"})(["display:block;margin:",";"],({theme:theme})=>theme.eui.paddingSizes.xs);const ZoomInButton=external_kbnSharedDeps_StyledComponents_default()(Button).withConfig({displayName:"ZoomInButton",componentId:"sc-7064uw-2"})(["margin-bottom:",";"],({theme:theme})=>theme.eui.paddingSizes.s);const Panel=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiPanel"]).withConfig({displayName:"Panel",componentId:"sc-7064uw-3"})(["margin-bottom:",";"],({theme:theme})=>theme.eui.paddingSizes.s);const steps=5;function doZoom(cy,increment,duration){if(cy){const level=cy.zoom()+increment;const primaryCenter=cy.nodes(".primary").position();const _cy$nodes$boundingBox=cy.nodes().boundingBox({}),x1=_cy$nodes$boundingBox.x1,y1=_cy$nodes$boundingBox.y1,w=_cy$nodes$boundingBox.w,h=_cy$nodes$boundingBox.h;const graphCenter={x:x1+w/2,y:y1+h/2};cy.animate({duration:duration,zoom:{level:level,position:primaryCenter||graphCenter}})}}function useDebugDownloadUrl(cy){const _useState=Object(external_kbnSharedDeps_React_["useState"])(undefined),_useState2=Controls_slicedToArray(_useState,2),downloadUrl=_useState2[0],setDownloadUrl=_useState2[1];const debug=sessionStorage.getItem("apm_debug")==="true";Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const elementsHandler=event=>{var _event$cy$json;const elementsJson=(_event$cy$json=event.cy.json(true))===null||_event$cy$json===void 0?void 0:_event$cy$json.elements.map(element=>({data:element.data}));setDownloadUrl(elementsJson.length>0&&debug?"data:application/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify({elements:elementsJson},null,"  "))):undefined)};if(cy){cy.on("add remove",elementsHandler)}return()=>{if(cy){cy.off("add remove",undefined,elementsHandler)}}},[cy,debug]);return downloadUrl}function Controls(){var _urlParams$kuery;const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const basePath=core.http.basePath;const theme=useTheme();const cy=Object(external_kbnSharedDeps_React_["useContext"])(CytoscapeContext);const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const currentSearch=(_urlParams$kuery=urlParams.kuery)!==null&&_urlParams$kuery!==void 0?_urlParams$kuery:"";const _useState3=Object(external_kbnSharedDeps_React_["useState"])(cy&&cy.zoom()||1),_useState4=Controls_slicedToArray(_useState3,2),zoom=_useState4[0],setZoom=_useState4[1];const duration=parseInt(theme.eui.euiAnimSpeedFast,10);const downloadUrl=useDebugDownloadUrl(cy);const viewFullMapUrl=Object(APMLink["b"])({basePath:basePath,path:"/service-map",search:currentSearch,query:urlParams});Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const zoomHandler=event=>{setZoom(event.cy.zoom())};if(cy){cy.on("zoom",zoomHandler)}return()=>{if(cy){cy.off("zoom",undefined,zoomHandler)}}},[cy]);function center(){if(cy){const eles=cy.nodes();cy.animate(Controls_objectSpread(Controls_objectSpread({},getAnimationOptions(theme)),{},{center:{eles:eles},fit:{eles:eles,padding:getNodeHeight(theme)}}))}}function zoomIn(){doZoom(cy,increment,duration)}function zoomOut(){doZoom(cy,-increment,duration)}if(!cy){return null}const maxZoom=cy.maxZoom();const isMaxZoom=zoom===maxZoom;const minZoom=cy.minZoom();const isMinZoom=zoom===minZoom;const increment=(maxZoom-minZoom)/steps;const centerLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.center",{defaultMessage:"Center"});const downloadLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.download",{defaultMessage:"Download"});const viewFullMapLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.viewFullMap",{defaultMessage:"View full service map"});const zoomInLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.zoomIn",{defaultMessage:"Zoom in"});const zoomOutLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.zoomOut",{defaultMessage:"Zoom out"});const showViewFullMapButton=cy.nodes(".primary").length>0;return external_kbnSharedDeps_React_default.a.createElement(ControlsContainer,null,external_kbnSharedDeps_React_default.a.createElement(Panel,{hasShadow:true,paddingSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{anchorClassName:"eui-displayInline",content:zoomInLabel},external_kbnSharedDeps_React_default.a.createElement(ZoomInButton,{"aria-label":zoomInLabel,color:"text",disabled:isMaxZoom,iconType:"plusInCircleFilled",onClick:zoomIn})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{anchorClassName:"eui-displayInline",content:zoomOutLabel},external_kbnSharedDeps_React_default.a.createElement(Button,{"aria-label":zoomOutLabel,color:"text",disabled:isMinZoom,iconType:"minusInCircleFilled",onClick:zoomOut}))),external_kbnSharedDeps_React_default.a.createElement(Panel,{hasShadow:true,paddingSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{anchorClassName:"eui-displayInline",content:centerLabel},external_kbnSharedDeps_React_default.a.createElement(Button,{"aria-label":centerLabel,color:"text",iconType:"crosshairs",onClick:center}))),showViewFullMapButton&&external_kbnSharedDeps_React_default.a.createElement(Panel,{hasShadow:true,paddingSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{anchorClassName:"eui-displayInline",content:viewFullMapLabel},external_kbnSharedDeps_React_default.a.createElement(Button,{"aria-label":viewFullMapLabel,color:"text","data-test-subj":"viewFullMapButton",href:viewFullMapUrl,iconType:"apps"}))),downloadUrl&&external_kbnSharedDeps_React_default.a.createElement(Panel,{hasShadow:true,paddingSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{anchorClassName:"eui-displayInline",content:downloadLabel},external_kbnSharedDeps_React_default.a.createElement(Button,{"aria-label":downloadLabel,color:"text",download:"service-map.json",href:downloadUrl,iconType:"download"}))))}function EmptyBanner_slicedToArray(arr,i){return EmptyBanner_arrayWithHoles(arr)||EmptyBanner_iterableToArrayLimit(arr,i)||EmptyBanner_unsupportedIterableToArray(arr,i)||EmptyBanner_nonIterableRest()}function EmptyBanner_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function EmptyBanner_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return EmptyBanner_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EmptyBanner_arrayLikeToArray(o,minLen)}function EmptyBanner_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function EmptyBanner_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function EmptyBanner_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const EmptyBannerContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"EmptyBannerContainer",componentId:"vw5rtg-0"})(["margin:",";left:calc( "," + "," );position:absolute;z-index:1;"],({theme:theme})=>theme.eui.gutterTypes.gutterSmall,({theme:theme})=>theme.eui.gutterTypes.gutterExtraLarge,({theme:theme})=>theme.eui.gutterTypes.gutterSmall);function EmptyBanner(){const theme=useTheme();const cy=Object(external_kbnSharedDeps_React_["useContext"])(CytoscapeContext);const _useState=Object(external_kbnSharedDeps_React_["useState"])(0),_useState2=EmptyBanner_slicedToArray(_useState,2),nodeCount=_useState2[0],setNodeCount=_useState2[1];Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const handler=event=>setNodeCount(event.cy.nodes().length);if(cy){cy.on("add remove","node",handler)}return()=>{if(cy){cy.removeListener("add remove","node",handler)}}},[cy]);if(!cy||nodeCount!==1){return null}const width=cy.width()-parseInt(theme.eui.gutterTypes.gutterExtraLarge,10)-parseInt(theme.eui.gutterTypes.gutterLarge,10);return external_kbnSharedDeps_React_default.a.createElement(EmptyBannerContainer,{style:{width:width}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.emptyBanner.title",{defaultMessage:"Looks like there's only a single service."})},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.emptyBanner.message",{defaultMessage:"We will map out connected services and external requests if we can detect them. Please make sure you're running the latest version of the APM agent."})," ",external_kbnSharedDeps_React_default.a.createElement(ElasticDocsLink,{section:"/kibana",path:"/service-maps.html#service-maps-supported"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.emptyBanner.docsLink",{defaultMessage:"Learn more in the docs"}))))}const SETUP_INSTRUCTIONS_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.setupInstructionsButtonLabel",{defaultMessage:"Setup instructions"});const ADD_DATA_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.addDataButtonLabel",{defaultMessage:"Add data"});function SetupInstructionsLink({buttonFill:buttonFill=false}){const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:core.http.basePath.prepend("/app/home#/tutorial/apm")},buttonFill?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{size:"s",color:"primary",fill:buttonFill,iconType:"help"},SETUP_INSTRUCTIONS_LABEL):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",color:"primary",iconType:"indexOpen"},ADD_DATA_LABEL))}function EmptyPrompt(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"eyeClosed",iconColor:"subdued",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.noServicesPromptTitle",{defaultMessage:"No services available"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.noServicesPromptDescription",{defaultMessage:"We can’t find any services to map within the currently selected time range and environment. Please try another range or check the environment selected. If you don’t have any services, please use our setup instructions to get started."})),actions:external_kbnSharedDeps_React_default.a.createElement(SetupInstructionsLink,{buttonFill:true})})}function Buttons({onFocusClick:onFocusClick=(()=>{}),selectedNodeServiceName:selectedNodeServiceName}){const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const basePath=core.http.basePath;const urlParams=Object(useUrlParams["a"])().urlParams;const detailsUrl=Object(APMLink["b"])({basePath:basePath,path:"/services/".concat(selectedNodeServiceName,"/transactions"),query:urlParams});const focusUrl=Object(APMLink["b"])({basePath:basePath,path:"/services/".concat(selectedNodeServiceName,"/service-map"),query:urlParams});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:detailsUrl,fill:true},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.serviceDetailsButtonText",{defaultMessage:"Service Details"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"secondary",href:focusUrl,onClick:onFocusClick},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.focusMapButtonText",{defaultMessage:"Focus map"}))))}const ItemRow=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ItemRow",componentId:"sc-1ttgfc-0"})(["line-height:2;"]);const SubduedDescriptionListTitle=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"]).withConfig({displayName:"SubduedDescriptionListTitle",componentId:"sc-1ttgfc-1"})(["&&&{color:",";}"],({theme:theme})=>theme.eui.textColors.subdued);const ExternalResourcesList=external_kbnSharedDeps_StyledComponents_default.a.section.withConfig({displayName:"ExternalResourcesList",componentId:"sc-1ttgfc-2"})(["max-height:360px;overflow:auto;"]);function Info(data){const type=data[elasticsearch_fieldnames["o"]]==="db"?"database":data[elasticsearch_fieldnames["o"]];const subtype=data[elasticsearch_fieldnames["o"]]!=="external"&&data[elasticsearch_fieldnames["n"]];const listItems=[{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.typePopoverStat",{defaultMessage:"Type"}),description:type},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.subtypePopoverStat",{defaultMessage:"Subtype"}),description:subtype}];if(data.groupedConnections){return external_kbnSharedDeps_React_default.a.createElement(ExternalResourcesList,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],null,data.groupedConnections.map(resource=>{const title=resource.label||resource["span.destination.service.resource"];const desc="".concat(resource["span.type"]," (").concat(resource["span.subtype"],")");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:resource.id},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textTruncate",title:title},title),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{className:"eui-textTruncate",title:desc},desc))})))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,listItems.map(({title:title,description:description})=>description&&external_kbnSharedDeps_React_default.a.createElement("div",{key:title},external_kbnSharedDeps_React_default.a.createElement(ItemRow,null,external_kbnSharedDeps_React_default.a.createElement(SubduedDescriptionListTitle,null,title),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],null,description)))))}const ServiceStatsList_ItemRow=external_kbnSharedDeps_StyledComponents_default()("tr").withConfig({displayName:"ItemRow",componentId:"eeecwl-0"})(["line-height:2;"]);const ItemTitle=external_kbnSharedDeps_StyledComponents_default()("td").withConfig({displayName:"ItemTitle",componentId:"eeecwl-1"})(["color:",";padding-right:1rem;"],({theme:theme})=>theme.eui.textColors.subdued);const ItemDescription=external_kbnSharedDeps_StyledComponents_default()("td").withConfig({displayName:"ItemDescription",componentId:"eeecwl-2"})(["text-align:right;"]);function ServiceStatsList({transactionStats:transactionStats,avgErrorRate:avgErrorRate,avgCpuUsage:avgCpuUsage,avgMemoryUsage:avgMemoryUsage}){const listItems=[{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.avgTransDurationPopoverStat",{defaultMessage:"Trans. duration (avg.)"}),description:Object(external_kbnSharedDeps_Lodash_["isNumber"])(transactionStats.avgTransactionDuration)?asDuration(transactionStats.avgTransactionDuration):null},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.avgReqPerMinutePopoverMetric",{defaultMessage:"Req. per minute (avg.)"}),description:asTransactionRate(transactionStats.avgRequestsPerMinute)},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.errorRatePopoverStat",{defaultMessage:"Trans. error rate (avg.)"}),description:asPercent(avgErrorRate,1,"")},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.avgCpuUsagePopoverStat",{defaultMessage:"CPU usage (avg.)"}),description:asPercent(avgCpuUsage,1,"")},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.avgMemoryUsagePopoverStat",{defaultMessage:"Memory usage (avg.)"}),description:asPercent(avgMemoryUsage,1,"")}];return external_kbnSharedDeps_React_default.a.createElement("table",null,external_kbnSharedDeps_React_default.a.createElement("tbody",null,listItems.map(({title:title,description:description})=>description&&external_kbnSharedDeps_React_default.a.createElement(ServiceStatsList_ItemRow,{key:title},external_kbnSharedDeps_React_default.a.createElement(ItemTitle,null,title),external_kbnSharedDeps_React_default.a.createElement(ItemDescription,null,description)))))}var ml_public_=__webpack_require__(35);function useTimeSeriesExplorerHref_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function useTimeSeriesExplorerHref_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){useTimeSeriesExplorerHref_ownKeys(Object(source),true).forEach((function(key){useTimeSeriesExplorerHref_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{useTimeSeriesExplorerHref_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function useTimeSeriesExplorerHref_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function useTimeSeriesExplorerHref({jobId:jobId,serviceName:serviceName,transactionType:transactionType}){const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core,ml=_useApmPluginContext.plugins.ml;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const rangeFrom=urlParams.rangeFrom,rangeTo=urlParams.rangeTo,refreshInterval=urlParams.refreshInterval,refreshPaused=urlParams.refreshPaused;const timeRange=rangeFrom!==undefined&&rangeTo!==undefined?{from:rangeFrom,to:rangeTo}:undefined;const mlAnomalyDetectionHref=Object(ml_public_["useMlHref"])(ml,core.http.basePath.get(),{page:"timeseriesexplorer",pageState:useTimeSeriesExplorerHref_objectSpread({jobIds:[jobId],timeRange:timeRange,refreshInterval:refreshPaused!==undefined&&refreshInterval!==undefined?{pause:refreshPaused,value:refreshInterval}:undefined},serviceName&&transactionType?{entities:{"service.name":serviceName,"transaction.type":transactionType}}:{})});return mlAnomalyDetectionHref}function MLJobLink({jobId:jobId,serviceName:serviceName,transactionType:transactionType,external:external,children:children}){const href=useTimeSeriesExplorerHref({jobId:jobId,serviceName:serviceName,transactionType:transactionType});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{children:children,href:href,external:external,target:external?"_blank":undefined})}var transaction_types=__webpack_require__(116);var anomaly_detection=__webpack_require__(117);const HealthStatusTitle=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiTitle"]).withConfig({displayName:"HealthStatusTitle",componentId:"sc-1xk4uqd-0"})(["display:inline;text-transform:uppercase;"]);const VerticallyCentered=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"VerticallyCentered",componentId:"sc-1xk4uqd-1"})(["display:flex;align-items:center;"]);const SubduedText=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"SubduedText",componentId:"sc-1xk4uqd-2"})(["color:",";"],({theme:theme})=>theme.eui.euiTextSubduedColor);const EnableText=external_kbnSharedDeps_StyledComponents_default.a.section.withConfig({displayName:"EnableText",componentId:"sc-1xk4uqd-3"})(["color:",";line-height:1.4;font-size:",";width:",";"],({theme:theme})=>theme.eui.euiTextSubduedColor,variables["fontSize"],Object(variables["px"])(popoverWidth));const ContentLine=external_kbnSharedDeps_StyledComponents_default.a.section.withConfig({displayName:"ContentLine",componentId:"sc-1xk4uqd-4"})(["line-height:2;"]);function AnomalyDetection({serviceName:serviceName,serviceAnomalyStats:serviceAnomalyStats}){var _serviceAnomalyStats$;const theme=useTheme();const anomalyScore=serviceAnomalyStats===null||serviceAnomalyStats===void 0?void 0:serviceAnomalyStats.anomalyScore;const severity=Object(anomaly_detection["b"])(anomalyScore);const actualValue=serviceAnomalyStats===null||serviceAnomalyStats===void 0?void 0:serviceAnomalyStats.actualValue;const mlJobId=serviceAnomalyStats===null||serviceAnomalyStats===void 0?void 0:serviceAnomalyStats.jobId;const transactionType=(_serviceAnomalyStats$=serviceAnomalyStats===null||serviceAnomalyStats===void 0?void 0:serviceAnomalyStats.transactionType)!==null&&_serviceAnomalyStats$!==void 0?_serviceAnomalyStats$:transaction_types["b"];const hasAnomalyDetectionScore=anomalyScore!==undefined;const healthStatus=getServiceHealthStatus({severity:severity});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("section",null,external_kbnSharedDeps_React_default.a.createElement(HealthStatusTitle,{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,ANOMALY_DETECTION_TITLE))," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"iInCircle",content:ANOMALY_DETECTION_TOOLTIP}),!mlJobId&&external_kbnSharedDeps_React_default.a.createElement(EnableText,null,ANOMALY_DETECTION_DISABLED_TEXT)),hasAnomalyDetectionScore&&external_kbnSharedDeps_React_default.a.createElement(ContentLine,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(VerticallyCentered,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:getServiceHealthStatusColor(theme,healthStatus)}),external_kbnSharedDeps_React_default.a.createElement(SubduedText,null,ANOMALY_DETECTION_SCORE_METRIC))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("div",null,getDisplayedAnomalyScore(anomalyScore),actualValue&&external_kbnSharedDeps_React_default.a.createElement(SubduedText,null," (",asDuration(actualValue),")"))))),mlJobId&&!hasAnomalyDetectionScore&&external_kbnSharedDeps_React_default.a.createElement(EnableText,null,ANOMALY_DETECTION_NO_DATA_TEXT),mlJobId&&external_kbnSharedDeps_React_default.a.createElement(ContentLine,null,external_kbnSharedDeps_React_default.a.createElement(MLJobLink,{external:true,jobId:mlJobId,serviceName:serviceName,transactionType:transactionType},ANOMALY_DETECTION_LINK)))}function getDisplayedAnomalyScore(score){if(score>0&&score<1){return"< 1"}return asInteger(score)}const ANOMALY_DETECTION_TITLE=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.anomalyDetectionPopoverTitle",{defaultMessage:"Anomaly Detection"});const ANOMALY_DETECTION_TOOLTIP=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.anomalyDetectionPopoverTooltip",{defaultMessage:"Service health indicators are powered by the anomaly detection feature in machine learning"});const ANOMALY_DETECTION_SCORE_METRIC=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.anomalyDetectionPopoverScoreMetric",{defaultMessage:"Score (max.)"});const ANOMALY_DETECTION_LINK=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.anomalyDetectionPopoverLink",{defaultMessage:"View anomalies"});const ANOMALY_DETECTION_DISABLED_TEXT=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.anomalyDetectionPopoverDisabled",{defaultMessage:"Display service health indicators by enabling anomaly detection in APM settings."});const ANOMALY_DETECTION_NO_DATA_TEXT=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.anomalyDetectionPopoverNoData",{defaultMessage:"We couldn't find an anomaly score within the selected time range. See details in the anomaly explorer."});function ServiceStatsFetcher({serviceName:serviceName,serviceAnomalyStats:serviceAnomalyStats}){const _useUrlParams=Object(useUrlParams["a"])(),_useUrlParams$urlPara=_useUrlParams.urlParams,start=_useUrlParams$urlPara.start,end=_useUrlParams$urlPara.end,uiFilters=_useUrlParams.uiFilters;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(serviceName&&start&&end){return callApmApi({endpoint:"GET /api/apm/service-map/service/{serviceName}",params:{path:{serviceName:serviceName},query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,uiFilters],{preservePreviousData:false}),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?{transactionStats:{}}:_useFetcher$data,status=_useFetcher.status;const isLoading=status===useFetcher["a"].PENDING||status===useFetcher["a"].LOADING;if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(LoadingSpinner,null)}const avgCpuUsage=data.avgCpuUsage,avgErrorRate=data.avgErrorRate,avgMemoryUsage=data.avgMemoryUsage,_data$transactionStat=data.transactionStats,avgRequestsPerMinute=_data$transactionStat.avgRequestsPerMinute,avgTransactionDuration=_data$transactionStat.avgTransactionDuration;const hasServiceData=[avgCpuUsage,avgErrorRate,avgMemoryUsage,avgRequestsPerMinute,avgTransactionDuration].some(stat=>Object(external_kbnSharedDeps_Lodash_["isNumber"])(stat));if(!hasServiceData){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"subdued"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.popoverMetrics.noDataText",{defaultMessage:"No data for selected environment. Try switching to another environment."}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,serviceAnomalyStats&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(AnomalyDetection,{serviceName:serviceName,serviceAnomalyStats:serviceAnomalyStats}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"xs"})),external_kbnSharedDeps_React_default.a.createElement(ServiceStatsList,data))}function LoadingSpinner(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceAround",style:{height:170}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl"}))}function Contents_objectWithoutProperties(source,excluded){if(source==null)return{};var target=Contents_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function Contents_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const Contents_isIE11=!!window.MSInputMethodContext&&!!document.documentMode;function FlexColumnGroup(props){if(Contents_isIE11){const direction=props.direction,gutterSize=props.gutterSize,rest=Contents_objectWithoutProperties(props,["direction","gutterSize"]);return external_kbnSharedDeps_React_default.a.createElement("div",rest)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],props)}function FlexColumnItem(props){return Contents_isIE11?external_kbnSharedDeps_React_default.a.createElement("div",props):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],props)}function Contents({selectedNodeData:selectedNodeData,isService:isService,label:label,onFocusClick:onFocusClick,selectedNodeServiceName:selectedNodeServiceName}){return external_kbnSharedDeps_React_default.a.createElement(FlexColumnGroup,{direction:"column",gutterSize:"s",style:{width:popoverWidth}},external_kbnSharedDeps_React_default.a.createElement(FlexColumnItem,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,label)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"xs"})),external_kbnSharedDeps_React_default.a.createElement(FlexColumnItem,null,isService?external_kbnSharedDeps_React_default.a.createElement(ServiceStatsFetcher,{serviceName:selectedNodeServiceName,serviceAnomalyStats:selectedNodeData.serviceAnomalyStats}):external_kbnSharedDeps_React_default.a.createElement(Info,selectedNodeData)),isService&&external_kbnSharedDeps_React_default.a.createElement(Buttons,{onFocusClick:onFocusClick,selectedNodeServiceName:selectedNodeServiceName}))}function Popover_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function Popover_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Popover_ownKeys(Object(source),true).forEach((function(key){Popover_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{Popover_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function Popover_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function Popover_slicedToArray(arr,i){return Popover_arrayWithHoles(arr)||Popover_iterableToArrayLimit(arr,i)||Popover_unsupportedIterableToArray(arr,i)||Popover_nonIterableRest()}function Popover_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Popover_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return Popover_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Popover_arrayLikeToArray(o,minLen)}function Popover_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Popover_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function Popover_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function Popover({focusedServiceName:focusedServiceName}){var _selectedNode$rendere,_selectedNode$rendere2,_selectedNode$rendere3,_cy$zoom,_selectedNode$height,_selectedNode$data;const theme=useTheme();const cy=Object(external_kbnSharedDeps_React_["useContext"])(CytoscapeContext);const _useState=Object(external_kbnSharedDeps_React_["useState"])(undefined),_useState2=Popover_slicedToArray(_useState,2),selectedNode=_useState2[0],setSelectedNode=_useState2[1];const deselect=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(cy){cy.elements().unselect()}setSelectedNode(undefined)},[cy,setSelectedNode]);const renderedHeight=(_selectedNode$rendere=selectedNode===null||selectedNode===void 0?void 0:selectedNode.renderedHeight())!==null&&_selectedNode$rendere!==void 0?_selectedNode$rendere:0;const renderedWidth=(_selectedNode$rendere2=selectedNode===null||selectedNode===void 0?void 0:selectedNode.renderedWidth())!==null&&_selectedNode$rendere2!==void 0?_selectedNode$rendere2:0;const _ref=(_selectedNode$rendere3=selectedNode===null||selectedNode===void 0?void 0:selectedNode.renderedPosition())!==null&&_selectedNode$rendere3!==void 0?_selectedNode$rendere3:{x:-1e4,y:-1e4},x=_ref.x,y=_ref.y;const isOpen=!!selectedNode;const isService=(selectedNode===null||selectedNode===void 0?void 0:selectedNode.data(elasticsearch_fieldnames["i"]))!==undefined;const triggerStyle={background:"transparent",height:renderedHeight,position:"absolute",width:renderedWidth};const trigger=external_kbnSharedDeps_React_default.a.createElement("div",{style:triggerStyle});const zoom=(_cy$zoom=cy===null||cy===void 0?void 0:cy.zoom())!==null&&_cy$zoom!==void 0?_cy$zoom:1;const height=(_selectedNode$height=selectedNode===null||selectedNode===void 0?void 0:selectedNode.height())!==null&&_selectedNode$height!==void 0?_selectedNode$height:0;const translateY=y-(zoom+1)*height/4;const popoverStyle={position:"absolute",transform:"translate(".concat(x,"px, ").concat(translateY,"px)")};const selectedNodeData=(_selectedNode$data=selectedNode===null||selectedNode===void 0?void 0:selectedNode.data())!==null&&_selectedNode$data!==void 0?_selectedNode$data:{};const selectedNodeServiceName=selectedNodeData.id;const label=selectedNodeData.label||selectedNodeServiceName;const popoverRef=Object(external_kbnSharedDeps_React_["useRef"])(null);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const selectHandler=event=>{setSelectedNode(event.target)};if(cy){cy.on("select","node",selectHandler);cy.on("unselect","node",deselect);cy.on("viewport",deselect);cy.on("drag","node",deselect)}return()=>{if(cy){cy.removeListener("select","node",selectHandler);cy.removeListener("unselect","node",deselect);cy.removeListener("viewport",undefined,deselect);cy.removeListener("drag","node",deselect)}}},[cy,deselect]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(popoverRef.current){popoverRef.current.positionPopoverFluid()}},[popoverRef,x,y]);const centerSelectedNode=Object(external_kbnSharedDeps_React_["useCallback"])(event=>{event.preventDefault();if(cy){cy.animate(Popover_objectSpread(Popover_objectSpread({},getAnimationOptions(theme)),{},{center:{eles:cy.getElementById(selectedNodeServiceName)}}))}},[cy,selectedNodeServiceName,theme]);const isAlreadyFocused=focusedServiceName===selectedNodeServiceName;const onFocusClick=isAlreadyFocused?centerSelectedNode:_event=>deselect();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{anchorPosition:"upCenter",button:trigger,closePopover:()=>{},isOpen:isOpen,ref:popoverRef,style:popoverStyle},external_kbnSharedDeps_React_default.a.createElement(Contents,{isService:isService,label:label,onFocusClick:onFocusClick,selectedNodeData:selectedNodeData,selectedNodeServiceName:selectedNodeServiceName}))}function TimeoutPrompt({isGlobalServiceMap:isGlobalServiceMap}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",iconColor:"subdued",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.timeoutPromptTitle",{defaultMessage:"Service map timeout"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.timeoutPromptDescription",{defaultMessage:"Timed out while fetching data for service map. Limit the scope by selecting a smaller time range, or use configuration setting '{configName}' with a reduced value.",values:{configName:isGlobalServiceMap?"xpack.apm.serviceMapFingerprintGlobalBucketSize":"xpack.apm.serviceMapFingerprintBucketSize"}})),actions:external_kbnSharedDeps_React_default.a.createElement(ApmSettingsDocLink,null)})}function ApmSettingsDocLink(){return external_kbnSharedDeps_React_default.a.createElement(ElasticDocsLink,{section:"/kibana",path:"/apm-settings-in-kibana.html"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceMap.timeoutPrompt.docsLink",{defaultMessage:"Learn more about APM settings in the docs"}))}var useWindowSize=__webpack_require__(282);var useWindowSize_default=__webpack_require__.n(useWindowSize);function useRefDimensions(){const ref=Object(external_kbnSharedDeps_React_["useRef"])(null);const windowHeight=useWindowSize_default()().height;if(!ref.current){return{ref:ref,width:0,height:0}}const _ref$current$getBound=ref.current.getBoundingClientRect(),top=_ref$current$getBound.top,width=_ref$current$getBound.width;const height=windowHeight-top;return{ref:ref,width:width,height:height}}const ServiceMapDatePickerFlexGroup=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"]).withConfig({displayName:"ServiceMapDatePickerFlexGroup",componentId:"sc-15uum3k-0"})(["padding:",";border-bottom:",";margin:0;"],({theme:theme})=>theme.eui.euiSizeM,({theme:theme})=>theme.eui.euiBorderThin);function PromptContainer({children:children}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceAround",style:{height:"60vh"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{width:600,textAlign:"center"}},children))}function ServiceMap_LoadingSpinner(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl",style:{position:"absolute",top:"50%",left:"50%"}})}function ServiceMap({serviceName:serviceName}){const theme=useTheme();const license=useLicense();const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const _useFetcher=Object(useFetcher["b"])(()=>{if(!license||!isActivePlatinumLicense(license)){return}const start=urlParams.start,end=urlParams.end,environment=urlParams.environment;if(start&&end){return Object(createCallApmApi["a"])({isCachable:false,endpoint:"GET /api/apm/service-map",params:{query:{start:start,end:end,environment:environment,serviceName:serviceName}}})}},[license,serviceName,urlParams]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?{elements:[]}:_useFetcher$data,status=_useFetcher.status,error=_useFetcher.error;const _useRefDimensions=useRefDimensions(),ref=_useRefDimensions.ref,height=_useRefDimensions.height;Object(public_["useTrackPageview"])({app:"apm",path:"service_map"});Object(public_["useTrackPageview"])({app:"apm",path:"service_map",delay:15e3});if(!license){return null}if(!isActivePlatinumLicense(license)){return external_kbnSharedDeps_React_default.a.createElement(PromptContainer,null,external_kbnSharedDeps_React_default.a.createElement(LicensePrompt,{text:invalidLicenseMessage}))}if(status===useFetcher["a"].SUCCESS&&data.elements.length===0){return external_kbnSharedDeps_React_default.a.createElement(PromptContainer,null,external_kbnSharedDeps_React_default.a.createElement(EmptyPrompt,null))}if(status===useFetcher["a"].FAILURE&&error&&"body"in error&&error.body.statusCode===500&&error.body.message===SERVICE_MAP_TIMEOUT_ERROR){return external_kbnSharedDeps_React_default.a.createElement(PromptContainer,null,external_kbnSharedDeps_React_default.a.createElement(TimeoutPrompt,{isGlobalServiceMap:!serviceName}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(ServiceMapDatePickerFlexGroup,{justifyContent:"flexEnd",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(DatePicker["a"],null))),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"ServiceMap",style:{height:height},ref:ref},external_kbnSharedDeps_React_default.a.createElement(Cytoscape,{elements:data.elements,height:height,serviceName:serviceName,style:getCytoscapeDivStyle(theme,status)},external_kbnSharedDeps_React_default.a.createElement(Controls,null),serviceName&&external_kbnSharedDeps_React_default.a.createElement(EmptyBanner,null),status===useFetcher["a"].LOADING&&external_kbnSharedDeps_React_default.a.createElement(ServiceMap_LoadingSpinner,null),external_kbnSharedDeps_React_default.a.createElement(Popover,{focusedServiceName:serviceName}))))}var kibanaReact_public_=__webpack_require__(24);var projections=__webpack_require__(77);function useAnomalyDetectionJobs(){return Object(useFetcher["b"])(callApmApi=>callApmApi({endpoint:"GET /api/apm/settings/anomaly-detection"}),[],{showToastOnError:false})}function useLocalStorage_slicedToArray(arr,i){return useLocalStorage_arrayWithHoles(arr)||useLocalStorage_iterableToArrayLimit(arr,i)||useLocalStorage_unsupportedIterableToArray(arr,i)||useLocalStorage_nonIterableRest()}function useLocalStorage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function useLocalStorage_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return useLocalStorage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useLocalStorage_arrayLikeToArray(o,minLen)}function useLocalStorage_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useLocalStorage_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function useLocalStorage_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function useLocalStorage(key,defaultValue){const _useState=Object(external_kbnSharedDeps_React_["useState"])(getFromStorage()),_useState2=useLocalStorage_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];function getFromStorage(){const storedItem=window.localStorage.getItem(key);let toStore=defaultValue;if(storedItem!==null){try{toStore=JSON.parse(storedItem)}catch(err){window.localStorage.removeItem(key);console.log("Unable to decode: ".concat(key))}}return toStore}const updateFromStorage=()=>{const storedItem=getFromStorage();setItem(storedItem)};const saveToStorage=value=>{if(value===undefined){window.localStorage.removeItem(key)}else{window.localStorage.setItem(key,JSON.stringify(value));updateFromStorage()}};Object(external_kbnSharedDeps_React_["useEffect"])(()=>{window.addEventListener("storage",event=>{if(event.key===key){updateFromStorage()}})},[]);return[item,saveToStorage]}var LocalUIFilters=__webpack_require__(81);const enableCorrelations="apm:enableCorrelations";const enableServiceOverview="apm:enableServiceOverview";function SignificantTermsTable({significantTerms:significantTerms,status:status,setSelectedSignificantTerm:setSelectedSignificantTerm}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const columns=[{field:"matches",name:"Matches",render:(_,term)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:"(".concat(asInteger(term.fgCount)," of ").concat(asInteger(term.bgCount)," requests)")},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:term.fgCount/term.bgCount>.03?"primary":"secondary"},asPercent(term.fgCount,term.bgCount)),"(",Math.round(term.score),")"))},{field:"fieldName",name:"Field name"},{field:"filedValue",name:"Field value",render:(_,term)=>String(term.fieldValue).slice(0,50)},{field:"filedValue",name:"",render:(_,term)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:Object(url_helpers["a"])(history,{query:{kuery:"".concat(term.fieldName,':"').concat(encodeURIComponent(term.fieldValue),'"')}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"magnifyWithPlus"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:Object(url_helpers["a"])(history,{query:{kuery:"not ".concat(term.fieldName,':"').concat(encodeURIComponent(term.fieldValue),'"')}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"magnifyWithMinus"})))}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{items:significantTerms!==null&&significantTerms!==void 0?significantTerms:[],noItemsMessage:status===useFetcher["a"].LOADING?"Loading":"No data",loading:status===useFetcher["a"].LOADING,columns:columns,rowProps:term=>({onMouseEnter:()=>setSelectedSignificantTerm(term),onMouseLeave:()=>setSelectedSignificantTerm(null)})})}function ChartContainer({children:children,height:height,status:status,hasData:hasData}){if(!hasData&&(status===useFetcher["a"].LOADING||status===useFetcher["a"].PENDING)){return external_kbnSharedDeps_React_default.a.createElement(LoadingChartPlaceholder,{height:height})}if(status===useFetcher["a"].FAILURE){return external_kbnSharedDeps_React_default.a.createElement(FailedChartPlaceholder,{height:height})}return external_kbnSharedDeps_React_default.a.createElement("div",{style:{height:height}},children)}function LoadingChartPlaceholder({height:height}){return external_kbnSharedDeps_React_default.a.createElement("div",{style:{height:height,display:"flex",alignItems:"center",justifyContent:"center"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingChart"],{"data-test-subj":"loading",size:"xl"}))}function FailedChartPlaceholder({height:height}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"subdued",style:{height:height}},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.chart.error",{defaultMessage:"An error happened when trying to fetch data. Please try again"}))}function LatencyCorrelations_slicedToArray(arr,i){return LatencyCorrelations_arrayWithHoles(arr)||LatencyCorrelations_iterableToArrayLimit(arr,i)||LatencyCorrelations_unsupportedIterableToArray(arr,i)||LatencyCorrelations_nonIterableRest()}function LatencyCorrelations_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function LatencyCorrelations_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return LatencyCorrelations_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LatencyCorrelations_arrayLikeToArray(o,minLen)}function LatencyCorrelations_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function LatencyCorrelations_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function LatencyCorrelations_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function LatencyCorrelations(){const _useState=Object(external_kbnSharedDeps_React_["useState"])(null),_useState2=LatencyCorrelations_slicedToArray(_useState,2),selectedSignificantTerm=_useState2[0],setSelectedSignificantTerm=_useState2[1];const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const transactionName=urlParams.transactionName,transactionType=urlParams.transactionType,start=urlParams.start,end=urlParams.end;const _useFetcher=Object(useFetcher["b"])(()=>{if(start&&end){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/correlations/slow_transactions",params:{query:{serviceName:serviceName,transactionName:transactionName,transactionType:transactionType,start:start,end:end,uiFilters:JSON.stringify(uiFilters),durationPercentile:"50",fieldNames:"user.username,user.id,host.ip,user_agent.name,kubernetes.pod.uuid,kubernetes.pod.name,url.domain,container.id,service.node.name"}}})}},[serviceName,start,end,transactionName,transactionType,uiFilters]),data=_useFetcher.data,status=_useFetcher.status;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,"Average latency over time")),external_kbnSharedDeps_React_default.a.createElement(LatencyTimeseriesChart,{data:data,status:status,selectedSignificantTerm:selectedSignificantTerm})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,"Latency distribution")),external_kbnSharedDeps_React_default.a.createElement(LatencyDistributionChart,{data:data,status:status,selectedSignificantTerm:selectedSignificantTerm})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(SignificantTermsTable,{significantTerms:data===null||data===void 0?void 0:data.significantTerms,status:status,setSelectedSignificantTerm:setSelectedSignificantTerm}))))}function getTimeseriesYMax(data){if(!(data===null||data===void 0?void 0:data.overall)){return 0}const yValues=[...data.overall.timeseries.map(p=>{var _p$y;return(_p$y=p.y)!==null&&_p$y!==void 0?_p$y:0}),...data.significantTerms.flatMap(term=>term.timeseries.map(p=>{var _p$y2;return(_p$y2=p.y)!==null&&_p$y2!==void 0?_p$y2:0}))];return Math.max(...yValues)}function getDistributionYMax(data){if(!(data===null||data===void 0?void 0:data.overall)){return 0}const yValues=[...data.overall.distribution.map(p=>{var _p$y3;return(_p$y3=p.y)!==null&&_p$y3!==void 0?_p$y3:0}),...data.significantTerms.flatMap(term=>term.distribution.map(p=>{var _p$y4;return(_p$y4=p.y)!==null&&_p$y4!==void 0?_p$y4:0}))];return Math.max(...yValues)}function LatencyTimeseriesChart({data:data,selectedSignificantTerm:selectedSignificantTerm,status:status}){var _data$overall;const dateFormatter=Object(external_kbnSharedDeps_ElasticCharts_["timeFormatter"])("HH:mm:ss");const yMax=getTimeseriesYMax(data);const durationFormatter=getDurationFormatter(yMax);return external_kbnSharedDeps_React_default.a.createElement(ChartContainer,{height:200,hasData:!!data,status:status},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{showLegend:true,legendPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"bottom",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,showOverlappingTicks:true,tickFormat:dateFormatter}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"left",position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,domain:{min:0,max:yMax},tickFormat:d=>durationFormatter(d).formatted}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["LineSeries"],{id:"Overall latency",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Time,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:(data===null||data===void 0?void 0:(_data$overall=data.overall)===null||_data$overall===void 0?void 0:_data$overall.timeseries)||[],curve:external_kbnSharedDeps_ElasticCharts_["CurveType"].CURVE_MONOTONE_X}),selectedSignificantTerm!==null?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["LineSeries"],{id:"Latency for selected term",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Time,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],color:"red",data:selectedSignificantTerm.timeseries,curve:external_kbnSharedDeps_ElasticCharts_["CurveType"].CURVE_MONOTONE_X}):null))}function LatencyDistributionChart({data:data,selectedSignificantTerm:selectedSignificantTerm,status:status}){var _data$overall$distrib,_data$overall2,_data$overall3;const xMax=Math.max(...(_data$overall$distrib=data===null||data===void 0?void 0:(_data$overall2=data.overall)===null||_data$overall2===void 0?void 0:_data$overall2.distribution.map(p=>{var _p$x;return(_p$x=p.x)!==null&&_p$x!==void 0?_p$x:0}))!==null&&_data$overall$distrib!==void 0?_data$overall$distrib:[]);const durationFormatter=getDurationFormatter(xMax);const yMax=getDistributionYMax(data);return external_kbnSharedDeps_React_default.a.createElement(ChartContainer,{height:200,hasData:!!data,status:status},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{showLegend:true,legendPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,tooltip:{headerFormatter:obj=>{const start=durationFormatter(obj.value);const end=durationFormatter(obj.value+(data===null||data===void 0?void 0:data.distributionInterval));return"".concat(start.value," - ").concat(end.formatted)}}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"x-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,showOverlappingTicks:true,tickFormat:d=>durationFormatter(d).formatted}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"y-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,tickFormat:d=>"".concat(d,"%"),domain:{min:0,max:yMax}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["BarSeries"],{id:"Overall latency distribution",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:(data===null||data===void 0?void 0:(_data$overall3=data.overall)===null||_data$overall3===void 0?void 0:_data$overall3.distribution)||[],minBarHeight:5,tickFormat:d=>"".concat(roundFloat(d),"%")}),selectedSignificantTerm!==null?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["BarSeries"],{id:"Latency distribution for selected term",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],color:"red",data:selectedSignificantTerm.distribution,minBarHeight:5,tickFormat:d=>"".concat(roundFloat(d),"%")}):null))}function roundFloat(n,digits=2){const factor=Math.pow(10,digits);return Math.round(n*factor)/factor}function ErrorCorrelations_slicedToArray(arr,i){return ErrorCorrelations_arrayWithHoles(arr)||ErrorCorrelations_iterableToArrayLimit(arr,i)||ErrorCorrelations_unsupportedIterableToArray(arr,i)||ErrorCorrelations_nonIterableRest()}function ErrorCorrelations_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ErrorCorrelations_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return ErrorCorrelations_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ErrorCorrelations_arrayLikeToArray(o,minLen)}function ErrorCorrelations_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ErrorCorrelations_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function ErrorCorrelations_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ErrorCorrelations(){const _useState=Object(external_kbnSharedDeps_React_["useState"])(null),_useState2=ErrorCorrelations_slicedToArray(_useState,2),selectedSignificantTerm=_useState2[0],setSelectedSignificantTerm=_useState2[1];const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const transactionName=urlParams.transactionName,transactionType=urlParams.transactionType,start=urlParams.start,end=urlParams.end;const _useFetcher=Object(useFetcher["b"])(()=>{if(start&&end){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/correlations/failed_transactions",params:{query:{serviceName:serviceName,transactionName:transactionName,transactionType:transactionType,start:start,end:end,uiFilters:JSON.stringify(uiFilters),fieldNames:"transaction.name,user.username,user.id,host.ip,user_agent.name,kubernetes.pod.uuid,kubernetes.pod.name,url.domain,container.id,service.node.name"}}})}},[serviceName,start,end,transactionName,transactionType,uiFilters]),data=_useFetcher.data,status=_useFetcher.status;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,"Error rate over time")),external_kbnSharedDeps_React_default.a.createElement(ErrorTimeseriesChart,{data:data,status:status,selectedSignificantTerm:selectedSignificantTerm})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(SignificantTermsTable,{significantTerms:data===null||data===void 0?void 0:data.significantTerms,status:status,setSelectedSignificantTerm:setSelectedSignificantTerm}))))}function ErrorTimeseriesChart({data:data,selectedSignificantTerm:selectedSignificantTerm,status:status}){var _data$overall$timeser,_data$overall;const dateFormatter=Object(external_kbnSharedDeps_ElasticCharts_["timeFormatter"])("HH:mm:ss");return external_kbnSharedDeps_React_default.a.createElement(ChartContainer,{height:200,hasData:!!data,status:status},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],{size:{height:Object(variables["px"])(200),width:Object(variables["px"])(600)}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{showLegend:true,legendPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"bottom",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,showOverlappingTicks:true,tickFormat:dateFormatter}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"left",position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,domain:{min:0,max:1},tickFormat:d=>"".concat(ErrorCorrelations_roundFloat(d*100),"%")}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["LineSeries"],{id:"Overall error rate",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Time,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:(_data$overall$timeser=data===null||data===void 0?void 0:(_data$overall=data.overall)===null||_data$overall===void 0?void 0:_data$overall.timeseries)!==null&&_data$overall$timeser!==void 0?_data$overall$timeser:[],curve:external_kbnSharedDeps_ElasticCharts_["CurveType"].CURVE_MONOTONE_X}),selectedSignificantTerm!==null?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["LineSeries"],{id:"Error rate for selected term",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Time,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],color:"red",data:selectedSignificantTerm.timeseries,curve:external_kbnSharedDeps_ElasticCharts_["CurveType"].CURVE_MONOTONE_X}):null))}function ErrorCorrelations_roundFloat(n,digits=2){const factor=Math.pow(10,digits);return Math.round(n*factor)/factor}function Correlations_slicedToArray(arr,i){return Correlations_arrayWithHoles(arr)||Correlations_iterableToArrayLimit(arr,i)||Correlations_unsupportedIterableToArray(arr,i)||Correlations_nonIterableRest()}function Correlations_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Correlations_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return Correlations_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Correlations_arrayLikeToArray(o,minLen)}function Correlations_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Correlations_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function Correlations_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function Correlations(){const uiSettings=Object(useApmPluginContext["a"])().core.uiSettings;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=Correlations_slicedToArray(_useState,2),isFlyoutVisible=_useState2[0],setIsFlyoutVisible=_useState2[1];if(!uiSettings.get(enableCorrelations)){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:()=>{setIsFlyoutVisible(true)}},"View correlations"),isFlyoutVisible&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPortal"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{size:"l",ownFocus:true,onClose:()=>setIsFlyoutVisible(false)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true,"aria-labelledby":"correlations-flyout"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",{id:"correlations-flyout"},"Correlations"))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,urlParams.kuery?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("span",null,"Filtering by"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,urlParams.kuery),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:Object(url_helpers["a"])(history,{query:{kuery:""}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross"},"Clear"))):null,external_kbnSharedDeps_React_default.a.createElement(LatencyCorrelations,null),external_kbnSharedDeps_React_default.a.createElement(ErrorCorrelations,null)))))}function KibanaLink_extends(){KibanaLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return KibanaLink_extends.apply(this,arguments)}function KibanaLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=KibanaLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function KibanaLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function KibanaLink(_ref){let path=_ref.path,rest=KibanaLink_objectWithoutProperties(_ref,["path"]);const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const href=url_default.a.format({pathname:core.http.basePath.prepend("/app/kibana"),hash:path});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],KibanaLink_extends({},rest,{href:href}))}function LoadingStatePrompt(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l","data-test-subj":"loading-spinner"})))}function ErrorStatePrompt(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{title:external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.error.prompt.title",{defaultMessage:"Sorry, an error occured :("})),body:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.error.prompt.body",{defaultMessage:"Please inspect your browser's developer console for details."}),titleSize:"s"})}function NoServicesMessage({historicalDataFound:historicalDataFound,status:status}){if(status==="loading"){return external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null)}if(status==="failure"){return external_kbnSharedDeps_React_default.a.createElement(ErrorStatePrompt,null)}if(historicalDataFound){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{title:external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.notFoundLabel",{defaultMessage:"No services found"})),titleSize:"s"})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{title:external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.noServicesLabel",{defaultMessage:"Looks like you don't have any APM services installed. Let's add some!"})),titleSize:"s",body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.7xUpgradeServerMessage",{defaultMessage:"Upgrading from a pre-7.x version? Make sure you've also upgraded\n              your APM Server instance(s) to at least 7.0."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.7xOldDataMessage",{defaultMessage:"You may also have old data that needs to be migrated."})," ",external_kbnSharedDeps_React_default.a.createElement(KibanaLink,{path:"/management/stack/upgrade_assistant"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.UpgradeAssistantLink",{defaultMessage:"Learn more by visiting the Kibana Upgrade Assistant"})),".")),actions:external_kbnSharedDeps_React_default.a.createElement(SetupInstructionsLink,{buttonFill:true})})}function ManagedTable_extends(){ManagedTable_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return ManagedTable_extends.apply(this,arguments)}function ManagedTable_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function ManagedTable_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ManagedTable_ownKeys(Object(source),true).forEach((function(key){ManagedTable_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ManagedTable_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function ManagedTable_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function defaultSortFn(items,sortField,sortDirection){return Object(external_kbnSharedDeps_Lodash_["orderBy"])(items,sortField,sortDirection)}function UnoptimizedManagedTable(props){var _props$columns$;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const items=props.items,columns=props.columns,_props$initialPageInd=props.initialPageIndex,initialPageIndex=_props$initialPageInd===void 0?0:_props$initialPageInd,_props$initialPageSiz=props.initialPageSize,initialPageSize=_props$initialPageSiz===void 0?10:_props$initialPageSiz,_props$initialSortFie=props.initialSortField,initialSortField=_props$initialSortFie===void 0?((_props$columns$=props.columns[0])===null||_props$columns$===void 0?void 0:_props$columns$.field)||"":_props$initialSortFie,_props$initialSortDir=props.initialSortDirection,initialSortDirection=_props$initialSortDir===void 0?"asc":_props$initialSortDir,_props$hidePerPageOpt=props.hidePerPageOptions,hidePerPageOptions=_props$hidePerPageOpt===void 0?true:_props$hidePerPageOpt,noItemsMessage=props.noItemsMessage,_props$sortItems=props.sortItems,sortItems=_props$sortItems===void 0?true:_props$sortItems,_props$sortFn=props.sortFn,sortFn=_props$sortFn===void 0?defaultSortFn:_props$sortFn,_props$pagination=props.pagination,pagination=_props$pagination===void 0?true:_props$pagination;const _useUrlParams=Object(useUrlParams["a"])(),_useUrlParams$urlPara=_useUrlParams.urlParams,_useUrlParams$urlPara2=_useUrlParams$urlPara.page,page=_useUrlParams$urlPara2===void 0?initialPageIndex:_useUrlParams$urlPara2,_useUrlParams$urlPara3=_useUrlParams$urlPara.pageSize,pageSize=_useUrlParams$urlPara3===void 0?initialPageSize:_useUrlParams$urlPara3,_useUrlParams$urlPara4=_useUrlParams$urlPara.sortField,sortField=_useUrlParams$urlPara4===void 0?initialSortField:_useUrlParams$urlPara4,_useUrlParams$urlPara5=_useUrlParams$urlPara.sortDirection,sortDirection=_useUrlParams$urlPara5===void 0?initialSortDirection:_useUrlParams$urlPara5;const renderedItems=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const sortedItems=sortItems?sortFn(items,sortField,sortDirection):items;return sortedItems.slice(page*pageSize,(page+1)*pageSize)},[page,pageSize,sortField,sortDirection,items,sortItems,sortFn]);const sort=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({sort:{field:sortField,direction:sortDirection}}),[sortField,sortDirection]);const onTableChange=Object(external_kbnSharedDeps_React_["useCallback"])(options=>{history.push(ManagedTable_objectSpread(ManagedTable_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(ManagedTable_objectSpread(ManagedTable_objectSpread({},Object(url_helpers["c"])(history.location.search)),{},{page:options.page.index,pageSize:options.page.size,sortField:options.sort.field,sortDirection:options.sort.direction}))}))},[history]);const paginationProps=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{if(!pagination){return}return{hidePerPageOptions:hidePerPageOptions,totalItemCount:items.length,pageIndex:page,pageSize:pageSize}},[hidePerPageOptions,items,page,pageSize,pagination]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],ManagedTable_extends({noItemsMessage:noItemsMessage,items:renderedItems,columns:columns,sorting:sort,onChange:onTableChange},paginationProps?{pagination:paginationProps}:{}))}const ManagedTable=external_kbnSharedDeps_React_default.a.memo(UnoptimizedManagedTable);function EnvironmentBadge({environments:environments=[]}){if(environments.length<2){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,environments.map(env=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"hollow",key:env},env)))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"right",content:environments.map(env=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,{key:env},env,external_kbnSharedDeps_React_default.a.createElement("br",null)))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.environmentCount",{values:{environmentCount:environments.length},defaultMessage:"{environmentCount, plural, one {1 environment} other {# environments}}"})))}function TransactionOverviewLink_extends(){TransactionOverviewLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return TransactionOverviewLink_extends.apply(this,arguments)}function TransactionOverviewLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=TransactionOverviewLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function TransactionOverviewLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const TransactionOverviewLink_persistedFilters=["transactionResult","host","containerId","podName","serviceVersion"];function useTransactionOverviewHref(serviceName){return Object(APMLink["c"])("/services/".concat(serviceName,"/transactions"),TransactionOverviewLink_persistedFilters)}function TransactionOverviewLink(_ref){let serviceName=_ref.serviceName,rest=TransactionOverviewLink_objectWithoutProperties(_ref,["serviceName"]);const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],TransactionOverviewLink_extends({path:"/services/".concat(serviceName,"/transactions"),query:Object(pick_keys["a"])(urlParams,...TransactionOverviewLink_persistedFilters)},rest))}function AgentIcon(props){const agentName=props.agentName;const icon=getAgentIcon(agentName);return external_kbnSharedDeps_React_default.a.createElement("img",{src:icon,height:Object(variables["px"])(24),alt:agentName})}function HealthBadge({healthStatus:healthStatus}){const theme=useTheme();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:getServiceHealthStatusBadgeColor(theme,healthStatus)},getServiceHealthStatusLabel(healthStatus))}function SparkPlot(props){const series=props.series,color=props.color,width=props.width;const chartTheme=Object(public_["useChartTheme"])();if(!series||series.every(point=>point.y===null)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"visLine",color:"subdued"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},NOT_AVAILABLE_LABEL)))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],{size:{height:Object(variables["px"])(24),width:width}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{theme:chartTheme,showLegend:false,tooltip:"none"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["AreaSeries"],{id:"area",xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Time,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:series,color:color,curve:external_kbnSharedDeps_ElasticCharts_["CurveType"].CURVE_MONOTONE_X}))}function SparkPlotWithValueLabel({color:color,series:series,valueLabel:valueLabel,compact:compact}){const theme=useTheme();const colorValue=theme.eui[color];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(SparkPlot,{series:series,width:compact?Object(variables["px"])(variables["unit"]*3):Object(variables["px"])(variables["unit"]*4),color:colorValue})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{whiteSpace:"nowrap"}},valueLabel))}function ServiceListMetric({color:color,series:series,valueLabel:valueLabel}){return external_kbnSharedDeps_React_default.a.createElement(SparkPlotWithValueLabel,{valueLabel:valueLabel,series:series,color:color})}function formatString(value){return value||NOT_AVAILABLE_LABEL}const AppLink=external_kbnSharedDeps_StyledComponents_default()(TransactionOverviewLink).withConfig({displayName:"AppLink",componentId:"amw7uq-0"})(["font-size:",";",";"],variables["fontSizes"].large,Object(variables["truncate"])("100%"));const ToolTipWrapper=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"ToolTipWrapper",componentId:"amw7uq-1"})(["width:100%;.apmServiceList__serviceNameTooltip{width:100%;.apmServiceList__serviceNameContainer{width:calc(100% - 24px);}}"]);const SERVICE_COLUMNS=[{field:"healthStatus",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.healthColumnLabel",{defaultMessage:"Health"}),width:Object(variables["px"])(variables["unit"]*6),sortable:true,render:(_,{healthStatus:healthStatus})=>external_kbnSharedDeps_React_default.a.createElement(HealthBadge,{healthStatus:healthStatus!==null&&healthStatus!==void 0?healthStatus:ServiceHealthStatus.unknown})},{field:"serviceName",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.nameColumnLabel",{defaultMessage:"Name"}),width:"40%",sortable:true,render:(_,{serviceName:serviceName,agentName:agentName})=>external_kbnSharedDeps_React_default.a.createElement(ToolTipWrapper,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{delay:"long",content:formatString(serviceName),id:"service-name-tooltip",anchorClassName:"apmServiceList__serviceNameTooltip"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},agentName&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(AgentIcon,{agentName:agentName})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"apmServiceList__serviceNameContainer"},external_kbnSharedDeps_React_default.a.createElement(AppLink,{serviceName:serviceName,className:"eui-textTruncate"},formatString(serviceName))))))},{field:"environments",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.environmentColumnLabel",{defaultMessage:"Environment"}),width:Object(variables["px"])(variables["unit"]*10),sortable:true,render:(_,{environments:environments})=>external_kbnSharedDeps_React_default.a.createElement(EnvironmentBadge,{environments:environments!==null&&environments!==void 0?environments:[]})},{field:"avgResponseTime",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.avgResponseTimeColumnLabel",{defaultMessage:"Avg. response time"}),sortable:true,dataType:"number",render:(_,{avgResponseTime:avgResponseTime})=>external_kbnSharedDeps_React_default.a.createElement(ServiceListMetric,{series:avgResponseTime===null||avgResponseTime===void 0?void 0:avgResponseTime.timeseries,color:"euiColorVis1",valueLabel:asMillisecondDuration((avgResponseTime===null||avgResponseTime===void 0?void 0:avgResponseTime.value)||0)}),align:"left",width:Object(variables["px"])(variables["unit"]*10)},{field:"transactionsPerMinute",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.transactionsPerMinuteColumnLabel",{defaultMessage:"Trans. per minute"}),sortable:true,dataType:"number",render:(_,{transactionsPerMinute:transactionsPerMinute})=>external_kbnSharedDeps_React_default.a.createElement(ServiceListMetric,{series:transactionsPerMinute===null||transactionsPerMinute===void 0?void 0:transactionsPerMinute.timeseries,color:"euiColorVis0",valueLabel:asTransactionRate(transactionsPerMinute===null||transactionsPerMinute===void 0?void 0:transactionsPerMinute.value)}),align:"left",width:Object(variables["px"])(variables["unit"]*10)},{field:"transactionErrorRate",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.servicesTable.transactionErrorRate",{defaultMessage:"Error rate %"}),sortable:true,dataType:"number",render:(_,{transactionErrorRate:transactionErrorRate})=>{const value=transactionErrorRate===null||transactionErrorRate===void 0?void 0:transactionErrorRate.value;const valueLabel=asPercent(value,1);return external_kbnSharedDeps_React_default.a.createElement(ServiceListMetric,{series:transactionErrorRate===null||transactionErrorRate===void 0?void 0:transactionErrorRate.timeseries,color:"euiColorVis7",valueLabel:valueLabel})},align:"left",width:Object(variables["px"])(variables["unit"]*10)}];const SERVICE_HEALTH_STATUS_ORDER=[ServiceHealthStatus.unknown,ServiceHealthStatus.healthy,ServiceHealthStatus.warning,ServiceHealthStatus.critical];function ServiceList({items:items,noItemsMessage:noItemsMessage}){const displayHealthStatus=items.some(item=>"healthStatus"in item);const columns=displayHealthStatus?SERVICE_COLUMNS:SERVICE_COLUMNS.filter(column=>column.field!=="healthStatus");const initialSortField=displayHealthStatus?"healthStatus":"transactionsPerMinute";return external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{columns:columns,items:items,noItemsMessage:noItemsMessage,initialSortField:initialSortField,initialSortDirection:"desc",initialPageSize:50,sortFn:(itemsToSort,sortField,sortDirection)=>sortField==="healthStatus"?Object(external_kbnSharedDeps_Lodash_["orderBy"])(itemsToSort,[item=>item.healthStatus?SERVICE_HEALTH_STATUS_ORDER.indexOf(item.healthStatus):-1,item=>{var _item$transactionsPer,_item$transactionsPer2;return(_item$transactionsPer=(_item$transactionsPer2=item.transactionsPerMinute)===null||_item$transactionsPer2===void 0?void 0:_item$transactionsPer2.value)!==null&&_item$transactionsPer!==void 0?_item$transactionsPer:0}],[sortDirection,sortDirection]):Object(external_kbnSharedDeps_Lodash_["orderBy"])(itemsToSort,item=>{var _item$avgResponseTime,_item$avgResponseTime2,_item$transactionsPer3,_item$transactionsPer4,_item$transactionErro,_item$transactionErro2;switch(sortField){case"avgResponseTime":return(_item$avgResponseTime=(_item$avgResponseTime2=item.avgResponseTime)===null||_item$avgResponseTime2===void 0?void 0:_item$avgResponseTime2.value)!==null&&_item$avgResponseTime!==void 0?_item$avgResponseTime:-1;case"transactionsPerMinute":return(_item$transactionsPer3=(_item$transactionsPer4=item.transactionsPerMinute)===null||_item$transactionsPer4===void 0?void 0:_item$transactionsPer4.value)!==null&&_item$transactionsPer3!==void 0?_item$transactionsPer3:-1;case"transactionErrorRate":return(_item$transactionErro=(_item$transactionErro2=item.transactionErrorRate)===null||_item$transactionErro2===void 0?void 0:_item$transactionErro2.value)!==null&&_item$transactionErro!==void 0?_item$transactionErro:-1;default:return item[sortField]}},sortDirection)})}function MLCallout({onDismiss:onDismiss}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceInventory.mlNudgeMessageTitle",{defaultMessage:"Enable anomaly detection to add health status indicators to your services"}),iconType:"iInCircle"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.mlNudgeMessage.content",{defaultMessage:"Pinpoint anomalous transactions and see the health of upstream and downstream services with APM's anomaly detection integration. Get started in just a few minutes."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],null,external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],{path:"/settings/anomaly-detection",style:{whiteSpace:"nowrap"}},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.mlNudgeMessage.learnMoreButton",{defaultMessage:"Get started"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:()=>onDismiss()},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.mlNudgeMessage.dismissButton",{defaultMessage:"Dismiss"})))))}function service_inventory_slicedToArray(arr,i){return service_inventory_arrayWithHoles(arr)||service_inventory_iterableToArrayLimit(arr,i)||service_inventory_unsupportedIterableToArray(arr,i)||service_inventory_nonIterableRest()}function service_inventory_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function service_inventory_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return service_inventory_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return service_inventory_arrayLikeToArray(o,minLen)}function service_inventory_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function service_inventory_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function service_inventory_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const initialData={items:[],hasHistoricalData:true,hasLegacyData:false};let hasDisplayedToast=false;function ServiceInventory(){var _core$application$cap;const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const _useUrlParams=Object(useUrlParams["a"])(),_useUrlParams$urlPara=_useUrlParams.urlParams,start=_useUrlParams$urlPara.start,end=_useUrlParams$urlPara.end,uiFilters=_useUrlParams.uiFilters;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(start&&end){return callApmApi({endpoint:"GET /api/apm/services",params:{query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters)}}})}},[start,end,uiFilters]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?initialData:_useFetcher$data,status=_useFetcher.status;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(data.hasLegacyData&&!hasDisplayedToast){hasDisplayedToast=true;core.notifications.toasts.addWarning({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceInventory.toastTitle",{defaultMessage:"Legacy data was detected within the selected time range"}),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceInventory.toastText",{defaultMessage:"You're running Elastic Stack 7.0+ and we've detected incompatible data from a previous 6.x version. If you want to view this data in APM, you should migrate it. See more in "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:url_default.a.format({pathname:core.http.basePath.prepend("/app/kibana"),hash:"/management/stack/upgrade_assistant"})},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceInventory.upgradeAssistantLinkText",{defaultMessage:"the upgrade assistant"}))))})}},[data.hasLegacyData,core.http.basePath,core.notifications.toasts]);Object(public_["useTrackPageview"])({app:"apm",path:"services_overview"});Object(public_["useTrackPageview"])({app:"apm",path:"services_overview",delay:15e3});const localFiltersConfig=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({filterNames:["host","agentName"],projection:projections["a"].services}),[]);const _useAnomalyDetectionJ=useAnomalyDetectionJobs(),anomalyDetectionJobsData=_useAnomalyDetectionJ.data,anomalyDetectionJobsStatus=_useAnomalyDetectionJ.status;const _useLocalStorage=useLocalStorage("apm.userHasDismissedServiceInventoryMlCallout",false),_useLocalStorage2=service_inventory_slicedToArray(_useLocalStorage,2),userHasDismissedCallout=_useLocalStorage2[0],setUserHasDismissedCallout=_useLocalStorage2[1];const canCreateJob=!!((_core$application$cap=core.application.capabilities.ml)===null||_core$application$cap===void 0?void 0:_core$application$cap.canCreateJob);const displayMlCallout=anomalyDetectionJobsStatus===useFetcher["a"].SUCCESS&&!(anomalyDetectionJobsData===null||anomalyDetectionJobsData===void 0?void 0:anomalyDetectionJobsData.jobs.length)&&canCreateJob&&!userHasDismissedCallout;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(Correlations,null),external_kbnSharedDeps_React_default.a.createElement(LocalUIFilters["a"],localFiltersConfig)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:7},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column"},displayMlCallout?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(MLCallout,{onDismiss:()=>setUserHasDismissedCallout(true)})):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ServiceList,{items:data.items,noItemsMessage:external_kbnSharedDeps_React_default.a.createElement(NoServicesMessage,{historicalDataFound:data.hasHistoricalData,status:status})}))))))))}function ImpactBar_extends(){ImpactBar_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return ImpactBar_extends.apply(this,arguments)}function ImpactBar_objectWithoutProperties(source,excluded){if(source==null)return{};var target=ImpactBar_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function ImpactBar_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ImpactBar(_ref){let value=_ref.value,_ref$size=_ref.size,size=_ref$size===void 0?"l":_ref$size,_ref$max=_ref.max,max=_ref$max===void 0?100:_ref$max,rest=ImpactBar_objectWithoutProperties(_ref,["value","size","max"]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiProgress"],ImpactBar_extends({size:size,value:value,max:max,color:"primary"},rest))}const StyledTransactionLink=external_kbnSharedDeps_StyledComponents_default()(TransactionDetailLink).withConfig({displayName:"StyledTransactionLink",componentId:"ejrkup-0"})(["font-size:",";",";"],variables["fontSizes"].large,Object(variables["truncate"])("100%"));const traceListColumns=[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.tracesTable.nameColumnLabel",{defaultMessage:"Name"}),width:"40%",sortable:true,render:(_,{serviceName:serviceName,transactionName:transactionName,transactionType:transactionType})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:transactionName},external_kbnSharedDeps_React_default.a.createElement(StyledTransactionLink,{serviceName:serviceName,transactionName:transactionName,transactionType:transactionType},transactionName))},{field:"serviceName",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.tracesTable.originatingServiceColumnLabel",{defaultMessage:"Originating service"}),sortable:true},{field:"averageResponseTime",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.tracesTable.avgResponseTimeColumnLabel",{defaultMessage:"Avg. response time"}),sortable:true,dataType:"number",render:time=>asMillisecondDuration(time)},{field:"transactionsPerMinute",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.tracesTable.tracesPerMinuteColumnLabel",{defaultMessage:"Traces per minute"}),sortable:true,dataType:"number",render:value=>asTransactionRate(value)},{field:"impact",name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.tracesTable.impactColumnDescription",{defaultMessage:"The most used and slowest endpoints in your service. It's calculated by taking the relative average duration times the number of transactions per minute."})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.tracesTable.impactColumnLabel",{defaultMessage:"Impact"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"}))),width:"20%",align:"left",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement(ImpactBar,{value:value})}];const TraceList_noItemsMessage=external_kbnSharedDeps_React_default.a.createElement(EmptyMessage,{heading:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.tracesTable.notFoundLabel",{defaultMessage:"No traces found for this query"})});function TraceList({items:items=[],isLoading:isLoading}){const noItems=isLoading?external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null):TraceList_noItemsMessage;return external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{columns:traceListColumns,items:items,initialSortField:"impact",initialSortDirection:"desc",noItemsMessage:noItems,initialPageSize:25})}function TraceOverview_extends(){TraceOverview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return TraceOverview_extends.apply(this,arguments)}const DEFAULT_RESPONSE={items:[],isAggregationAccurate:true,bucketSize:0};function TraceOverview(){const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const start=urlParams.start,end=urlParams.end;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(start&&end){return callApmApi({endpoint:"GET /api/apm/traces",params:{query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters)}}})}},[start,end,uiFilters]),status=_useFetcher.status,_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?DEFAULT_RESPONSE:_useFetcher$data;Object(public_["useTrackPageview"])({app:"apm",path:"traces_overview"});Object(public_["useTrackPageview"])({app:"apm",path:"traces_overview",delay:15e3});const localUIFiltersConfig=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const config={filterNames:["transactionResult","host","containerId","podName"],projection:projections["a"].traces};return config},[]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(LocalUIFilters["a"],TraceOverview_extends({},localUIFiltersConfig,{showCount:false}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:7},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(TraceList,{items:data.items,isLoading:status===useFetcher["a"].LOADING}))))))}function Home({tab:tab}){const homeTabs=[{key:"services",href:useServiceInventoryHref(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.servicesTabLabel",{defaultMessage:"Services"}),Component:ServiceInventory},{key:"traces",href:useTraceOverviewHref(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.tracesTabLabel",{defaultMessage:"Traces"}),Component:TraceOverview},{key:"service-map",href:useServiceMapHref(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.serviceMapTabLabel",{defaultMessage:"Service Map"}),Component:ServiceMap}];const selectedTab=homeTabs.find(homeTab=>homeTab.key===tab);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(ApmHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,"APM"))),external_kbnSharedDeps_React_default.a.createElement(MainTabs,null,homeTabs.map(({href:href,key:key,text:text})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{href:href,isSelected:key===selectedTab.key,key:key},text))),external_kbnSharedDeps_React_default.a.createElement(selectedTab.Component,null))}function useAgentName(){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const start=urlParams.start,end=urlParams.end;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(serviceName&&start&&end){return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/agent_name",params:{path:{serviceName:serviceName},query:{start:start,end:end}}}).then(res=>res.agentName)}},[serviceName,start,end]),agentName=_useFetcher.data,error=_useFetcher.error,status=_useFetcher.status;return{agentName:agentName,status:status,error:error}}function ErrorOverviewLink_extends(){ErrorOverviewLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return ErrorOverviewLink_extends.apply(this,arguments)}function ErrorOverviewLink_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function ErrorOverviewLink_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ErrorOverviewLink_ownKeys(Object(source),true).forEach((function(key){ErrorOverviewLink_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ErrorOverviewLink_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function ErrorOverviewLink_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function ErrorOverviewLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=ErrorOverviewLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function ErrorOverviewLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const ErrorOverviewLink_persistedFilters=["host","containerId","podName","serviceVersion"];function useErrorOverviewHref(serviceName){return Object(APMLink["c"])("/services/".concat(serviceName,"/errors"),ErrorOverviewLink_persistedFilters)}function ErrorOverviewLink(_ref){let serviceName=_ref.serviceName,query=_ref.query,rest=ErrorOverviewLink_objectWithoutProperties(_ref,["serviceName","query"]);const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],ErrorOverviewLink_extends({path:"/services/".concat(serviceName,"/errors"),query:ErrorOverviewLink_objectSpread(ErrorOverviewLink_objectSpread({},Object(pick_keys["a"])(urlParams,...ErrorOverviewLink_persistedFilters)),query)},rest))}function MetricOverviewLink_extends(){MetricOverviewLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return MetricOverviewLink_extends.apply(this,arguments)}function MetricOverviewLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=MetricOverviewLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function MetricOverviewLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const MetricOverviewLink_persistedFilters=["host","containerId","podName","serviceVersion"];function useMetricOverviewHref(serviceName){return Object(APMLink["c"])("/services/".concat(serviceName,"/metrics"),MetricOverviewLink_persistedFilters)}function MetricOverviewLink(_ref){let serviceName=_ref.serviceName,rest=MetricOverviewLink_objectWithoutProperties(_ref,["serviceName"]);const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],MetricOverviewLink_extends({path:"/services/".concat(serviceName,"/metrics"),query:Object(pick_keys["a"])(urlParams,...MetricOverviewLink_persistedFilters)},rest))}function ServiceNodeOverviewLink_extends(){ServiceNodeOverviewLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return ServiceNodeOverviewLink_extends.apply(this,arguments)}function ServiceNodeOverviewLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=ServiceNodeOverviewLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function ServiceNodeOverviewLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const ServiceNodeOverviewLink_persistedFilters=["host","containerId","podName","serviceVersion"];function useServiceNodeOverviewHref(serviceName){return Object(APMLink["c"])("/services/".concat(serviceName,"/nodes"),ServiceNodeOverviewLink_persistedFilters)}function ServiceNodeOverviewLink(_ref){let serviceName=_ref.serviceName,rest=ServiceNodeOverviewLink_objectWithoutProperties(_ref,["serviceName"]);const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],ServiceNodeOverviewLink_extends({path:"/services/".concat(serviceName,"/nodes"),query:Object(pick_keys["a"])(urlParams,...ServiceNodeOverviewLink_persistedFilters)},rest))}function service_overview_link_extends(){service_overview_link_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return service_overview_link_extends.apply(this,arguments)}function service_overview_link_objectWithoutProperties(source,excluded){if(source==null)return{};var target=service_overview_link_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function service_overview_link_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function useServiceOverviewHref(serviceName){return Object(APMLink["c"])("/services/".concat(serviceName,"/overview"))}function ServiceOverviewLink(_ref){let serviceName=_ref.serviceName,rest=service_overview_link_objectWithoutProperties(_ref,["serviceName"]);return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],service_overview_link_extends({path:"/services/".concat(serviceName,"/overview")},rest))}var ErrorDetailLink=__webpack_require__(141);function List_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function List_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){List_ownKeys(Object(source),true).forEach((function(key){List_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{List_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function List_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const GroupIdLink=external_kbnSharedDeps_StyledComponents_default()(ErrorDetailLink["a"]).withConfig({displayName:"GroupIdLink",componentId:"sc-17t4sk2-0"})(["font-family:",";"],variables["fontFamilyCode"]);const MessageAndCulpritCell=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"MessageAndCulpritCell",componentId:"sc-17t4sk2-1"})(["",";"],Object(variables["truncate"])("100%"));const ErrorLink=external_kbnSharedDeps_StyledComponents_default()(ErrorOverviewLink).withConfig({displayName:"ErrorLink",componentId:"sc-17t4sk2-2"})(["",";"],Object(variables["truncate"])("100%"));const MessageLink=external_kbnSharedDeps_StyledComponents_default()(ErrorDetailLink["a"]).withConfig({displayName:"MessageLink",componentId:"sc-17t4sk2-3"})(["font-family:",";font-size:",";",";"],variables["fontFamilyCode"],variables["fontSizes"].large,Object(variables["truncate"])("100%"));const List_Culprit=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Culprit",componentId:"sc-17t4sk2-4"})(["font-family:",";"],variables["fontFamilyCode"]);function ErrorGroupList({items:items,serviceName:serviceName}){const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const columns=Object(external_kbnSharedDeps_React_["useMemo"])(()=>[{name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.groupIdColumnLabel",{defaultMessage:"Group ID"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{size:"s",type:"questionInCircle",color:"subdued",iconProps:{className:"eui-alignTop"},content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.groupIdColumnDescription",{defaultMessage:"Hash of the stack trace. Groups similar errors together, even when the error message is different due to dynamic parameters."})})),field:"groupId",sortable:false,width:Object(variables["px"])(variables["unit"]*6),render:groupId=>external_kbnSharedDeps_React_default.a.createElement(GroupIdLink,{serviceName:serviceName,errorGroupId:groupId},groupId.slice(0,5)||NOT_AVAILABLE_LABEL)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.typeColumnLabel",{defaultMessage:"Type"}),field:"type",sortable:false,render:type=>external_kbnSharedDeps_React_default.a.createElement(ErrorLink,{title:type,serviceName:serviceName,query:List_objectSpread(List_objectSpread({},urlParams),{},{kuery:'error.exception.type:"'.concat(type,'"')})},type)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.errorMessageAndCulpritColumnLabel",{defaultMessage:"Error message and culprit"}),field:"message",sortable:false,width:"50%",render:(message,item)=>external_kbnSharedDeps_React_default.a.createElement(MessageAndCulpritCell,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{id:"error-message-tooltip",content:message||NOT_AVAILABLE_LABEL},external_kbnSharedDeps_React_default.a.createElement(MessageLink,{serviceName:serviceName,errorGroupId:item.groupId},message||NOT_AVAILABLE_LABEL)),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{id:"error-culprit-tooltip",content:item.culprit||NOT_AVAILABLE_LABEL},external_kbnSharedDeps_React_default.a.createElement(List_Culprit,null,item.culprit||NOT_AVAILABLE_LABEL)))},{name:"",field:"handled",sortable:false,align:"right",render:isUnhandled=>isUnhandled===false&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"warning"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.unhandledLabel",{defaultMessage:"Unhandled"}))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.occurrencesColumnLabel",{defaultMessage:"Occurrences"}),field:"occurrenceCount",sortable:true,dataType:"number",render:value=>value?external_kbnSharedDeps_ElasticNumeral_default()(value).format("0.[0]a"):NOT_AVAILABLE_LABEL},{field:"latestOccurrenceAt",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.latestOccurrenceColumnLabel",{defaultMessage:"Latest occurrence"}),align:"right",render:value=>value?external_kbnSharedDeps_React_default.a.createElement(TimestampTooltip,{time:value,timeUnit:"minutes"}):NOT_AVAILABLE_LABEL}],[serviceName,urlParams]);return external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{noItemsMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorsTable.noErrorsLabel",{defaultMessage:"No errors were found"}),items:items,columns:columns,initialPageSize:25,initialSortField:"occurrenceCount",initialSortDirection:"desc",sortItems:false})}function ErrorGroupOverview({serviceName:serviceName}){const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const start=urlParams.start,end=urlParams.end,sortField=urlParams.sortField,sortDirection=urlParams.sortDirection;const _useFetcher=Object(useFetcher["b"])(()=>{if(start&&end){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/errors/distribution",params:{path:{serviceName:serviceName},query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,uiFilters]),errorDistributionData=_useFetcher.data;const _useFetcher2=Object(useFetcher["b"])(()=>{const normalizedSortDirection=sortDirection==="asc"?"asc":"desc";if(start&&end){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/errors",params:{path:{serviceName:serviceName},query:{start:start,end:end,sortField:sortField,sortDirection:normalizedSortDirection,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,sortField,sortDirection,uiFilters]),errorGroupListData=_useFetcher2.data;Object(public_["useTrackPageview"])({app:"apm",path:"error_group_overview"});Object(public_["useTrackPageview"])({app:"apm",path:"error_group_overview",delay:15e3});const localUIFiltersConfig=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const config={filterNames:["host","containerId","podName","serviceVersion"],params:{serviceName:serviceName},projection:projections["a"].errorGroups};return config},[serviceName]);if(!errorDistributionData||!errorGroupListData){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(LocalUIFilters["a"],localUIFiltersConfig)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:7},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ErrorDistribution,{distribution:errorDistributionData,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceDetails.metrics.errorOccurrencesChartTitle",{defaultMessage:"Error occurrences"})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,"Errors")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(ErrorGroupList,{items:errorGroupListData,serviceName:serviceName}))))))}var UrlParamsContext=__webpack_require__(104);const INITIAL_DATA={charts:[]};function useServiceMetricCharts(urlParams,agentName){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const start=urlParams.start,end=urlParams.end;const uiFilters=Object(UrlParamsContext["c"])(urlParams);const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(serviceName&&start&&end&&agentName){return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/metrics/charts",params:{path:{serviceName:serviceName},query:{start:start,end:end,agentName:agentName,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,agentName,uiFilters]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?INITIAL_DATA:_useFetcher$data,error=_useFetcher.error,status=_useFetcher.status;return{data:data,status:status,error:error}}const isValidCoordinateValue=value=>value!==null&&value!==undefined;const AnnotationsContext=Object(external_kbnSharedDeps_React_["createContext"])({annotations:[]});const INITIAL_STATE={annotations:[]};function AnnotationsContextProvider({children:children}){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const start=urlParams.start,end=urlParams.end;const environment=uiFilters.environment;const _useFetcher=Object(useFetcher["b"])(()=>{if(start&&end&&serviceName){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/annotation/search",params:{path:{serviceName:serviceName},query:{start:start,end:end,environment:environment}}})}},[start,end,environment,serviceName]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?INITIAL_STATE:_useFetcher$data;return external_kbnSharedDeps_React_default.a.createElement(AnnotationsContext.Provider,{value:data,children:children})}function useAnnotations(){const context=Object(external_kbnSharedDeps_React_["useContext"])(AnnotationsContext);if(!context){throw new Error("Missing Annotations context provider")}return context}function chart_pointer_event_context_slicedToArray(arr,i){return chart_pointer_event_context_arrayWithHoles(arr)||chart_pointer_event_context_iterableToArrayLimit(arr,i)||chart_pointer_event_context_unsupportedIterableToArray(arr,i)||chart_pointer_event_context_nonIterableRest()}function chart_pointer_event_context_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function chart_pointer_event_context_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return chart_pointer_event_context_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return chart_pointer_event_context_arrayLikeToArray(o,minLen)}function chart_pointer_event_context_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function chart_pointer_event_context_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function chart_pointer_event_context_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const ChartPointerEventContext=Object(external_kbnSharedDeps_React_["createContext"])(null);function ChartPointerEventContextProvider({children:children}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(null),_useState2=chart_pointer_event_context_slicedToArray(_useState,2),pointerEvent=_useState2[0],setPointerEvent=_useState2[1];return external_kbnSharedDeps_React_default.a.createElement(ChartPointerEventContext.Provider,{value:{pointerEvent:pointerEvent,setPointerEvent:setPointerEvent},children:children})}function useChartPointerEvent(){const context=Object(external_kbnSharedDeps_React_["useContext"])(ChartPointerEventContext);if(!context){throw new Error("Missing ChartPointerEventContext provider")}return context}function helper_helper_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function helper_helper_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){helper_helper_ownKeys(Object(source),true).forEach((function(key){helper_helper_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{helper_helper_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function helper_helper_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const onBrushEnd=({x:x,history:history})=>{if(x){const start=x[0];const end=x[1];const currentSearch=Object(url_helpers["c"])(history.location.search);const nextSearch={rangeFrom:new Date(start).toISOString(),rangeTo:new Date(end).toISOString()};history.push(helper_helper_objectSpread(helper_helper_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(helper_helper_objectSpread(helper_helper_objectSpread({},currentSearch),nextSearch))}))}};function TimeseriesChart({id:id,height:height=variables["unit"]*16,fetchStatus:fetchStatus,onToggleLegend:onToggleLegend,timeseries:timeseries,yLabelFormat:yLabelFormat,yTickFormat:yTickFormat,showAnnotations:showAnnotations=true,yDomain:yDomain}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const chartRef=external_kbnSharedDeps_React_default.a.createRef();const _useAnnotations=useAnnotations(),annotations=_useAnnotations.annotations;const chartTheme=Object(public_["useChartTheme"])();const _useChartPointerEvent=useChartPointerEvent(),pointerEvent=_useChartPointerEvent.pointerEvent,setPointerEvent=_useChartPointerEvent.setPointerEvent;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const theme=useTheme();const start=urlParams.start,end=urlParams.end;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(pointerEvent&&(pointerEvent===null||pointerEvent===void 0?void 0:pointerEvent.chartId)!==id&&chartRef.current){chartRef.current.dispatchExternalPointerEvent(pointerEvent)}},[pointerEvent,chartRef,id]);const min=external_kbnSharedDeps_Moment_default.a.utc(start).valueOf();const max=external_kbnSharedDeps_Moment_default.a.utc(end).valueOf();const xFormatter=Object(external_kbnSharedDeps_ElasticCharts_["niceTimeFormatter"])([min,max]);const isEmpty=timeseries.map(serie=>serie.data).flat().every(({y:y})=>y===null||y===undefined);const annotationColor=theme.eui.euiColorSecondary;return external_kbnSharedDeps_React_default.a.createElement(ChartContainer,{hasData:!isEmpty,height:height,status:fetchStatus},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],{ref:chartRef,id:id},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{onBrushEnd:({x:x})=>onBrushEnd({x:x,history:history}),theme:chartTheme,onPointerUpdate:setPointerEvent,externalPointerEvents:{tooltip:{visible:true,placement:external_kbnSharedDeps_ElasticCharts_["Placement"].Bottom}},showLegend:true,showLegendExtra:true,legendPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,xDomain:{min:min,max:max},onLegendItemClick:legend=>{if(onToggleLegend){onToggleLegend(legend)}}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"x-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,showOverlappingTicks:true,tickFormat:xFormatter,gridLine:{visible:false}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{domain:yDomain,id:"y-axis",ticks:3,position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,tickFormat:yTickFormat?yTickFormat:yLabelFormat,labelFormat:yLabelFormat}),showAnnotations&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["LineAnnotation"],{id:"annotations",domainType:external_kbnSharedDeps_ElasticCharts_["AnnotationDomainTypes"].XDomain,dataValues:annotations.map(annotation=>({dataValue:annotation["@timestamp"],header:asAbsoluteDateTime(annotation["@timestamp"]),details:"".concat(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.chart.annotation.version",{defaultMessage:"Version"})," ").concat(annotation.text)})),style:{line:{strokeWidth:1,stroke:annotationColor,opacity:1}},marker:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"dot",color:annotationColor}),markerPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Top}),timeseries.map(serie=>{const Series=serie.type==="area"?external_kbnSharedDeps_ElasticCharts_["AreaSeries"]:external_kbnSharedDeps_ElasticCharts_["LineSeries"];return external_kbnSharedDeps_React_default.a.createElement(Series,{key:serie.title,id:serie.title,xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Time,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:isEmpty?[]:serie.data,color:serie.color,curve:external_kbnSharedDeps_ElasticCharts_["CurveType"].CURVE_MONOTONE_X})})))}function getYTickFormatter(chart){switch(chart.yUnit){case"bytes":{const max=Math.max(...chart.series.map(({data:data})=>Math.max(...data.map(({y:y})=>y||0))));return getFixedByteFormatter(max)}case"percent":{return y=>asPercent(y||0,1)}case"time":{return y=>asDuration(y)}case"integer":{return y=>isValidCoordinateValue(y)?asInteger(y):y}default:{return y=>isValidCoordinateValue(y)?asDecimal(y):y}}}function MetricsChart({chart:chart,fetchStatus:fetchStatus}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,chart.title)),external_kbnSharedDeps_React_default.a.createElement(TimeseriesChart,{fetchStatus:fetchStatus,id:chart.key,timeseries:chart.series,yLabelFormat:getYTickFormatter(chart)}))}function ServiceMetrics({agentName:agentName,serviceName:serviceName}){const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const _useServiceMetricChar=useServiceMetricCharts(urlParams,agentName),data=_useServiceMetricChar.data,status=_useServiceMetricChar.status;const start=urlParams.start,end=urlParams.end;const localFiltersConfig=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({filterNames:["host","containerId","podName","serviceVersion"],params:{serviceName:serviceName},projection:projections["a"].metrics,showCount:false}),[serviceName]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(LocalUIFilters["a"],localFiltersConfig)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:7},external_kbnSharedDeps_React_default.a.createElement(ChartPointerEventContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},data.charts.map(chart=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:chart.key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(MetricsChart,{start:start,end:end,chart:chart,fetchStatus:status}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xxl"}))))))}function ServiceNodeMetricOverviewLink_extends(){ServiceNodeMetricOverviewLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return ServiceNodeMetricOverviewLink_extends.apply(this,arguments)}function ServiceNodeMetricOverviewLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=ServiceNodeMetricOverviewLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function ServiceNodeMetricOverviewLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ServiceNodeMetricOverviewLink(_ref){let serviceName=_ref.serviceName,serviceNodeName=_ref.serviceNodeName,rest=ServiceNodeMetricOverviewLink_objectWithoutProperties(_ref,["serviceName","serviceNodeName"]);const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const persistedFilters=Object(pick_keys["a"])(urlParams,"host","containerId","podName","serviceVersion");return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],ServiceNodeMetricOverviewLink_extends({path:"/services/".concat(serviceName,"/nodes/").concat(encodeURIComponent(serviceNodeName),"/metrics"),query:persistedFilters},rest))}const INITIAL_PAGE_SIZE=25;const INITIAL_SORT_FIELD="cpu";const INITIAL_SORT_DIRECTION="desc";const ServiceNodeName=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ServiceNodeName",componentId:"sc-1a4flo0-0"})(["",""],Object(variables["truncate"])(Object(variables["px"])(8*variables["unit"])));function ServiceNodeOverview({serviceName:serviceName}){const _useUrlParams=Object(useUrlParams["a"])(),uiFilters=_useUrlParams.uiFilters,urlParams=_useUrlParams.urlParams;const start=urlParams.start,end=urlParams.end;const localFiltersConfig=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({filterNames:["host","containerId","podName"],params:{serviceName:serviceName},projection:projections["a"].serviceNodes}),[serviceName]);const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(!start||!end){return undefined}return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/serviceNodes",params:{path:{serviceName:serviceName},query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters)}}})},[serviceName,start,end,uiFilters]),_useFetcher$data=_useFetcher.data,items=_useFetcher$data===void 0?[]:_useFetcher$data;const columns=[{name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.nameExplanation",{defaultMessage:"By default, the JVM name is the container ID (where applicable) or the hostname, but it can be manually configured through the agent's 'service_node_name' configuration."})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.nameColumnLabel",{defaultMessage:"Name"}))),field:"name",sortable:true,render:name=>{const _ref=name===SERVICE_NODE_NAME_MISSING?{displayedName:UNIDENTIFIED_SERVICE_NODES_LABEL,tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.explainServiceNodeNameMissing",{defaultMessage:"We could not identify which JVMs these metrics belong to. This is likely caused by running a version of APM Server that is older than 7.5. Upgrading to APM Server 7.5 or higher should resolve this issue."})}:{displayedName:name,tooltip:name},displayedName=_ref.displayedName,tooltip=_ref.tooltip;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tooltip},external_kbnSharedDeps_React_default.a.createElement(ServiceNodeMetricOverviewLink,{serviceName:serviceName,serviceNodeName:name},external_kbnSharedDeps_React_default.a.createElement(ServiceNodeName,null,displayedName)))}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.cpuColumnLabel",{defaultMessage:"CPU avg"}),field:"cpu",sortable:true,render:value=>asPercent(value,1)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.heapMemoryColumnLabel",{defaultMessage:"Heap memory avg"}),field:"heapMemory",sortable:true,render:asDynamicBytes},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.nonHeapMemoryColumnLabel",{defaultMessage:"Non-heap memory avg"}),field:"nonHeapMemory",sortable:true,render:asDynamicBytes},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.threadCountColumnLabel",{defaultMessage:"Thread count max"}),field:"threadCount",sortable:true,render:asInteger}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(LocalUIFilters["a"],localFiltersConfig)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:7},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{noItemsMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.jvmsTable.noJvmsLabel",{defaultMessage:"No JVMs were found"}),items:items,columns:columns,initialPageSize:INITIAL_PAGE_SIZE,initialSortField:INITIAL_SORT_FIELD,initialSortDirection:INITIAL_SORT_DIRECTION}))))))}var useServiceTransactionTypes=__webpack_require__(78);function useTransactionType(){const _useAgentName=useAgentName(),agentName=_useAgentName.agentName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const transactionTypeFromUrlParams=urlParams.transactionType;const transactionTypes=Object(useServiceTransactionTypes["a"])(urlParams);const firstTransactionType=Object(agent_name["c"])(transactionTypes,agentName);return transactionTypeFromUrlParams!==null&&transactionTypeFromUrlParams!==void 0?transactionTypeFromUrlParams:firstTransactionType}function useTransactionBreakdown(){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const start=urlParams.start,end=urlParams.end,transactionName=urlParams.transactionName;const transactionType=useTransactionType();const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(serviceName&&start&&end&&transactionType){return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/transaction_groups/breakdown",params:{path:{serviceName:serviceName},query:{start:start,end:end,transactionName:transactionName,transactionType:transactionType,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,transactionType,transactionName,uiFilters]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?{timeseries:undefined}:_useFetcher$data,error=_useFetcher.error,status=_useFetcher.status;return{data:data,status:status,error:error}}function TransactionBreakdownChartContents({fetchStatus:fetchStatus,height:height=variables["unit"]*16,showAnnotations:showAnnotations,timeseries:timeseries}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const chartRef=external_kbnSharedDeps_React_default.a.createRef();const _useAnnotations=useAnnotations(),annotations=_useAnnotations.annotations;const chartTheme=Object(public_["useChartTheme"])();const _useChartPointerEvent=useChartPointerEvent(),pointerEvent=_useChartPointerEvent.pointerEvent,setPointerEvent=_useChartPointerEvent.setPointerEvent;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const theme=useTheme();const start=urlParams.start,end=urlParams.end;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(pointerEvent&&pointerEvent.chartId!=="timeSpentBySpan"&&chartRef.current){chartRef.current.dispatchExternalPointerEvent(pointerEvent)}},[chartRef,pointerEvent]);const min=external_kbnSharedDeps_Moment_default.a.utc(start).valueOf();const max=external_kbnSharedDeps_Moment_default.a.utc(end).valueOf();const xFormatter=Object(external_kbnSharedDeps_ElasticCharts_["niceTimeFormatter"])([min,max]);const annotationColor=theme.eui.euiColorSecondary;return external_kbnSharedDeps_React_default.a.createElement(ChartContainer,{height:height,hasData:!!timeseries,status:fetchStatus},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],{ref:chartRef,id:"timeSpentBySpan"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{onBrushEnd:({x:x})=>onBrushEnd({x:x,history:history}),showLegend:true,showLegendExtra:true,legendPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,theme:chartTheme,xDomain:{min:min,max:max},flatLegend:true,onPointerUpdate:setPointerEvent,externalPointerEvents:{tooltip:{visible:true,placement:external_kbnSharedDeps_ElasticCharts_["Placement"].Bottom}}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"x-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,showOverlappingTicks:true,tickFormat:xFormatter,gridLine:{visible:false}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"y-axis",ticks:3,position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,tickFormat:y=>asPercent(y!==null&&y!==void 0?y:0,1)}),showAnnotations&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["LineAnnotation"],{id:"annotations",domainType:external_kbnSharedDeps_ElasticCharts_["AnnotationDomainTypes"].XDomain,dataValues:annotations.map(annotation=>({dataValue:annotation["@timestamp"],header:asAbsoluteDateTime(annotation["@timestamp"]),details:"".concat(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.chart.annotation.version",{defaultMessage:"Version"})," ").concat(annotation.text)})),style:{line:{strokeWidth:1,stroke:annotationColor,opacity:1}},marker:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"dot",color:annotationColor}),markerPosition:external_kbnSharedDeps_ElasticCharts_["Position"].Top}),(timeseries===null||timeseries===void 0?void 0:timeseries.length)?timeseries.map(serie=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["AreaSeries"],{key:serie.title,id:serie.title,name:serie.title,xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:serie.data,stackAccessors:["x"],stackMode:"percentage",color:serie.areaColor,curve:external_kbnSharedDeps_ElasticCharts_["CurveType"].CURVE_MONOTONE_X})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["AreaSeries"],{id:"empty_chart",data:[]})))}function TransactionBreakdownChart({height:height,showAnnotations:showAnnotations=true}){const _useTransactionBreakd=useTransactionBreakdown(),data=_useTransactionBreakd.data,status=_useTransactionBreakd.status;const timeseries=data.timeseries;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionBreakdown.chartTitle",{defaultMessage:"Average duration by span type"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(TransactionBreakdownChartContents,{fetchStatus:status,height:height,showAnnotations:showAnnotations,timeseries:timeseries}))))}function transaction_error_rate_chart_yLabelFormat(y){return asPercent(y||0,1)}function transaction_error_rate_chart_yTickFormat(y){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.chart.averagePercentLabel",{defaultMessage:"{y} (avg.)",values:{y:transaction_error_rate_chart_yLabelFormat(y)}})}function TransactionErrorRateChart({height:height,showAnnotations:showAnnotations=true}){const theme=useTheme();const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const start=urlParams.start,end=urlParams.end,transactionType=urlParams.transactionType,transactionName=urlParams.transactionName;const _useFetcher=Object(useFetcher["b"])(()=>{if(serviceName&&start&&end){return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/transaction_groups/error_rate",params:{path:{serviceName:serviceName},query:{start:start,end:end,transactionType:transactionType,transactionName:transactionName,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,uiFilters,transactionType,transactionName]),data=_useFetcher.data,status=_useFetcher.status;const errorRates=(data===null||data===void 0?void 0:data.transactionErrorRate)||[];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorRate",{defaultMessage:"Error rate"}))),external_kbnSharedDeps_React_default.a.createElement(TimeseriesChart,{id:"errorRate",height:height,showAnnotations:showAnnotations,fetchStatus:status,timeseries:[{data:errorRates,type:"linemark",color:theme.eui.euiColorVis7,hideLegend:true,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.errorRate.currentPeriodLabel",{defaultMessage:"Current period"})}],yLabelFormat:transaction_error_rate_chart_yLabelFormat,yTickFormat:transaction_error_rate_chart_yTickFormat,yDomain:{min:0,max:1}}))}function TableFetchWrapper({status:status,children:children}){if(status===useFetcher["a"].FAILURE){return external_kbnSharedDeps_React_default.a.createElement(ErrorStatePrompt,null)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children)}const tableHeight=298;const ServiceOverviewTableContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ServiceOverviewTableContainer",componentId:"xy31sq-0"})(["height:","px;display:flex;flex-direction:column;.euiBasicTable{display:flex;flex-direction:column;flex-grow:1;>:first-child{flex-grow:1;}}.euiTableRowCell{visibility:",";}"],tableHeight,({isEmptyAndLoading:isEmptyAndLoading})=>isEmptyAndLoading?"hidden":"visible");function ServiceOverviewTable(props){const items=props.items,loading=props.loading;const isEmptyAndLoading=!!(items.length===0&&loading);return external_kbnSharedDeps_React_default.a.createElement(ServiceOverviewTableContainer,{isEmptyAndLoading:isEmptyAndLoading},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],props))}const TableLinkFlexItem=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"]).withConfig({displayName:"TableLinkFlexItem",componentId:"sc-1dkwvr4-0"})(["& > a{text-align:right;}"]);function service_overview_errors_table_slicedToArray(arr,i){return service_overview_errors_table_arrayWithHoles(arr)||service_overview_errors_table_iterableToArrayLimit(arr,i)||service_overview_errors_table_unsupportedIterableToArray(arr,i)||service_overview_errors_table_nonIterableRest()}function service_overview_errors_table_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function service_overview_errors_table_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return service_overview_errors_table_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return service_overview_errors_table_arrayLikeToArray(o,minLen)}function service_overview_errors_table_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function service_overview_errors_table_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function service_overview_errors_table_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const PAGE_SIZE=5;const DEFAULT_SORT={direction:"desc",field:"occurrences"};const ErrorDetailLinkWrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ErrorDetailLinkWrapper",componentId:"sc-1976sqx-0"})(["width:100%;.euiToolTipAnchor{width:100% !important;}"]);const StyledErrorDetailLink=external_kbnSharedDeps_StyledComponents_default()(ErrorDetailLink["a"]).withConfig({displayName:"StyledErrorDetailLink",componentId:"sc-1976sqx-1"})(["display:block;",""],Object(variables["truncate"])("100%"));function ServiceOverviewErrorsTable({serviceName:serviceName}){const _useUrlParams=Object(useUrlParams["a"])(),_useUrlParams$urlPara=_useUrlParams.urlParams,start=_useUrlParams$urlPara.start,end=_useUrlParams$urlPara.end,uiFilters=_useUrlParams.uiFilters;const _useState=Object(external_kbnSharedDeps_React_["useState"])({pageIndex:0,sort:DEFAULT_SORT}),_useState2=service_overview_errors_table_slicedToArray(_useState,2),tableOptions=_useState2[0],setTableOptions=_useState2[1];const columns=[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.errorsTableColumnName",{defaultMessage:"Name"}),render:(_,{name:name,group_id:errorGroupId})=>external_kbnSharedDeps_React_default.a.createElement(ErrorDetailLinkWrapper,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{delay:"long",content:name},external_kbnSharedDeps_React_default.a.createElement(StyledErrorDetailLink,{serviceName:serviceName,errorGroupId:errorGroupId},name)))},{field:"last_seen",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.errorsTableColumnLastSeen",{defaultMessage:"Last seen"}),render:(_,{last_seen:lastSeen})=>external_kbnSharedDeps_React_default.a.createElement(TimestampTooltip,{time:lastSeen,timeUnit:"minutes"}),width:Object(variables["px"])(variables["unit"]*9)},{field:"occurrences",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.errorsTableColumnOccurrences",{defaultMessage:"Occurrences"}),width:Object(variables["px"])(variables["unit"]*12),render:(_,{occurrences:occurrences})=>{var _occurrences$timeseri;return external_kbnSharedDeps_React_default.a.createElement(SparkPlotWithValueLabel,{color:"euiColorVis7",series:(_occurrences$timeseri=occurrences.timeseries)!==null&&_occurrences$timeseri!==void 0?_occurrences$timeseri:undefined,valueLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOveriew.errorsTableOccurrences",{defaultMessage:"{occurrencesCount} occ.",values:{occurrencesCount:asInteger(occurrences.value)}})})}}];const _useFetcher=Object(useFetcher["b"])(()=>{if(!start||!end){return}return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/error_groups",params:{path:{serviceName:serviceName},query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters),size:PAGE_SIZE,numBuckets:20,pageIndex:tableOptions.pageIndex,sortField:tableOptions.sort.field,sortDirection:tableOptions.sort.direction}}}).then(response=>({items:response.error_groups,totalItemCount:response.total_error_groups,tableOptions:{pageIndex:tableOptions.pageIndex,sort:{field:tableOptions.sort.field,direction:tableOptions.sort.direction}}}))},[start,end,serviceName,uiFilters,tableOptions.pageIndex,tableOptions.sort.field,tableOptions.sort.direction]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?{totalItemCount:0,items:[],tableOptions:{pageIndex:0,sort:DEFAULT_SORT}}:_useFetcher$data,status=_useFetcher.status;const items=data.items,totalItemCount=data.totalItemCount,_data$tableOptions=data.tableOptions,pageIndex=_data$tableOptions.pageIndex,sort=_data$tableOptions.sort;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.errorsTableTitle",{defaultMessage:"Errors"})))),external_kbnSharedDeps_React_default.a.createElement(TableLinkFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(ErrorOverviewLink,{serviceName:serviceName},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.errorsTableLinkText",{defaultMessage:"View errors"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(TableFetchWrapper,{status:status},external_kbnSharedDeps_React_default.a.createElement(ServiceOverviewTable,{columns:columns,items:items,pagination:{pageIndex:pageIndex,pageSize:PAGE_SIZE,totalItemCount:totalItemCount,pageSizeOptions:[PAGE_SIZE],hidePerPageOptions:true},loading:status===useFetcher["a"].LOADING,onChange:newTableOptions=>{var _newTableOptions$page,_newTableOptions$page2;setTableOptions({pageIndex:(_newTableOptions$page=(_newTableOptions$page2=newTableOptions.page)===null||_newTableOptions$page2===void 0?void 0:_newTableOptions$page2.index)!==null&&_newTableOptions$page!==void 0?_newTableOptions$page:0,sort:newTableOptions.sort?{field:newTableOptions.sort.field,direction:newTableOptions.sort.direction}:DEFAULT_SORT})},sorting:{enableAllColumns:true,sort:{direction:sort.direction,field:sort.field}}}))))}function service_overview_transactions_table_slicedToArray(arr,i){return service_overview_transactions_table_arrayWithHoles(arr)||service_overview_transactions_table_iterableToArrayLimit(arr,i)||service_overview_transactions_table_unsupportedIterableToArray(arr,i)||service_overview_transactions_table_nonIterableRest()}function service_overview_transactions_table_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function service_overview_transactions_table_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return service_overview_transactions_table_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return service_overview_transactions_table_arrayLikeToArray(o,minLen)}function service_overview_transactions_table_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function service_overview_transactions_table_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function service_overview_transactions_table_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const service_overview_transactions_table_PAGE_SIZE=5;const service_overview_transactions_table_DEFAULT_SORT={direction:"desc",field:"impact"};const TransactionGroupLinkWrapper=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"TransactionGroupLinkWrapper",componentId:"sc-1htz3ex-0"})(["width:100%;.euiToolTipAnchor{width:100% !important;}"]);const StyledTransactionDetailLink=external_kbnSharedDeps_StyledComponents_default()(TransactionDetailLink).withConfig({displayName:"StyledTransactionDetailLink",componentId:"sc-1htz3ex-1"})(["display:block;",""],Object(variables["truncate"])("100%"));function ServiceOverviewTransactionsTable(props){const serviceName=props.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),uiFilters=_useUrlParams.uiFilters,_useUrlParams$urlPara=_useUrlParams.urlParams,start=_useUrlParams$urlPara.start,end=_useUrlParams$urlPara.end;const _useState=Object(external_kbnSharedDeps_React_["useState"])({pageIndex:0,sort:service_overview_transactions_table_DEFAULT_SORT}),_useState2=service_overview_transactions_table_slicedToArray(_useState,2),tableOptions=_useState2[0],setTableOptions=_useState2[1];const _useFetcher=Object(useFetcher["b"])(()=>{if(!start||!end){return}return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/services/{serviceName}/overview_transaction_groups",params:{path:{serviceName:serviceName},query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters),size:service_overview_transactions_table_PAGE_SIZE,numBuckets:20,pageIndex:tableOptions.pageIndex,sortField:tableOptions.sort.field,sortDirection:tableOptions.sort.direction}}}).then(response=>({items:response.transactionGroups,totalItemCount:response.totalTransactionGroups,tableOptions:{pageIndex:tableOptions.pageIndex,sort:{field:tableOptions.sort.field,direction:tableOptions.sort.direction}}}))},[serviceName,start,end,uiFilters,tableOptions.pageIndex,tableOptions.sort.field,tableOptions.sort.direction]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?{totalItemCount:0,items:[],tableOptions:{pageIndex:0,sort:service_overview_transactions_table_DEFAULT_SORT}}:_useFetcher$data,status=_useFetcher.status;const items=data.items,totalItemCount=data.totalItemCount,_data$tableOptions=data.tableOptions,pageIndex=_data$tableOptions.pageIndex,sort=_data$tableOptions.sort;const columns=[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.transactionsTableColumnName",{defaultMessage:"Name"}),render:(_,{name:name,transactionType:transactionType})=>external_kbnSharedDeps_React_default.a.createElement(TransactionGroupLinkWrapper,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{delay:"long",content:name},external_kbnSharedDeps_React_default.a.createElement(StyledTransactionDetailLink,{serviceName:serviceName,transactionName:name,transactionType:transactionType},name)))},{field:"latency",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.transactionsTableColumnLatency",{defaultMessage:"Latency"}),width:Object(variables["px"])(variables["unit"]*10),render:(_,{latency:latency})=>{var _latency$timeseries;return external_kbnSharedDeps_React_default.a.createElement(SparkPlotWithValueLabel,{color:"euiColorVis1",compact:true,series:(_latency$timeseries=latency.timeseries)!==null&&_latency$timeseries!==void 0?_latency$timeseries:undefined,valueLabel:asDuration(latency.value)})}},{field:"throughput",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.transactionsTableColumnTroughput",{defaultMessage:"Traffic"}),width:Object(variables["px"])(variables["unit"]*10),render:(_,{throughput:throughput})=>{var _throughput$timeserie;return external_kbnSharedDeps_React_default.a.createElement(SparkPlotWithValueLabel,{color:"euiColorVis0",compact:true,series:(_throughput$timeserie=throughput.timeseries)!==null&&_throughput$timeserie!==void 0?_throughput$timeserie:undefined,valueLabel:asTransactionRate(throughput.value)})}},{field:"error_rate",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.transactionsTableColumnErrorRate",{defaultMessage:"Error rate"}),width:Object(variables["px"])(variables["unit"]*8),render:(_,{errorRate:errorRate})=>{var _errorRate$timeseries;return external_kbnSharedDeps_React_default.a.createElement(SparkPlotWithValueLabel,{color:"euiColorVis7",compact:true,series:(_errorRate$timeseries=errorRate.timeseries)!==null&&_errorRate$timeseries!==void 0?_errorRate$timeseries:undefined,valueLabel:asPercent(errorRate.value,1)})}},{field:"impact",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.transactionsTableColumnImpact",{defaultMessage:"Impact"}),width:Object(variables["px"])(variables["unit"]*5),render:(_,{impact:impact})=>external_kbnSharedDeps_React_default.a.createElement(ImpactBar,{value:impact!==null&&impact!==void 0?impact:0,size:"m"})}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.transactionsTableTitle",{defaultMessage:"Transactions"})))),external_kbnSharedDeps_React_default.a.createElement(TableLinkFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(TransactionOverviewLink,{serviceName:serviceName},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.transactionsTableLinkText",{defaultMessage:"View transactions"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(TableFetchWrapper,{status:status},external_kbnSharedDeps_React_default.a.createElement(ServiceOverviewTable,{columns:columns,items:items,pagination:{pageIndex:pageIndex,pageSize:service_overview_transactions_table_PAGE_SIZE,totalItemCount:totalItemCount,pageSizeOptions:[service_overview_transactions_table_PAGE_SIZE],hidePerPageOptions:true},loading:status===useFetcher["a"].LOADING,onChange:newTableOptions=>{var _newTableOptions$page,_newTableOptions$page2;setTableOptions({pageIndex:(_newTableOptions$page=(_newTableOptions$page2=newTableOptions.page)===null||_newTableOptions$page2===void 0?void 0:_newTableOptions$page2.index)!==null&&_newTableOptions$page!==void 0?_newTableOptions$page:0,sort:newTableOptions.sort?{field:newTableOptions.sort.field,direction:newTableOptions.sort.direction}:service_overview_transactions_table_DEFAULT_SORT})},sorting:{enableAllColumns:true,sort:{direction:sort.direction,field:sort.field}}})))))}const chartHeight=322;function ServiceOverview({agentName:agentName,serviceName:serviceName}){Object(public_["useTrackPageview"])({app:"apm",path:"service_overview"});Object(public_["useTrackPageview"])({app:"apm",path:"service_overview",delay:15e3});return external_kbnSharedDeps_React_default.a.createElement(ChartPointerEventContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.latencyChartTitle",{defaultMessage:"Latency"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:4},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.trafficChartTitle",{defaultMessage:"Traffic"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:6},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ServiceOverviewTransactionsTable,{serviceName:serviceName}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},!Object(agent_name["e"])(agentName)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:4},external_kbnSharedDeps_React_default.a.createElement(TransactionErrorRateChart,{height:chartHeight,showAnnotations:false})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:6},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ServiceOverviewErrorsTable,{serviceName:serviceName}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:4},external_kbnSharedDeps_React_default.a.createElement(TransactionBreakdownChart,{showAnnotations:false})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:6},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.dependenciesTableTitle",{defaultMessage:"Dependencies"})))),external_kbnSharedDeps_React_default.a.createElement(TableLinkFlexItem,null,external_kbnSharedDeps_React_default.a.createElement(ServiceMapLink,{serviceName:serviceName},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.dependenciesTableLinkText",{defaultMessage:"View service map"})))))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:4},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.instancesLatencyDistributionChartTitle",{defaultMessage:"Instances latency distribution"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:6},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceOverview.instancesTableTitle",{defaultMessage:"Instances"}))))))))))}var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(28);const getEmptySeries=(start=Date.now()-36e5,end=Date.now())=>{const dates=d3_default.a.time.scale().domain([new Date(start),new Date(end)]).ticks();return[{title:"",type:"line",legendValue:"",color:"",data:dates.map(x=>({x:x.getTime(),y:null}))}]};const chart_selectors_INITIAL_DATA={apmTimeseries:undefined,anomalyTimeseries:undefined};function getTransactionCharts({transactionType:transactionType},charts=chart_selectors_INITIAL_DATA){const apmTimeseries=charts.apmTimeseries,anomalyTimeseries=charts.anomalyTimeseries;const transactionCharts={tpmSeries:undefined,responseTimeSeries:undefined,mlJobId:anomalyTimeseries===null||anomalyTimeseries===void 0?void 0:anomalyTimeseries.jobId};if(apmTimeseries){transactionCharts.tpmSeries=getTpmSeries(apmTimeseries,transactionType);transactionCharts.responseTimeSeries=getResponseTimeSeries({apmTimeseries:apmTimeseries,anomalyTimeseries:anomalyTimeseries})}return transactionCharts}function getResponseTimeSeries({apmTimeseries:apmTimeseries,anomalyTimeseries:anomalyTimeseries}){const overallAvgDuration=apmTimeseries.overallAvgDuration;const _apmTimeseries$respon=apmTimeseries.responseTimes,avg=_apmTimeseries$respon.avg,p95=_apmTimeseries$respon.p95,p99=_apmTimeseries$respon.p99;const series=[{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactions.chart.averageLabel",{defaultMessage:"Avg."}),data:avg,legendValue:asDuration(overallAvgDuration),type:"linemark",color:external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis1},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactions.chart.95thPercentileLabel",{defaultMessage:"95th percentile"}),titleShort:"95th",data:p95,type:"linemark",color:external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis5},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactions.chart.99thPercentileLabel",{defaultMessage:"99th percentile"}),titleShort:"99th",data:p99,type:"linemark",color:external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis7}];if(anomalyTimeseries){series.splice(1,0,getAnomalyBoundariesSeries(anomalyTimeseries.anomalyBoundaries),getAnomalyScoreSeries(anomalyTimeseries.anomalyScore))}return series}function getAnomalyScoreSeries(data){return{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactions.chart.anomalyScoreLabel",{defaultMessage:"Anomaly score"}),hideLegend:true,hideTooltipValue:true,data:data,type:"areaMaxHeight",color:"none",areaColor:Object(lib["rgba"])(external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis9,.1)}}function getAnomalyBoundariesSeries(data){return{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactions.chart.anomalyBoundariesLabel",{defaultMessage:"Anomaly Boundaries"}),hideLegend:true,hideTooltipValue:true,data:data,type:"area",color:"none",areaColor:Object(lib["rgba"])(external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis1,.1)}}function getTpmSeries(apmTimeseries,transactionType){const tpmBuckets=apmTimeseries.tpmBuckets;const bucketKeys=tpmBuckets.map(({key:key})=>key);const getColor=getColorByKey(bucketKeys);const avg=apmTimeseries.responseTimes.avg;if(!tpmBuckets.length&&avg.length){const start=avg[0].x;const end=avg[avg.length-1].x;return getEmptySeries(start,end)}return tpmBuckets.map(bucket=>({title:bucket.key,data:bucket.dataPoints,legendValue:asTransactionRate(bucket.avg),type:"linemark",color:getColor(bucket.key)}))}function colorMatch(key){if(/ok|success/i.test(key)){return external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorSecondary}else if(/error|fail/i.test(key)){return external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorDanger}}function getColorByKey(keys){const assignedColors=["HTTP 2xx","HTTP 3xx","HTTP 4xx","HTTP 5xx"];const unknownKeys=Object(external_kbnSharedDeps_Lodash_["difference"])(keys,assignedColors);const unassignedColors=Object(external_kbnSharedDeps_Lodash_["zipObject"])(unknownKeys,[external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis1,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis3,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis4,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis6,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis2,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis8]);return key=>colorMatch(key)||httpStatusCodeToColor(key)||unassignedColors[key]}function useTransactionCharts(){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),_useUrlParams$urlPara=_useUrlParams.urlParams,transactionType=_useUrlParams$urlPara.transactionType,start=_useUrlParams$urlPara.start,end=_useUrlParams$urlPara.end,transactionName=_useUrlParams$urlPara.transactionName,uiFilters=_useUrlParams.uiFilters;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(serviceName&&start&&end){return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/transaction_groups/charts",params:{path:{serviceName:serviceName},query:{start:start,end:end,transactionType:transactionType,transactionName:transactionName,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,transactionName,transactionType,uiFilters]),data=_useFetcher.data,error=_useFetcher.error,status=_useFetcher.status;const memoizedData=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getTransactionCharts({transactionType:transactionType},data),[data,transactionType]);return{data:memoizedData,status:status,error:error}}const useTransactionList_DEFAULT_RESPONSE={items:undefined,isAggregationAccurate:true,bucketSize:0};function useTransactionList(urlParams){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const transactionType=urlParams.transactionType,start=urlParams.start,end=urlParams.end;const uiFilters=Object(UrlParamsContext["c"])(urlParams);const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(serviceName&&start&&end&&transactionType){return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/transaction_groups",params:{path:{serviceName:serviceName},query:{start:start,end:end,transactionType:transactionType,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,start,end,transactionType,uiFilters]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?useTransactionList_DEFAULT_RESPONSE:_useFetcher$data,error=_useFetcher.error,status=_useFetcher.status;return{data:data,status:status,error:error}}function getResponseTimeTickFormatter(formatter){return t=>formatter(t).formatted}function getResponseTimeTooltipFormatter(formatter){return coordinate=>isValidCoordinateValue(coordinate.y)?formatter(coordinate.y).formatted:NOT_AVAILABLE_LABEL}function getMaxY(timeSeries){const coordinates=Object(external_kbnSharedDeps_Lodash_["flatten"])(timeSeries.map(serie=>serie.data));const numbers=coordinates.map(c=>c.y?c.y:0);return Math.max(...numbers,0)}const ShiftedIconWrapper=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"ShiftedIconWrapper",componentId:"sc-1nkuou7-0"})(["padding-right:5px;position:relative;top:-1px;display:inline-block;"]);const ShiftedEuiText=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiText"]).withConfig({displayName:"ShiftedEuiText",componentId:"sc-1nkuou7-1"})(["position:relative;top:5px;"]);function MLHeader({hasValidMlLicense:hasValidMlLicense,mlJobId:mlJobId}){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;if(!hasValidMlLicense||!mlJobId){return null}const kuery=urlParams.kuery,transactionType=urlParams.transactionType;const hasKuery=!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(kuery);const icon=hasKuery?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{"aria-label":"Warning",type:"alert",color:"warning",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.machineLearningTooltip.withKuery",{defaultMessage:"The Machine learning results are hidden when the search bar is used for filtering"})}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.machineLearningTooltip",{defaultMessage:"The stream around the average duration shows the expected bounds. An annotation is shown for anomaly scores ≥ 75."})});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(ShiftedEuiText,{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(ShiftedIconWrapper,null,icon),external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.machineLearningLabel",{defaultMessage:"Machine learning:"})," "),external_kbnSharedDeps_React_default.a.createElement(MLJobLink,{jobId:mlJobId,serviceName:serviceName,transactionType:transactionType},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.viewJob",{defaultMessage:"View Job:"}))))}function use_formatter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function use_formatter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){use_formatter_ownKeys(Object(source),true).forEach((function(key){use_formatter_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{use_formatter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function use_formatter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function use_formatter_slicedToArray(arr,i){return use_formatter_arrayWithHoles(arr)||use_formatter_iterableToArrayLimit(arr,i)||use_formatter_unsupportedIterableToArray(arr,i)||use_formatter_nonIterableRest()}function use_formatter_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function use_formatter_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return use_formatter_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return use_formatter_arrayLikeToArray(o,minLen)}function use_formatter_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function use_formatter_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function use_formatter_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const useFormatter=series=>{const _useState=Object(external_kbnSharedDeps_React_["useState"])({}),_useState2=use_formatter_slicedToArray(_useState,2),disabledSeries=_useState2[0],setDisabledSeries=_useState2[1];const visibleSeries=series===null||series===void 0?void 0:series.filter(serie=>disabledSeries[serie.title]===undefined);const maxY=getMaxY(visibleSeries||series||[]);const formatter=getDurationFormatter(maxY);const toggleSerie=({specId:specId})=>{if(disabledSeries[specId]!==undefined){setDisabledSeries(prevState=>Object(external_kbnSharedDeps_Lodash_["omit"])(prevState,specId))}else{setDisabledSeries(prevState=>use_formatter_objectSpread(use_formatter_objectSpread({},prevState),{},{[specId]:0}))}};return{formatter:formatter,toggleSerie:toggleSerie}};function TransactionCharts({charts:charts,urlParams:urlParams,fetchStatus:fetchStatus}){const transactionType=urlParams.transactionType;const responseTimeSeries=charts.responseTimeSeries,tpmSeries=charts.tpmSeries;const _useFormatter=useFormatter(responseTimeSeries),formatter=_useFormatter.formatter,toggleSerie=_useFormatter.toggleSerie;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(AnnotationsContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(ChartPointerEventContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{"data-cy":"transaction-duration-charts"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,responseTimeLabel(transactionType)))),external_kbnSharedDeps_React_default.a.createElement(LicenseContext["a"].Consumer,null,license=>external_kbnSharedDeps_React_default.a.createElement(MLHeader,{hasValidMlLicense:license===null||license===void 0?void 0:license.getFeature("ml").isAvailable,mlJobId:charts.mlJobId}))),external_kbnSharedDeps_React_default.a.createElement(TimeseriesChart,{fetchStatus:fetchStatus,id:"transactionDuration",timeseries:responseTimeSeries||[],yLabelFormat:getResponseTimeTickFormatter(formatter),onToggleLegend:serie=>{if(serie){toggleSerie(serie)}}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{style:{flexShrink:1}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,tpmLabel(transactionType))),external_kbnSharedDeps_React_default.a.createElement(TimeseriesChart,{fetchStatus:fetchStatus,id:"requestPerMinutes",timeseries:tpmSeries||[],yLabelFormat:asTransactionRate})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(TransactionErrorRateChart,null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(TransactionBreakdownChart,null))))))}function tpmLabel(type){return type===transaction_types["b"]?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.requestsPerMinuteLabel",{defaultMessage:"Requests per minute"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.transactionsPerMinuteLabel",{defaultMessage:"Transactions per minute"})}function responseTimeLabel(type){switch(type){case transaction_types["a"]:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.pageLoadTimesLabel",{defaultMessage:"Page load times"});case transaction_types["c"]:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.routeChangeTimesLabel",{defaultMessage:"Route change times"});default:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.metrics.transactionChart.transactionDurationLabel",{defaultMessage:"Transaction duration"})}}function TransactionTypeFilter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function TransactionTypeFilter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TransactionTypeFilter_ownKeys(Object(source),true).forEach((function(key){TransactionTypeFilter_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{TransactionTypeFilter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function TransactionTypeFilter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function TransactionTypeFilter({transactionTypes:transactionTypes}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useUrlParams=Object(useUrlParams["a"])(),transactionType=_useUrlParams.urlParams.transactionType;const options=transactionTypes.map(type=>({id:type,label:type}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs",textTransform:"uppercase"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.localFilters.titles.transactionType",{defaultMessage:"Transaction type"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"none"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiRadioGroup"],{options:options,idSelected:transactionType,onChange:selectedTransactionType=>{const newLocation=TransactionTypeFilter_objectSpread(TransactionTypeFilter_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(TransactionTypeFilter_objectSpread(TransactionTypeFilter_objectSpread({},Object(url_helpers["c"])(history.location.search)),{},{transactionType:selectedTransactionType}))});history.push(newLocation)}}))}const TransactionNameLink=external_kbnSharedDeps_StyledComponents_default()(TransactionDetailLink).withConfig({displayName:"TransactionNameLink",componentId:"sc-1c7byot-0"})(["font-family:",";white-space:nowrap;",";> span{",";}"],variables["fontFamilyCode"],Object(variables["truncate"])("100%"),Object(variables["truncate"])("100%"));function TransactionList({items:items,isLoading:isLoading}){const columns=Object(external_kbnSharedDeps_React_["useMemo"])(()=>[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionsTable.nameColumnLabel",{defaultMessage:"Name"}),width:"50%",sortable:true,render:(_,{serviceName:serviceName,transactionName:transactionName,transactionType:transactionType})=>external_kbnSharedDeps_React_default.a.createElement(TransactionNameLink,{serviceName:serviceName,transactionName:transactionName,transactionType:transactionType},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{id:"transaction-name-link-tooltip",content:transactionName},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,transactionName)))},{field:"averageResponseTime",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionsTable.avgDurationColumnLabel",{defaultMessage:"Avg. duration"}),sortable:true,dataType:"number",render:time=>asMillisecondDuration(time)},{field:"p95",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionsTable.95thPercentileColumnLabel",{defaultMessage:"95th percentile"}),sortable:true,dataType:"number",render:time=>asMillisecondDuration(time)},{field:"transactionsPerMinute",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionsTable.transactionsPerMinuteColumnLabel",{defaultMessage:"Trans. per minute"}),sortable:true,dataType:"number",render:value=>asTransactionRate(value)},{field:"impact",name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionsTable.impactColumnLabel",{defaultMessage:"Impact"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{size:"s",type:"questionInCircle",color:"subdued",iconProps:{className:"eui-alignTop"},content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionsTable.impactColumnDescription",{defaultMessage:"The most used and slowest endpoints in your service. It's calculated by taking the relative average duration times the number of transactions per minute."})})),sortable:true,dataType:"number",render:value=>external_kbnSharedDeps_React_default.a.createElement(ImpactBar,{value:value})}],[]);const noItemsMessage=external_kbnSharedDeps_React_default.a.createElement(EmptyMessage,{heading:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionsTable.notFoundLabel",{defaultMessage:"No transactions were found."})});return external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{noItemsMessage:isLoading?external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null):noItemsMessage,columns:columns,items:items,initialSortField:"impact",initialSortDirection:"desc",initialPageSize:25})}function useRedirect(redirectLocation){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(redirectLocation){history.replace(redirectLocation)}},[history,redirectLocation])}function UserExperienceCallout(){const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const userExperienceHref=core.http.basePath.prepend("/app/ux");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{iconType:"cheer",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionOverview.userExperience.calloutTitle",{defaultMessage:"Introducing: Elastic User Experience"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionOverview.userExperience.calloutText",{defaultMessage:"We are beyond excited to introduce a new experience for analyzing the user experience metrics specifically for your RUM services. It provides insights into the core vitals and visitor breakdown by browser and location. The app is always available in the left sidebar among the other Observability views."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:userExperienceHref},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionOverview.userExperience.linkLabel",{defaultMessage:"Take me there"})))}function transaction_overview_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function transaction_overview_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){transaction_overview_ownKeys(Object(source),true).forEach((function(key){transaction_overview_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{transaction_overview_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function transaction_overview_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getRedirectLocation({location:location,transactionType:transactionType,urlParams:urlParams}){const transactionTypeFromUrlParams=urlParams.transactionType;if(!transactionTypeFromUrlParams&&transactionType){return transaction_overview_objectSpread(transaction_overview_objectSpread({},location),{},{search:Object(url_helpers["b"])(transaction_overview_objectSpread(transaction_overview_objectSpread({},Object(url_helpers["c"])(location.search)),{},{transactionType:transactionType}))})}}function TransactionOverview({serviceName:serviceName}){const location=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const transactionType=useTransactionType();const serviceTransactionTypes=Object(useServiceTransactionTypes["a"])(urlParams);useRedirect(getRedirectLocation({location:location,transactionType:transactionType,urlParams:urlParams}));const _useTransactionCharts=useTransactionCharts(),transactionCharts=_useTransactionCharts.data,transactionChartsStatus=_useTransactionCharts.status;Object(public_["useTrackPageview"])({app:"apm",path:"transaction_overview"});Object(public_["useTrackPageview"])({app:"apm",path:"transaction_overview",delay:15e3});const _useTransactionList=useTransactionList(urlParams),transactionListData=_useTransactionList.data,transactionListStatus=_useTransactionList.status;const localFiltersConfig=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({filterNames:["transactionResult","host","containerId","podName","serviceVersion"],params:{serviceName:serviceName,transactionType:transactionType},projection:projections["a"].transactionGroups}),[serviceName,transactionType]);if(!serviceName||!transactionType){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(Correlations,null),external_kbnSharedDeps_React_default.a.createElement(LocalUIFilters["a"],localFiltersConfig,external_kbnSharedDeps_React_default.a.createElement(TransactionTypeFilter,{transactionTypes:serviceTransactionTypes}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"none"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:7},transactionType===transaction_types["a"]&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(UserExperienceCallout,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})),external_kbnSharedDeps_React_default.a.createElement(TransactionCharts,{fetchStatus:transactionChartsStatus,charts:transactionCharts,urlParams:urlParams}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,"Transactions")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),!transactionListData.isAggregationAccurate&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionCardinalityWarning.title",{defaultMessage:"This view shows a subset of reported transactions."}),color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.apm.transactionCardinalityWarning.body",defaultMessage:"The number of unique transaction names exceeds the configured value of {bucketSize}. Try reconfiguring your agents to group similar transactions or increase the value of {codeBlock}",values:{bucketSize:transactionListData.bucketSize,codeBlock:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"xpack.apm.ui.transactionGroupBucketSize")}}),external_kbnSharedDeps_React_default.a.createElement(ElasticDocsLink,{section:"/kibana",path:"/troubleshooting.html#troubleshooting-too-many-transactions"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionCardinalityWarning.docsLink",{defaultMessage:"Learn more in the docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(TransactionList,{isLoading:transactionListStatus==="loading",items:transactionListData.items||[]}))))))}function ServiceDetailTabs({serviceName:serviceName,tab:tab}){const _useAgentName=useAgentName(),agentName=_useAgentName.agentName;const uiSettings=Object(useApmPluginContext["a"])().core.uiSettings;const overviewTab={key:"overview",href:useServiceOverviewHref(serviceName),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceDetails.overviewTabLabel",{defaultMessage:"Overview"}),render:()=>external_kbnSharedDeps_React_default.a.createElement(ServiceOverview,{agentName:agentName,serviceName:serviceName})};const transactionsTab={key:"transactions",href:useTransactionOverviewHref(serviceName),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceDetails.transactionsTabLabel",{defaultMessage:"Transactions"}),render:()=>external_kbnSharedDeps_React_default.a.createElement(TransactionOverview,{serviceName:serviceName})};const errorsTab={key:"errors",href:useErrorOverviewHref(serviceName),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceDetails.errorsTabLabel",{defaultMessage:"Errors"}),render:()=>external_kbnSharedDeps_React_default.a.createElement(ErrorGroupOverview,{serviceName:serviceName})};const serviceMapTab={key:"service-map",href:useServiceMapHref(serviceName),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.home.serviceMapTabLabel",{defaultMessage:"Service Map"}),render:()=>external_kbnSharedDeps_React_default.a.createElement(ServiceMap,{serviceName:serviceName})};const nodesListTab={key:"nodes",href:useServiceNodeOverviewHref(serviceName),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceDetails.nodesTabLabel",{defaultMessage:"JVMs"}),render:()=>external_kbnSharedDeps_React_default.a.createElement(ServiceNodeOverview,{serviceName:serviceName})};const metricsTab={key:"metrics",href:useMetricOverviewHref(serviceName),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceDetails.metricsTabLabel",{defaultMessage:"Metrics"}),render:()=>agentName?external_kbnSharedDeps_React_default.a.createElement(ServiceMetrics,{agentName:agentName,serviceName:serviceName}):null};const tabs=[transactionsTab,errorsTab];if(uiSettings.get(enableServiceOverview)){tabs.unshift(overviewTab)}if(Object(agent_name["d"])(agentName)){tabs.push(nodesListTab)}else if(agentName&&!Object(agent_name["e"])(agentName)){tabs.push(metricsTab)}tabs.push(serviceMapTab);const selectedTab=tabs.find(serviceTab=>serviceTab.key===tab);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(MainTabs,null,tabs.map(({href:href,key:key,text:text})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{href:href,isSelected:key===tab,key:key},text))),selectedTab?selectedTab.render():null)}function ServiceDetails({match:match,tab:tab}){const serviceName=match.params.serviceName;return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(ApmHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,serviceName))),external_kbnSharedDeps_React_default.a.createElement(ServiceDetailTabs,{serviceName:serviceName,tab:tab}))}const service_node_metrics_INITIAL_DATA={host:"",containerId:""};const Truncate=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"Truncate",componentId:"sc-1w7ekii-0"})(["display:block;",""],Object(variables["truncate"])(Object(variables["px"])(variables["unit"]*12)));const MetadataFlexGroup=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"]).withConfig({displayName:"MetadataFlexGroup",componentId:"sc-1w7ekii-1"})(["border-bottom:",";margin-bottom:",";padding:",";"],({theme:theme})=>theme.eui.euiBorderThin,({theme:theme})=>theme.eui.paddingSizes.m,({theme:theme})=>"".concat(theme.eui.paddingSizes.m," 0 0 ").concat(theme.eui.paddingSizes.m));function ServiceNodeMetrics({match:match}){const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams,uiFilters=_useUrlParams.uiFilters;const _match$params=match.params,serviceName=_match$params.serviceName,serviceNodeName=_match$params.serviceNodeName;const _useAgentName=useAgentName(),agentName=_useAgentName.agentName;const _useServiceMetricChar=useServiceMetricCharts(urlParams,agentName),data=_useServiceMetricChar.data;const start=urlParams.start,end=urlParams.end;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(start&&end){return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/node/{serviceNodeName}/metadata",params:{path:{serviceName:serviceName,serviceNodeName:serviceNodeName},query:{start:start,end:end,uiFilters:JSON.stringify(uiFilters)}}})}},[serviceName,serviceNodeName,start,end,uiFilters]),_useFetcher$data=_useFetcher.data,_useFetcher$data2=_useFetcher$data===void 0?service_node_metrics_INITIAL_DATA:_useFetcher$data,host=_useFetcher$data2.host,containerId=_useFetcher$data2.containerId,status=_useFetcher.status;const isLoading=status===useFetcher["a"].LOADING;const isAggregatedData=serviceNodeName===SERVICE_NODE_NAME_MISSING;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(ApmHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,serviceName))))),isAggregatedData?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceNodeMetrics.unidentifiedServiceNodesWarningTitle",{defaultMessage:"Could not identify JVMs"}),iconType:"help",color:"warning"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.apm.serviceNodeMetrics.unidentifiedServiceNodesWarningText",defaultMessage:"We could not identify which JVMs these metrics belong to. This is likely caused by running a version of APM Server that is older than 7.5. Upgrading to APM Server 7.5 or higher should resolve this issue. For more information on upgrading, see the {link}. As an alternative, you can use the Kibana Query bar to filter by hostname, container ID or other fields.",values:{link:external_kbnSharedDeps_React_default.a.createElement(ElasticDocsLink,{target:"_blank",section:"/apm/server",path:"/upgrading.html"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceNodeMetrics.unidentifiedServiceNodesWarningDocumentationLink",{defaultMessage:"documentation of APM Server"}))}})):external_kbnSharedDeps_React_default.a.createElement(MetadataFlexGroup,{gutterSize:"xl"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{titleSize:"s",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceNodeMetrics.serviceName",{defaultMessage:"Service name"}),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:serviceName},external_kbnSharedDeps_React_default.a.createElement(Truncate,null,serviceName))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{titleSize:"s",isLoading:isLoading,description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceNodeMetrics.host",{defaultMessage:"Host"}),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:host},external_kbnSharedDeps_React_default.a.createElement(Truncate,null,host))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{titleSize:"s",isLoading:isLoading,description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.serviceNodeMetrics.containerId",{defaultMessage:"Container ID"}),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:containerId},external_kbnSharedDeps_React_default.a.createElement(Truncate,null,containerId))}))),agentName&&external_kbnSharedDeps_React_default.a.createElement(ChartPointerEventContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},data.charts.map(chart=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:chart.key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(MetricsChart,{start:start,end:end,chart:chart,fetchStatus:status}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xxl"})),external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,agentName&&external_kbnSharedDeps_React_default.a.createElement(ChartPointerEventContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},data.charts.map(chart=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:chart.key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(MetricsChart,{start:start,end:end,chart:chart,fetchStatus:status}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xxl"}))))}function HomeLink_extends(){HomeLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return HomeLink_extends.apply(this,arguments)}function HomeLink(props){return external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],HomeLink_extends({path:"/"},props))}function Settings({children:children,location:location}){var _core$application$cap;const _useApmPluginContext=Object(useApmPluginContext["a"])(),appMountParameters=_useApmPluginContext.appMountParameters,core=_useApmPluginContext.core;const basePath=core.http.basePath;const canAccessML=!!((_core$application$cap=core.application.capabilities.ml)===null||_core$application$cap===void 0?void 0:_core$application$cap.canAccessML);const search=location.search,pathname=location.pathname;function getSettingsHref(path){return Object(APMLink["b"])({basePath:basePath,path:"/settings".concat(path),search:search})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(public_["HeaderMenuPortal"],{setHeaderActionMenu:appMountParameters.setHeaderActionMenu},external_kbnSharedDeps_React_default.a.createElement(ActionMenu,null)),external_kbnSharedDeps_React_default.a.createElement(HomeLink,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",color:"primary",iconType:"arrowLeft"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.returnLinkLabel",{defaultMessage:"Return to inventory"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageSideBar"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSideNav"],{items:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.pageTitle",{defaultMessage:"Settings"}),id:0,items:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.agentConfig",{defaultMessage:"Agent Configuration"}),id:"1",href:getSettingsHref("/agent-configuration"),isSelected:pathname.startsWith("/settings/agent-configuration")},...canAccessML?[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection",{defaultMessage:"Anomaly detection"}),id:"4",href:getSettingsHref("/anomaly-detection"),isSelected:pathname==="/settings/anomaly-detection"}]:[],{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeApp",{defaultMessage:"Customize app"}),id:"3",href:getSettingsHref("/customize-ui"),isSelected:pathname==="/settings/customize-ui"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.indices",{defaultMessage:"Indices"}),id:"2",href:getSettingsHref("/apm-indices"),isSelected:pathname==="/settings/apm-indices"}]}]})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,children)))}function editAgentConfigurationHref(configService,search,basePath){return Object(APMLink["b"])({basePath:basePath,path:"/settings/agent-configuration/edit",search:search,query:{name:configService.name,environment:configService.environment}})}function createAgentConfigurationHref(search,basePath){return Object(APMLink["b"])({basePath:basePath,path:"/settings/agent-configuration/create",search:search})}const ALL_OPTION_VALUE="ALL_OPTION_VALUE";function getOptionLabel(value){if(value===undefined||value===ALL_OPTION_VALUE){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.allOptionLabel",{defaultMessage:"All"})}return value}function omitAllOption(value){return value===ALL_OPTION_VALUE?undefined:value}function ConfirmDeleteModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function ConfirmDeleteModal_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ConfirmDeleteModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ConfirmDeleteModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ConfirmDeleteModal_slicedToArray(arr,i){return ConfirmDeleteModal_arrayWithHoles(arr)||ConfirmDeleteModal_iterableToArrayLimit(arr,i)||ConfirmDeleteModal_unsupportedIterableToArray(arr,i)||ConfirmDeleteModal_nonIterableRest()}function ConfirmDeleteModal_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ConfirmDeleteModal_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return ConfirmDeleteModal_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ConfirmDeleteModal_arrayLikeToArray(o,minLen)}function ConfirmDeleteModal_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ConfirmDeleteModal_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function ConfirmDeleteModal_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ConfirmDeleteModal({config:config,onCancel:onCancel,onConfirm:onConfirm}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=ConfirmDeleteModal_slicedToArray(_useState,2),isDeleting=_useState2[0],setIsDeleting=_useState2[1];const toasts=Object(useApmPluginContext["a"])().core.notifications.toasts;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteModal.title",{defaultMessage:"Delete configuration"}),onCancel:onCancel,onConfirm:ConfirmDeleteModal_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsDeleting(true);_context.next=3;return deleteConfig(config,toasts);case 3:setIsDeleting(false);onConfirm();case 5:case"end":return _context.stop()}}),_callee)}))),cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteModal.cancel",{defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteModal.confirm",{defaultMessage:"Delete"}),confirmButtonDisabled:isDeleting,buttonColor:"danger",defaultFocusedButton:"confirm"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteModal.text",{defaultMessage:'You are about to delete the configuration for service "{serviceName}" and environment "{environment}".',values:{serviceName:getOptionLabel(config.service.name),environment:getOptionLabel(config.service.environment)}}))))}function deleteConfig(_x,_x2){return _deleteConfig.apply(this,arguments)}function _deleteConfig(){_deleteConfig=ConfirmDeleteModal_asyncToGenerator(regeneratorRuntime.mark((function _callee2(config,toasts){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Object(createCallApmApi["a"])({endpoint:"DELETE /api/apm/settings/agent-configuration",params:{body:{service:{name:config.service.name,environment:config.service.environment}}}});case 3:toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteSection.deleteConfigSucceededTitle",{defaultMessage:"Configuration was deleted"}),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteSection.deleteConfigSucceededText",{defaultMessage:'You have successfully deleted a configuration for "{serviceName}". It will take some time to propagate to the agents.',values:{serviceName:getOptionLabel(config.service.name)}})});_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteSection.deleteConfigFailedTitle",{defaultMessage:"Configuration could not be deleted"}),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.deleteSection.deleteConfigFailedText",{defaultMessage:'Something went wrong when deleting a configuration for "{serviceName}". Error: "{errorMessage}"',values:{serviceName:getOptionLabel(config.service.name),errorMessage:_context2.t0.message}})});case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,6]])})));return _deleteConfig.apply(this,arguments)}function List_slicedToArray(arr,i){return List_arrayWithHoles(arr)||List_iterableToArrayLimit(arr,i)||List_unsupportedIterableToArray(arr,i)||List_nonIterableRest()}function List_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function List_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return List_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return List_arrayLikeToArray(o,minLen)}function List_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function List_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function List_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function AgentConfigurationList({status:status,data:data,refetch:refetch}){const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const basePath=core.http.basePath;const _useLocation=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])(),search=_useLocation.search;const theme=useTheme();const _useState=Object(external_kbnSharedDeps_React_["useState"])(null),_useState2=List_slicedToArray(_useState,2),configToBeDeleted=_useState2[0],setConfigToBeDeleted=_useState2[1];const emptyStatePrompt=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"controlsHorizontal",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.emptyPromptTitle",{defaultMessage:"No configurations found."})),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.emptyPromptText",{defaultMessage:"Let's change that! You can fine-tune agent configuration directly from Kibana without having to redeploy. Get started by creating your first configuration."}))),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"primary",fill:true,href:createAgentConfigurationHref(search,basePath)},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.createConfigButtonLabel",{defaultMessage:"Create configuration"}))});const failurePrompt=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.configTable.failurePromptText",{defaultMessage:"The list of agent configurations could not be fetched. Your user may not have the sufficient permissions."})))});if(status===useFetcher["a"].FAILURE){return failurePrompt}if(status===useFetcher["a"].SUCCESS&&Object(external_kbnSharedDeps_Lodash_["isEmpty"])(data)){return emptyStatePrompt}const columns=[{field:"applied_by_agent",align:"center",width:Object(variables["px"])(variables["units"].double),name:"",sortable:true,render:isApplied=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:isApplied?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.appliedTooltipMessage",{defaultMessage:"Applied by at least one agent"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.notAppliedTooltipMessage",{defaultMessage:"Not yet applied by any agents"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:isApplied?"success":theme.eui.euiColorLightShade}))},{field:"service.name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.serviceNameColumnLabel",{defaultMessage:"Service name"}),sortable:true,render:(_,config)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{flush:"left",size:"s",color:"primary",href:editAgentConfigurationHref(config.service,search,basePath)},getOptionLabel(config.service.name))},{field:"service.environment",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.environmentColumnLabel",{defaultMessage:"Service environment"}),sortable:true,render:environment=>getOptionLabel(environment)},{align:"right",field:"@timestamp",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configTable.lastUpdatedColumnLabel",{defaultMessage:"Last updated"}),sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement(TimestampTooltip,{time:value,timeUnit:"minutes"})},{width:Object(variables["px"])(variables["units"].double),name:"",render:config=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":"Edit",iconType:"pencil",href:editAgentConfigurationHref(config.service,search,basePath)})},{width:Object(variables["px"])(variables["units"].double),name:"",render:config=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":"Delete",iconType:"trash",onClick:()=>setConfigToBeDeleted(config)})}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,configToBeDeleted&&external_kbnSharedDeps_React_default.a.createElement(ConfirmDeleteModal,{config:configToBeDeleted,onCancel:()=>setConfigToBeDeleted(null),onConfirm:()=>{setConfigToBeDeleted(null);refetch()}}),external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{noItemsMessage:external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null),columns:columns,items:data,initialSortField:"service.name",initialSortDirection:"asc",initialPageSize:20}))}function AgentConfigurations(){const _useFetcher=Object(useFetcher["b"])(callApmApi=>callApmApi({endpoint:"GET /api/apm/settings/agent-configuration"}),[],{preservePreviousData:false,showToastOnError:false}),refetch=_useFetcher.refetch,_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?[]:_useFetcher$data,status=_useFetcher.status;Object(public_["useTrackPageview"])({app:"apm",path:"agent_configuration"});Object(public_["useTrackPageview"])({app:"apm",path:"agent_configuration",delay:15e3});const hasConfigurations=!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(data);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.titleText",{defaultMessage:"Agent remote configuration"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.configurationsPanelTitle",{defaultMessage:"Configurations"})))),hasConfigurations?external_kbnSharedDeps_React_default.a.createElement(CreateConfigurationButton,null):null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AgentConfigurationList,{status:status,data:data,refetch:refetch})))}function CreateConfigurationButton(){const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const basePath=core.http.basePath;const _useLocation=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])(),search=_useLocation.search;const href=createAgentConfigurationHref(search,basePath);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"primary",fill:true,iconType:"plusInCircle",href:href},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.createConfigButtonLabel",{defaultMessage:"Create configuration"})))))}function MLLink({children:children,path:path="",query:query={},external:external}){var _query$ml;const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core,ml=_useApmPluginContext.plugins.ml;let jobIds=[];if((_query$ml=query.ml)===null||_query$ml===void 0?void 0:_query$ml.jobIds){jobIds=query.ml.jobIds}const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const rangeFrom=urlParams.rangeFrom,rangeTo=urlParams.rangeTo,refreshInterval=urlParams.refreshInterval,refreshPaused=urlParams.refreshPaused;const mlADLink=Object(ml_public_["useMlHref"])(ml,core.http.basePath.get(),{page:ml_public_["ML_PAGES"].ANOMALY_DETECTION_JOBS_MANAGE,pageState:{jobId:jobIds,groupIds:["apm"],globalState:{time:rangeFrom!==undefined&&rangeTo!==undefined?{from:rangeFrom,to:rangeTo}:undefined,refreshInterval:refreshPaused!==undefined&&refreshInterval!==undefined?{pause:refreshPaused,value:refreshInterval}:undefined}}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{children:children,href:mlADLink,external:external,target:external?"_blank":undefined})}function LegacyJobsCallout(){const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core,ml=_useApmPluginContext.plugins.ml;const mlADLink=Object(ml_public_["useMlHref"])(ml,core.http.basePath.get(),{page:"jobs",pageState:{jobId:"high_mean_response_time"}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomaly_detection.legacy_jobs.title",{defaultMessage:"Legacy ML jobs are no longer used in APM app"}),iconType:"iInCircle"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomaly_detection.legacy_jobs.body",{defaultMessage:"We have discovered legacy Machine Learning jobs from our previous integration which are no longer being used in the APM app"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:mlADLink},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomaly_detection.legacy_jobs.button",{defaultMessage:"Review jobs"})))}const jobs_list_columns=[{field:"environment",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.environmentColumnLabel",{defaultMessage:"Environment"}),render:environment_filter_values["c"]},{field:"job_id",align:"right",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.actionColumnLabel",{defaultMessage:"Action"}),render:jobId=>external_kbnSharedDeps_React_default.a.createElement(MLJobLink,{jobId:jobId},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.mlJobLinkText",{defaultMessage:"View job in ML"}))}];function JobsList({data:data,status:status,onAddEnvironments:onAddEnvironments}){const jobs=data.jobs,hasLegacyJobs=data.hasLegacyJobs;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.environments",{defaultMessage:"Environments"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,iconType:"plusInCircle",onClick:onAddEnvironments},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.addEnvironments",{defaultMessage:"Create ML Job"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.apm.settings.anomalyDetection.jobList.mlDescriptionText",defaultMessage:"To add anomaly detection to a new environment, create a machine learning job. Existing machine learning jobs can be managed in {mlJobsLink}.",values:{mlJobsLink:external_kbnSharedDeps_React_default.a.createElement(MLLink,{path:"/jobs"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.mlDescriptionText.mlJobsLinkText",{defaultMessage:"Machine Learning"}))}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{noItemsMessage:getNoItemsMessage({status:status}),columns:jobs_list_columns,items:jobs}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),hasLegacyJobs&&external_kbnSharedDeps_React_default.a.createElement(LegacyJobsCallout,null))}function getNoItemsMessage({status:status}){const isLoading=status===useFetcher["a"].PENDING||status===useFetcher["a"].LOADING;if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null)}if(status===useFetcher["a"].FAILURE){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.failedFetchText",{defaultMessage:"Unable to fetch anomaly detection jobs."})}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.jobList.emptyListText",{defaultMessage:"No anomaly detection jobs."})}function create_jobs_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function create_jobs_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){create_jobs_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){create_jobs_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const errorToastTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.anomalyDetection.createJobs.failed.title",{defaultMessage:"Anomaly detection jobs could not be created"});const successToastTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.anomalyDetection.createJobs.succeeded.title",{defaultMessage:"Anomaly detection jobs created"});function createJobs(_x){return _createJobs.apply(this,arguments)}function _createJobs(){_createJobs=create_jobs_asyncToGenerator(regeneratorRuntime.mark((function _callee({environments:environments,toasts:toasts}){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Object(createCallApmApi["a"])({endpoint:"POST /api/apm/settings/anomaly-detection/jobs",params:{body:{environments:environments}}});case 3:toasts.addSuccess({title:successToastTitle,text:getSuccessToastMessage(environments)});return _context.abrupt("return",true);case 7:_context.prev=7;_context.t0=_context["catch"](0);toasts.addDanger({title:errorToastTitle,text:getErrorToastMessage(environments,_context.t0)});return _context.abrupt("return",false);case 11:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return _createJobs.apply(this,arguments)}function getSuccessToastMessage(environments){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.anomalyDetection.createJobs.succeeded.text",{defaultMessage:"Anomaly detection jobs successfully created for APM service environments [{environments}]. It will take some time for machine learning to start analyzing traffic for anomalies.",values:{environments:environments.join(", ")}})}function getErrorToastMessage(environments,error){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.anomalyDetection.createJobs.failed.text",{defaultMessage:'Something went wrong when creating one ore more anomaly detection jobs for APM service environments [{environments}]. Error: "{errorMessage}"',values:{environments:environments.join(", "),errorMessage:error.message}})}function add_environments_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function add_environments_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){add_environments_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){add_environments_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function add_environments_slicedToArray(arr,i){return add_environments_arrayWithHoles(arr)||add_environments_iterableToArrayLimit(arr,i)||add_environments_unsupportedIterableToArray(arr,i)||add_environments_nonIterableRest()}function add_environments_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function add_environments_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return add_environments_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return add_environments_arrayLikeToArray(o,minLen)}function add_environments_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function add_environments_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function add_environments_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function AddEnvironments({currentEnvironments:currentEnvironments,onCreateJobSuccess:onCreateJobSuccess,onCancel:onCancel}){const _useApmPluginContext$=Object(useApmPluginContext["a"])().core,notifications=_useApmPluginContext$.notifications,application=_useApmPluginContext$.application;const canCreateJob=!!application.capabilities.ml.canCreateJob;const toasts=notifications.toasts;const _useFetcher=Object(useFetcher["b"])(callApmApi=>callApmApi({endpoint:"GET /api/apm/settings/anomaly-detection/environments"}),[],{preservePreviousData:false}),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?[]:_useFetcher$data,status=_useFetcher.status;const environmentOptions=data.map(env=>({label:Object(environment_filter_values["c"])(env),value:env,disabled:currentEnvironments.includes(env)}));const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=add_environments_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])([]),_useState4=add_environments_slicedToArray(_useState3,2),selectedOptions=_useState4[0],setSelected=_useState4[1];if(!canCreateJob){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,anomaly_detection["a"].MISSING_WRITE_PRIVILEGES)}))}const isLoading=status===useFetcher["a"].PENDING||status===useFetcher["a"].LOADING;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.addEnvironments.titleText",{defaultMessage:"Select environments"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.addEnvironments.descriptionText",{defaultMessage:"Select the service environments that you want to enable anomaly detection in. Anomalies will surface for all services and transaction types within the selected environments."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.addEnvironments.selectorLabel",{defaultMessage:"Environments"}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{isLoading:isLoading,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.addEnvironments.selectorPlaceholder",{defaultMessage:"Select or add environments"}),options:environmentOptions,selectedOptions:selectedOptions,onChange:nextSelectedOptions=>{setSelected(nextSelectedOptions)},onCreateOption:searchValue=>{if(currentEnvironments.includes(searchValue)){return}const newOption={label:searchValue,value:searchValue};setSelected([...selectedOptions,newOption])},isClearable:true})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"aria-label":"Cancel",onClick:onCancel},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.addEnvironments.cancelButtonText",{defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{isLoading:isSaving,isDisabled:isSaving||selectedOptions.length===0,fill:true,onClick:add_environments_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var selectedEnvironments,success;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsSaving(true);selectedEnvironments=selectedOptions.map(({value:value})=>value);_context.next=4;return createJobs({environments:selectedEnvironments,toasts:toasts});case 4:success=_context.sent;if(success){onCreateJobSuccess()}setIsSaving(false);case 7:case"end":return _context.stop()}}),_callee)})))},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.addEnvironments.createJobsButtonText",{defaultMessage:"Create Jobs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))}function anomaly_detection_slicedToArray(arr,i){return anomaly_detection_arrayWithHoles(arr)||anomaly_detection_iterableToArrayLimit(arr,i)||anomaly_detection_unsupportedIterableToArray(arr,i)||anomaly_detection_nonIterableRest()}function anomaly_detection_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function anomaly_detection_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return anomaly_detection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return anomaly_detection_arrayLikeToArray(o,minLen)}function anomaly_detection_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function anomaly_detection_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function anomaly_detection_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const DEFAULT_VALUE={jobs:[],hasLegacyJobs:false};function anomaly_detection_AnomalyDetection(){var _plugin$core$applicat;const plugin=Object(useApmPluginContext["a"])();const canGetJobs=!!((_plugin$core$applicat=plugin.core.application.capabilities.ml)===null||_plugin$core$applicat===void 0?void 0:_plugin$core$applicat.canGetJobs);const license=useLicense();const hasValidLicense=(license===null||license===void 0?void 0:license.isActive)&&(license===null||license===void 0?void 0:license.hasAtLeast("platinum"));const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=anomaly_detection_slicedToArray(_useState,2),viewAddEnvironments=_useState2[0],setViewAddEnvironments=_useState2[1];const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(canGetJobs){return callApmApi({endpoint:"GET /api/apm/settings/anomaly-detection"})}},[canGetJobs],{preservePreviousData:false,showToastOnError:false}),refetch=_useFetcher.refetch,_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?DEFAULT_VALUE:_useFetcher$data,status=_useFetcher.status;if(!hasValidLicense){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(LicensePrompt,{text:anomaly_detection["a"].INVALID_LICENSE}))}if(!canGetJobs){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,anomaly_detection["a"].MISSING_READ_PRIVILEGES)}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.titleText",{defaultMessage:"Anomaly detection"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.anomalyDetection.descriptionText",{defaultMessage:"Machine Learning's anomaly detection integration enables application health status indicators for services in each configured environment by identifying transaction duration anomalies."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),viewAddEnvironments?external_kbnSharedDeps_React_default.a.createElement(AddEnvironments,{currentEnvironments:data.jobs.map(({environment:environment})=>environment),onCreateJobSuccess:()=>{refetch();setViewAddEnvironments(false)},onCancel:()=>{setViewAddEnvironments(false)}}):external_kbnSharedDeps_React_default.a.createElement(JobsList,{data:data,status:status,onAddEnvironments:()=>{setViewAddEnvironments(true)}}))}var callApi=__webpack_require__(120);function ApmIndices_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function ApmIndices_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ApmIndices_ownKeys(Object(source),true).forEach((function(key){ApmIndices_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ApmIndices_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function ApmIndices_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function ApmIndices_slicedToArray(arr,i){return ApmIndices_arrayWithHoles(arr)||ApmIndices_iterableToArrayLimit(arr,i)||ApmIndices_unsupportedIterableToArray(arr,i)||ApmIndices_nonIterableRest()}function ApmIndices_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ApmIndices_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return ApmIndices_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ApmIndices_arrayLikeToArray(o,minLen)}function ApmIndices_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ApmIndices_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function ApmIndices_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ApmIndices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function ApmIndices_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ApmIndices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ApmIndices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const APM_INDEX_LABELS=[{configurationName:"apm_oss.sourcemapIndices",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.sourcemapIndicesLabel",{defaultMessage:"Sourcemap Indices"})},{configurationName:"apm_oss.errorIndices",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.errorIndicesLabel",{defaultMessage:"Error Indices"})},{configurationName:"apm_oss.onboardingIndices",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.onboardingIndicesLabel",{defaultMessage:"Onboarding Indices"})},{configurationName:"apm_oss.spanIndices",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.spanIndicesLabel",{defaultMessage:"Span Indices"})},{configurationName:"apm_oss.transactionIndices",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.transactionIndicesLabel",{defaultMessage:"Transaction Indices"})},{configurationName:"apm_oss.metricsIndices",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.metricsIndicesLabel",{defaultMessage:"Metrics Indices"})}];function saveApmIndices(_x){return _saveApmIndices.apply(this,arguments)}function _saveApmIndices(){_saveApmIndices=ApmIndices_asyncToGenerator(regeneratorRuntime.mark((function _callee3({apmIndices:apmIndices}){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Object(createCallApmApi["a"])({endpoint:"POST /api/apm/settings/apm-indices/save",params:{body:apmIndices}});case 2:Object(callApi["b"])();case 3:case"end":return _context3.stop()}}),_callee3)})));return _saveApmIndices.apply(this,arguments)}const ApmIndices_INITIAL_STATE=[];function ApmIndices(){const toasts=Object(useApmPluginContext["a"])().core.notifications.toasts;const _useState=Object(external_kbnSharedDeps_React_["useState"])({}),_useState2=ApmIndices_slicedToArray(_useState,2),apmIndices=_useState2[0],setApmIndices=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])(false),_useState4=ApmIndices_slicedToArray(_useState3,2),isSaving=_useState4[0],setIsSaving=_useState4[1];const _useFetcher=Object(useFetcher["b"])(_callApmApi=>_callApmApi({endpoint:"GET /api/apm/settings/apm-index-settings"}),[]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?ApmIndices_INITIAL_STATE:_useFetcher$data,status=_useFetcher.status,refetch=_useFetcher.refetch;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setApmIndices(data.reduce((acc,{configurationName:configurationName,savedValue:savedValue})=>ApmIndices_objectSpread(ApmIndices_objectSpread({},acc),{},{[configurationName]:savedValue}),{}))},[data]);const handleApplyChangesEvent=function(){var _ref=ApmIndices_asyncToGenerator(regeneratorRuntime.mark((function _callee(event){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();setIsSaving(true);_context.prev=2;_context.next=5;return saveApmIndices({apmIndices:apmIndices});case 5:toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.applyChanges.succeeded.title",{defaultMessage:"Indices applied"}),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.applyChanges.succeeded.text",{defaultMessage:"The indices changes were successfully applied. These changes are reflected immediately in the APM UI"})});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.applyChanges.failed.title",{defaultMessage:"Indices could not be applied."}),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.applyChanges.failed.text",{defaultMessage:"Something went wrong when applying indices. Error: {errorMessage}",values:{errorMessage:_context.t0.message}})});case 11:setIsSaving(false);case 12:case"end":return _context.stop()}}),_callee,null,[[2,8]])})));return function handleApplyChangesEvent(_x2){return _ref.apply(this,arguments)}}();const handleChangeIndexConfigurationEvent=function(){var _ref2=ApmIndices_asyncToGenerator(regeneratorRuntime.mark((function _callee2(event){var _event$target,name,value;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_event$target=event.target,name=_event$target.name,value=_event$target.value;setApmIndices(ApmIndices_objectSpread(ApmIndices_objectSpread({},apmIndices),{},{[name]:value}));case 2:case"end":return _context2.stop()}}),_callee2)})));return function handleChangeIndexConfigurationEvent(_x3){return _ref2.apply(this,arguments)}}();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.title",{defaultMessage:"Indices"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.description",{defaultMessage:"The APM UI uses index patterns to query your APM indices. If you've customized the index names that APM Server writes events to, you may need to update these patterns for the APM UI to work. Settings here take precedence over those set in kibana.yml."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,APM_INDEX_LABELS.map(({configurationName:configurationName,label:label})=>{const matchedConfiguration=data.find(({configurationName:configName})=>configName===configurationName);const defaultValue=matchedConfiguration?matchedConfiguration.defaultValue:"";const savedUiIndexValue=apmIndices[configurationName]||"";return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{key:configurationName,label:label,helpText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.helpText",{defaultMessage:"Overrides {configurationName}: {defaultValue}",values:{configurationName:configurationName,defaultValue:defaultValue}}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{fullWidth:true,name:configurationName,placeholder:defaultValue,value:savedUiIndexValue,onChange:handleChangeIndexConfigurationEvent}))}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:refetch},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.cancelButton",{defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,onClick:handleApplyChangesEvent,isLoading:isSaving,disabled:status!=="success"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.apmIndices.applyButton",{defaultMessage:"Apply changes"}))))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"})))}const INVALID_LICENSE=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.license.text",{defaultMessage:"To create custom links, you must be subscribed to an Elastic Gold license or above. With it, you'll have the ability to create custom links to improve your workflow when analyzing your services."});function CreateCustomLinkButton({onClick:onClick}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"primary",fill:true,iconType:"plusInCircle",onClick:onClick},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.createCustomLink",{defaultMessage:"Create custom link"}))}var mustache=__webpack_require__(284);var mustache_default=__webpack_require__.n(mustache);const FILTER_OPTIONS=[elasticsearch_fieldnames["i"],elasticsearch_fieldnames["h"],elasticsearch_fieldnames["t"],elasticsearch_fieldnames["r"]];const DEFAULT_OPTION={value:"DEFAULT",text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyOut.filters.defaultOption",{defaultMessage:"Select field..."})};const FILTER_SELECT_OPTIONS=[DEFAULT_OPTION,...FILTER_OPTIONS.map(filter=>({value:filter,text:filter}))];const getSelectOptions=(filters,selectedKey)=>FILTER_SELECT_OPTIONS.filter(({value:value})=>!filters.some(({key:key})=>key===value&&key!==selectedKey));const getInvalidTemplateVariables=(template,transaction)=>mustache_default.a.parse(template).filter(([type])=>type==="name").map(([,value])=>value).filter(templateVar=>Object(external_kbnSharedDeps_Lodash_["get"])(transaction,templateVar)==null);const validateUrl=(url,transaction)=>{if(!transaction||Object(external_kbnSharedDeps_Lodash_["isEmpty"])(transaction)){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.preview.transaction.notFound",{defaultMessage:"We couldn't find a matching transaction document based on the defined filters."})}try{const invalidVariables=getInvalidTemplateVariables(url,transaction);if(!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(invalidVariables)){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.preview.contextVariable.noMatch",{defaultMessage:"We couldn't find a value match for {variables} in the example transaction document.",values:{variables:invalidVariables.map(variable=>"{{".concat(variable,"}}")).join(", ")}})}}catch(e){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.preview.contextVariable.invalid",{defaultMessage:"We couldn't find an example transaction document due to invalid variable(s) defined."})}};const replaceTemplateVariables=(url,transaction)=>{const error=validateUrl(url,transaction);try{return{formattedUrl:mustache_default.a.render(url,transaction),error:error}}catch(e){return{formattedUrl:url,error:error}}};const convertFiltersToQuery=filters=>filters.reduce((acc,{key:key,value:value})=>{if(key&&value){acc[key]=value}return acc},{});function FiltersSection({filters:filters,onChangeFilters:onChangeFilters}){const onChangeFilter=(key,value,idx)=>{const newFilters=[...filters];newFilters[idx]={key:key,value:value};onChangeFilters(newFilters)};const onRemoveFilter=idx=>{const newFilters=[...filters];newFilters.splice(idx,1);if(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(newFilters)){onChangeFilters([{key:"",value:""}])}else{onChangeFilters(newFilters)}};const handleAddFilter=()=>{onChangeFilters([...filters,{key:"",value:""}])};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.filters.title",{defaultMessage:"Filters"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.filters.subtitle",{defaultMessage:"Use the filter options to scope them to only appear for specific services."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),filters.map((filter,idx)=>{const key=filter.key,value=filter.value;const filterId="filter-".concat(idx);const selectOptions=getSelectOptions(filters,key);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{key:filterId,gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{"data-test-subj":filterId,id:filterId,fullWidth:true,options:selectOptions,value:key,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.filters.prepend",{defaultMessage:"Field"}),onChange:e=>onChangeFilter(e.target.value,value,idx),isInvalid:!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(value)&&(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(key)||key===DEFAULT_OPTION.value)})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{"data-test-subj":"".concat(key,".value"),fullWidth:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyOut.filters.defaultOption.value",{defaultMessage:"Value"}),onChange:e=>onChangeFilter(key,e.target.value,idx),value:value,isInvalid:!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(key)&&Object(external_kbnSharedDeps_Lodash_["isEmpty"])(value)})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"trash",onClick:()=>onRemoveFilter(idx),disabled:!value&&!key&&filters.length===1})))}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(AddFilterButton,{onClick:handleAddFilter,isDisabled:filters.length===FILTER_SELECT_OPTIONS.length-1}))}function AddFilterButton({onClick:onClick,isDisabled:isDisabled}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"plusInCircle",onClick:onClick,disabled:isDisabled},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.filters.addAnotherFilter",{defaultMessage:"Add another filter"}))}function DeleteButton_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function DeleteButton_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){DeleteButton_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){DeleteButton_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function DeleteButton_slicedToArray(arr,i){return DeleteButton_arrayWithHoles(arr)||DeleteButton_iterableToArrayLimit(arr,i)||DeleteButton_unsupportedIterableToArray(arr,i)||DeleteButton_nonIterableRest()}function DeleteButton_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function DeleteButton_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return DeleteButton_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DeleteButton_arrayLikeToArray(o,minLen)}function DeleteButton_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DeleteButton_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function DeleteButton_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DeleteButton({onDelete:onDelete,customLinkId:customLinkId}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=DeleteButton_slicedToArray(_useState,2),isDeleting=_useState2[0],setIsDeleting=_useState2[1];const toasts=Object(useApmPluginContext["a"])().core.notifications.toasts;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{color:"danger",isLoading:isDeleting,iconSide:"right",onClick:DeleteButton_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsDeleting(true);_context.next=3;return DeleteButton_deleteConfig(customLinkId,toasts);case 3:setIsDeleting(false);onDelete();case 5:case"end":return _context.stop()}}),_callee)}))),style:{marginRight:Object(variables["px"])(variables["unit"])}},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.delete",{defaultMessage:"Delete"}))}function DeleteButton_deleteConfig(_x,_x2){return CreateEditCustomLinkFlyout_DeleteButton_deleteConfig.apply(this,arguments)}function CreateEditCustomLinkFlyout_DeleteButton_deleteConfig(){CreateEditCustomLinkFlyout_DeleteButton_deleteConfig=DeleteButton_asyncToGenerator(regeneratorRuntime.mark((function _callee2(customLinkId,toasts){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Object(createCallApmApi["a"])({endpoint:"DELETE /api/apm/settings/custom_links/{id}",params:{path:{id:customLinkId}}});case 3:toasts.addSuccess({iconType:"trash",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.delete.successed",{defaultMessage:"Deleted custom link."})});_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);toasts.addDanger({iconType:"cross",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.delete.failed",{defaultMessage:"Custom link could not be deleted"})});case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,6]])})));return CreateEditCustomLinkFlyout_DeleteButton_deleteConfig.apply(this,arguments)}function FlyoutFooter({onClose:onClose,isSaving:isSaving,onDelete:onDelete,customLinkId:customLinkId,isSaveButtonEnabled:isSaveButtonEnabled}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",onClick:onClose,flush:"left"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.close",{defaultMessage:"Close"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{display:"block"}},customLinkId&&external_kbnSharedDeps_React_default.a.createElement(DeleteButton,{customLinkId:customLinkId,onDelete:onDelete}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,type:"submit",isLoading:isSaving,isDisabled:!isSaveButtonEnabled},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.save",{defaultMessage:"Save"})))))}function Documentation({label:label}){return external_kbnSharedDeps_React_default.a.createElement(ElasticDocsLink,{section:"/kibana",path:"/custom-links.html",target:"_blank"},label)}function LinkSection({label:label,onChangeLabel:onChangeLabel,url:url,onChangeUrl:onChangeUrl}){const inputFields=[{name:"label",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.link.label",{defaultMessage:"Label"}),helpText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.link.label.helpText",{defaultMessage:"This is the label shown in the actions context menu. Keep it as short as possible."}),placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.link.label.placeholder",{defaultMessage:"e.g. Support tickets"}),value:label,onChange:onChangeLabel},{name:"url",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.link.url",{defaultMessage:"URL"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.link.url.helpText",{defaultMessage:"Add field name variables to your URL to apply values e.g. {sample}.",values:{sample:"{{trace.id}}"}})," ",external_kbnSharedDeps_React_default.a.createElement(Documentation,{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.link.url.doc",{defaultMessage:"Learn more in the docs."})})),placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.link.url.placeholder",{defaultMessage:"e.g. https://www.elastic.co/"}),value:url,onChange:onChangeUrl}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.action.title",{defaultMessage:"Link"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),inputFields.map(field=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,key:field.name,label:field.label,helpText:field.helpText,labelAppend:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.required",{defaultMessage:"Required"}))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{placeholder:field.placeholder,name:field.name,fullWidth:true,value:field.value,onChange:e=>field.onChange(e.target.value),"data-test-subj":field.name}))))}function saveCustomLink_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function saveCustomLink_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){saveCustomLink_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){saveCustomLink_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function saveCustomLink(_x){return _saveCustomLink.apply(this,arguments)}function _saveCustomLink(){_saveCustomLink=saveCustomLink_asyncToGenerator(regeneratorRuntime.mark((function _callee({id:id,label:label,url:url,filters:filters,toasts:toasts}){var customLink;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;customLink={label:label,url:url,filters:filters.filter(({key:key,value:value})=>key&&value)};if(!id){_context.next=7;break}_context.next=5;return Object(createCallApmApi["a"])({endpoint:"PUT /api/apm/settings/custom_links/{id}",params:{path:{id:id},body:customLink}});case 5:_context.next=9;break;case 7:_context.next=9;return Object(createCallApmApi["a"])({endpoint:"POST /api/apm/settings/custom_links",params:{body:customLink}});case 9:toasts.addSuccess({iconType:"check",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.create.successed",{defaultMessage:"Link saved!"})});_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.create.failed",{defaultMessage:"Link could not be saved!"}),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.create.failed.message",{defaultMessage:'Something went wrong when saving the link. Error: "{errorMessage}"',values:{errorMessage:_context.t0.message}})});case 15:case"end":return _context.stop()}}),_callee,null,[[0,12]])})));return _saveCustomLink.apply(this,arguments)}function LinkPreview_slicedToArray(arr,i){return LinkPreview_arrayWithHoles(arr)||LinkPreview_iterableToArrayLimit(arr,i)||LinkPreview_unsupportedIterableToArray(arr,i)||LinkPreview_nonIterableRest()}function LinkPreview_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function LinkPreview_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return LinkPreview_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LinkPreview_arrayLikeToArray(o,minLen)}function LinkPreview_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function LinkPreview_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function LinkPreview_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function LinkPreview_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function LinkPreview_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){LinkPreview_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){LinkPreview_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const fetchTransaction=Object(external_kbnSharedDeps_Lodash_["debounce"])(function(){var _ref=LinkPreview_asyncToGenerator(regeneratorRuntime.mark((function _callee(filters,callback){var transaction;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Object(createCallApmApi["a"])({endpoint:"GET /api/apm/settings/custom_links/transaction",params:{query:convertFiltersToQuery(filters)}});case 2:transaction=_context.sent;callback(transaction);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),1e3);const getTextColor=value=>value?"default":"subdued";function LinkPreview({label:label,url:url,filters:filters}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(),_useState2=LinkPreview_slicedToArray(_useState,2),transaction=_useState2[0],setTransaction=_useState2[1];Object(external_kbnSharedDeps_React_["useEffect"])(()=>{let isUnmounted=false;fetchTransaction(filters,_transaction=>{if(!isUnmounted){setTransaction(_transaction)}});return()=>{isUnmounted=true}},[filters]);const _replaceTemplateVaria=replaceTemplateVariables(url,transaction),formattedUrl=_replaceTemplateVaria.formattedUrl,error=_replaceTemplateVaria.error;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{betaBadgeLabel:"Preview",paddingSize:"l"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:getTextColor(label),className:"eui-textBreakWord","data-test-subj":"preview-label"},label?label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.default.label",{defaultMessage:"Elastic.co"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:getTextColor(url),className:"eui-textBreakWord","data-test-subj":"preview-url"},url?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:formattedUrl,target:"_blank","data-test-subj":"preview-link"},formattedUrl):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.default.url",{defaultMessage:"https://www.elastic.co"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.linkPreview.descrition",{defaultMessage:"Test your link with values from an example transaction document based on the filters above."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},error&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:error},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"alert",color:"warning","data-test-subj":"preview-warning"})))))}function CreateEditCustomLinkFlyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function CreateEditCustomLinkFlyout_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){CreateEditCustomLinkFlyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){CreateEditCustomLinkFlyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function CreateEditCustomLinkFlyout_slicedToArray(arr,i){return CreateEditCustomLinkFlyout_arrayWithHoles(arr)||CreateEditCustomLinkFlyout_iterableToArrayLimit(arr,i)||CreateEditCustomLinkFlyout_unsupportedIterableToArray(arr,i)||CreateEditCustomLinkFlyout_nonIterableRest()}function CreateEditCustomLinkFlyout_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CreateEditCustomLinkFlyout_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return CreateEditCustomLinkFlyout_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CreateEditCustomLinkFlyout_arrayLikeToArray(o,minLen)}function CreateEditCustomLinkFlyout_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CreateEditCustomLinkFlyout_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function CreateEditCustomLinkFlyout_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const filtersEmptyState=[{key:"",value:""}];function CreateEditCustomLinkFlyout({onClose:onClose,onSave:onSave,onDelete:onDelete,defaults:defaults,customLinkId:customLinkId}){var _defaults$filters;const toasts=Object(useApmPluginContext["a"])().core.notifications.toasts;const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=CreateEditCustomLinkFlyout_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])((defaults===null||defaults===void 0?void 0:defaults.label)||""),_useState4=CreateEditCustomLinkFlyout_slicedToArray(_useState3,2),label=_useState4[0],setLabel=_useState4[1];const _useState5=Object(external_kbnSharedDeps_React_["useState"])((defaults===null||defaults===void 0?void 0:defaults.url)||""),_useState6=CreateEditCustomLinkFlyout_slicedToArray(_useState5,2),url=_useState6[0],setUrl=_useState6[1];const _useState7=Object(external_kbnSharedDeps_React_["useState"])((defaults===null||defaults===void 0?void 0:(_defaults$filters=defaults.filters)===null||_defaults$filters===void 0?void 0:_defaults$filters.length)?defaults.filters:filtersEmptyState),_useState8=CreateEditCustomLinkFlyout_slicedToArray(_useState7,2),filters=_useState8[0],setFilters=_useState8[1];const isFormValid=!!label&&!!url;const onSubmit=function(){var _ref=CreateEditCustomLinkFlyout_asyncToGenerator(regeneratorRuntime.mark((function _callee(event){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();setIsSaving(true);_context.next=4;return saveCustomLink({id:customLinkId,label:label,url:url,filters:filters,toasts:toasts});case 4:setIsSaving(false);onSave();case 6:case"end":return _context.stop()}}),_callee)})));return function onSubmit(_x){return _ref.apply(this,arguments)}}();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPortal"],null,external_kbnSharedDeps_React_default.a.createElement("form",{onSubmit:onSubmit},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{ownFocus:true,onClose:onClose,size:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.title",{defaultMessage:"Create link"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.label",{defaultMessage:"Links will be available in the context of transaction details throughout the APM app. You can create an unlimited number of links. You can refer to dynamic variables by using any of the transaction metadata to fill in your URLs. More information, including examples, are available in the"})," ",external_kbnSharedDeps_React_default.a.createElement(Documentation,{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.flyout.label.doc",{defaultMessage:"documentation."})}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(LinkSection,{label:label,onChangeLabel:setLabel,url:url,onChangeUrl:setUrl}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(FiltersSection,{filters:filters,onChangeFilters:setFilters}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(LinkPreview,{label:label,url:url,filters:filters})),external_kbnSharedDeps_React_default.a.createElement(FlyoutFooter,{isSaveButtonEnabled:isFormValid,onClose:onClose,isSaving:isSaving,onDelete:onDelete,customLinkId:customLinkId}))))}function CustomLinkTable_slicedToArray(arr,i){return CustomLinkTable_arrayWithHoles(arr)||CustomLinkTable_iterableToArrayLimit(arr,i)||CustomLinkTable_unsupportedIterableToArray(arr,i)||CustomLinkTable_nonIterableRest()}function CustomLinkTable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CustomLinkTable_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return CustomLinkTable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CustomLinkTable_arrayLikeToArray(o,minLen)}function CustomLinkTable_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CustomLinkTable_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function CustomLinkTable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function CustomLinkTable({items:items=[],onCustomLinkSelected:onCustomLinkSelected}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(""),_useState2=CustomLinkTable_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];const columns=[{field:"label",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.table.name",{defaultMessage:"Name"}),truncateText:true},{field:"url",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.table.url",{defaultMessage:"URL"}),truncateText:true},{width:Object(variables["px"])(160),align:"right",field:"@timestamp",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.table.lastUpdated",{defaultMessage:"Last updated"}),sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement(TimestampTooltip,{time:value,timeUnit:"minutes"})},{width:Object(variables["px"])(variables["units"].triple),name:"",actions:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.table.editButtonLabel",{defaultMessage:"Edit"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.table.editButtonDescription",{defaultMessage:"Edit this custom link"}),icon:"pencil",color:"primary",type:"icon",onClick:customLink=>{onCustomLinkSelected(customLink)}}]}];const filteredItems=items.filter(({label:label,url:url})=>label.toLowerCase().includes(searchTerm)||url.toLowerCase().includes(searchTerm));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{fullWidth:true,onChange:e=>setSearchTerm(e.target.value),placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.searchInput.filter",{defaultMessage:"Filter links by Name and URL..."})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(ManagedTable,{noItemsMessage:Object(external_kbnSharedDeps_Lodash_["isEmpty"])(items)?external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null):external_kbnSharedDeps_React_default.a.createElement(CustomLinkTable_NoResultFound,{value:searchTerm}),items:filteredItems,columns:columns,initialPageSize:10,initialSortField:"@timestamp",initialSortDirection:"desc"}))}function CustomLinkTable_NoResultFound({value:value}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.table.noResultFound",{defaultMessage:'No results for "{value}".',values:{value:value}}))))}function EmptyPrompt_EmptyPrompt({onCreateCustomLinkClick:onCreateCustomLinkClick}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"link",iconColor:"",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.emptyPromptTitle",{defaultMessage:"No links found."})),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.emptyPromptText",{defaultMessage:"Let's change that! You can add custom links to the Actions context menu by the transaction details for each service. Create a helpful link to your company's support portal or open a new bug report. Learn more about it in our docs."}))),actions:external_kbnSharedDeps_React_default.a.createElement(CreateCustomLinkButton,{onClick:onCreateCustomLinkClick})})}function CustomLink_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function CustomLink_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){CustomLink_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){CustomLink_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function CustomLink_slicedToArray(arr,i){return CustomLink_arrayWithHoles(arr)||CustomLink_iterableToArrayLimit(arr,i)||CustomLink_unsupportedIterableToArray(arr,i)||CustomLink_nonIterableRest()}function CustomLink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CustomLink_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return CustomLink_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CustomLink_arrayLikeToArray(o,minLen)}function CustomLink_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CustomLink_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function CustomLink_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function CustomLinkOverview(){const license=useLicense();const hasValidLicense=(license===null||license===void 0?void 0:license.isActive)&&(license===null||license===void 0?void 0:license.hasAtLeast("gold"));const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=CustomLink_slicedToArray(_useState,2),isFlyoutOpen=_useState2[0],setIsFlyoutOpen=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])(),_useState4=CustomLink_slicedToArray(_useState3,2),customLinkSelected=_useState4[0],setCustomLinkSelected=_useState4[1];const _useFetcher=Object(useFetcher["b"])(function(){var _ref=CustomLink_asyncToGenerator(regeneratorRuntime.mark((function _callee(callApmApi){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!hasValidLicense){_context.next=2;break}return _context.abrupt("return",callApmApi({endpoint:"GET /api/apm/settings/custom_links"}));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[hasValidLicense]),_useFetcher$data=_useFetcher.data,customLinks=_useFetcher$data===void 0?[]:_useFetcher$data,status=_useFetcher.status,refetch=_useFetcher.refetch;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(customLinkSelected){setIsFlyoutOpen(true)}},[customLinkSelected]);const onCloseFlyout=()=>{setCustomLinkSelected(undefined);setIsFlyoutOpen(false)};const onCreateCustomLinkClick=()=>{setIsFlyoutOpen(true)};const showEmptyPrompt=status===useFetcher["a"].SUCCESS&&Object(external_kbnSharedDeps_Lodash_["isEmpty"])(customLinks);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,isFlyoutOpen&&external_kbnSharedDeps_React_default.a.createElement(CreateEditCustomLinkFlyout,{onClose:onCloseFlyout,defaults:customLinkSelected,customLinkId:customLinkSelected===null||customLinkSelected===void 0?void 0:customLinkSelected.id,onSave:()=>{onCloseFlyout();refetch()},onDelete:()=>{onCloseFlyout();refetch()}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"s",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink",{defaultMessage:"Custom Links"})))))))),hasValidLicense&&!showEmptyPrompt&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(CreateCustomLinkButton,{onClick:onCreateCustomLinkClick}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeUI.customLink.info",{defaultMessage:"These links will be shown in the Actions context menu for transactions."})),hasValidLicense?showEmptyPrompt?external_kbnSharedDeps_React_default.a.createElement(EmptyPrompt_EmptyPrompt,{onCreateCustomLinkClick:onCreateCustomLinkClick}):external_kbnSharedDeps_React_default.a.createElement(CustomLinkTable,{items:customLinks,onCustomLinkSelected:setCustomLinkSelected}):external_kbnSharedDeps_React_default.a.createElement(LicensePrompt,{text:INVALID_LICENSE})))}function CustomizeUI(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.settings.customizeApp",{defaultMessage:"Customize app"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(CustomLinkOverview,null))}const getRedirectToTransactionDetailPageUrl=({transaction:transaction,rangeFrom:rangeFrom,rangeTo:rangeTo})=>Object(url_url["format"])({pathname:"/services/".concat(transaction.service.name,"/transactions/view"),query:{traceId:transaction.trace.id,transactionId:transaction.transaction.id,transactionName:transaction.transaction.name,transactionType:transaction.transaction.type,rangeFrom:rangeFrom||roundToNearestMinute({timestamp:transaction["@timestamp"],direction:"down"}),rangeTo:rangeTo||roundToNearestMinute({timestamp:transaction["@timestamp"],diff:transaction.transaction.duration.us/1e3,direction:"up"})}});function roundToNearestMinute({timestamp:timestamp,diff:diff=0,direction:direction="up"}){const date=new Date(timestamp);const fiveMinutes=1e3*60*5;const ms=date.getTime()+diff;return new Date(direction==="down"?Math.floor(ms/fiveMinutes)*fiveMinutes:Math.ceil(ms/fiveMinutes)*fiveMinutes).toISOString()}const getRedirectToTracePageUrl=({traceId:traceId,rangeFrom:rangeFrom,rangeTo:rangeTo})=>Object(url_url["format"])({pathname:"/traces",query:{kuery:encodeURIComponent("".concat(elasticsearch_fieldnames["p"],' : "').concat(traceId,'"')),rangeFrom:rangeFrom,rangeTo:rangeTo}});const CentralizedContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"CentralizedContainer",componentId:"rkv897-0"})(["height:100%;display:flex;"]);function TraceLink({match:match}){const traceId=match.params.traceId;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const rangeFrom=urlParams.rangeFrom,rangeTo=urlParams.rangeTo;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(traceId){return callApmApi({endpoint:"GET /api/apm/transaction/{traceId}",params:{path:{traceId:traceId}}})}},[traceId]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?{transaction:null}:_useFetcher$data,status=_useFetcher.status;if(traceId&&status===useFetcher["a"].SUCCESS){const to=data.transaction?getRedirectToTransactionDetailPageUrl({transaction:data.transaction,rangeFrom:rangeFrom,rangeTo:rangeTo}):getRedirectToTracePageUrl({traceId:traceId,rangeFrom:rangeFrom,rangeTo:rangeTo});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Redirect"],{to:to})}return external_kbnSharedDeps_React_default.a.createElement(CentralizedContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"apmTrace",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,"Fetching trace...")}))}function maybe(value){return value}function useTransactionDistribution_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function useTransactionDistribution_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){useTransactionDistribution_ownKeys(Object(source),true).forEach((function(key){useTransactionDistribution_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{useTransactionDistribution_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function useTransactionDistribution_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function useTransactionDistribution_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function useTransactionDistribution_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useTransactionDistribution_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useTransactionDistribution_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const useTransactionDistribution_INITIAL_DATA={buckets:[],noHits:true,bucketSize:0};function useTransactionDistribution(urlParams){const _useParams=Object(external_kbnSharedDeps_ReactRouterDom_["useParams"])(),serviceName=_useParams.serviceName;const start=urlParams.start,end=urlParams.end,transactionType=urlParams.transactionType,transactionId=urlParams.transactionId,traceId=urlParams.traceId,transactionName=urlParams.transactionName;const uiFilters=Object(UrlParamsContext["c"])(urlParams);const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useFetcher=Object(useFetcher["b"])(function(){var _ref=useTransactionDistribution_asyncToGenerator(regeneratorRuntime.mark((function _callee(callApmApi){var response,selectedSample,_bucketsSortedByCount,bucketsSortedByCount,preferredSample;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(serviceName&&start&&end&&transactionType&&transactionName)){_context.next=7;break}_context.next=3;return callApmApi({endpoint:"GET /api/apm/services/{serviceName}/transaction_groups/distribution",params:{path:{serviceName:serviceName},query:{start:start,end:end,transactionType:transactionType,transactionName:transactionName,transactionId:transactionId,traceId:traceId,uiFilters:JSON.stringify(uiFilters)}}});case 3:response=_context.sent;selectedSample=transactionId&&traceId?Object(external_kbnSharedDeps_Lodash_["flatten"])(response.buckets.map(bucket=>bucket.samples)).find(sample=>sample.transactionId===transactionId&&sample.traceId===traceId):undefined;if(!selectedSample){bucketsSortedByCount=response.buckets.filter(bucket=>!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(bucket.samples)).sort(bucket=>bucket.count);preferredSample=maybe((_bucketsSortedByCount=bucketsSortedByCount[0])===null||_bucketsSortedByCount===void 0?void 0:_bucketsSortedByCount.samples[0]);history.replace(useTransactionDistribution_objectSpread(useTransactionDistribution_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(useTransactionDistribution_objectSpread(useTransactionDistribution_objectSpread({},Object(external_kbnSharedDeps_Lodash_["omit"])(Object(url_helpers["c"])(history.location.search),["traceId","transactionId"])),preferredSample))}))}return _context.abrupt("return",response);case 7:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[serviceName,start,end,transactionType,transactionName,uiFilters]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?useTransactionDistribution_INITIAL_DATA:_useFetcher$data,status=_useFetcher.status,error=_useFetcher.error;return{data:data,status:status,error:error}}function waterfall_helpers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function waterfall_helpers_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){waterfall_helpers_ownKeys(Object(source),true).forEach((function(key){waterfall_helpers_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{waterfall_helpers_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function waterfall_helpers_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const ROOT_ID="root";function getTransactionItem(transaction){var _transaction$parent;return{docType:"transaction",doc:transaction,id:transaction.transaction.id,parentId:(_transaction$parent=transaction.parent)===null||_transaction$parent===void 0?void 0:_transaction$parent.id,duration:transaction.transaction.duration.us,offset:0,skew:0}}function getSpanItem(span){var _span$parent;return{docType:"span",doc:span,id:span.span.id,parentId:(_span$parent=span.parent)===null||_span$parent===void 0?void 0:_span$parent.id,duration:span.span.duration.us,offset:0,skew:0}}function getErrorItem(error,items,entryWaterfallTransaction){var _entryWaterfallTransa;const entryTimestamp=(_entryWaterfallTransa=entryWaterfallTransaction===null||entryWaterfallTransaction===void 0?void 0:entryWaterfallTransaction.doc.timestamp.us)!==null&&_entryWaterfallTransa!==void 0?_entryWaterfallTransa:0;const parent=items.find(waterfallItem=>{var _error$parent;return waterfallItem.id===((_error$parent=error.parent)===null||_error$parent===void 0?void 0:_error$parent.id)});const errorItem={docType:"error",doc:error,id:error.error.id,parent:parent,parentId:parent===null||parent===void 0?void 0:parent.id,offset:error.timestamp.us-entryTimestamp,skew:0,duration:0};return waterfall_helpers_objectSpread(waterfall_helpers_objectSpread({},errorItem),{},{skew:getClockSkew(errorItem,parent)})}function getClockSkew(item,parentItem){if(!parentItem){return 0}switch(item.docType){case"error":case"span":return parentItem.skew;case"transaction":{const parentStart=parentItem.doc.timestamp.us+parentItem.skew;const offsetStart=parentStart-item.doc.timestamp.us;if(offsetStart>0){const latency=Math.max(parentItem.duration-item.duration,0)/2;return offsetStart+latency}return 0}}}function getOrderedWaterfallItems(childrenByParentId,entryWaterfallTransaction){if(!entryWaterfallTransaction){return[]}const entryTimestamp=entryWaterfallTransaction.doc.timestamp.us;const visitedWaterfallItemSet=new Set;function getSortedChildren(item,parentItem){if(visitedWaterfallItemSet.has(item)){return[]}visitedWaterfallItemSet.add(item);const children=Object(external_kbnSharedDeps_Lodash_["sortBy"])(childrenByParentId[item.id]||[],"doc.timestamp.us");item.parent=parentItem;item.offset=item.doc.timestamp.us-entryTimestamp;item.skew=getClockSkew(item,parentItem);const deepChildren=Object(external_kbnSharedDeps_Lodash_["flatten"])(children.map(child=>getSortedChildren(child,item)));return[item,...deepChildren]}return getSortedChildren(entryWaterfallTransaction)}function getRootTransaction(childrenByParentId){const item=Object(external_kbnSharedDeps_Lodash_["first"])(childrenByParentId.root);if(item&&item.docType==="transaction"){return item.doc}}function getServiceColors(waterfallItems){const services=Object(external_kbnSharedDeps_Lodash_["uniq"])(waterfallItems.map(item=>item.doc.service.name));const assignedColors=[external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis1,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis0,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis3,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis2,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis6,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis7,external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorVis5];return Object(external_kbnSharedDeps_Lodash_["zipObject"])(services,assignedColors)}const getWaterfallDuration=waterfallItems=>Math.max(...waterfallItems.map(item=>item.offset+item.skew+item.duration),0);const getWaterfallItems=items=>items.map(item=>{const docType=item.processor.event;switch(docType){case"span":return getSpanItem(item);case"transaction":return getTransactionItem(item)}});function reparentSpans(waterfallItems){const childIdToParentIdMapping=Object.fromEntries(Object(external_kbnSharedDeps_Lodash_["flatten"])(waterfallItems.map(waterfallItem=>{if(waterfallItem.docType==="span"){var _waterfallItem$doc$ch,_waterfallItem$doc$ch2;const childIds=(_waterfallItem$doc$ch=(_waterfallItem$doc$ch2=waterfallItem.doc.child)===null||_waterfallItem$doc$ch2===void 0?void 0:_waterfallItem$doc$ch2.id)!==null&&_waterfallItem$doc$ch!==void 0?_waterfallItem$doc$ch:[];return childIds.map(id=>[id,waterfallItem.id])}return[]})));return waterfallItems.map(waterfallItem=>{const newParentId=childIdToParentIdMapping[waterfallItem.id];if(newParentId){return waterfall_helpers_objectSpread(waterfall_helpers_objectSpread({},waterfallItem),{},{parentId:newParentId})}return waterfallItem})}const getChildrenGroupedByParentId=waterfallItems=>Object(external_kbnSharedDeps_Lodash_["groupBy"])(waterfallItems,item=>item.parentId?item.parentId:ROOT_ID);const getEntryWaterfallTransaction=(entryTransactionId,waterfallItems)=>waterfallItems.find(item=>item.docType==="transaction"&&item.id===entryTransactionId);function isInEntryTransaction(parentIdLookup,entryTransactionId,currentId){if(currentId===entryTransactionId){return true}const parentId=parentIdLookup.get(currentId);if(parentId){return isInEntryTransaction(parentIdLookup,entryTransactionId,parentId)}return false}function getWaterfallErrors(errorDocs,items,entryWaterfallTransaction){const errorItems=errorDocs.map(errorDoc=>getErrorItem(errorDoc,items,entryWaterfallTransaction));if(!entryWaterfallTransaction){return errorItems}const parentIdLookup=[...items,...errorItems].reduce((map,{id:id,parentId:parentId})=>{map.set(id,parentId!==null&&parentId!==void 0?parentId:ROOT_ID);return map},new Map);return errorItems.filter(errorItem=>isInEntryTransaction(parentIdLookup,entryWaterfallTransaction===null||entryWaterfallTransaction===void 0?void 0:entryWaterfallTransaction.id,errorItem.id))}function getWaterfall({trace:trace,errorsPerTransaction:errorsPerTransaction},entryTransactionId){if(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(trace.items)||!entryTransactionId){return{duration:0,items:[],errorsPerTransaction:errorsPerTransaction,errorsCount:Object(external_kbnSharedDeps_Lodash_["sum"])(Object.values(errorsPerTransaction)),serviceColors:{},errorItems:[],childrenByParentId:{}}}const waterfallItems=getWaterfallItems(trace.items);const childrenByParentId=getChildrenGroupedByParentId(reparentSpans(waterfallItems));const entryWaterfallTransaction=getEntryWaterfallTransaction(entryTransactionId,waterfallItems);const items=getOrderedWaterfallItems(childrenByParentId,entryWaterfallTransaction);const errorItems=getWaterfallErrors(trace.errorDocs,items,entryWaterfallTransaction);const rootTransaction=getRootTransaction(childrenByParentId);const duration=getWaterfallDuration(items);const serviceColors=getServiceColors(items);return{entryWaterfallTransaction:entryWaterfallTransaction,rootTransaction:rootTransaction,duration:duration,items:items,errorsPerTransaction:errorsPerTransaction,errorsCount:errorItems.length,serviceColors:serviceColors,errorItems:errorItems,childrenByParentId:getChildrenGroupedByParentId(items)}}const useWaterfall_INITIAL_DATA={root:undefined,trace:{items:[],exceedsMax:false,errorDocs:[]},errorsPerTransaction:{}};function useWaterfall(urlParams){const traceId=urlParams.traceId,start=urlParams.start,end=urlParams.end,transactionId=urlParams.transactionId;const _useFetcher=Object(useFetcher["b"])(callApmApi=>{if(traceId&&start&&end){return callApmApi({endpoint:"GET /api/apm/traces/{traceId}",params:{path:{traceId:traceId},query:{start:start,end:end}}})}},[traceId,start,end]),_useFetcher$data=_useFetcher.data,data=_useFetcher$data===void 0?useWaterfall_INITIAL_DATA:_useFetcher$data,status=_useFetcher.status,error=_useFetcher.error;const waterfall=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getWaterfall(data,transactionId),[data,transactionId]);return{waterfall:waterfall,status:status,error:error,exceedsMax:data.trace.exceedsMax}}function Distribution_getFormattedBuckets(buckets,bucketSize){if(!buckets||!bucketSize){return[]}return buckets.map(({samples:samples,count:count,key:key})=>({x0:key,x:key+bucketSize,y:count,style:{cursor:Object(external_kbnSharedDeps_Lodash_["isEmpty"])(samples)?"default":"pointer"}}))}const formatYShort=t=>external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transactionsDurationDistributionChart.unitShortLabel",{defaultMessage:"{transCount} trans.",values:{transCount:t}});const formatYLong=t=>external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transactionsDurationDistributionChart.transactionTypeUnitLongLabel",{defaultMessage:"{transCount, plural, =0 {transactions} one {transaction} other {transactions}}",values:{transCount:t}});function TransactionDistribution({distribution:distribution,urlParams:{transactionType:transactionType},fetchStatus:fetchStatus,bucketIndex:bucketIndex,onBucketClick:onBucketClick}){const theme=Object(public_["useTheme"])();if((!distribution||distribution.noHits)&&fetchStatus!==useFetcher["a"].LOADING){return external_kbnSharedDeps_React_default.a.createElement(EmptyMessage,{heading:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.notFoundLabel",{defaultMessage:"No transactions were found."})})}const buckets=Distribution_getFormattedBuckets(distribution===null||distribution===void 0?void 0:distribution.buckets,distribution===null||distribution===void 0?void 0:distribution.bucketSize);const xMin=d3_default.a.min(buckets,d=>d.x0)||0;const xMax=d3_default.a.max(buckets,d=>d.x0)||0;const timeFormatter=getDurationFormatter(xMax);const tooltipProps={headerFormatter:tooltip=>{const serie=buckets.find(bucket=>bucket.x0===tooltip.value);if(serie){const xFormatted=timeFormatter(serie.x);const x0Formatted=timeFormatter(serie.x0);return"".concat(x0Formatted.value," - ").concat(xFormatted.value," ").concat(xFormatted.unit)}return"".concat(timeFormatter(tooltip.value))}};const onBarClick=elements=>{const chartPoint=elements[0][0];const clickedBucket=distribution===null||distribution===void 0?void 0:distribution.buckets.find(bucket=>bucket.key===chartPoint.x);if(clickedBucket){onBucketClick(clickedBucket)}};const selectedBucket=buckets[bucketIndex];return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transactionsDurationDistributionChartTitle",{defaultMessage:"Transactions duration distribution"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transactionsDurationDistributionChartTooltip.samplingLabel",{defaultMessage:"Sampling"}),content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transactionsDurationDistributionChartTooltip.samplingDescription",{defaultMessage:"Each bucket will show a sample transaction. If there's no sample available, it's most likely because of the sampling limit set in the agent configuration."}),position:"top"}))),external_kbnSharedDeps_React_default.a.createElement(ChartContainer,{height:variables["unit"]*10,hasData:!!(distribution&&!distribution.noHits),status:fetchStatus},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{xDomain:{min:xMin,max:xMax},tooltip:tooltipProps,onElementClick:onBarClick}),selectedBucket&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["RectAnnotation"],{id:"highlighted_bucket",dataValues:[{coordinates:{x0:selectedBucket.x0,x1:selectedBucket.x}}],style:{fill:"transparent",strokeWidth:1,stroke:theme.eui.euiColorVis1,opacity:1}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"x-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,showOverlappingTicks:true,tickFormat:time=>timeFormatter(time).formatted}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"y-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,ticks:3,gridLine:{visible:true},tickFormat:value=>formatYShort(value)}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["HistogramBarSeries"],{tickFormat:value=>value,minBarHeight:2,id:"transactionDurationDistribution",name:series=>{const bucketCount=series.splitAccessors.get(series.yAccessor);return formatYLong(bucketCount)},splitSeriesAccessors:["y"],xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x0",yAccessors:["y"],data:buckets,color:theme.eui.euiColorVis1}))))}function PercentOfParent({duration:duration,totalDuration:totalDuration,parentType:parentType}){totalDuration=totalDuration||duration;const isOver100=duration>totalDuration;const percentOfParent=isOver100?">100%":asPercent(duration,totalDuration,"");const percentOfParentText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.percentOfParent",{defaultMessage:"({value} of {parentType, select, transaction { transaction } trace {trace} })",values:{value:percentOfParent,parentType:parentType}});const childType=parentType==="trace"?"transaction":"span";return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,isOver100?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.percentOfTraceLabelExplanation",{defaultMessage:"The % of {parentType, select, transaction {transaction} trace {trace} } exceeds 100% because this {childType, select, span {span} transaction {transaction} } takes longer than the root transaction.",values:{parentType:parentType,childType:childType}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,percentOfParentText)):percentOfParentText)}function DurationSummaryItem({duration:duration,totalDuration:totalDuration,parentType:parentType}){const calculatedTotalDuration=totalDuration===undefined?duration:totalDuration;const label=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDurationLabel",{defaultMessage:"Duration"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:label},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,asDuration(duration)))," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(PercentOfParent,{duration:duration,totalDuration:calculatedTotalDuration,parentType:parentType})))}const Badge=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiBadge"]).withConfig({displayName:"Badge",componentId:"yz4w2b-0"})(["margin-top:",";"],Object(variables["px"])(variables["units"].eighth));function ErrorCountSummaryItemBadge({count:count}){const theme=useTheme();return external_kbnSharedDeps_React_default.a.createElement(Badge,{color:theme.eui.euiColorDanger},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.errorCount",{defaultMessage:"{errorCount, number} {errorCount, plural, one {Error} other {Errors}}",values:{errorCount:count}}))}function TransactionResultSummaryItem({transactionResult:transactionResult}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.resultLabel",{defaultMessage:"Result"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"default",title:undefined},transactionResult))}function getTransactionResultSummaryItem(transaction){var _transaction$transact,_transaction$url;const result=transaction.transaction.result;const isRumAgent=Object(agent_name["e"])(transaction.agent.name);const url=isRumAgent?(_transaction$transact=transaction.transaction.page)===null||_transaction$transact===void 0?void 0:_transaction$transact.url:(_transaction$url=transaction.url)===null||_transaction$url===void 0?void 0:_transaction$url.full;if(url){var _transaction$http,_transaction$http$req,_transaction$http2,_transaction$http2$re;const method=(_transaction$http=transaction.http)===null||_transaction$http===void 0?void 0:(_transaction$http$req=_transaction$http.request)===null||_transaction$http$req===void 0?void 0:_transaction$http$req.method;const status=(_transaction$http2=transaction.http)===null||_transaction$http2===void 0?void 0:(_transaction$http2$re=_transaction$http2.response)===null||_transaction$http2$re===void 0?void 0:_transaction$http2$re.status_code;return external_kbnSharedDeps_React_default.a.createElement(HttpInfoSummaryItem,{method:method,status:status,url:url})}if(result){return external_kbnSharedDeps_React_default.a.createElement(TransactionResultSummaryItem,{transactionResult:result})}return null}function TransactionSummary({transaction:transaction,totalDuration:totalDuration,errorCount:errorCount}){const items=[external_kbnSharedDeps_React_default.a.createElement(TimestampTooltip,{time:transaction.timestamp.us/1e3}),external_kbnSharedDeps_React_default.a.createElement(DurationSummaryItem,{duration:transaction.transaction.duration.us,totalDuration:totalDuration,parentType:"trace"}),getTransactionResultSummaryItem(transaction),errorCount?external_kbnSharedDeps_React_default.a.createElement(ErrorCountSummaryItemBadge,{count:errorCount}):null,transaction.user_agent?external_kbnSharedDeps_React_default.a.createElement(UserAgentSummaryItem,transaction.user_agent):null];return external_kbnSharedDeps_React_default.a.createElement(Summary,{items:items})}function CustomLinkList({customLinks:customLinks,transaction:transaction}){return external_kbnSharedDeps_React_default.a.createElement(public_["SectionLinks"],{style:{maxHeight:Object(variables["px"])(variables["unit"]*10),overflowY:"auto"}},customLinks.map(link=>{const href=getHref(link,transaction);return external_kbnSharedDeps_React_default.a.createElement(public_["SectionLink"],{key:link.id,label:link.label,href:href,target:"_blank"})}))}function getHref(link,transaction){try{return mustache_default.a.render(link.url,transaction)}catch(e){return link.url}}function CustomLinkToolbar({onClickCreate:onClickCreate,showCreateButton:showCreateButton=true}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd",gutterSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{justifyContent:"center"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.customLink.buttom.manage",{defaultMessage:"Manage custom links"})},external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],{path:"/settings/customize-ui"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"gear",color:"text","aria-label":"Custom links settings page"})))),showCreateButton&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"plusInCircle",size:"xs",onClick:onClickCreate},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.customLink.buttom.create.title",{defaultMessage:"Create"}))))))}function CustomLinkMenuSection_slicedToArray(arr,i){return CustomLinkMenuSection_arrayWithHoles(arr)||CustomLinkMenuSection_iterableToArrayLimit(arr,i)||CustomLinkMenuSection_unsupportedIterableToArray(arr,i)||CustomLinkMenuSection_nonIterableRest()}function CustomLinkMenuSection_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CustomLinkMenuSection_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return CustomLinkMenuSection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CustomLinkMenuSection_arrayLikeToArray(o,minLen)}function CustomLinkMenuSection_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CustomLinkMenuSection_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function CustomLinkMenuSection_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const DEFAULT_LINKS_TO_SHOW=3;function CustomLinkMenuSection({transaction:transaction}){const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=CustomLinkMenuSection_slicedToArray(_useState,2),showAllLinks=_useState2[0],setShowAllLinks=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])(false),_useState4=CustomLinkMenuSection_slicedToArray(_useState3,2),isCreateEditFlyoutOpen=_useState4[0],setIsCreateEditFlyoutOpen=_useState4[1];const filters=Object(external_kbnSharedDeps_React_["useMemo"])(()=>[{key:"service.name",value:transaction===null||transaction===void 0?void 0:transaction.service.name},{key:"service.environment",value:transaction===null||transaction===void 0?void 0:transaction.service.environment},{key:"transaction.name",value:transaction===null||transaction===void 0?void 0:transaction.transaction.name},{key:"transaction.type",value:transaction===null||transaction===void 0?void 0:transaction.transaction.type}].filter(filter=>typeof filter.value==="string"),[transaction]);const _useFetcher=Object(useFetcher["b"])(callApmApi=>callApmApi({isCachable:true,endpoint:"GET /api/apm/settings/custom_links",params:{query:convertFiltersToQuery(filters)}}),[filters]),_useFetcher$data=_useFetcher.data,customLinks=_useFetcher$data===void 0?[]:_useFetcher$data,status=_useFetcher.status,refetch=_useFetcher.refetch;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,isCreateEditFlyoutOpen&&external_kbnSharedDeps_React_default.a.createElement(CreateEditCustomLinkFlyout,{defaults:{filters:filters},onClose:()=>{setIsCreateEditFlyoutOpen(false)},onSave:()=>{setIsCreateEditFlyoutOpen(false);refetch()},onDelete:()=>{setIsCreateEditFlyoutOpen(false);refetch()}}),external_kbnSharedDeps_React_default.a.createElement(public_["ActionMenuDivider"],null),external_kbnSharedDeps_React_default.a.createElement(public_["Section"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(public_["SectionTitle"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.customLink.section",{defaultMessage:"Custom Links"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(CustomLinkToolbar,{onClickCreate:()=>setIsCreateEditFlyoutOpen(true),showCreateButton:customLinks.length>0}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(public_["SectionSubtitle"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.customLink.subtitle",{defaultMessage:"Links will open in a new window."})),external_kbnSharedDeps_React_default.a.createElement(CustomLinkList,{customLinks:showAllLinks?customLinks:customLinks.slice(0,DEFAULT_LINKS_TO_SHOW),transaction:transaction}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(BottomSection,{status:status,customLinks:customLinks,showAllLinks:showAllLinks,toggleShowAll:()=>setShowAllLinks(show=>!show),onClickCreate:()=>setIsCreateEditFlyoutOpen(true)})))}function BottomSection({status:status,customLinks:customLinks,showAllLinks:showAllLinks,toggleShowAll:toggleShowAll,onClickCreate:onClickCreate}){if(status===useFetcher["a"].LOADING){return external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null)}if(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(customLinks)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs",grow:false,style:{width:Object(variables["px"])(300)}},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.customLink.empty",{defaultMessage:"No custom links found. Set up your own custom links, e.g., a link to a specific Dashboard or external link."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"plusInCircle",size:"xs",onClick:onClickCreate},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.customLink.buttom.create",{defaultMessage:"Create custom link"}))))}if(customLinks.length>DEFAULT_LINKS_TO_SHOW){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:showAllLinks?"arrowUp":"arrowDown",onClick:toggleShowAll},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},showAllLinks?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.customLink.showFewer",{defaultMessage:"Show fewer"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.customLink.showAll",{defaultMessage:"Show all"})))))}return null}function DiscoverTransactionLink_getDiscoverQuery(transaction){const transactionId=transaction.transaction.id;const traceId=transaction.trace.id;let query="".concat(elasticsearch_fieldnames["g"],':"transaction" AND ').concat(elasticsearch_fieldnames["q"],':"').concat(transactionId,'"');if(traceId){query+=" AND ".concat(elasticsearch_fieldnames["p"],':"').concat(traceId,'"')}return{_a:{interval:"auto",query:{language:"kuery",query:query}}}}function DiscoverTransactionLink({transaction:transaction,children:children}){return external_kbnSharedDeps_React_default.a.createElement(DiscoverLink,{query:DiscoverTransactionLink_getDiscoverQuery(transaction),children:children})}function InfraLink_extends(){InfraLink_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return InfraLink_extends.apply(this,arguments)}function InfraLink_objectWithoutProperties(source,excluded){if(source==null)return{};var target=InfraLink_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function InfraLink_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const getInfraHref=({app:app,basePath:basePath,query:query,path:path})=>{const nextSearch=Object(url_helpers["b"])(query);return url_default.a.format({pathname:basePath.prepend("/app/".concat(app).concat(path||"")),search:nextSearch})};function InfraLink(_ref){let app=_ref.app,path=_ref.path,_ref$query=_ref.query,query=_ref$query===void 0?{}:_ref$query,rest=InfraLink_objectWithoutProperties(_ref,["app","path","query"]);const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const href=getInfraHref({app:app,basePath:core.http.basePath,query:query,path:path});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],InfraLink_extends({},rest,{href:href}))}function TransactionActionMenu_sections_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function TransactionActionMenu_sections_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TransactionActionMenu_sections_ownKeys(Object(source),true).forEach((function(key){TransactionActionMenu_sections_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{TransactionActionMenu_sections_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function TransactionActionMenu_sections_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getInfraMetricsQuery(transaction){const timestamp=new Date(transaction["@timestamp"]).getTime();const fiveMinutes=external_kbnSharedDeps_Moment_default.a.duration(5,"minutes").asMilliseconds();return{from:timestamp-fiveMinutes,to:timestamp+fiveMinutes}}const getSections=({transaction:transaction,basePath:basePath,location:location,urlParams:urlParams})=>{var _transaction$host,_transaction$kubernet,_transaction$containe,_transaction$url,_transaction$url2;const hostName=(_transaction$host=transaction.host)===null||_transaction$host===void 0?void 0:_transaction$host.hostname;const podId=(_transaction$kubernet=transaction.kubernetes)===null||_transaction$kubernet===void 0?void 0:_transaction$kubernet.pod.uid;const containerId=(_transaction$containe=transaction.container)===null||_transaction$containe===void 0?void 0:_transaction$containe.id;const time=Math.round(transaction.timestamp.us/1e3);const infraMetricsQuery=getInfraMetricsQuery(transaction);const uptimeLink=url_default.a.format({pathname:basePath.prepend("/app/uptime"),search:"?".concat(Object(url_helpers["b"])(Object(external_kbnSharedDeps_Lodash_["pickBy"])({dateRangeStart:urlParams.rangeFrom,dateRangeEnd:urlParams.rangeTo,search:'url.domain:"'.concat((_transaction$url=transaction.url)===null||_transaction$url===void 0?void 0:_transaction$url.domain,'"')},val=>!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(val))))});const podActions=[{key:"podLogs",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.showPodLogsLinkLabel",{defaultMessage:"Pod logs"}),href:getInfraHref({app:"logs",basePath:basePath,path:"/link-to/pod-logs/".concat(podId),query:{time:time}}),condition:!!podId},{key:"podMetrics",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.showPodMetricsLinkLabel",{defaultMessage:"Pod metrics"}),href:getInfraHref({app:"metrics",basePath:basePath,path:"/link-to/pod-detail/".concat(podId),query:infraMetricsQuery}),condition:!!podId}];const containerActions=[{key:"containerLogs",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.showContainerLogsLinkLabel",{defaultMessage:"Container logs"}),href:getInfraHref({app:"logs",basePath:basePath,path:"/link-to/container-logs/".concat(containerId),query:{time:time}}),condition:!!containerId},{key:"containerMetrics",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.showContainerMetricsLinkLabel",{defaultMessage:"Container metrics"}),href:getInfraHref({app:"metrics",basePath:basePath,path:"/link-to/container-detail/".concat(containerId),query:infraMetricsQuery}),condition:!!containerId}];const hostActions=[{key:"hostLogs",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.showHostLogsLinkLabel",{defaultMessage:"Host logs"}),href:getInfraHref({app:"logs",basePath:basePath,path:"/link-to/host-logs/".concat(hostName),query:{time:time}}),condition:!!hostName},{key:"hostMetrics",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.showHostMetricsLinkLabel",{defaultMessage:"Host metrics"}),href:getInfraHref({app:"metrics",basePath:basePath,path:"/link-to/host-detail/".concat(hostName),query:infraMetricsQuery}),condition:!!hostName}];const logActions=[{key:"traceLogs",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.showTraceLogsLinkLabel",{defaultMessage:"Trace logs"}),href:getInfraHref({app:"logs",basePath:basePath,path:"/link-to/logs",query:{time:time,filter:'trace.id:"'.concat(transaction.trace.id,'" OR "').concat(transaction.trace.id,'"')}}),condition:true}];const uptimeActions=[{key:"monitorStatus",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.viewInUptime",{defaultMessage:"Status"}),href:uptimeLink,condition:!!((_transaction$url2=transaction.url)===null||_transaction$url2===void 0?void 0:_transaction$url2.domain)}];const kibanaActions=[{key:"sampleDocument",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.viewSampleDocumentLinkLabel",{defaultMessage:"View sample document"}),href:getDiscoverHref({basePath:basePath,query:DiscoverTransactionLink_getDiscoverQuery(transaction),location:location}),condition:true}];const sectionRecord={observability:[{key:"podDetails",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.pod.title",{defaultMessage:"Pod details"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.pod.subtitle",{defaultMessage:"View logs and metrics for this pod to get further details."}),actions:podActions},{key:"containerDetails",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.container.title",{defaultMessage:"Container details"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.container.subtitle",{defaultMessage:"View logs and metrics for this container to get further details."}),actions:containerActions},{key:"hostDetails",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.host.title",{defaultMessage:"Host details"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.host.subtitle",{defaultMessage:"View host logs and metrics to get further details."}),actions:hostActions},{key:"traceDetails",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.trace.title",{defaultMessage:"Trace details"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.trace.subtitle",{defaultMessage:"View trace logs to get further details."}),actions:logActions},{key:"statusDetails",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.status.title",{defaultMessage:"Status details"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.status.subtitle",{defaultMessage:"View status to get further details."}),actions:uptimeActions}],kibana:[{key:"kibana",actions:kibanaActions}]};return Object.values(sectionRecord).map(sections=>sections.map(section=>TransactionActionMenu_sections_objectSpread(TransactionActionMenu_sections_objectSpread({},section),{},{actions:section.actions.filter(action=>action.condition)})).filter(section=>!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(section.actions))).filter(sections=>!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(sections))};function TransactionActionMenu_slicedToArray(arr,i){return TransactionActionMenu_arrayWithHoles(arr)||TransactionActionMenu_iterableToArrayLimit(arr,i)||TransactionActionMenu_unsupportedIterableToArray(arr,i)||TransactionActionMenu_nonIterableRest()}function TransactionActionMenu_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function TransactionActionMenu_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return TransactionActionMenu_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TransactionActionMenu_arrayLikeToArray(o,minLen)}function TransactionActionMenu_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function TransactionActionMenu_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function TransactionActionMenu_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ActionMenuButton({onClick:onClick}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"arrowDown",iconSide:"right",onClick:onClick},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionActionMenu.actionsButtonLabel",{defaultMessage:"Actions"}))}function TransactionActionMenu({transaction:transaction}){const license=useLicense();const hasGoldLicense=(license===null||license===void 0?void 0:license.isActive)&&(license===null||license===void 0?void 0:license.hasAtLeast("gold"));const _useApmPluginContext=Object(useApmPluginContext["a"])(),core=_useApmPluginContext.core;const location=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=TransactionActionMenu_slicedToArray(_useState,2),isActionPopoverOpen=_useState2[0],setIsActionPopoverOpen=_useState2[1];const sections=getSections({transaction:transaction,basePath:core.http.basePath,location:location,urlParams:urlParams});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(public_["ActionMenu"],{id:"transactionActionMenu",closePopover:()=>setIsActionPopoverOpen(false),isOpen:isActionPopoverOpen,anchorPosition:"downRight",button:external_kbnSharedDeps_React_default.a.createElement(ActionMenuButton,{onClick:()=>setIsActionPopoverOpen(true)})},external_kbnSharedDeps_React_default.a.createElement("div",null,sections.map((section,idx)=>{const isLastSection=idx!==sections.length-1;return external_kbnSharedDeps_React_default.a.createElement("div",{key:idx},section.map(item=>external_kbnSharedDeps_React_default.a.createElement(public_["Section"],{key:item.key},item.title&&external_kbnSharedDeps_React_default.a.createElement(public_["SectionTitle"],null,item.title),item.subtitle&&external_kbnSharedDeps_React_default.a.createElement(public_["SectionSubtitle"],null,item.subtitle),external_kbnSharedDeps_React_default.a.createElement(public_["SectionLinks"],null,item.actions.map(action=>external_kbnSharedDeps_React_default.a.createElement(public_["SectionLink"],{key:action.key,label:action.label,href:action.href}))))),isLastSection&&external_kbnSharedDeps_React_default.a.createElement(public_["ActionMenuDivider"],null))}),hasGoldLicense&&external_kbnSharedDeps_React_default.a.createElement(CustomLinkMenuSection,{transaction:transaction}))))}const MaybeViewTraceLink=({transaction:transaction,waterfall:waterfall})=>{const viewFullTraceButtonLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.viewFullTraceButtonLabel",{defaultMessage:"View full trace"});const rootTransaction=waterfall.rootTransaction;if(!rootTransaction){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.noTraceParentButtonTooltip",{defaultMessage:"The trace parent cannot be found"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"apmTrace",disabled:true},viewFullTraceButtonLabel)))}const isRoot=transaction.transaction.id===rootTransaction.transaction.id;if(isRoot){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.viewingFullTraceButtonTooltip",{defaultMessage:"Currently viewing the full trace"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"apmTrace",disabled:true},viewFullTraceButtonLabel)))}else{return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(TransactionDetailLink,{serviceName:rootTransaction.service.name,transactionId:rootTransaction.transaction.id,traceId:rootTransaction.trace.id,transactionName:rootTransaction.transaction.name,transactionType:rootTransaction.transaction.type},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"apmTrace"},viewFullTraceButtonLabel)))}};function TransactionMetadata_sections_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function TransactionMetadata_sections_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TransactionMetadata_sections_ownKeys(Object(source),true).forEach((function(key){TransactionMetadata_sections_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{TransactionMetadata_sections_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function TransactionMetadata_sections_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const TRANSACTION_METADATA_SECTIONS=[TransactionMetadata_sections_objectSpread(TransactionMetadata_sections_objectSpread({},LABELS),{},{required:true}),TRACE,TRANSACTION,HTTP,HOST,CLIENT,CONTAINER,SERVICE,PROCESS,MESSAGE_TRANSACTION,AGENT,sections_URL,TransactionMetadata_sections_objectSpread(TransactionMetadata_sections_objectSpread({},PAGE),{},{key:"transaction.page"}),TransactionMetadata_sections_objectSpread(TransactionMetadata_sections_objectSpread({},USER),{},{required:true}),USER_AGENT,CUSTOM_TRANSACTION];function TransactionMetadata({transaction:transaction}){const sectionsWithRows=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getSectionsWithRows(TRANSACTION_METADATA_SECTIONS,transaction),[transaction]);return external_kbnSharedDeps_React_default.a.createElement(MetadataTable,{sections:sectionsWithRows})}function Legend_extends(){Legend_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return Legend_extends.apply(this,arguments)}function Legend_objectWithoutProperties(source,excluded){if(source==null)return{};var target=Legend_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function Legend_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}let Shape;(function(Shape){Shape["circle"]="circle";Shape["square"]="square"})(Shape||(Shape={}));const Legend_Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"udpfxr-0"})(["display:flex;align-items:center;font-size:",";color:",";cursor:",";opacity:",";user-select:none;"],props=>props.fontSize,({theme:theme})=>theme.eui.euiColorDarkShade,props=>props.clickable?"pointer":"initial",props=>props.disabled?.4:1);const Indicator=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"Indicator",componentId:"udpfxr-1"})(["width:",";height:",";margin-right:",";background:",";border-radius:",";"],props=>Object(variables["px"])(props.radius),props=>Object(variables["px"])(props.radius),props=>props.withMargin?Object(variables["px"])(props.radius/2):0,props=>props.color,props=>props.shape===Shape.circle?"100%":"0");function Legend(_ref){let onClick=_ref.onClick,text=_ref.text,color=_ref.color,_ref$fontSize=_ref.fontSize,fontSize=_ref$fontSize===void 0?variables["fontSizes"].small:_ref$fontSize,_ref$radius=_ref.radius,radius=_ref$radius===void 0?variables["units"].minus-1:_ref$radius,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$clickable=_ref.clickable,clickable=_ref$clickable===void 0?false:_ref$clickable,_ref$shape=_ref.shape,shape=_ref$shape===void 0?Shape.circle:_ref$shape,indicator=_ref.indicator,rest=Legend_objectWithoutProperties(_ref,["onClick","text","color","fontSize","radius","disabled","clickable","shape","indicator"]);const theme=useTheme();const indicatorColor=color||theme.eui.euiColorVis1;return external_kbnSharedDeps_React_default.a.createElement(Legend_Container,Legend_extends({onClick:onClick,disabled:disabled,clickable:clickable||Boolean(onClick),fontSize:fontSize},rest),indicator?indicator():external_kbnSharedDeps_React_default.a.createElement(Indicator,{color:indicatorColor,radius:radius,shape:shape,withMargin:!!text}),text)}const Legends=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Legends",componentId:"sc-1oa4pwu-0"})(["display:flex;> *{margin-right:",";&:last-child{margin-right:0;}}"],Object(variables["px"])(variables["unit"]));function ServiceLegends({serviceColors:serviceColors}){return external_kbnSharedDeps_React_default.a.createElement(Legends,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs"},external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.servicesTitle",{defaultMessage:"Services"}))),Object.entries(serviceColors).map(([label,color])=>external_kbnSharedDeps_React_default.a.createElement(Legend,{key:color,color:color,text:label})))}var react_sticky_lib=__webpack_require__(285);var dist=__webpack_require__(182);var d3_scale=__webpack_require__(88);function getPlotValues({width:width,xMin:xMin=0,xMax:xMax,height:height,margins:margins}){const xScale=Object(d3_scale["scaleLinear"])().domain([xMin,xMax]).range([margins.left,width-margins.right]);return{height:height,margins:margins,tickValues:xScale.ticks(7),width:width,xDomain:xScale.domain(),xMax:xMax,xScale:xScale}}function LastTickValue({x:x,marginTop:marginTop,value:value}){return external_kbnSharedDeps_React_default.a.createElement("g",{transform:"translate(".concat(x,", ").concat(marginTop,")")},external_kbnSharedDeps_React_default.a.createElement("text",{textAnchor:"middle",dy:"0",transform:"translate(0, -8)"},value))}LastTickValue.requiresSVG=true;const NameContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"NameContainer",componentId:"sc-1km8i9m-0"})(["border-bottom:1px solid ",";padding-bottom:",";"],({theme:theme})=>theme.eui.euiColorMediumShade,Object(variables["px"])(variables["units"].half));const TimeContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"TimeContainer",componentId:"sc-1km8i9m-1"})(["color:",";padding-top:",";"],({theme:theme})=>theme.eui.euiColorMediumShade,Object(variables["px"])(variables["units"].half));function AgentMarker({mark:mark}){const theme=useTheme();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{id:mark.id,position:"top",content:external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(NameContainer,null,mark.id),external_kbnSharedDeps_React_default.a.createElement(TimeContainer,null,asDuration(mark.offset)))},external_kbnSharedDeps_React_default.a.createElement(Legend,{clickable:true,color:theme.eui.euiColorMediumShade})))}function ErrorMarker_slicedToArray(arr,i){return ErrorMarker_arrayWithHoles(arr)||ErrorMarker_iterableToArrayLimit(arr,i)||ErrorMarker_unsupportedIterableToArray(arr,i)||ErrorMarker_nonIterableRest()}function ErrorMarker_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ErrorMarker_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return ErrorMarker_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ErrorMarker_arrayLikeToArray(o,minLen)}function ErrorMarker_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ErrorMarker_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function ErrorMarker_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const ErrorMarker_Popover=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Popover",componentId:"sc-1yadst3-0"})(["max-width:",";"],Object(variables["px"])(280));const TimeLegend=external_kbnSharedDeps_StyledComponents_default()(Legend).withConfig({displayName:"TimeLegend",componentId:"sc-1yadst3-1"})(["margin-bottom:",";"],Object(variables["px"])(variables["unit"]));const ErrorMarker_ErrorLink=external_kbnSharedDeps_StyledComponents_default()(ErrorDetailLink["a"]).withConfig({displayName:"ErrorLink",componentId:"sc-1yadst3-2"})(["display:block;margin:"," 0 "," 0;overflow-wrap:break-word;"],Object(variables["px"])(variables["units"].half),Object(variables["px"])(variables["units"].half));const ErrorMarker_Button=external_kbnSharedDeps_StyledComponents_default()(Legend).withConfig({displayName:"Button",componentId:"sc-1yadst3-3"})(["height:20px;display:flex;align-items:flex-end;"]);function truncateMessage(errorMessage){const maxLength=240;if(typeof errorMessage==="string"&&errorMessage.length>maxLength){return errorMessage.substring(0,maxLength)+"…"}else{return errorMessage}}function ErrorMarker({mark:mark}){var _error$trace,_error$trace2,_error$transaction,_error$transaction2,_error$error$log,_error$error$exceptio,_error$error$exceptio2;const theme=useTheme();const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=ErrorMarker_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],showPopover=_useState2[1];const togglePopover=()=>showPopover(!isPopoverOpen);const button=external_kbnSharedDeps_React_default.a.createElement(ErrorMarker_Button,{"data-test-subj":"popover",clickable:true,color:theme.eui.euiColorDanger,shape:Shape.square,onClick:togglePopover});const error=mark.error;const rangeTo=urlParams.rangeTo,rangeFrom=urlParams.rangeFrom;const query={kuery:[...((_error$trace=error.trace)===null||_error$trace===void 0?void 0:_error$trace.id)?["".concat(elasticsearch_fieldnames["p"],' : "').concat((_error$trace2=error.trace)===null||_error$trace2===void 0?void 0:_error$trace2.id,'"')]:[],...((_error$transaction=error.transaction)===null||_error$transaction===void 0?void 0:_error$transaction.id)?["".concat(elasticsearch_fieldnames["q"],' : "').concat((_error$transaction2=error.transaction)===null||_error$transaction2===void 0?void 0:_error$transaction2.id,'"')]:[]].join(" and "),rangeFrom:rangeFrom,rangeTo:rangeTo};const errorMessage=((_error$error$log=error.error.log)===null||_error$error$log===void 0?void 0:_error$error$log.message)||((_error$error$exceptio=error.error.exception)===null||_error$error$exceptio===void 0?void 0:(_error$error$exceptio2=_error$error$exceptio[0])===null||_error$error$exceptio2===void 0?void 0:_error$error$exceptio2.message);const truncatedErrorMessage=truncateMessage(errorMessage);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"popover",button:button,isOpen:isPopoverOpen,closePopover:togglePopover,anchorPosition:"upCenter"},external_kbnSharedDeps_React_default.a.createElement(ErrorMarker_Popover,null,external_kbnSharedDeps_React_default.a.createElement(TimeLegend,{text:asDuration(mark.offset),indicator:()=>external_kbnSharedDeps_React_default.a.createElement("div",{style:{marginRight:Object(variables["px"])(variables["units"].quarter)}},"@")}),external_kbnSharedDeps_React_default.a.createElement(Legend,{key:mark.serviceColor,color:mark.serviceColor,text:error.service.name}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(ErrorMarker_ErrorLink,{"data-test-subj":"errorLink",serviceName:error.service.name,errorGroupId:error.error.grouping_key,query:query,title:errorMessage},truncatedErrorMessage))))}const MarkerContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"MarkerContainer",componentId:"ragw2h-0"})(["position:absolute;bottom:0;"]);function Marker({mark:mark,x:x}){const legendWidth=11;return external_kbnSharedDeps_React_default.a.createElement(MarkerContainer,{style:{left:Object(variables["px"])(x-legendWidth/2)}},mark.type==="errorMark"?external_kbnSharedDeps_React_default.a.createElement(ErrorMarker,{mark:mark}):external_kbnSharedDeps_React_default.a.createElement(AgentMarker,{mark:mark}))}function TimelineAxis_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function TimelineAxis_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TimelineAxis_ownKeys(Object(source),true).forEach((function(key){TimelineAxis_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{TimelineAxis_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function TimelineAxis_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const getXAxisTickValues=(tickValues,topTraceDuration)=>{if(topTraceDuration==null){return tickValues}const padding=(tickValues[1]-tickValues[0])/2;const lowerBound=topTraceDuration-padding;const upperBound=topTraceDuration+padding;return tickValues.filter(value=>{const isInRange=Object(external_kbnSharedDeps_Lodash_["inRange"])(value,lowerBound,upperBound);return!isInRange&&value!==topTraceDuration})};function TimelineAxis({plotValues:plotValues,marks:marks=[],topTraceDuration:topTraceDuration}){const theme=useTheme();const margins=plotValues.margins,tickValues=plotValues.tickValues,width=plotValues.width,xDomain=plotValues.xDomain,xMax=plotValues.xMax,xScale=plotValues.xScale;const tickFormatter=getDurationFormatter(xMax);const xAxisTickValues=getXAxisTickValues(tickValues,topTraceDuration);const topTraceDurationFormatted=tickFormatter(topTraceDuration).formatted;return external_kbnSharedDeps_React_default.a.createElement(react_sticky_lib["Sticky"],{disableCompensation:true},({style:style})=>external_kbnSharedDeps_React_default.a.createElement("div",{style:TimelineAxis_objectSpread({position:"absolute",borderBottom:"1px solid ".concat(theme.eui.euiColorMediumShade),height:Object(variables["px"])(margins.top),zIndex:2,width:"100%"},style)},external_kbnSharedDeps_React_default.a.createElement(dist["XYPlot"],{dontCheckIfEmpty:true,width:width,height:margins.top,margin:{top:margins.top,left:margins.left,right:margins.right},xDomain:xDomain},external_kbnSharedDeps_React_default.a.createElement(dist["XAxis"],{hideLine:true,orientation:"top",tickSize:0,tickValues:xAxisTickValues,tickFormat:time=>tickFormatter(time).formatted,tickPadding:20,style:{text:{fill:theme.eui.euiColorDarkShade}}}),topTraceDuration>0&&external_kbnSharedDeps_React_default.a.createElement(LastTickValue,{x:xScale(topTraceDuration),value:topTraceDurationFormatted,marginTop:28}),marks.map(mark=>external_kbnSharedDeps_React_default.a.createElement(Marker,{key:mark.id,mark:mark,x:xScale(mark.offset)})))))}function VerticalLines({topTraceDuration:topTraceDuration,plotValues:plotValues,marks:marks=[]}){const width=plotValues.width,height=plotValues.height,margins=plotValues.margins,xDomain=plotValues.xDomain,tickValues=plotValues.tickValues;const markTimes=marks.filter(mark=>mark.verticalLine).map(({offset:offset})=>offset);const theme=useTheme();return external_kbnSharedDeps_React_default.a.createElement("div",{style:{position:"absolute",top:0,left:0}},external_kbnSharedDeps_React_default.a.createElement(dist["XYPlot"],{dontCheckIfEmpty:true,width:width,height:height+margins.top,margin:margins,xDomain:xDomain},external_kbnSharedDeps_React_default.a.createElement(dist["VerticalGridLines"],{tickValues:tickValues,style:{stroke:theme.eui.euiColorLightestShade}}),external_kbnSharedDeps_React_default.a.createElement(dist["VerticalGridLines"],{tickValues:markTimes,style:{stroke:theme.eui.euiColorMediumShade}}),topTraceDuration>0&&external_kbnSharedDeps_React_default.a.createElement(dist["VerticalGridLines"],{tickValues:[topTraceDuration],style:{stroke:theme.eui.euiColorMediumShade}})))}class Timeline_TL extends external_kbnSharedDeps_React_["PureComponent"]{render(){const _this$props=this.props,width=_this$props.width,xMin=_this$props.xMin,xMax=_this$props.xMax,marks=_this$props.marks,height=_this$props.height,margins=_this$props.margins;if(xMax==null||!width){return null}const plotValues=getPlotValues({width:width,xMin:xMin,xMax:xMax,height:height,margins:margins});const topTraceDuration=xMax-(xMin!==null&&xMin!==void 0?xMin:0);return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(TimelineAxis,{plotValues:plotValues,marks:marks,topTraceDuration:topTraceDuration}),external_kbnSharedDeps_React_default.a.createElement(VerticalLines,{plotValues:plotValues,marks:marks,topTraceDuration:topTraceDuration}))}}const Timeline=Object(dist["makeWidthFlexible"])(Timeline_TL);function getAgentMarks(transaction){var _transaction$transact;const agent=transaction===null||transaction===void 0?void 0:(_transaction$transact=transaction.transaction.marks)===null||_transaction$transact===void 0?void 0:_transaction$transact.agent;if(!agent){return[]}return Object(external_kbnSharedDeps_Lodash_["sortBy"])(Object.entries(agent).map(([name,ms])=>({type:"agentMark",id:name,offset:ms*1e3,verticalLine:true})),"offset")}const getErrorMarks=(errorItems,serviceColors)=>{if(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(errorItems)){return[]}return errorItems.map(error=>({type:"errorMark",offset:Math.max(error.offset+error.skew,0),verticalLine:false,id:error.doc.error.id,error:error.doc,serviceColor:serviceColors[error.doc.service.name]}))};function ErrorCount({count:count}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"danger",onClick:e=>{e.stopPropagation()}},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.errorCount",{defaultMessage:"{errorCount, number} {errorCount, plural, one {Error} other {Errors}}",values:{errorCount:count}}))))}const SpanBadge=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiBadge"]).withConfig({displayName:"SpanBadge",componentId:"sc-15k5kqb-0"})(["display:inline-block;margin-right:",";"],Object(variables["px"])(variables["units"].quarter));function SyncBadge({sync:sync}){switch(sync){case true:return external_kbnSharedDeps_React_default.a.createElement(SpanBadge,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.syncBadgeBlocking",{defaultMessage:"blocking"}));case false:return external_kbnSharedDeps_React_default.a.createElement(SpanBadge,null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.syncBadgeAsync",{defaultMessage:"async"}));default:return null}}const WaterfallItem_Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"mkivh2-0"})(["position:relative;display:block;user-select:none;padding-top:",";padding-bottom:",";margin-right:",";margin-left:",";background-color:",";cursor:pointer;&:hover{background-color:",";}"],Object(variables["px"])(variables["units"].half),Object(variables["px"])(variables["units"].plus),props=>Object(variables["px"])(props.timelineMargins.right),props=>Object(variables["px"])(props.timelineMargins.left),({isSelected:isSelected,theme:theme})=>isSelected?theme.eui.euiColorLightestShade:"initial",({theme:theme})=>theme.eui.euiColorLightestShade);const ItemBar=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ItemBar",componentId:"mkivh2-1"})(["box-sizing:border-box;position:relative;height:",";min-width:2px;background-color:",";"],Object(variables["px"])(variables["unit"]),props=>props.color);const ItemText=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"ItemText",componentId:"mkivh2-2"})(["position:absolute;right:0;display:flex;align-items:center;height:",";& > *{margin-right:",";white-space:nowrap;}"],Object(variables["px"])(variables["units"].plus),Object(variables["px"])(variables["units"].half));function PrefixIcon({item:item}){switch(item.docType){case"span":{const isDbType=item.doc.span.type.startsWith("db");if(isDbType){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"database"})}return null}case"transaction":{if(Object(agent_name["e"])(item.doc.agent.name)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"globe"})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"merge"})}default:return null}}function SpanActionToolTip({item:item,children:children}){if((item===null||item===void 0?void 0:item.docType)==="span"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:"".concat(item.doc.span.subtype,".").concat(item.doc.span.action)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children)}function Duration({item:item}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"subdued",size:"xs"},asDuration(item.duration))}function HttpStatusCode({item:item}){const httpStatusCode=item.docType==="transaction"&&item.doc.transaction.type==="request"?item.doc.transaction.result:undefined;if(!httpStatusCode){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},httpStatusCode)}function NameLabel({item:item}){switch(item.docType){case"span":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},item.doc.span.name);case"transaction":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,item.doc.transaction.name));default:return null}}function WaterfallItem({timelineMargins:timelineMargins,totalDuration:totalDuration,item:item,color:color,isSelected:isSelected,errorCount:errorCount,onClick:_onClick}){if(!totalDuration){return null}const width=item.duration/totalDuration*100;const left=(item.offset+item.skew)/totalDuration*100;const tooltipContent=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.errorsOverviewLinkTooltip",{values:{errorCount:errorCount},defaultMessage:"{errorCount, plural, one {View 1 related error} other {View # related errors}}"});return external_kbnSharedDeps_React_default.a.createElement(WaterfallItem_Container,{type:item.docType,timelineMargins:timelineMargins,isSelected:isSelected,onClick:e=>{e.stopPropagation();_onClick()}},external_kbnSharedDeps_React_default.a.createElement(ItemBar,{style:{left:"".concat(left,"%"),width:"".concat(width,"%")},color:color,type:item.docType}),external_kbnSharedDeps_React_default.a.createElement(ItemText,{style:{minWidth:"".concat(Math.max(100-left,0),"%")}},external_kbnSharedDeps_React_default.a.createElement(SpanActionToolTip,{item:item},external_kbnSharedDeps_React_default.a.createElement(PrefixIcon,{item:item})),external_kbnSharedDeps_React_default.a.createElement(HttpStatusCode,{item:item}),external_kbnSharedDeps_React_default.a.createElement(NameLabel,{item:item}),errorCount>0&&item.docType==="transaction"?external_kbnSharedDeps_React_default.a.createElement(ErrorOverviewLink,{serviceName:item.doc.service.name,query:{kuery:encodeURIComponent("".concat(elasticsearch_fieldnames["p"],' : "').concat(item.doc.trace.id,'" and transaction.id : "').concat(item.doc.transaction.id,'"'))},color:"danger",style:{textDecoration:"none"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tooltipContent},external_kbnSharedDeps_React_default.a.createElement(ErrorCount,{count:errorCount}))):null,external_kbnSharedDeps_React_default.a.createElement(Duration,{item:item}),item.docType==="span"&&external_kbnSharedDeps_React_default.a.createElement(SyncBadge,{sync:item.doc.span.sync})))}function accordion_waterfall_slicedToArray(arr,i){return accordion_waterfall_arrayWithHoles(arr)||accordion_waterfall_iterableToArrayLimit(arr,i)||accordion_waterfall_unsupportedIterableToArray(arr,i)||accordion_waterfall_nonIterableRest()}function accordion_waterfall_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function accordion_waterfall_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return accordion_waterfall_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return accordion_waterfall_arrayLikeToArray(o,minLen)}function accordion_waterfall_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function accordion_waterfall_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function accordion_waterfall_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const StyledAccordion=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiAccordion"]).withConfig({shouldForwardProp:prop=>!["childrenCount","marginLeftLevel","hasError"].includes(prop)}).withConfig({displayName:"StyledAccordion",componentId:"sc-1sax59i-0"})([".euiAccordion{border-top:1px solid ",";}.euiIEFlexWrapFix{width:100%;height:48px;}.euiAccordion__childWrapper{transition:none;}.euiAccordion__padding--l{padding-top:0;padding-bottom:0;}.euiAccordion__iconWrapper{display:flex;position:relative;&:after{content:",";position:absolute;left:20px;top:-1px;z-index:1;font-size:",";}}",""],({theme:theme})=>theme.eui.euiColorLightShade,props=>"'".concat(props.childrenCount,"'"),({theme:theme})=>theme.eui.euiFontSizeXS,props=>{const borderLeft=props.hasError?"2px solid ".concat(props.theme.eui.euiColorDanger,";"):"1px solid ".concat(props.theme.eui.euiColorLightShade,";");return".button_".concat(props.id," {\n      margin-left: ").concat(props.marginLeftLevel,"px;\n      border-left: ").concat(borderLeft,"\n      &:hover {\n        background-color: ").concat(props.theme.eui.euiColorLightestShade,";\n      }\n    }")});const WaterfallItemContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"WaterfallItemContainer",componentId:"sc-1sax59i-1"})(["position:absolute;width:100%;left:0;"]);function AccordionWaterfall(props){const _useState=Object(external_kbnSharedDeps_React_["useState"])(props.isOpen),_useState2=accordion_waterfall_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];const item=props.item,level=props.level,serviceColors=props.serviceColors,duration=props.duration,childrenByParentId=props.childrenByParentId,waterfallItemId=props.waterfallItemId,location=props.location,errorsPerTransaction=props.errorsPerTransaction,timelineMargins=props.timelineMargins,onClickWaterfallItem=props.onClickWaterfallItem,onToggleEntryTransaction=props.onToggleEntryTransaction;const nextLevel=level+1;const errorCount=item.docType==="transaction"?errorsPerTransaction[item.doc.transaction.id]:0;const children=childrenByParentId[item.id]||[];const marginLeftLevel=8*level;return external_kbnSharedDeps_React_default.a.createElement(StyledAccordion,{buttonClassName:"button_".concat(item.id),key:item.id,id:item.id,hasError:errorCount>0,marginLeftLevel:marginLeftLevel,childrenCount:children.length,buttonContent:external_kbnSharedDeps_React_default.a.createElement(WaterfallItemContainer,null,external_kbnSharedDeps_React_default.a.createElement(WaterfallItem,{key:item.id,timelineMargins:timelineMargins,color:serviceColors[item.doc.service.name],item:item,totalDuration:duration,isSelected:item.id===waterfallItemId,errorCount:errorCount,onClick:()=>{onClickWaterfallItem(item)}})),arrowDisplay:Object(external_kbnSharedDeps_Lodash_["isEmpty"])(children)?"none":"left",initialIsOpen:true,forceState:isOpen?"open":"closed",onToggle:()=>{setIsOpen(isCurrentOpen=>!isCurrentOpen);if(onToggleEntryTransaction){onToggleEntryTransaction()}}},children.map(child=>external_kbnSharedDeps_React_default.a.createElement(AccordionWaterfall,{key:child.id,isOpen:isOpen,item:child,level:nextLevel,serviceColors:serviceColors,waterfallItemId:waterfallItemId,location:location,errorsPerTransaction:errorsPerTransaction,duration:duration,childrenByParentId:childrenByParentId,timelineMargins:timelineMargins,onClickWaterfallItem:onClickWaterfallItem})))}function DiscoverSpanLink_getDiscoverQuery(span){const query="".concat(elasticsearch_fieldnames["l"],':"').concat(span.span.id,'"');return{_a:{interval:"auto",query:{language:"kuery",query:query}}}}function DiscoverSpanLink({span:span,children:children}){return external_kbnSharedDeps_React_default.a.createElement(DiscoverLink,{query:DiscoverSpanLink_getDiscoverQuery(span),children:children})}const ResponsiveFlyout=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlyout"]).withConfig({displayName:"ResponsiveFlyout",componentId:"sc-1l5zps4-0"})(["width:100%;@media (min-width:800px){width:90%;}@media (min-width:1000px){width:80%;}@media (min-width:1400px){width:70%;}@media (min-width:2000px){width:60%;}"]);var sql=__webpack_require__(830);var sql_default=__webpack_require__.n(sql);function TruncateHeightSection_slicedToArray(arr,i){return TruncateHeightSection_arrayWithHoles(arr)||TruncateHeightSection_iterableToArrayLimit(arr,i)||TruncateHeightSection_unsupportedIterableToArray(arr,i)||TruncateHeightSection_nonIterableRest()}function TruncateHeightSection_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function TruncateHeightSection_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return TruncateHeightSection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TruncateHeightSection_arrayLikeToArray(o,minLen)}function TruncateHeightSection_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function TruncateHeightSection_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function TruncateHeightSection_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const ToggleButtonContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"ToggleButtonContainer",componentId:"sc-1meo4mt-0"})(["margin-top:",";user-select:none;"],Object(variables["px"])(variables["units"].half));function TruncateHeightSection({children:children,previewHeight:previewHeight}){const contentContainerEl=Object(external_kbnSharedDeps_React_["useRef"])(null);const _useState=Object(external_kbnSharedDeps_React_["useState"])(true),_useState2=TruncateHeightSection_slicedToArray(_useState,2),showToggle=_useState2[0],setShowToggle=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])(false),_useState4=TruncateHeightSection_slicedToArray(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1];Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(contentContainerEl.current){const shouldShow=contentContainerEl.current.scrollHeight>previewHeight;setShowToggle(shouldShow)}},[children,previewHeight]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("div",{ref:contentContainerEl,style:{overflow:"hidden",maxHeight:isOpen?"initial":Object(variables["px"])(previewHeight)}},children),showToggle?external_kbnSharedDeps_React_default.a.createElement(ToggleButtonContainer,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>{setIsOpen(!isOpen)}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{style:{transition:"transform 0.1s",transform:"rotate(".concat(isOpen?90:0,"deg)")},type:"arrowRight"})," ",isOpen?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.toggleHeight.showLessButtonLabel",{defaultMessage:"Show fewer lines"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.toggleHeight.showMoreButtonLabel",{defaultMessage:"Show more lines"}))):null)}Object(light["registerLanguage"])("sql",sql_default.a);const DatabaseStatement=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"DatabaseStatement",componentId:"sc-1gx74b3-0"})(["padding:"," ",";background:",";border-radius:",";border:1px solid ",";font-family:",";font-size:",";"],Object(variables["px"])(variables["units"].half),Object(variables["px"])(variables["unit"]),({theme:theme})=>Object(lib["tint"])(.1,theme.eui.euiColorWarning),variables["borderRadius"],({theme:theme})=>theme.eui.euiColorLightShade,variables["fontFamilyCode"],variables["fontSize"]);const dbSyntaxLineHeight=variables["unit"]*1.5;function DatabaseContext({dbContext:dbContext}){if(!dbContext||!dbContext.statement){return null}if(dbContext.type!=="sql"){return external_kbnSharedDeps_React_default.a.createElement(DatabaseStatement,null,dbContext.statement)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.databaseStatementTitle",{defaultMessage:"Database statement"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(DatabaseStatement,null,external_kbnSharedDeps_React_default.a.createElement(TruncateHeightSection,{previewHeight:10*dbSyntaxLineHeight},external_kbnSharedDeps_React_default.a.createElement(light_default.a,{language:"sql",style:styles["xcode"],customStyle:{color:null,background:null,padding:null,lineHeight:Object(variables["px"])(dbSyntaxLineHeight),whiteSpace:"pre-wrap",overflowX:"scroll"}},dbContext.statement))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))}function StickyProperties_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function StickyProperties_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){StickyProperties_ownKeys(Object(source),true).forEach((function(key){StickyProperties_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{StickyProperties_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function StickyProperties_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function StickyProperties_objectWithoutProperties(source,excluded){if(source==null)return{};var target=StickyProperties_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function StickyProperties_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const TooltipFieldName=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"TooltipFieldName",componentId:"sc-1b81cl8-0"})(["font-family:",";"],variables["fontFamilyCode"]);const PropertyLabel=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"PropertyLabel",componentId:"sc-1b81cl8-1"})(["margin-bottom:",";font-size:",";color:",";span{cursor:help;}"],Object(variables["px"])(variables["units"].half),variables["fontSizes"].small,({theme:theme})=>theme.eui.euiColorMediumShade);PropertyLabel.displayName="PropertyLabel";const propertyValueLineHeight=1.2;const PropertyValue=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"PropertyValue",componentId:"sc-1b81cl8-2"})(["display:inline-block;line-height:",";"],propertyValueLineHeight);PropertyValue.displayName="PropertyValue";const PropertyValueTruncated=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"PropertyValueTruncated",componentId:"sc-1b81cl8-3"})(["display:inline-block;line-height:",";",";"],propertyValueLineHeight,Object(variables["truncate"])("100%"));function getPropertyLabel({fieldName:fieldName,label:label}){if(fieldName){return external_kbnSharedDeps_React_default.a.createElement(PropertyLabel,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_React_default.a.createElement(TooltipFieldName,null,fieldName)},external_kbnSharedDeps_React_default.a.createElement("span",null,label)))}return external_kbnSharedDeps_React_default.a.createElement(PropertyLabel,null,label)}function getPropertyValue({val:val,truncated:truncated=false}){if(truncated){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:String(val)},external_kbnSharedDeps_React_default.a.createElement(PropertyValueTruncated,null,String(val)))}return external_kbnSharedDeps_React_default.a.createElement(PropertyValue,null,val)}function StickyProperties({stickyProperties:stickyProperties}){const itemStyles={padding:"1em 1em 1em 0"};const groupStyles={marginTop:"-1em",marginBottom:"-1em"};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true,gutterSize:"none",style:groupStyles},stickyProperties&&stickyProperties.map((_ref,i)=>{let _ref$width=_ref.width,width=_ref$width===void 0?0:_ref$width,prop=StickyProperties_objectWithoutProperties(_ref,["width"]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:i,style:StickyProperties_objectSpread({minWidth:width},itemStyles),grow:false},getPropertyLabel(prop),getPropertyValue(prop))}))}function StickySpanProperties({span:span,transaction:transaction}){const spanName=span.span.name;const transactionStickyProperties=transaction?[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.serviceLabel",{defaultMessage:"Service"}),fieldName:elasticsearch_fieldnames["i"],val:external_kbnSharedDeps_React_default.a.createElement(TransactionOverviewLink,{serviceName:transaction.service.name},transaction.service.name),width:"25%"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transactionLabel",{defaultMessage:"Transaction"}),fieldName:elasticsearch_fieldnames["r"],val:external_kbnSharedDeps_React_default.a.createElement(TransactionDetailLink,{serviceName:transaction.service.name,transactionId:transaction.transaction.id,traceId:transaction.trace.id,transactionName:transaction.transaction.name,transactionType:transaction.transaction.type},transaction.transaction.name),width:"25%"}]:[];const stickyProperties=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.nameLabel",{defaultMessage:"Name"}),fieldName:elasticsearch_fieldnames["m"],val:spanName||NOT_AVAILABLE_LABEL,truncated:true,width:"25%"},...transactionStickyProperties];return external_kbnSharedDeps_React_default.a.createElement(StickyProperties,{stickyProperties:stickyProperties})}const SPAN_METADATA_SECTIONS=[LABELS,TRACE,TRANSACTION,SPAN,SERVICE,MESSAGE_SPAN,AGENT];function SpanMetadata({span:span}){const sectionsWithRows=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getSectionsWithRows(SPAN_METADATA_SECTIONS,span),[span]);return external_kbnSharedDeps_React_default.a.createElement(MetadataTable,{sections:sectionsWithRows})}function formatType(type){switch(type){case"db":return"DB";case"hard-navigation":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.spanType.navigationTimingLabel",{defaultMessage:"Navigation timing"});default:return type}}function formatSubtype(subtype){switch(subtype){case"mysql":return"MySQL";default:return subtype}}function getSpanTypes(span){const _span$span=span.span,type=_span$span.type,subtype=_span$span.subtype,action=_span$span.action;return{spanType:formatType(type),spanSubtype:formatSubtype(subtype),spanAction:action}}const SpanFlyout_SpanBadge=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiBadge"]).withConfig({displayName:"SpanBadge",componentId:"sc-1ngh34m-0"})(["display:inline-block;margin-right:",";"],Object(variables["px"])(variables["units"].quarter));const HttpInfoContainer=external_kbnSharedDeps_StyledComponents_default()("div").withConfig({displayName:"HttpInfoContainer",componentId:"sc-1ngh34m-1"})(["margin-right:",";"],Object(variables["px"])(variables["units"].quarter));function SpanFlyout({span:span,parentTransaction:parentTransaction,totalDuration:totalDuration,onClose:onClose}){var _parentTransaction$se,_httpContext$response,_httpContext$url;if(!span){return null}const stackframes=span.span.stacktrace;const codeLanguage=parentTransaction===null||parentTransaction===void 0?void 0:(_parentTransaction$se=parentTransaction.service.language)===null||_parentTransaction$se===void 0?void 0:_parentTransaction$se.name;const dbContext=span.span.db;const httpContext=span.span.http;const spanTypes=getSpanTypes(span);const spanHttpStatusCode=httpContext===null||httpContext===void 0?void 0:(_httpContext$response=httpContext.response)===null||_httpContext$response===void 0?void 0:_httpContext$response.status_code;const spanHttpUrl=httpContext===null||httpContext===void 0?void 0:(_httpContext$url=httpContext.url)===null||_httpContext$url===void 0?void 0:_httpContext$url.original;const spanHttpMethod=httpContext===null||httpContext===void 0?void 0:httpContext.method;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPortal"],null,external_kbnSharedDeps_React_default.a.createElement(ResponsiveFlyout,{onClose:onClose,size:"m",ownFocus:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.spanDetailsTitle",{defaultMessage:"Span details"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(DiscoverSpanLink,{span:span},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"discoverApp"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.viewSpanInDiscoverButtonLabel",{defaultMessage:"View span in Discover"})))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(StickySpanProperties,{span:span,transaction:parentTransaction}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(Summary,{items:[external_kbnSharedDeps_React_default.a.createElement(TimestampTooltip,{time:span.timestamp.us/1e3}),external_kbnSharedDeps_React_default.a.createElement(DurationSummaryItem,{duration:span.span.duration.us,totalDuration:totalDuration,parentType:"transaction"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,spanHttpUrl&&external_kbnSharedDeps_React_default.a.createElement(HttpInfoContainer,null,external_kbnSharedDeps_React_default.a.createElement(HttpInfoSummaryItem,{method:spanHttpMethod,url:spanHttpUrl,status:spanHttpStatusCode})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.spanType",{defaultMessage:"Type"})},external_kbnSharedDeps_React_default.a.createElement(SpanFlyout_SpanBadge,{color:"hollow"},spanTypes.spanType)),spanTypes.spanSubtype&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.spanSubtype",{defaultMessage:"Subtype"})},external_kbnSharedDeps_React_default.a.createElement(SpanFlyout_SpanBadge,{color:"hollow"},spanTypes.spanSubtype)),spanTypes.spanAction&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.spanAction",{defaultMessage:"Action"})},external_kbnSharedDeps_React_default.a.createElement(SpanFlyout_SpanBadge,{color:"hollow"},spanTypes.spanAction)),external_kbnSharedDeps_React_default.a.createElement(SyncBadge,{sync:span.span.sync}))]}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),external_kbnSharedDeps_React_default.a.createElement(DatabaseContext,{dbContext:dbContext}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabbedContent"],{tabs:[{id:"stack-trace",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.spanFlyout.stackTraceTabLabel",{defaultMessage:"Stack Trace"}),content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(Stacktrace,{stackframes:stackframes,codeLanguage:codeLanguage}))},{id:"metadata",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.tabs.metadataLabel",{defaultMessage:"Metadata"}),content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(SpanMetadata,{span:span}))}]}))))}function FlyoutTopLevelProperties({transaction:transaction}){if(!transaction){return null}const stickyProperties=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.serviceLabel",{defaultMessage:"Service"}),fieldName:elasticsearch_fieldnames["i"],val:external_kbnSharedDeps_React_default.a.createElement(TransactionOverviewLink,{serviceName:transaction.service.name},transaction.service.name),width:"25%"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transactionLabel",{defaultMessage:"Transaction"}),fieldName:elasticsearch_fieldnames["r"],val:external_kbnSharedDeps_React_default.a.createElement(TransactionDetailLink,{serviceName:transaction.service.name,transactionId:transaction.transaction.id,traceId:transaction.trace.id,transactionName:transaction.transaction.name,transactionType:transaction.transaction.type},transaction.transaction.name),width:"25%"}];return external_kbnSharedDeps_React_default.a.createElement(StickyProperties,{stickyProperties:stickyProperties})}function DroppedSpansWarning({transactionDoc:transactionDoc}){var _transactionDoc$trans;const dropped=(_transactionDoc$trans=transactionDoc.transaction.span_count)===null||_transactionDoc$trans===void 0?void 0:_transactionDoc$trans.dropped;if(!dropped){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"s"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transFlyout.callout.agentDroppedSpansMessage",{defaultMessage:"The APM agent that reported this transaction dropped {dropped} spans or more based on its configuration.",values:{dropped:dropped}})," ",external_kbnSharedDeps_React_default.a.createElement(ElasticDocsLink,{section:"/apm/get-started",path:"/transaction-spans.html#dropped-spans",target:"_blank"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transFlyout.callout.learnMoreAboutDroppedSpansLinkText",{defaultMessage:"Learn more about dropped spans."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null))}function TransactionPropertiesTable({transaction:transaction}){return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,"Metadata")),external_kbnSharedDeps_React_default.a.createElement(TransactionMetadata,{transaction:transaction}))}function TransactionFlyout({transaction:transactionDoc,onClose:onClose,errorCount:errorCount=0,rootTransactionDuration:rootTransactionDuration}){if(!transactionDoc){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPortal"],null,external_kbnSharedDeps_React_default.a.createElement(ResponsiveFlyout,{onClose:onClose,ownFocus:true,maxWidth:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.transFlyout.transactionDetailsTitle",{defaultMessage:"Transaction details"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(TransactionActionMenu,{transaction:transactionDoc})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(FlyoutTopLevelProperties,{transaction:transactionDoc}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(TransactionSummary,{transaction:transactionDoc,totalDuration:rootTransactionDuration,errorCount:errorCount}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(DroppedSpansWarning,{transactionDoc:transactionDoc}),external_kbnSharedDeps_React_default.a.createElement(TransactionPropertiesTable,{transaction:transactionDoc}))))}function WaterfallFlyout({waterfallItemId:waterfallItemId,waterfall:waterfall,location:location,toggleFlyout:toggleFlyout}){var _currentItem$parent,_currentItem$parent2,_waterfall$rootTransa;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const currentItem=waterfall.items.find(item=>item.id===waterfallItemId);if(!currentItem){return null}switch(currentItem.docType){case"span":const parentTransaction=((_currentItem$parent=currentItem.parent)===null||_currentItem$parent===void 0?void 0:_currentItem$parent.docType)==="transaction"?(_currentItem$parent2=currentItem.parent)===null||_currentItem$parent2===void 0?void 0:_currentItem$parent2.doc:undefined;return external_kbnSharedDeps_React_default.a.createElement(SpanFlyout,{totalDuration:waterfall.duration,span:currentItem.doc,parentTransaction:parentTransaction,onClose:()=>toggleFlyout({history:history,location:location})});case"transaction":return external_kbnSharedDeps_React_default.a.createElement(TransactionFlyout,{transaction:currentItem.doc,onClose:()=>toggleFlyout({history:history,location:location}),rootTransactionDuration:(_waterfall$rootTransa=waterfall.rootTransaction)===null||_waterfall$rootTransa===void 0?void 0:_waterfall$rootTransa.transaction.duration.us,errorCount:waterfall.errorsPerTransaction[currentItem.id]});default:return null}}function Waterfall_slicedToArray(arr,i){return Waterfall_arrayWithHoles(arr)||Waterfall_iterableToArrayLimit(arr,i)||Waterfall_unsupportedIterableToArray(arr,i)||Waterfall_nonIterableRest()}function Waterfall_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Waterfall_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return Waterfall_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Waterfall_arrayLikeToArray(o,minLen)}function Waterfall_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Waterfall_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function Waterfall_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function Waterfall_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function Waterfall_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Waterfall_ownKeys(Object(source),true).forEach((function(key){Waterfall_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{Waterfall_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function Waterfall_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const Waterfall_Container=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"Container",componentId:"ojhnby-0"})(["transition:0.1s padding ease;position:relative;overflow:hidden;"]);const TIMELINE_MARGINS={top:40,left:100,right:50,bottom:0};const Waterfall_toggleFlyout=({history:history,item:item,location:location})=>{history.replace(Waterfall_objectSpread(Waterfall_objectSpread({},location),{},{search:Object(url_helpers["b"])(Waterfall_objectSpread(Waterfall_objectSpread({},Object(url_helpers["c"])(location.search)),{},{flyoutDetailTab:undefined,waterfallItemId:item===null||item===void 0?void 0:item.id}))}))};const WaterfallItemsContainer=external_kbnSharedDeps_StyledComponents_default.a.div.withConfig({displayName:"WaterfallItemsContainer",componentId:"ojhnby-1"})(["padding-top:",";border-bottom:1px solid ",";"],props=>Object(variables["px"])(props.paddingTop),({theme:theme})=>theme.eui.euiColorMediumShade);function Waterfall({waterfall:waterfall,exceedsMax:exceedsMax,waterfallItemId:waterfallItemId,location:location}){var _waterfall$entryWater;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useState=Object(external_kbnSharedDeps_React_["useState"])(true),_useState2=Waterfall_slicedToArray(_useState,2),isAccordionOpen=_useState2[0],setIsAccordionOpen=_useState2[1];const itemContainerHeight=58;const waterfallHeight=itemContainerHeight*waterfall.items.length;const serviceColors=waterfall.serviceColors,duration=waterfall.duration;const agentMarks=getAgentMarks((_waterfall$entryWater=waterfall.entryWaterfallTransaction)===null||_waterfall$entryWater===void 0?void 0:_waterfall$entryWater.doc);const errorMarks=getErrorMarks(waterfall.errorItems,serviceColors);function renderItems(childrenByParentId){const entryWaterfallTransaction=waterfall.entryWaterfallTransaction;if(!entryWaterfallTransaction){return null}return external_kbnSharedDeps_React_default.a.createElement(AccordionWaterfall,{key:"accordion_state_".concat(isAccordionOpen),isOpen:isAccordionOpen,item:entryWaterfallTransaction,level:0,serviceColors:serviceColors,waterfallItemId:waterfallItemId,location:location,errorsPerTransaction:waterfall.errorsPerTransaction,duration:duration,childrenByParentId:childrenByParentId,timelineMargins:TIMELINE_MARGINS,onClickWaterfallItem:item=>Waterfall_toggleFlyout({history:history,item:item,location:location}),onToggleEntryTransaction:()=>setIsAccordionOpen(isOpen=>!isOpen)})}return external_kbnSharedDeps_React_default.a.createElement(HeightRetainer,null,external_kbnSharedDeps_React_default.a.createElement(Waterfall_Container,null,exceedsMax&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",size:"s",iconType:"alert",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.waterfall.exceedsMax",{defaultMessage:"Number of items in this trace exceed what is displayed"})}),external_kbnSharedDeps_React_default.a.createElement(react_sticky_lib["StickyContainer"],null,external_kbnSharedDeps_React_default.a.createElement("div",{style:{display:"flex"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{style:{zIndex:3,position:"absolute"},iconType:isAccordionOpen?"fold":"unfold",onClick:()=>{setIsAccordionOpen(isOpen=>!isOpen)}}),external_kbnSharedDeps_React_default.a.createElement(Timeline,{marks:[...agentMarks,...errorMarks],xMax:duration,height:waterfallHeight,margins:TIMELINE_MARGINS})),external_kbnSharedDeps_React_default.a.createElement(WaterfallItemsContainer,{paddingTop:TIMELINE_MARGINS.top},renderItems(waterfall.childrenByParentId))),external_kbnSharedDeps_React_default.a.createElement(WaterfallFlyout,{waterfallItemId:waterfallItemId,waterfall:waterfall,location:location,toggleFlyout:Waterfall_toggleFlyout})))}function WaterfallContainer({location:location,urlParams:urlParams,waterfall:waterfall,exceedsMax:exceedsMax}){if(!waterfall){return null}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(ServiceLegends,{serviceColors:waterfall.serviceColors}),external_kbnSharedDeps_React_default.a.createElement(Waterfall,{location:location,waterfallItemId:urlParams.waterfallItemId,waterfall:waterfall,exceedsMax:exceedsMax}))}function TransactionTabs_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function TransactionTabs_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TransactionTabs_ownKeys(Object(source),true).forEach((function(key){TransactionTabs_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{TransactionTabs_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function TransactionTabs_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const timelineTab={key:"timeline",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.tabs.timelineLabel",{defaultMessage:"Timeline"})};const TransactionTabs_metadataTab={key:"metadata",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.propertiesTable.tabs.metadataLabel",{defaultMessage:"Metadata"})};function TransactionTabs({location:location,transaction:transaction,urlParams:urlParams,waterfall:waterfall,exceedsMax:exceedsMax}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const tabs=[timelineTab,TransactionTabs_metadataTab];const currentTab=urlParams.detailTab===TransactionTabs_metadataTab.key?TransactionTabs_metadataTab:timelineTab;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabs"],null,tabs.map(({key:key,label:label})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{onClick:()=>{history.replace(TransactionTabs_objectSpread(TransactionTabs_objectSpread({},location),{},{search:Object(url_helpers["b"])(TransactionTabs_objectSpread(TransactionTabs_objectSpread({},Object(url_helpers["c"])(location.search)),{},{detailTab:key}))}))},isSelected:currentTab.key===key,key:key},label))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),currentTab.key===timelineTab.key?external_kbnSharedDeps_React_default.a.createElement(WaterfallContainer,{location:location,urlParams:urlParams,waterfall:waterfall,exceedsMax:exceedsMax}):external_kbnSharedDeps_React_default.a.createElement(TransactionMetadata,{transaction:transaction}))}function WaterfallWithSummmary_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function WaterfallWithSummmary_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){WaterfallWithSummmary_ownKeys(Object(source),true).forEach((function(key){WaterfallWithSummmary_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{WaterfallWithSummmary_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function WaterfallWithSummmary_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function WaterfallWithSummmary_slicedToArray(arr,i){return WaterfallWithSummmary_arrayWithHoles(arr)||WaterfallWithSummmary_iterableToArrayLimit(arr,i)||WaterfallWithSummmary_unsupportedIterableToArray(arr,i)||WaterfallWithSummmary_nonIterableRest()}function WaterfallWithSummmary_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WaterfallWithSummmary_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return WaterfallWithSummmary_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WaterfallWithSummmary_arrayLikeToArray(o,minLen)}function WaterfallWithSummmary_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function WaterfallWithSummmary_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function WaterfallWithSummmary_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function WaterfallWithSummmary({urlParams:urlParams,location:location,waterfall:waterfall,exceedsMax:exceedsMax,isLoading:isLoading,traceSamples:traceSamples}){var _waterfall$rootTransa;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useState=Object(external_kbnSharedDeps_React_["useState"])(0),_useState2=WaterfallWithSummmary_slicedToArray(_useState,2),sampleActivePage=_useState2[0],setSampleActivePage=_useState2[1];Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setSampleActivePage(0)},[traceSamples]);const goToSample=index=>{setSampleActivePage(index);const sample=traceSamples[index];history.push(WaterfallWithSummmary_objectSpread(WaterfallWithSummmary_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(WaterfallWithSummmary_objectSpread(WaterfallWithSummmary_objectSpread({},Object(url_helpers["c"])(history.location.search)),{},{transactionId:sample.transactionId,traceId:sample.traceId}))}))};const entryWaterfallTransaction=waterfall.entryWaterfallTransaction;if(!entryWaterfallTransaction){const content=isLoading?external_kbnSharedDeps_React_default.a.createElement(LoadingStatePrompt,null):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{title:external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.traceNotFound",{defaultMessage:"The selected trace cannot be found"})),titleSize:"s"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},content)}const entryTransaction=entryWaterfallTransaction.doc;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{style:{flexDirection:"row",alignItems:"center"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.transactionDetails.traceSampleTitle",{defaultMessage:"Trace sample"}))),traceSamples&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPagination"],{pageCount:traceSamples.length,activePage:sampleActivePage,onPageClick:goToSample,compressed:true})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(TransactionActionMenu,{transaction:entryTransaction})),external_kbnSharedDeps_React_default.a.createElement(MaybeViewTraceLink,{transaction:entryTransaction,waterfall:waterfall})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(TransactionSummary,{errorCount:waterfall.errorsCount,totalDuration:(_waterfall$rootTransa=waterfall.rootTransaction)===null||_waterfall$rootTransa===void 0?void 0:_waterfall$rootTransa.transaction.duration.us,transaction:entryTransaction}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(TransactionTabs,{transaction:entryTransaction,location:location,urlParams:urlParams,waterfall:waterfall,exceedsMax:exceedsMax}))}function TransactionDetails_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function TransactionDetails_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){TransactionDetails_ownKeys(Object(source),true).forEach((function(key){TransactionDetails_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{TransactionDetails_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function TransactionDetails_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function TransactionDetails({location:location,match:match}){var _bucketWithSample$sam;const serviceName=match.params.serviceName;const _useUrlParams=Object(useUrlParams["a"])(),urlParams=_useUrlParams.urlParams;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const _useTransactionDistri=useTransactionDistribution(urlParams),distributionData=_useTransactionDistri.data,distributionStatus=_useTransactionDistri.status;const _useTransactionCharts=useTransactionCharts(),transactionChartsData=_useTransactionCharts.data,transactionChartsStatus=_useTransactionCharts.status;const _useWaterfall=useWaterfall(urlParams),waterfall=_useWaterfall.waterfall,exceedsMax=_useWaterfall.exceedsMax,waterfallStatus=_useWaterfall.status;const transactionName=urlParams.transactionName,transactionType=urlParams.transactionType;Object(public_["useTrackPageview"])({app:"apm",path:"transaction_details"});Object(public_["useTrackPageview"])({app:"apm",path:"transaction_details",delay:15e3});const localUIFiltersConfig=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const config={filterNames:["transactionResult","serviceVersion"],projection:projections["a"].transactions,params:{transactionName:transactionName,transactionType:transactionType,serviceName:serviceName}};return config},[transactionName,transactionType,serviceName]);const selectedSample=Object(external_kbnSharedDeps_Lodash_["flatten"])(distributionData.buckets.map(bucket=>bucket.samples)).find(sample=>sample.transactionId===urlParams.transactionId&&sample.traceId===urlParams.traceId);const bucketWithSample=selectedSample&&distributionData.buckets.find(bucket=>bucket.samples.includes(selectedSample));const traceSamples=(_bucketWithSample$sam=bucketWithSample===null||bucketWithSample===void 0?void 0:bucketWithSample.samples)!==null&&_bucketWithSample$sam!==void 0?_bucketWithSample$sam:[];const bucketIndex=bucketWithSample?distributionData.buckets.indexOf(bucketWithSample):-1;const selectSampleFromBucketClick=sample=>{history.push(TransactionDetails_objectSpread(TransactionDetails_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(TransactionDetails_objectSpread(TransactionDetails_objectSpread({},Object(url_helpers["c"])(history.location.search)),{},{transactionId:sample.transactionId,traceId:sample.traceId}))}))};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(ApmHeader,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,transactionName))),external_kbnSharedDeps_React_default.a.createElement(SearchBar,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(Correlations,null),external_kbnSharedDeps_React_default.a.createElement(LocalUIFilters["a"],localUIFiltersConfig)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:7},external_kbnSharedDeps_React_default.a.createElement(ChartPointerEventContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(TransactionCharts,{fetchStatus:transactionChartsStatus,charts:transactionChartsData,urlParams:urlParams})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"full",margin:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(TransactionDistribution,{distribution:distributionData,fetchStatus:distributionStatus,urlParams:urlParams,bucketIndex:bucketIndex,onBucketClick:bucket=>{if(!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(bucket.samples)){selectSampleFromBucketClick(bucket.samples[0])}}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(HeightRetainer,null,external_kbnSharedDeps_React_default.a.createElement(WaterfallWithSummmary,{location:location,urlParams:urlParams,waterfall:waterfall,isLoading:waterfallStatus===useFetcher["a"].LOADING,exceedsMax:exceedsMax,traceSamples:traceSamples}))))))}function SelectWithPlaceholder_extends(){SelectWithPlaceholder_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return SelectWithPlaceholder_extends.apply(this,arguments)}const NO_SELECTION="__NO_SELECTION__";const DEFAULT_PLACEHOLDER=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.selectPlaceholder",{defaultMessage:"Select option:"});const SelectWithPlaceholder=props=>{const placeholder=props.placeholder||DEFAULT_PLACEHOLDER;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],SelectWithPlaceholder_extends({},props,{options:[{text:placeholder,value:NO_SELECTION},...props.options||[]],value:Object(external_kbnSharedDeps_Lodash_["isEmpty"])(props.value)?NO_SELECTION:props.value,onChange:e=>{if(props.onChange){const customEvent=Object.assign(e,{target:Object.assign(e.target,{value:e.target.value===NO_SELECTION?"":e.target.value})});props.onChange(customEvent)}}}))};function FormRowSelect({title:title,description:description,fieldLabel:fieldLabel,isLoading:isLoading,options:options,value:value,disabled:disabled,onChange:onChange}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{fullWidth:true,title:external_kbnSharedDeps_React_default.a.createElement("h3",null,title),description:description},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:fieldLabel},external_kbnSharedDeps_React_default.a.createElement(SelectWithPlaceholder,{isLoading:isLoading,options:options,value:value,disabled:disabled,onChange:onChange})))}function ServicePage_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function ServicePage_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ServicePage_ownKeys(Object(source),true).forEach((function(key){ServicePage_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ServicePage_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function ServicePage_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function ServicePage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function ServicePage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ServicePage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ServicePage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ServicePage({newConfig:newConfig,setNewConfig:setNewConfig,onClickNext:onClickNext}){const _useFetcher=Object(useFetcher["b"])(callApmApi=>callApmApi({endpoint:"GET /api/apm/settings/agent-configuration/services",isCachable:true}),[],{preservePreviousData:false}),_useFetcher$data=_useFetcher.data,serviceNames=_useFetcher$data===void 0?[]:_useFetcher$data,serviceNamesStatus=_useFetcher.status;const _useFetcher2=Object(useFetcher["b"])(callApmApi=>{if(newConfig.service.name){return callApmApi({endpoint:"GET /api/apm/settings/agent-configuration/environments",params:{query:{serviceName:omitAllOption(newConfig.service.name)}}})}},[newConfig.service.name],{preservePreviousData:false}),_useFetcher2$data=_useFetcher2.data,environments=_useFetcher2$data===void 0?[]:_useFetcher2$data,environmentStatus=_useFetcher2.status;const _useFetcher3=Object(useFetcher["b"])(function(){var _ref=ServicePage_asyncToGenerator(regeneratorRuntime.mark((function _callee(callApmApi){var serviceName,_yield$callApmApi,agentName;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:serviceName=newConfig.service.name;if(!(!Object(external_kbnSharedDeps_Lodash_["isString"])(serviceName)||serviceName.length===0)){_context.next=3;break}return _context.abrupt("return");case 3:_context.next=5;return callApmApi({endpoint:"GET /api/apm/settings/agent-configuration/agent_name",params:{query:{serviceName:serviceName}}});case 5:_yield$callApmApi=_context.sent;agentName=_yield$callApmApi.agentName;setNewConfig(prev=>ServicePage_objectSpread(ServicePage_objectSpread({},prev),{},{agent_name:agentName}));case 8:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[newConfig.service.name,setNewConfig]),agentNameStatus=_useFetcher3.status;const ALREADY_CONFIGURED_TRANSLATED=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.alreadyConfiguredOption",{defaultMessage:"already configured"});const serviceNameOptions=serviceNames.map(name=>({text:getOptionLabel(name),value:name}));const environmentOptions=environments.map(({name:name,alreadyConfigured:alreadyConfigured})=>({disabled:alreadyConfigured,text:"".concat(getOptionLabel(name)," ").concat(alreadyConfigured?"(".concat(ALREADY_CONFIGURED_TRANSLATED,")"):""),value:name}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.title",{defaultMessage:"Choose service"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(FormRowSelect,{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.service.title",{defaultMessage:"Service"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.service.description",{defaultMessage:"Choose the service you want to configure."}),fieldLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.service.fieldLabel",{defaultMessage:"Service name"}),isLoading:serviceNamesStatus===useFetcher["a"].LOADING,options:serviceNameOptions,value:newConfig.service.name,disabled:serviceNamesStatus===useFetcher["a"].LOADING,onChange:e=>{e.preventDefault();const name=e.target.value;setNewConfig(prev=>ServicePage_objectSpread(ServicePage_objectSpread({},prev),{},{service:{name:name,environment:""}}))}}),external_kbnSharedDeps_React_default.a.createElement(FormRowSelect,{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.environment.title",{defaultMessage:"Environment"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.environment.description",{defaultMessage:"Only a single environment per configuration is supported."}),fieldLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.environment.fieldLabel",{defaultMessage:"Service environment"}),isLoading:environmentStatus===useFetcher["a"].LOADING,options:environmentOptions,value:newConfig.service.environment,disabled:!newConfig.service.name||environmentStatus===useFetcher["a"].LOADING,onChange:e=>{e.preventDefault();const environment=e.target.value;setNewConfig(prev=>ServicePage_objectSpread(ServicePage_objectSpread({},prev),{},{service:{name:prev.service.name,environment:environment}}))}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(APMLink["a"],{path:"/settings/agent-configuration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{color:"primary"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.servicePage.cancelButton",{defaultMessage:"Cancel"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{type:"submit",fill:true,onClick:onClickNext,isLoading:agentNameStatus===useFetcher["a"].LOADING,isDisabled:!newConfig.service.name||!newConfig.service.environment||agentNameStatus===useFetcher["a"].LOADING},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.saveConfigurationButtonLabel",{defaultMessage:"Next step"})))))}var io_ts_lib=__webpack_require__(80);var Either=__webpack_require__(92);var PathReporter=__webpack_require__(835);const booleanRt=io_ts_lib["union"]([io_ts_lib["literal"]("true"),io_ts_lib["literal"]("false")]);function amount_and_unit_slicedToArray(arr,i){return amount_and_unit_arrayWithHoles(arr)||amount_and_unit_iterableToArrayLimit(arr,i)||amount_and_unit_unsupportedIterableToArray(arr,i)||amount_and_unit_nonIterableRest()}function amount_and_unit_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function amount_and_unit_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return amount_and_unit_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return amount_and_unit_arrayLikeToArray(o,minLen)}function amount_and_unit_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function amount_and_unit_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function amount_and_unit_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function amountAndUnitToObject(value){const _ref=value.match(/(^-?\d+)?(\w+)?/)||[],_ref2=amount_and_unit_slicedToArray(_ref,3),_ref2$=_ref2[1],amount=_ref2$===void 0?"":_ref2$,_ref2$2=_ref2[2],unit=_ref2$2===void 0?"":_ref2$2;return{amount:parseInt(amount,10),unit:unit}}function amountAndUnitToString({amount:amount,unit:unit}){return"".concat(amount).concat(unit)}function getRangeType(min,max){if(Object(external_kbnSharedDeps_Lodash_["isFinite"])(min)&&Object(external_kbnSharedDeps_Lodash_["isFinite"])(max)){return"between"}else if(Object(external_kbnSharedDeps_Lodash_["isFinite"])(min)){return"gt"}else if(Object(external_kbnSharedDeps_Lodash_["isFinite"])(max)){return"lt"}}function getRangeTypeMessage(min,max){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.range.errorText",{defaultMessage:"{rangeType, select,\n        between {Must be between {min} and {max}}\n        gt {Must be greater than {min}}\n        lt {Must be less than {max}}\n        other {Must be an integer}\n      }",values:{min:min,max:max,rangeType:getRangeType(typeof min==="string"?amountAndUnitToObject(min).amount:min,typeof max==="string"?amountAndUnitToObject(max).amount:max)}})}function getIntegerRt({min:min=-Infinity,max:max=Infinity}={}){const message=getRangeTypeMessage(min,max);return new io_ts_lib["Type"]("integerRt",io_ts_lib["string"].is,(input,context)=>Either["either"].chain(io_ts_lib["string"].validate(input,context),inputAsString=>{const inputAsInt=parseInt(inputAsString,10);const isValid=inputAsInt>=min&&inputAsInt<=max;return isValid?io_ts_lib["success"](inputAsString):io_ts_lib["failure"](input,context,message)}),io_ts_lib["identity"])}const floatRt=new io_ts_lib["Type"]("floatRt",io_ts_lib["string"].is,(input,context)=>Either["either"].chain(io_ts_lib["string"].validate(input,context),inputAsString=>{const inputAsFloat=parseFloat(inputAsString);const maxThreeDecimals=parseFloat(inputAsFloat.toFixed(3))===inputAsFloat;const isValid=inputAsFloat>=0&&inputAsFloat<=1&&maxThreeDecimals;return isValid?io_ts_lib["success"](inputAsString):io_ts_lib["failure"](input,context,"Must be a number between 0.000 and 1")}),io_ts_lib["identity"]);const captureBodyRt=io_ts_lib["union"]([io_ts_lib["literal"]("off"),io_ts_lib["literal"]("errors"),io_ts_lib["literal"]("transactions"),io_ts_lib["literal"]("all")]);const generalSettings=[{key:"api_request_size",type:"bytes",defaultValue:"768kb",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.apiRequestSize.label",{defaultMessage:"API Request Size"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.apiRequestSize.description",{defaultMessage:"The maximum total compressed size of the request body which is sent to the APM Server intake api via a chunked encoding (HTTP streaming).\nNote that a small overshoot is possible.\n\nAllowed byte units are `b`, `kb` and `mb`. `1kb` is equal to `1024b`."}),excludeAgents:["js-base","rum-js","dotnet","go","nodejs"]},{key:"api_request_time",type:"duration",defaultValue:"10s",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.apiRequestTime.label",{defaultMessage:"API Request Time"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.apiRequestTime.description",{defaultMessage:"Maximum time to keep an HTTP request to the APM Server open for.\n\nNOTE: This value has to be lower than the APM Server's `read_timeout` setting."}),excludeAgents:["js-base","rum-js","dotnet","go","nodejs"]},{key:"capture_body",validation:captureBodyRt,type:"select",defaultValue:"off",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.captureBody.label",{defaultMessage:"Capture body"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.captureBody.description",{defaultMessage:"For transactions that are HTTP requests, the agent can optionally capture the request body (e.g. POST variables).\nFor transactions that are initiated by receiving a message from a message broker, the agent can capture the textual message body."}),options:[{text:"off",value:"off"},{text:"errors",value:"errors"},{text:"transactions",value:"transactions"},{text:"all",value:"all"}],excludeAgents:["js-base","rum-js"]},{key:"capture_headers",type:"boolean",defaultValue:"true",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.captureHeaders.label",{defaultMessage:"Capture Headers"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.captureHeaders.description",{defaultMessage:"If set to `true`, the agent will capture HTTP request and response headers (including cookies), as well as message headers/properties when using messaging frameworks (like Kafka).\n\nNOTE: Setting this to `false` reduces network bandwidth, disk space and object allocations."}),excludeAgents:["js-base","rum-js","nodejs"]},{key:"log_level",type:"text",defaultValue:"info",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.logLevel.label",{defaultMessage:"Log level"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.logLevel.description",{defaultMessage:"Sets the logging level for the agent"}),includeAgents:["dotnet","ruby"]},{key:"recording",type:"boolean",defaultValue:"true",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.recording.label",{defaultMessage:"Recording"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.recording.description",{defaultMessage:"When recording, the agent instruments incoming HTTP requests, tracks errors, and collects and sends metrics. When set to non-recording, the agent works as a noop, not collecting data and not communicating with the APM Server except for polling for updated configuration. As this is a reversible switch, agent threads are not being killed when set to non-recording, but they will be mostly idle in this state, so the overhead should be negligible. You can use this setting to dynamically control whether Elastic APM is enabled or disabled."}),excludeAgents:["nodejs"]},{key:"server_timeout",type:"duration",defaultValue:"5s",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.serverTimeout.label",{defaultMessage:"Server Timeout"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.serverTimeout.description",{defaultMessage:"If a request to the APM Server takes longer than the configured timeout,\nthe request is cancelled and the event (exception or transaction) is discarded.\nSet to 0 to disable timeouts.\n\nWARNING: If timeouts are disabled or set to a high value, your app could experience memory issues if the APM Server times out."}),includeAgents:["java"]},{key:"span_frames_min_duration",type:"duration",min:"-1ms",defaultValue:"5ms",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.spanFramesMinDuration.label",{defaultMessage:"Span frames minimum duration"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.spanFramesMinDuration.description",{defaultMessage:"In its default settings, the APM agent will collect a stack trace with every recorded span.\nWhile this is very helpful to find the exact place in your code that causes the span, collecting this stack trace does have some overhead. \nWhen setting this option to a negative value, like `-1ms`, stack traces will be collected for all spans. Setting it to a positive value, e.g. `5ms`, will limit stack trace collection to spans with durations equal to or longer than the given value, e.g. 5 milliseconds.\n\nTo disable stack trace collection for spans completely, set the value to `0ms`."}),excludeAgents:["js-base","rum-js","nodejs"]},{key:"stack_trace_limit",type:"integer",defaultValue:"50",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stackTraceLimit.label",{defaultMessage:"Stack trace limit"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stackTraceLimit.description",{defaultMessage:"Setting it to 0 will disable stack trace collection. Any positive integer value will be used as the maximum number of frames to collect. Setting it -1 means that all frames will be collected."}),includeAgents:["java","dotnet","go"]},{key:"transaction_max_spans",type:"integer",min:0,defaultValue:"500",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.transactionMaxSpans.label",{defaultMessage:"Transaction max spans"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.transactionMaxSpans.description",{defaultMessage:"Limits the amount of spans that are recorded per transaction."}),excludeAgents:["js-base","rum-js"]},{key:"transaction_sample_rate",type:"float",defaultValue:"1.0",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.transactionSampleRate.label",{defaultMessage:"Transaction sample rate"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.transactionSampleRate.description",{defaultMessage:"By default, the agent will sample every transaction (e.g. request to your service). To reduce overhead and storage requirements, you can set the sample rate to a value between 0.0 and 1.0. We still record overall time and the result for unsampled transactions, but not context information, labels, or spans."})}];const javaSettings=[{key:"enable_log_correlation",type:"boolean",defaultValue:"false",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.enableLogCorrelation.label",{defaultMessage:"Enable log correlation"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.enableLogCorrelation.description",{defaultMessage:"A boolean specifying if the agent should integrate into SLF4J's MDC to enable trace-log correlation. If set to `true`, the agent will set the `trace.id` and `transaction.id` for the currently active spans and transactions to the MDC. Since Java agent version 1.16.0, the agent also adds `error.id` of captured error to the MDC just before the error message is logged. NOTE: While it's allowed to enable this setting at runtime, you can't disable it without a restart."}),includeAgents:["java"]},{key:"circuit_breaker_enabled",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.circuitBreakerEnabled.label",{defaultMessage:"Cirtcuit breaker enabled"}),type:"boolean",category:"Circuit-Breaker",defaultValue:"false",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.circuitBreakerEnabled.description",{defaultMessage:"A boolean specifying whether the circuit breaker should be enabled or not.  When enabled, the agent periodically polls stress monitors to detect system/process/JVM stress state. If ANY of the monitors detects a stress indication, the agent will pause, as if the `recording` configuration option has been set to `false`, thus reducing resource consumption to a minimum. When paused, the agent continues polling the same monitors in order to detect whether the stress state has been relieved. If ALL monitors approve that the system/process/JVM is not under stress anymore, the agent will resume and become fully functional."}),includeAgents:["java"]},{key:"stress_monitor_gc_stress_threshold",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorGcStressThreshold.label",{defaultMessage:"Stress monitor gc stress threshold"}),type:"float",category:"Circuit-Breaker",defaultValue:"0.95",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorGcStressThreshold.description",{defaultMessage:"The threshold used by the GC monitor to rely on for identifying heap stress. The same threshold will be used for all heap pools, so that if ANY has a usage percentage that crosses it, the agent will consider it as a heap stress. The GC monitor relies only on memory consumption measured after a recent GC."}),includeAgents:["java"]},{key:"stress_monitor_gc_relief_threshold",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorGcReliefThreshold.label",{defaultMessage:"Stress monitor gc relief threshold"}),type:"float",category:"Circuit-Breaker",defaultValue:"0.75",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorGcReliefThreshold.description",{defaultMessage:"The threshold used by the GC monitor to rely on for identifying when the heap is not under stress. If `stress_monitor_gc_stress_threshold` has been crossed, the agent will consider it a heap-stress state. In order to determine that the stress state is over, percentage of occupied memory in ALL heap pools should be lower than this threshold. The GC monitor relies only on memory consumption measured after a recent GC."}),includeAgents:["java"]},{key:"stress_monitor_cpu_duration_threshold",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorCpuDurationThreshold.label",{defaultMessage:"Stress monitor cpu duration threshold"}),type:"duration",category:"Circuit-Breaker",defaultValue:"1m",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorCpuDurationThreshold.description",{defaultMessage:"The minimal time required in order to determine whether the system is either currently under stress, or that the stress detected previously has been relieved. All measurements during this time must be consistent in comparison to the relevant threshold in order to detect a change of stress state. Must be at least `1m`."}),includeAgents:["java"],min:"1m"},{key:"stress_monitor_system_cpu_stress_threshold",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorSystemCpuStressThreshold.label",{defaultMessage:"Stress monitor system cpu stress threshold"}),type:"float",category:"Circuit-Breaker",defaultValue:"0.95",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorSystemCpuStressThreshold.description",{defaultMessage:"The threshold used by the system CPU monitor to detect system CPU stress. If the system CPU crosses this threshold for a duration of at least `stress_monitor_cpu_duration_threshold`, the monitor considers this as a stress state."}),includeAgents:["java"]},{key:"stress_monitor_system_cpu_relief_threshold",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorSystemCpuReliefThreshold.label",{defaultMessage:"Stress monitor system cpu relief threshold"}),type:"float",category:"Circuit-Breaker",defaultValue:"0.8",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.stressMonitorSystemCpuReliefThreshold.description",{defaultMessage:"The threshold used by the system CPU monitor to determine that the system is not under CPU stress. If the monitor detected a CPU stress, the measured system CPU needs to be below this threshold for a duration of at least `stress_monitor_cpu_duration_threshold` in order for the monitor to decide that the CPU stress has been relieved."}),includeAgents:["java"]},{key:"profiling_inferred_spans_enabled",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansEnabled.label",{defaultMessage:"Profiling inferred spans enabled"}),type:"boolean",category:"Profiling",defaultValue:"false",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansEnabled.description",{defaultMessage:"Set to `true` to make the agent create spans for method executions based on async-profiler, a sampling aka statistical profiler. Due to the nature of how sampling profilers work, the duration of the inferred spans are not exact, but only estimations. The `profiling_inferred_spans_sampling_interval` lets you fine tune the trade-off between accuracy and overhead. The inferred spans are created after a profiling session has ended. This means there is a delay between the regular and the inferred spans being visible in the UI. NOTE: This feature is not available on Windows."}),includeAgents:["java"]},{key:"profiling_inferred_spans_sampling_interval",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansSamplingInterval.label",{defaultMessage:"Profiling inferred spans sampling interval"}),type:"duration",category:"Profiling",defaultValue:"50ms",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansSamplingInterval.description",{defaultMessage:"The frequency at which stack traces are gathered within a profiling session. The lower you set it, the more accurate the durations will be. This comes at the expense of higher overhead and more spans for potentially irrelevant operations. The minimal duration of a profiling-inferred span is the same as the value of this setting."}),includeAgents:["java"],min:"1ms",max:"1s"},{key:"profiling_inferred_spans_min_duration",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansMinDuration.label",{defaultMessage:"Profiling inferred spans min duration"}),type:"duration",category:"Profiling",defaultValue:"0ms",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansMinDuration.description",{defaultMessage:"The minimum duration of an inferred span. Note that the min duration is also implicitly set by the sampling interval. However, increasing the sampling interval also decreases the accuracy of the duration of inferred spans."}),includeAgents:["java"],min:"0ms"},{key:"profiling_inferred_spans_included_classes",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansIncludedClasses.label",{defaultMessage:"Profiling inferred spans included classes"}),type:"text",category:"Profiling",defaultValue:"*",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansIncludedClasses.description",{defaultMessage:"If set, the agent will only create inferred spans for methods which match this list. Setting a value may slightly reduce overhead and can reduce clutter by only creating spans for the classes you are interested in. This option supports the wildcard `*`, which matches zero or more characters. Example: `org.example.myapp.*`. Matching is case insensitive by default. Prepending an element with `(?-i)` makes the matching case sensitive."}),includeAgents:["java"]},{key:"profiling_inferred_spans_excluded_classes",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansExcludedClasses.label",{defaultMessage:"Profiling inferred spans excluded classes"}),type:"text",category:"Profiling",defaultValue:"(?-i)java.*,(?-i)javax.*,(?-i)sun.*,(?-i)com.sun.*,(?-i)jdk.*,(?-i)org.apache.tomcat.*,(?-i)org.apache.catalina.*,(?-i)org.apache.coyote.*,(?-i)org.jboss.as.*,(?-i)org.glassfish.*,(?-i)org.eclipse.jetty.*,(?-i)com.ibm.websphere.*,(?-i)io.undertow.*",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.profilingInferredSpansExcludedClasses.description",{defaultMessage:"Excludes classes for which no profiler-inferred spans should be created. This option supports the wildcard `*`, which matches zero or more characters. Matching is case insensitive by default. Prepending an element with `(?-i)` makes the matching case sensitive."}),includeAgents:["java"]}];function toMilliseconds({amount:amount,unit:unit}){return external_kbnSharedDeps_Moment_default.a.duration(amount,unit)}function amountAndUnitToMilliseconds(value){if(value){const _amountAndUnitToObjec=amountAndUnitToObject(value),amount=_amountAndUnitToObjec.amount,unit=_amountAndUnitToObjec.unit;if(isFinite(amount)&&unit){return toMilliseconds({amount:amount,unit:unit})}}}function getDurationRt({min:min,max:max}){var _amountAndUnitToMilli,_amountAndUnitToMilli2;const minAsMilliseconds=(_amountAndUnitToMilli=amountAndUnitToMilliseconds(min))!==null&&_amountAndUnitToMilli!==void 0?_amountAndUnitToMilli:-Infinity;const maxAsMilliseconds=(_amountAndUnitToMilli2=amountAndUnitToMilliseconds(max))!==null&&_amountAndUnitToMilli2!==void 0?_amountAndUnitToMilli2:Infinity;const message=getRangeTypeMessage(min,max);return new io_ts_lib["Type"]("durationRt",io_ts_lib["string"].is,(input,context)=>Either["either"].chain(io_ts_lib["string"].validate(input,context),inputAsString=>{const inputAsMilliseconds=amountAndUnitToMilliseconds(inputAsString);const isValidAmount=inputAsMilliseconds!==undefined&&inputAsMilliseconds>=minAsMilliseconds&&inputAsMilliseconds<=maxAsMilliseconds;return isValidAmount?io_ts_lib["success"](inputAsString):io_ts_lib["failure"](input,context,message)}),io_ts_lib["identity"])}function toBytes(amount,unit){switch(unit){case"b":return amount;case"kb":return amount*Math.pow(2,10);case"mb":return amount*Math.pow(2,20)}}function amountAndUnitToBytes(value){if(value){const _amountAndUnitToObjec=amountAndUnitToObject(value),amount=_amountAndUnitToObjec.amount,unit=_amountAndUnitToObjec.unit;if(isFinite(amount)&&unit){return toBytes(amount,unit)}}}function getBytesRt({min:min,max:max}){var _amountAndUnitToBytes,_amountAndUnitToBytes2;const minAsBytes=(_amountAndUnitToBytes=amountAndUnitToBytes(min))!==null&&_amountAndUnitToBytes!==void 0?_amountAndUnitToBytes:-Infinity;const maxAsBytes=(_amountAndUnitToBytes2=amountAndUnitToBytes(max))!==null&&_amountAndUnitToBytes2!==void 0?_amountAndUnitToBytes2:Infinity;const message=getRangeTypeMessage(min,max);return new io_ts_lib["Type"]("bytesRt",io_ts_lib["string"].is,(input,context)=>Either["either"].chain(io_ts_lib["string"].validate(input,context),inputAsString=>{const inputAsBytes=amountAndUnitToBytes(inputAsString);const isValidAmount=inputAsBytes!==undefined&&inputAsBytes>=minAsBytes&&inputAsBytes<=maxAsBytes;return isValidAmount?io_ts_lib["success"](inputAsString):io_ts_lib["failure"](input,context,message)}),io_ts_lib["identity"])}function setting_definitions_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function setting_definitions_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){setting_definitions_ownKeys(Object(source),true).forEach((function(key){setting_definitions_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{setting_definitions_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function setting_definitions_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getSettingDefaults(setting){switch(setting.type){case"select":return setting_definitions_objectSpread({validation:io_ts_lib["string"]},setting);case"boolean":return setting_definitions_objectSpread({validation:booleanRt},setting);case"text":return setting_definitions_objectSpread({validation:io_ts_lib["string"]},setting);case"integer":{const min=setting.min,max=setting.max;return setting_definitions_objectSpread({validation:getIntegerRt({min:min,max:max}),min:min,max:max},setting)}case"float":{return setting_definitions_objectSpread({validation:floatRt},setting)}case"bytes":{var _setting$units,_setting$min;const units=(_setting$units=setting.units)!==null&&_setting$units!==void 0?_setting$units:["b","kb","mb"];const min=(_setting$min=setting.min)!==null&&_setting$min!==void 0?_setting$min:"0b";const max=setting.max;return setting_definitions_objectSpread({validation:getBytesRt({min:min,max:max}),units:units,min:min},setting)}case"duration":{var _setting$units2,_setting$min2;const units=(_setting$units2=setting.units)!==null&&_setting$units2!==void 0?_setting$units2:["ms","s","m"];const min=(_setting$min2=setting.min)!==null&&_setting$min2!==void 0?_setting$min2:"1ms";const max=setting.max;return setting_definitions_objectSpread({validation:getDurationRt({min:min,max:max}),units:units,min:min},setting)}default:return setting}}function filterByAgent(agentName){return setting=>{if(!agentName){if(setting.includeAgents){return false}if(setting.excludeAgents){return setting.excludeAgents.every(agent_name["e"])}return true}if(setting.includeAgents){return setting.includeAgents.includes(agentName)}if(setting.excludeAgents){return!setting.excludeAgents.includes(agentName)}return true}}function validateSetting(setting,value){const result=setting.validation.decode(value);const message=PathReporter["PathReporter"].report(result)[0];const isValid=Object(Either["isRight"])(result);return{isValid:isValid,message:message}}const settingDefinitions=Object(external_kbnSharedDeps_Lodash_["sortBy"])([...generalSettings,...javaSettings].map(getSettingDefaults),"key");function saveConfig_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function saveConfig_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){saveConfig_ownKeys(Object(source),true).forEach((function(key){saveConfig_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{saveConfig_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function saveConfig_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function saveConfig_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function saveConfig_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){saveConfig_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){saveConfig_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function saveConfig(_x){return _saveConfig.apply(this,arguments)}function _saveConfig(){_saveConfig=saveConfig_asyncToGenerator(regeneratorRuntime.mark((function _callee({config:config,isEditMode:isEditMode,toasts:toasts}){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Object(createCallApmApi["a"])({endpoint:"PUT /api/apm/settings/agent-configuration",params:{query:{overwrite:isEditMode},body:saveConfig_objectSpread(saveConfig_objectSpread({},config),{},{service:{name:omitAllOption(config.service.name),environment:omitAllOption(config.service.environment)}})}});case 3:toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.saveConfig.succeeded.title",{defaultMessage:"Configuration saved"}),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.saveConfig.succeeded.text",{defaultMessage:'The configuration for "{serviceName}" was saved. It will take some time to propagate to the agents.',values:{serviceName:getOptionLabel(config.service.name)}})});_context.next=9;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.saveConfig.failed.title",{defaultMessage:"Configuration could not be saved"}),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.saveConfig.failed.text",{defaultMessage:'Something went wrong when saving the configuration for "{serviceName}". Error: "{errorMessage}"',values:{serviceName:getOptionLabel(config.service.name),errorMessage:_context.t0.message}})});case 9:case"end":return _context.stop()}}),_callee,null,[[0,6]])})));return _saveConfig.apply(this,arguments)}function FormRow({setting:setting,value:value,onChange:_onChange}){switch(setting.type){case"float":case"text":{return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{placeholder:setting.placeholder,value:value||"",onChange:e=>_onChange(setting.key,e.target.value)})}case"integer":{return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],{placeholder:setting.placeholder,value:value||"",min:setting.min,max:setting.max,onChange:e=>_onChange(setting.key,e.target.value)})}case"select":{return external_kbnSharedDeps_React_default.a.createElement(SelectWithPlaceholder,{placeholder:setting.placeholder,options:setting.options,value:value,onChange:e=>_onChange(setting.key,e.target.value)})}case"boolean":{return external_kbnSharedDeps_React_default.a.createElement(SelectWithPlaceholder,{placeholder:setting.placeholder,options:[{text:"true",value:"true"},{text:"false",value:"false"}],value:value,onChange:e=>_onChange(setting.key,e.target.value)})}case"bytes":case"duration":{var _setting$units;const _amountAndUnitToObjec=amountAndUnitToObject(value!==null&&value!==void 0?value:""),amount=_amountAndUnitToObjec.amount,unit=_amountAndUnitToObjec.unit;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],{placeholder:setting.placeholder,value:amount,onChange:e=>_onChange(setting.key,amountAndUnitToString({amount:e.target.value,unit:unit}))})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(SelectWithPlaceholder,{placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.unitLabel",{defaultMessage:"Select unit"}),value:unit,options:(_setting$units=setting.units)===null||_setting$units===void 0?void 0:_setting$units.map(text=>({text:text,value:text})),onChange:e=>_onChange(setting.key,amountAndUnitToString({amount:amount,unit:e.target.value}))})))}default:throw new Error('Unknown type "'.concat(setting.type,'"'))}}function SettingFormRow({isUnsaved:isUnsaved,setting:setting,value:value,onChange:onChange}){const _validateSetting=validateSetting(setting,value),isValid=_validateSetting.isValid,message=_validateSetting.message;const isInvalid=value!=null&&value!==""&&!isValid;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{fullWidth:true,title:external_kbnSharedDeps_React_default.a.createElement("h3",null,setting.label," ",isUnsaved&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"dot",color:"warning",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.unsavedSetting.tooltip",{defaultMessage:"Unsaved"})})),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,setting.description,setting.defaultValue&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"Default: ",setting.defaultValue)))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:setting.key,error:message,isInvalid:isInvalid},external_kbnSharedDeps_React_default.a.createElement(FormRow,{onChange:onChange,setting:setting,value:value})))}function SettingsPage_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function SettingsPage_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){SettingsPage_ownKeys(Object(source),true).forEach((function(key){SettingsPage_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{SettingsPage_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function SettingsPage_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function SettingsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function SettingsPage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){SettingsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){SettingsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function SettingsPage_slicedToArray(arr,i){return SettingsPage_arrayWithHoles(arr)||SettingsPage_iterableToArrayLimit(arr,i)||SettingsPage_unsupportedIterableToArray(arr,i)||SettingsPage_nonIterableRest()}function SettingsPage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function SettingsPage_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return SettingsPage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SettingsPage_arrayLikeToArray(o,minLen)}function SettingsPage_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SettingsPage_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function SettingsPage_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function removeEmpty(obj){return Object.fromEntries(Object.entries(obj).filter(([_,v])=>v!=null&&v!==""))}function SettingsPage({status:status,unsavedChanges:unsavedChanges,newConfig:newConfig,setNewConfig:setNewConfig,resetSettings:resetSettings,isEditMode:isEditMode,onClickEdit:onClickEdit}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const trackApmEvent=Object(public_["useUiTracker"])({app:"apm"});const toasts=Object(useApmPluginContext["a"])().core.notifications.toasts;const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=SettingsPage_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];const unsavedChangesCount=Object.keys(unsavedChanges).length;const isLoading=status===useFetcher["a"].LOADING;const isFormValid=Object(external_kbnSharedDeps_React_["useMemo"])(()=>settingDefinitions.filter(({key:key})=>{const value=newConfig.settings[key];return value!=null&&value!==""}).every(def=>{const value=newConfig.settings[def.key];return validateSetting(def,value).isValid}),[newConfig.settings]);const handleSubmitEvent=function(){var _ref=SettingsPage_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var config;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:trackApmEvent({metric:"save_agent_configuration"});config=SettingsPage_objectSpread(SettingsPage_objectSpread({},newConfig),{},{settings:removeEmpty(newConfig.settings)});setIsSaving(true);_context.next=5;return saveConfig({config:config,isEditMode:isEditMode,toasts:toasts});case 5:setIsSaving(false);history.push({pathname:"/settings/agent-configuration",search:history.location.search});case 7:case"end":return _context.stop()}}),_callee)})));return function handleSubmitEvent(){return _ref.apply(this,arguments)}}();if(status===useFetcher["a"].FAILURE){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.settingsPage.notFound.title",{defaultMessage:"Sorry, there was an error"}),color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.settingsPage.notFound.message",{defaultMessage:"The requested configuration does not exist"})))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement("form",{onKeyPress:e=>{const didClickEnter=e.which===13;if(didClickEnter&&isFormValid){e.preventDefault();handleSubmitEvent()}}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.chooseService.title",{defaultMessage:"Choose service"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{titleSize:"xs",title:isLoading?"-":getOptionLabel(newConfig.service.name),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.chooseService.service.name.label",{defaultMessage:"Service name"})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{titleSize:"xs",title:isLoading?"-":getOptionLabel(newConfig.service.environment),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.chooseService.service.environment.label",{defaultMessage:"Environment"})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},!isEditMode&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:onClickEdit,iconType:"pencil"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.chooseService.editButton",{defaultMessage:"Edit"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.settings.title",{defaultMessage:"Configuration options"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),isLoading?external_kbnSharedDeps_React_default.a.createElement("div",{style:{textAlign:"center"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})):renderSettings({unsavedChanges:unsavedChanges,newConfig:newConfig,setNewConfig:setNewConfig})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xxl"}),unsavedChangesCount>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBottomBar"],{paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{flexDirection:"row",alignItems:"center"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"warning"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"ghost"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.unsavedChanges",{defaultMessage:"{unsavedChangesCount, plural, =0{0 unsaved changes} one {1 unsaved change} other {# unsaved changes}} ",values:{unsavedChangesCount:unsavedChangesCount}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{color:"ghost",onClick:resetSettings},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.settingsPage.discardChangesButton",{defaultMessage:"Discard changes"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:handleSubmitEvent,fill:true,isLoading:isSaving,isDisabled:!isFormValid,color:"secondary",iconType:"check"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.settingsPage.saveButton",{defaultMessage:"Save configuration"}))))))))}function renderSettings({newConfig:newConfig,unsavedChanges:unsavedChanges,setNewConfig:setNewConfig}){return settingDefinitions.filter(filterByAgent(newConfig.agent_name)).map(setting=>external_kbnSharedDeps_React_default.a.createElement(SettingFormRow,{isUnsaved:unsavedChanges.hasOwnProperty(setting.key),key:setting.key,setting:setting,value:newConfig.settings[setting.key],onChange:(key,value)=>{setNewConfig(prev=>SettingsPage_objectSpread(SettingsPage_objectSpread({},prev),{},{settings:SettingsPage_objectSpread(SettingsPage_objectSpread({},prev.settings),{},{[key]:value})}))}}))}function AgentConfigurationCreateEdit_slicedToArray(arr,i){return AgentConfigurationCreateEdit_arrayWithHoles(arr)||AgentConfigurationCreateEdit_iterableToArrayLimit(arr,i)||AgentConfigurationCreateEdit_unsupportedIterableToArray(arr,i)||AgentConfigurationCreateEdit_nonIterableRest()}function AgentConfigurationCreateEdit_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function AgentConfigurationCreateEdit_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return AgentConfigurationCreateEdit_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AgentConfigurationCreateEdit_arrayLikeToArray(o,minLen)}function AgentConfigurationCreateEdit_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function AgentConfigurationCreateEdit_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function AgentConfigurationCreateEdit_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function AgentConfigurationCreateEdit_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function AgentConfigurationCreateEdit_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){AgentConfigurationCreateEdit_ownKeys(Object(source),true).forEach((function(key){AgentConfigurationCreateEdit_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{AgentConfigurationCreateEdit_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function AgentConfigurationCreateEdit_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getInitialNewConfig(existingConfig){return{agent_name:existingConfig===null||existingConfig===void 0?void 0:existingConfig.agent_name,service:(existingConfig===null||existingConfig===void 0?void 0:existingConfig.service)||{},settings:(existingConfig===null||existingConfig===void 0?void 0:existingConfig.settings)||{}}}function setPage(pageStep,history){history.push(AgentConfigurationCreateEdit_objectSpread(AgentConfigurationCreateEdit_objectSpread({},history.location),{},{search:Object(url_helpers["b"])(AgentConfigurationCreateEdit_objectSpread(AgentConfigurationCreateEdit_objectSpread({},Object(url_helpers["c"])(history.location.search)),{},{pageStep:pageStep}))}))}function getUnsavedChanges({newConfig:newConfig,existingConfig:existingConfig}){return Object.fromEntries(Object.entries(newConfig.settings).filter(([key,value])=>{var _existingConfig$setti;const existingValue=existingConfig===null||existingConfig===void 0?void 0:(_existingConfig$setti=existingConfig.settings)===null||_existingConfig$setti===void 0?void 0:_existingConfig$setti[key];if(value===""&&existingValue==null){return false}return existingValue!==value}))}function AgentConfigurationCreateEdit({pageStep:pageStep,existingConfigResult:existingConfigResult}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const existingConfig=existingConfigResult===null||existingConfigResult===void 0?void 0:existingConfigResult.data;const isEditMode=Boolean(existingConfigResult);const _useState=Object(external_kbnSharedDeps_React_["useState"])(getInitialNewConfig(existingConfig)),_useState2=AgentConfigurationCreateEdit_slicedToArray(_useState,2),newConfig=_useState2[0],setNewConfig=_useState2[1];const resetSettings=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setNewConfig(_newConfig=>AgentConfigurationCreateEdit_objectSpread(AgentConfigurationCreateEdit_objectSpread({},_newConfig),{},{settings:(existingConfig===null||existingConfig===void 0?void 0:existingConfig.settings)||{}}))},[existingConfig]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setNewConfig(getInitialNewConfig(existingConfig))},[existingConfig]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(pageStep==="choose-service-step"&&isEditMode){setPage("choose-settings-step",history)}if(pageStep==="choose-settings-step"&&!isEditMode&&Object(external_kbnSharedDeps_Lodash_["isEmpty"])(newConfig.service)){setPage("choose-service-step",history)}},[history,isEditMode,newConfig,pageStep]);const unsavedChanges=getUnsavedChanges({newConfig:newConfig,existingConfig:existingConfig});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,isEditMode?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.editConfigTitle",{defaultMessage:"Edit configuration"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.createConfigTitle",{defaultMessage:"Create configuration"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.agentConfig.newConfig.description",{defaultMessage:"This allows you to fine-tune your agent configuration directly in\n        Kibana. Best of all, changes are automatically propagated to your APM\n        agents so there’s no need to redeploy."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),pageStep==="choose-service-step"&&external_kbnSharedDeps_React_default.a.createElement(ServicePage,{newConfig:newConfig,setNewConfig:setNewConfig,onClickNext:()=>{resetSettings();setPage("choose-settings-step",history)}}),pageStep==="choose-settings-step"&&external_kbnSharedDeps_React_default.a.createElement(SettingsPage,{status:existingConfigResult===null||existingConfigResult===void 0?void 0:existingConfigResult.status,unsavedChanges:unsavedChanges,onClickEdit:()=>setPage("choose-service-step",history),newConfig:newConfig,setNewConfig:setNewConfig,resetSettings:resetSettings,isEditMode:isEditMode}))}function EditAgentConfigurationRouteHandler(props){const search=props.history.location.search;const _toQuery=Object(url_helpers["c"])(search),name=_toQuery.name,environment=_toQuery.environment,pageStep=_toQuery.pageStep;const res=Object(useFetcher["b"])(callApmApi=>callApmApi({endpoint:"GET /api/apm/settings/agent-configuration/view",params:{query:{name:name,environment:environment}}}),[name,environment]);return external_kbnSharedDeps_React_default.a.createElement(Settings,props,external_kbnSharedDeps_React_default.a.createElement(AgentConfigurationCreateEdit,{pageStep:pageStep||"choose-settings-step",existingConfigResult:res}))}function CreateAgentConfigurationRouteHandler(props){const search=props.history.location.search;const _toQuery2=Object(url_helpers["c"])(search),pageStep=_toQuery2.pageStep;return external_kbnSharedDeps_React_default.a.createElement(Settings,props,external_kbnSharedDeps_React_default.a.createElement(AgentConfigurationCreateEdit,{pageStep:pageStep||"choose-service-step"}))}function route_config_extends(){route_config_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return route_config_extends.apply(this,arguments)}function route_config_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function route_config_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){route_config_ownKeys(Object(source),true).forEach((function(key){route_config_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{route_config_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function route_config_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function renderAsRedirectTo(to){return({location:location})=>{let resolvedUrl;if(location.pathname===""&&location.hash.length>0){resolvedUrl=new URL(location.hash.slice(1),"http://localhost");to=resolvedUrl.pathname}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Redirect"],{to:route_config_objectSpread(route_config_objectSpread({},location),{},{hash:"",pathname:to,search:resolvedUrl?resolvedUrl.search:location.search})})}}function HomeServices(){return external_kbnSharedDeps_React_default.a.createElement(Home,{tab:"services"})}function HomeServiceMap(){return external_kbnSharedDeps_React_default.a.createElement(Home,{tab:"service-map"})}function HomeTraces(){return external_kbnSharedDeps_React_default.a.createElement(Home,{tab:"traces"})}function ServiceDetailsErrors(props){return external_kbnSharedDeps_React_default.a.createElement(ServiceDetails,route_config_extends({},props,{tab:"errors"}))}function ServiceDetailsMetrics(props){return external_kbnSharedDeps_React_default.a.createElement(ServiceDetails,route_config_extends({},props,{tab:"metrics"}))}function ServiceDetailsNodes(props){return external_kbnSharedDeps_React_default.a.createElement(ServiceDetails,route_config_extends({},props,{tab:"nodes"}))}function ServiceDetailsOverview(props){return external_kbnSharedDeps_React_default.a.createElement(ServiceDetails,route_config_extends({},props,{tab:"overview"}))}function ServiceDetailsServiceMap(props){return external_kbnSharedDeps_React_default.a.createElement(ServiceDetails,route_config_extends({},props,{tab:"service-map"}))}function ServiceDetailsTransactions(props){return external_kbnSharedDeps_React_default.a.createElement(ServiceDetails,route_config_extends({},props,{tab:"transactions"}))}function SettingsAgentConfiguration(props){return external_kbnSharedDeps_React_default.a.createElement(Settings,props,external_kbnSharedDeps_React_default.a.createElement(AgentConfigurations,null))}function SettingsAnomalyDetection(props){return external_kbnSharedDeps_React_default.a.createElement(Settings,props,external_kbnSharedDeps_React_default.a.createElement(anomaly_detection_AnomalyDetection,null))}function SettingsApmIndices(props){return external_kbnSharedDeps_React_default.a.createElement(Settings,props,external_kbnSharedDeps_React_default.a.createElement(ApmIndices,null))}function SettingsCustomizeUI(props){return external_kbnSharedDeps_React_default.a.createElement(Settings,props,external_kbnSharedDeps_React_default.a.createElement(CustomizeUI,null))}const routes=[{exact:true,path:"/",render:renderAsRedirectTo("/services"),breadcrumb:"APM"},{exact:true,path:"/services",component:HomeServices,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.servicesTitle",{defaultMessage:"Services"})},{exact:true,path:"/traces",component:HomeTraces,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.tracesTitle",{defaultMessage:"Traces"})},{exact:true,path:"/settings",render:renderAsRedirectTo("/settings/agent-configuration"),breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.listSettingsTitle",{defaultMessage:"Settings"})},{exact:true,path:"/settings/apm-indices",component:SettingsApmIndices,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.settings.indicesTitle",{defaultMessage:"Indices"})},{exact:true,path:"/settings/agent-configuration",component:SettingsAgentConfiguration,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.settings.agentConfigurationTitle",{defaultMessage:"Agent Configuration"})},{exact:true,path:"/settings/agent-configuration/create",breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.settings.createAgentConfigurationTitle",{defaultMessage:"Create Agent Configuration"}),component:CreateAgentConfigurationRouteHandler},{exact:true,path:"/settings/agent-configuration/edit",breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.settings.editAgentConfigurationTitle",{defaultMessage:"Edit Agent Configuration"}),component:EditAgentConfigurationRouteHandler},{exact:true,path:"/services/:serviceName",breadcrumb:({match:match})=>match.params.serviceName,render:props=>renderAsRedirectTo("/services/".concat(props.match.params.serviceName,"/transactions"))(props)},{exact:true,path:"/services/:serviceName/overview",breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.overviewTitle",{defaultMessage:"Overview"}),component:ServiceDetailsOverview},{exact:true,path:"/services/:serviceName/errors/:groupId",component:ErrorGroupDetails,breadcrumb:({match:match})=>match.params.groupId},{exact:true,path:"/services/:serviceName/errors",component:ServiceDetailsErrors,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.errorsTitle",{defaultMessage:"Errors"})},{exact:true,path:"/services/:serviceName/transactions",component:ServiceDetailsTransactions,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.transactionsTitle",{defaultMessage:"Transactions"})},{exact:true,path:"/services/:serviceName/metrics",component:ServiceDetailsMetrics,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.metricsTitle",{defaultMessage:"Metrics"})},{exact:true,path:"/services/:serviceName/nodes",component:ServiceDetailsNodes,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.nodesTitle",{defaultMessage:"JVMs"})},{exact:true,path:"/services/:serviceName/nodes/:serviceNodeName/metrics",component:ServiceNodeMetrics,breadcrumb:({match:match})=>{const serviceNodeName=match.params.serviceNodeName;if(serviceNodeName===SERVICE_NODE_NAME_MISSING){return UNIDENTIFIED_SERVICE_NODES_LABEL}return serviceNodeName||""}},{exact:true,path:"/services/:serviceName/transactions/view",component:TransactionDetails,breadcrumb:({location:location})=>{const query=Object(url_helpers["c"])(location.search);return query.transactionName}},{exact:true,path:"/link-to/trace/:traceId",component:TraceLink,breadcrumb:null},{exact:true,path:"/service-map",component:HomeServiceMap,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.serviceMapTitle",{defaultMessage:"Service Map"})},{exact:true,path:"/services/:serviceName/service-map",component:ServiceDetailsServiceMap,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.serviceMapTitle",{defaultMessage:"Service Map"})},{exact:true,path:"/settings/customize-ui",component:SettingsCustomizeUI,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.settings.customizeUI",{defaultMessage:"Customize UI"})},{exact:true,path:"/settings/anomaly-detection",component:SettingsAnomalyDetection,breadcrumb:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.apm.breadcrumb.settings.anomalyDetection",{defaultMessage:"Anomaly detection"})}]},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){(function(global,process){(function(global,undefined){"use strict";if(global.setImmediate){return}var nextHandle=1;var tasksByHandle={};var currentlyRunningATask=false;var doc=global.document;var registerImmediate;function setImmediate(callback){if(typeof callback!=="function"){callback=new Function(""+callback)}var args=new Array(arguments.length-1);for(var i=0;i<args.length;i++){args[i]=arguments[i+1]}var task={callback:callback,args:args};tasksByHandle[nextHandle]=task;registerImmediate(nextHandle);return nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback;var args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args);break}}function runIfPresent(handle){if(currentlyRunningATask){setTimeout(runIfPresent,0,handle)}else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=true;try{run(task)}finally{clearImmediate(handle);currentlyRunningATask=false}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick((function(){runIfPresent(handle)}))}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=true;var oldOnMessage=global.onmessage;global.onmessage=function(){postMessageIsAsynchronous=false};global.postMessage("","*");global.onmessage=oldOnMessage;return postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$";var onGlobalMessage=function(event){if(event.source===global&&typeof event.data==="string"&&event.data.indexOf(messagePrefix)===0){runIfPresent(+event.data.slice(messagePrefix.length))}};if(global.addEventListener){global.addEventListener("message",onGlobalMessage,false)}else{global.attachEvent("onmessage",onGlobalMessage)}registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;runIfPresent(handle)};registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null};html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}var attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global;if({}.toString.call(global.process)==="[object process]"){installNextTickImplementation()}else if(canUsePostMessage()){installPostMessageImplementation()}else if(global.MessageChannel){installMessageChannelImplementation()}else if(doc&&"onreadystatechange"in doc.createElement("script")){installReadyStateChangeImplementation()}else{installSetTimeoutImplementation()}attachTo.setImmediate=setImmediate;attachTo.clearImmediate=clearImmediate})(typeof self==="undefined"?typeof global==="undefined"?this:global:self)}).call(this,__webpack_require__(8),__webpack_require__(105))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(30);var react_1=__webpack_require__(2);var useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(374));function useObservable(observable$,initialValue){var _a=react_1.useState(initialValue),value=_a[0],update=_a[1];useIsomorphicLayoutEffect_1.default((function(){var s=observable$.subscribe(update);return function(){return s.unsubscribe()}}),[observable$]);return value}exports.default=useObservable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(2);var useIsomorphicLayoutEffect=typeof window!=="undefined"?react_1.useLayoutEffect:react_1.useEffect;exports.default=useIsomorphicLayoutEffect},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pxto=__webpack_require__(213);var _pxto2=_interopRequireDefault(_pxto);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var em=(0,_pxto2.default)("em");exports.default=em;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(string,suffix){return string.substr(-suffix.length)===suffix};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ratioNames=undefined;var _stripUnit=__webpack_require__(154);var _stripUnit2=_interopRequireDefault(_stripUnit);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ratioNames={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function modularScale(steps){var base=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"1em";var ratio=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"perfectFourth";if(typeof steps!=="number"){throw new Error("Please provide a number of steps to the modularScale helper.")}if(typeof ratio==="string"&&!ratioNames[ratio]){throw new Error("Please pass a number or one of the predefined scales to the modularScale helper as the ratio.")}var realBase=typeof base==="string"?(0,_stripUnit2.default)(base):base;var realRatio=typeof ratio==="string"?ratioNames[ratio]:ratio;if(typeof realBase==="string"){throw new Error('Invalid value passed as base to modularScale, expected number or em string but got "'+base+'"')}return realBase*Math.pow(realRatio,steps)+"em"}exports.ratioNames=ratioNames;exports.default=modularScale},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pxto=__webpack_require__(213);var _pxto2=_interopRequireDefault(_pxto);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var rem=(0,_pxto2.default)("rem");exports.default=rem;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function clearFix(){var _ref;var parent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"&";var pseudoSelector=parent+"::after";return _ref={},_ref[pseudoSelector]={clear:"both",content:'""',display:"table"},_ref}exports.default=clearFix;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function ellipsis(){var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"100%";return{display:"inline-block",maxWidth:width,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}}exports.default=ellipsis;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function generateFileReferences(fontFilePath,fileFormats){var fileFontReferences=fileFormats.map((function(format){return'url("'+fontFilePath+"."+format+'")'}));return fileFontReferences.join(", ")}function generateLocalReferences(localFonts){var localFontReferences=localFonts.map((function(font){return'local("'+font+'")'}));return localFontReferences.join(", ")}function generateSources(fontFilePath,localFonts,fileFormats){var fontReferences=[];if(localFonts)fontReferences.push(generateLocalReferences(localFonts));if(fontFilePath){fontReferences.push(generateFileReferences(fontFilePath,fileFormats))}return fontReferences.join(", ")}function fontFace(_ref){var fontFamily=_ref.fontFamily,fontFilePath=_ref.fontFilePath,fontStretch=_ref.fontStretch,fontStyle=_ref.fontStyle,fontVariant=_ref.fontVariant,fontWeight=_ref.fontWeight,_ref$fileFormats=_ref.fileFormats,fileFormats=_ref$fileFormats===undefined?["eot","woff2","woff","ttf","svg"]:_ref$fileFormats,localFonts=_ref.localFonts,unicodeRange=_ref.unicodeRange;if(!fontFamily)throw new Error("fontFace expects a name of a font-family.");if(!fontFilePath&&!localFonts){throw new Error("fontFace expects either the path to the font file(s) or a name of a local copy.")}if(localFonts&&!Array.isArray(localFonts)){throw new Error("fontFace expects localFonts to be an array.")}if(!Array.isArray(fileFormats)){throw new Error("fontFace expects fileFormats to be an array.")}var fontFaceDeclaration={"@font-face":{fontFamily:fontFamily,src:generateSources(fontFilePath,localFonts,fileFormats),unicodeRange:unicodeRange,fontStretch:fontStretch,fontStyle:fontStyle,fontVariant:fontVariant,fontWeight:fontWeight}};return JSON.parse(JSON.stringify(fontFaceDeclaration))}exports.default=fontFace;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function hideText(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}exports.default=hideText;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function hideVisually(){return{border:"0",clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}exports.default=hideVisually;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _opinionatedRules,_abbrTitle,_unopinionatedRules;var opinionatedRules=(_opinionatedRules={html:{fontFamily:"sans-serif"},body:{margin:"0"}},_opinionatedRules["a:active,\n  a:hover"]={outlineWidth:"0"},_opinionatedRules["button,\n  input,\n  optgroup,\n  select,\n  textarea"]={fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15"},_opinionatedRules);var unopinionatedRules=(_unopinionatedRules={html:{lineHeight:"1.15",textSizeAdjust:"100%"}},_unopinionatedRules["article,\n  aside,\n  footer,\n  header,\n  nav,\n  section"]={display:"block"},_unopinionatedRules.h1={fontSize:"2em",margin:"0.67em 0"},_unopinionatedRules["figcaption,\n  figure,\n  main"]={display:"block"},_unopinionatedRules.figure={margin:"1em 40px"},_unopinionatedRules.hr={boxSizing:"content-box",height:"0",overflow:"visible"},_unopinionatedRules.pre={fontFamily:"monospace, monospace",fontSize:"1em"},_unopinionatedRules.a={"background-color":"transparent","-webkit-text-decoration-skip":"objects"},_unopinionatedRules["abbr[title]"]=(_abbrTitle={borderBottom:"none",textDecoration:"underline"},_abbrTitle["textDecoration"]="underline dotted",_abbrTitle),_unopinionatedRules["b,\n  strong"]={fontWeight:"inherit"},_unopinionatedRules["code,\n  kbd,\n  samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},_unopinionatedRules.dfn={fontStyle:"italic"},_unopinionatedRules.mark={backgroundColor:"#ff0",color:"#000"},_unopinionatedRules.small={fontSize:"80%"},_unopinionatedRules["sub,\n  sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},_unopinionatedRules.sub={bottom:"-0.25em"},_unopinionatedRules.sup={top:"-0.5em"},_unopinionatedRules["audio,\n  video"]={display:"inline-block"},_unopinionatedRules["audio:not([controls])"]={display:"none",height:"0"},_unopinionatedRules.img={borderStyle:"none"},_unopinionatedRules["svg:not(:root)"]={overflow:"hidden"},_unopinionatedRules["button,\n  input,\n  optgroup,\n  select,\n  textarea"]={margin:"0"},_unopinionatedRules["button,\n  input"]={overflow:"visible"},_unopinionatedRules["button,\n  select"]={textTransform:"none"},_unopinionatedRules['button,\n  html [type="button"],\n  [type="reset"],\n  [type="submit"]']={"-webkit-appearance":"button"},_unopinionatedRules['button::-moz-focus-inner,\n  [type="button"]::-moz-focus-inner,\n  [type="reset"]::-moz-focus-inner,\n  [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},_unopinionatedRules['button:-moz-focusring,\n  [type="button"]:-moz-focusring,\n  [type="reset"]:-moz-focusring,\n  [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},_unopinionatedRules.fieldset={border:"1px solid #c0c0c0",margin:"0 2px",padding:"0.35em 0.625em 0.75em"},_unopinionatedRules.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},_unopinionatedRules.progress={display:"inline-block",verticalAlign:"baseline"},_unopinionatedRules.textarea={overflow:"auto"},_unopinionatedRules['[type="checkbox"],\n  [type="radio"]']={boxSizing:"border-box",padding:"0"},_unopinionatedRules['[type="number"]::-webkit-inner-spin-button,\n  [type="number"]::-webkit-outer-spin-button']={height:"auto"},_unopinionatedRules['[type="search"]']={"-webkit-appearance":"textfield",outlineOffset:"-2px"},_unopinionatedRules['[type="search"]::-webkit-search-cancel-button,\n  [type="search"]::-webkit-search-decoration']={"-webkit-appearance":"none"},_unopinionatedRules["::-webkit-file-upload-button"]={"-webkit-appearance":"button",font:"inherit"},_unopinionatedRules["details,\n  menu"]={display:"block"},_unopinionatedRules.summary={display:"list-item"},_unopinionatedRules.canvas={display:"inline-block"},_unopinionatedRules.template={display:"none"},_unopinionatedRules["[hidden]"]={display:"none"},_unopinionatedRules);function mergeRules(baseRules,additionalRules){var mergedRules=_extends({},baseRules);Object.keys(additionalRules).forEach((function(key){if(mergedRules[key]){mergedRules[key]=_extends({},mergedRules[key],additionalRules[key])}else{mergedRules[key]=_extends({},additionalRules[key])}}));return mergedRules}function normalize(excludeOpinionated){if(excludeOpinionated)return unopinionatedRules;return mergeRules(unopinionatedRules,opinionatedRules)}exports.default=normalize;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function placeholder(styles){var _ref;var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"&";return _ref={},_ref[parent+"::-webkit-input-placeholder"]=_extends({},styles),_ref[parent+":-moz-placeholder"]=_extends({},styles),_ref[parent+"::-moz-placeholder"]=_extends({},styles),_ref[parent+":-ms-input-placeholder"]=_extends({},styles),_ref}exports.default=placeholder;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _templateObject=_taggedTemplateLiteralLoose(["radial-gradient(","","","",")"],["radial-gradient(","","","",")"]);function _taggedTemplateLiteralLoose(strings,raw){strings.raw=raw;return strings}function parseFallback(colorStops){return colorStops[0].split(" ")[0]}function constructGradientValue(literals){var template="";for(var i=0;i<literals.length;i+=1){template+=literals[i];if(i===3&&(arguments.length<=i+1?undefined:arguments[i+1])&&((arguments.length<=1?undefined:arguments[1])||(arguments.length<=2?undefined:arguments[2])||(arguments.length<=3?undefined:arguments[3]))){template=template.slice(0,-1);template+=", "+(arguments.length<=i+1?undefined:arguments[i+1])}else if(i===3&&(arguments.length<=i+1?undefined:arguments[i+1])&&!(arguments.length<=1?undefined:arguments[1])&&!(arguments.length<=2?undefined:arguments[2])&&!(arguments.length<=3?undefined:arguments[3])){template+=""+(arguments.length<=i+1?undefined:arguments[i+1])}else if(arguments.length<=i+1?undefined:arguments[i+1]){template+=(arguments.length<=i+1?undefined:arguments[i+1])+" "}}return template.trim()}function radialGradient(_ref){var colorStops=_ref.colorStops,extent=_ref.extent,fallback=_ref.fallback,position=_ref.position,shape=_ref.shape;if(!colorStops||colorStops.length<2){throw new Error("radialGradient requries at least 2 color-stops to properly render.")}return{backgroundColor:fallback||parseFallback(colorStops),backgroundImage:constructGradientValue(_templateObject,position,shape,extent,colorStops.join(", "))}}exports.default=radialGradient;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _hiDPI=__webpack_require__(214);var _hiDPI2=_interopRequireDefault(_hiDPI);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function retinaImage(filename,backgroundSize){var extension=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"png";var _ref;var retinaFilename=arguments[3];var retinaSuffix=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"_2x";if(!filename){throw new Error("Please supply a filename to retinaImage() as the first argument.")}var ext=extension.replace(/^\./,"");var rFilename=retinaFilename?retinaFilename+"."+ext:""+filename+retinaSuffix+"."+ext;return _ref={backgroundImage:"url("+filename+"."+ext+")"},_ref[(0,_hiDPI2.default)()]={backgroundImage:"url("+rFilename+")",backgroundSize:backgroundSize},_ref}exports.default=retinaImage;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function selection(styles){var _ref;var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return _ref={},_ref[parent+"::-moz-selection"]=_extends({},styles),_ref[parent+"::selection"]=_extends({},styles),_ref}exports.default=selection;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var functionsMap={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function timingFunctions(timingFunction){return functionsMap[timingFunction]}exports.default=timingFunctions;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var getBorderWidth=function getBorderWidth(pointingDirection,height,width){switch(pointingDirection){case"top":return"0 "+width/2+"px "+height+"px "+width/2+"px";case"left":return height/2+"px "+width+"px "+height/2+"px 0";case"bottom":return height+"px "+width/2+"px 0 "+width/2+"px";case"right":return height/2+"px 0 "+height/2+"px "+width+"px";default:throw new Error("Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.")}};var reverseDirection={left:"Right",right:"Left",top:"Bottom",bottom:"Top"};function triangle(_ref){var _ref2;var pointingDirection=_ref.pointingDirection,height=_ref.height,width=_ref.width,foregroundColor=_ref.foregroundColor,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=_ref$backgroundColor===undefined?"transparent":_ref$backgroundColor;var unitlessHeight=parseFloat(height);var unitlessWidth=parseFloat(width);if(isNaN(unitlessHeight)||isNaN(unitlessWidth)){throw new Error("Passed an invalid value to `height` or `width`. Please provide a pixel based unit")}return _ref2={borderColor:backgroundColor,width:"0",height:"0",borderWidth:getBorderWidth(pointingDirection,unitlessHeight,unitlessWidth),borderStyle:"solid"},_ref2["border"+reverseDirection[pointingDirection]+"Color"]=foregroundColor+" !important",_ref2}exports.default=triangle;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function wordWrap(){var wrap=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"break-word";var wordBreak=wrap==="break-word"?"break-all":wrap;return{overflowWrap:wrap,wordWrap:wrap,wordBreak:wordBreak}}exports.default=wordWrap;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function adjustHue(degree,color){var hslColor=(0,_parseToHsl2.default)(color);return(0,_toColorString2.default)(_extends({},hslColor,{hue:(hslColor.hue+degree)%360}))}var curriedAdjustHue=(0,_curry2.default)(adjustHue);exports.default=curriedAdjustHue;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var namedColorMap={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function nameToHex(color){if(typeof color!=="string")return color;var normalizedColorName=color.toLowerCase();return namedColorMap[normalizedColorName]?"#"+namedColorMap[normalizedColorName]:color}exports.default=nameToHex;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function rgbToHsl(color){var red=color.red/255;var green=color.green/255;var blue=color.blue/255;var max=Math.max(red,green,blue);var min=Math.min(red,green,blue);var lightness=(max+min)/2;if(max===min){if(color.alpha!==undefined){return{hue:0,saturation:0,lightness:lightness,alpha:color.alpha}}else{return{hue:0,saturation:0,lightness:lightness}}}var hue=void 0;var delta=max-min;var saturation=lightness>.5?delta/(2-max-min):delta/(max+min);switch(max){case red:hue=(green-blue)/delta+(green<blue?6:0);break;case green:hue=(blue-red)/delta+2;break;default:hue=(red-green)/delta+4;break}hue*=60;if(color.alpha!==undefined){return{hue:hue,saturation:saturation,lightness:lightness,alpha:color.alpha}}return{hue:hue,saturation:saturation,lightness:lightness}}exports.default=rgbToHsl;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function complement(color){var hslColor=(0,_parseToHsl2.default)(color);return(0,_toColorString2.default)(_extends({},hslColor,{hue:(hslColor.hue+180)%360}))}exports.default=complement;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _guard=__webpack_require__(96);var _guard2=_interopRequireDefault(_guard);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function darken(amount,color){var hslColor=(0,_parseToHsl2.default)(color);return(0,_toColorString2.default)(_extends({},hslColor,{lightness:(0,_guard2.default)(0,1,hslColor.lightness-amount)}))}var curriedDarken=(0,_curry2.default)(darken);exports.default=curriedDarken;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _guard=__webpack_require__(96);var _guard2=_interopRequireDefault(_guard);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function desaturate(amount,color){var hslColor=(0,_parseToHsl2.default)(color);return(0,_toColorString2.default)(_extends({},hslColor,{saturation:(0,_guard2.default)(0,1,hslColor.saturation-amount)}))}var curriedDesaturate=(0,_curry2.default)(desaturate);exports.default=curriedDesaturate;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function grayscale(color){return(0,_toColorString2.default)(_extends({},(0,_parseToHsl2.default)(color),{saturation:0}))}exports.default=grayscale;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function invert(color){var value=(0,_parseToRgb2.default)(color);return(0,_toColorString2.default)(_extends({},value,{red:255-value.red,green:255-value.green,blue:255-value.blue}))}exports.default=invert;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _guard=__webpack_require__(96);var _guard2=_interopRequireDefault(_guard);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function lighten(amount,color){var hslColor=(0,_parseToHsl2.default)(color);return(0,_toColorString2.default)(_extends({},hslColor,{lightness:(0,_guard2.default)(0,1,hslColor.lightness+amount)}))}var curriedLighten=(0,_curry2.default)(lighten);exports.default=curriedLighten;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _rgba=__webpack_require__(110);var _rgba2=_interopRequireDefault(_rgba);var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);var _guard=__webpack_require__(96);var _guard2=_interopRequireDefault(_guard);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function opacify(amount,color){var parsedColor=(0,_parseToRgb2.default)(color);var alpha=typeof parsedColor.alpha==="number"?parsedColor.alpha:1;var colorWithAlpha=_extends({},parsedColor,{alpha:(0,_guard2.default)(0,1,(alpha*100+amount*100)/100)});return(0,_rgba2.default)(colorWithAlpha)}var curriedOpacify=(0,_curry2.default)(opacify);exports.default=curriedOpacify;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getLuminance=__webpack_require__(220);var _getLuminance2=_interopRequireDefault(_getLuminance);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function readableColor(color){return(0,_getLuminance2.default)(color)>.179?"#000":"#fff"}var curriedReadableColor=(0,_curry2.default)(readableColor);exports.default=curriedReadableColor;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _guard=__webpack_require__(96);var _guard2=_interopRequireDefault(_guard);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function saturate(amount,color){var hslColor=(0,_parseToHsl2.default)(color);return(0,_toColorString2.default)(_extends({},hslColor,{saturation:(0,_guard2.default)(0,1,hslColor.saturation+amount)}))}var curriedSaturate=(0,_curry2.default)(saturate);exports.default=curriedSaturate;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setHue(hue,color){return(0,_toColorString2.default)(_extends({},(0,_parseToHsl2.default)(color),{hue:hue}))}var curriedSetHue=(0,_curry2.default)(setHue);exports.default=curriedSetHue;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setLightness(lightness,color){return(0,_toColorString2.default)(_extends({},(0,_parseToHsl2.default)(color),{lightness:lightness}))}var curriedSetLightness=(0,_curry2.default)(setLightness);exports.default=curriedSetLightness;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _parseToHsl=__webpack_require__(67);var _parseToHsl2=_interopRequireDefault(_parseToHsl);var _toColorString=__webpack_require__(63);var _toColorString2=_interopRequireDefault(_toColorString);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setSaturation(saturation,color){return(0,_toColorString2.default)(_extends({},(0,_parseToHsl2.default)(color),{saturation:saturation}))}var curriedSetSaturation=(0,_curry2.default)(setSaturation);exports.default=curriedSetSaturation;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _mix=__webpack_require__(157);var _mix2=_interopRequireDefault(_mix);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function shade(percentage,color){if(typeof percentage!=="number"||percentage>1||percentage<-1){throw new Error("Passed an incorrect argument to shade, please pass a percentage less than or equal to 1 and larger than or equal to -1.")}if(typeof color!=="string"){throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.")}return(0,_mix2.default)(percentage,color,"rgb(0, 0, 0)")}var curriedShade=(0,_curry2.default)(shade);exports.default=curriedShade;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _mix=__webpack_require__(157);var _mix2=_interopRequireDefault(_mix);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function tint(percentage,color){if(typeof percentage!=="number"||percentage>1||percentage<-1){throw new Error("Passed an incorrect argument to tint, please pass a percentage less than or equal to 1 and larger than or equal to -1.")}if(typeof color!=="string"){throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.")}return(0,_mix2.default)(percentage,color,"rgb(255, 255, 255)")}var curriedTint=(0,_curry2.default)(tint);exports.default=curriedTint;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _rgba=__webpack_require__(110);var _rgba2=_interopRequireDefault(_rgba);var _parseToRgb=__webpack_require__(74);var _parseToRgb2=_interopRequireDefault(_parseToRgb);var _guard=__webpack_require__(96);var _guard2=_interopRequireDefault(_guard);var _curry=__webpack_require__(60);var _curry2=_interopRequireDefault(_curry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function transparentize(amount,color){var parsedColor=(0,_parseToRgb2.default)(color);var alpha=typeof parsedColor.alpha==="number"?parsedColor.alpha:1;var colorWithAlpha=_extends({},parsedColor,{alpha:(0,_guard2.default)(0,1,(alpha*100-amount*100)/100)});return(0,_rgba2.default)(colorWithAlpha)}var curriedTransparentize=(0,_curry2.default)(transparentize);exports.default=curriedTransparentize;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function animation(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var multiMode=Array.isArray(args[0]);if(!multiMode&&args.length>8){throw new Error("The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation")}var code=args.map((function(arg){if(multiMode&&!Array.isArray(arg)||!multiMode&&Array.isArray(arg)){throw new Error("To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')")}if(Array.isArray(arg)&&arg.length>8){throw new Error("The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation")}return Array.isArray(arg)?arg.join(" "):arg})).join(", ");return{animation:code}}exports.default=animation;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function backgroundImages(){for(var _len=arguments.length,properties=Array(_len),_key=0;_key<_len;_key++){properties[_key]=arguments[_key]}return{backgroundImage:properties.join(", ")}}exports.default=backgroundImages;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function backgrounds(){for(var _len=arguments.length,properties=Array(_len),_key=0;_key<_len;_key++){properties[_key]=arguments[_key]}return{background:properties.join(", ")}}exports.default=backgrounds;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _directionalProperty=__webpack_require__(83);var _directionalProperty2=_interopRequireDefault(_directionalProperty);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function borderColor(){for(var _len=arguments.length,values=Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key]}return _directionalProperty2.default.apply(undefined,["borderColor"].concat(values))}exports.default=borderColor;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _capitalizeString=__webpack_require__(212);var _capitalizeString2=_interopRequireDefault(_capitalizeString);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function borderRadius(side,radius){var uppercaseSide=(0,_capitalizeString2.default)(side);if(!radius&&radius!==0){throw new Error("borderRadius expects a radius value as a string or number as the second argument.")}if(uppercaseSide==="Top"||uppercaseSide==="Bottom"){var _ref;return _ref={},_ref["border"+uppercaseSide+"RightRadius"]=radius,_ref["border"+uppercaseSide+"LeftRadius"]=radius,_ref}if(uppercaseSide==="Left"||uppercaseSide==="Right"){var _ref2;return _ref2={},_ref2["borderTop"+uppercaseSide+"Radius"]=radius,_ref2["borderBottom"+uppercaseSide+"Radius"]=radius,_ref2}throw new Error('borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.')}exports.default=borderRadius;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _directionalProperty=__webpack_require__(83);var _directionalProperty2=_interopRequireDefault(_directionalProperty);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function borderStyle(){for(var _len=arguments.length,values=Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key]}return _directionalProperty2.default.apply(undefined,["borderStyle"].concat(values))}exports.default=borderStyle;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _directionalProperty=__webpack_require__(83);var _directionalProperty2=_interopRequireDefault(_directionalProperty);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function borderWidth(){for(var _len=arguments.length,values=Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key]}return _directionalProperty2.default.apply(undefined,["borderWidth"].concat(values))}exports.default=borderWidth;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _statefulSelectors=__webpack_require__(221);var _statefulSelectors2=_interopRequireDefault(_statefulSelectors);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var stateMap=[undefined,null,"active","focus","hover"];function template(state){return"button"+state+',\n  input[type="button"]'+state+',\n  input[type="reset"]'+state+',\n  input[type="submit"]'+state}function buttons(){for(var _len=arguments.length,states=Array(_len),_key=0;_key<_len;_key++){states[_key]=arguments[_key]}return(0,_statefulSelectors2.default)(states,template,stateMap)}exports.default=buttons;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _directionalProperty=__webpack_require__(83);var _directionalProperty2=_interopRequireDefault(_directionalProperty);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function margin(){for(var _len=arguments.length,values=Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key]}return _directionalProperty2.default.apply(undefined,["margin"].concat(values))}exports.default=margin;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _directionalProperty=__webpack_require__(83);var _directionalProperty2=_interopRequireDefault(_directionalProperty);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function padding(){for(var _len=arguments.length,values=Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key]}return _directionalProperty2.default.apply(undefined,["padding"].concat(values))}exports.default=padding;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _directionalProperty=__webpack_require__(83);var _directionalProperty2=_interopRequireDefault(_directionalProperty);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var positionMap=["absolute","fixed","relative","static","sticky"];function position(positionKeyword){for(var _len=arguments.length,values=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){values[_key-1]=arguments[_key]}if(positionMap.indexOf(positionKeyword)>=0){return _extends({position:positionKeyword},_directionalProperty2.default.apply(undefined,[""].concat(values)))}else{var firstValue=positionKeyword;return _directionalProperty2.default.apply(undefined,["",firstValue].concat(values))}}exports.default=position;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function size(height){var width=arguments.length>1&&arguments[1]!==undefined?arguments[1]:height;return{height:height,width:width}}exports.default=size;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _statefulSelectors=__webpack_require__(221);var _statefulSelectors2=_interopRequireDefault(_statefulSelectors);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var stateMap=[undefined,null,"active","focus","hover"];function template(state){return'input[type="color"]'+state+',\n    input[type="date"]'+state+',\n    input[type="datetime"]'+state+',\n    input[type="datetime-local"]'+state+',\n    input[type="email"]'+state+',\n    input[type="month"]'+state+',\n    input[type="number"]'+state+',\n    input[type="password"]'+state+',\n    input[type="search"]'+state+',\n    input[type="tel"]'+state+',\n    input[type="text"]'+state+',\n    input[type="time"]'+state+',\n    input[type="url"]'+state+',\n    input[type="week"]'+state+",\n    input:not([type])"+state+",\n    textarea"+state}function textInputs(){for(var _len=arguments.length,states=Array(_len),_key=0;_key<_len;_key++){states[_key]=arguments[_key]}return(0,_statefulSelectors2.default)(states,template,stateMap)}exports.default=textInputs;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function transitions(){for(var _len=arguments.length,properties=Array(_len),_key=0;_key<_len;_key++){properties[_key]=arguments[_key]}return{transition:properties.join(", ")}}exports.default=transitions;module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(root,factory){if(true){module.exports=factory()}else{}})(typeof self!=="undefined"?self:this,(function(){var rison={};rison.uri_ok={"~":true,"!":true,"*":true,"(":true,")":true,"-":true,_:true,".":true,",":true,":":true,"@":true,$:true,"'":true,"/":true};(function(){var l=[];for(var hi=0;hi<16;hi++){for(var lo=0;lo<16;lo++){if(hi+lo===0)continue;var c=String.fromCharCode(hi*16+lo);if(!/\w|[-_./~]/.test(c))l.push("\\u00"+hi.toString(16)+lo.toString(16))}}rison.not_idchar=l.join("")})();rison.not_idchar=" '!:(),*@$";rison.not_idstart="-0123456789";(function(){var idrx="[^"+rison.not_idstart+rison.not_idchar+"][^"+rison.not_idchar+"]*";rison.id_ok=new RegExp("^"+idrx+"$");rison.next_id=new RegExp(idrx,"g")})();rison.quote=function(x){if(/^[-A-Za-z0-9~!*()_.',:@$/]*$/.test(x))return x;return encodeURIComponent(x).replace(/%2C/g,",").replace(/%3A/g,":").replace(/%40/g,"@").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%20/g,"+")};(function(){var sq={"'":true,"!":true},enc=function(v){if(v&&typeof v.toJSON==="function")v=v.toJSON();var fn=s[typeof v];if(fn)return fn(v)},s={array:function(x){var a=["!("],b,i,l=x.length,v;for(i=0;i<l;i+=1){v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}a[a.length]=")";return a.join("")},boolean:function(x){if(x)return"!t";return"!f"},null:function(){return"!n"},number:function(x){if(!isFinite(x))return"!n";return String(x).replace(/\+/,"")},object:function(x){if(x){if(x instanceof Array){return s.array(x)}if(typeof x.__prototype__==="object"&&typeof x.__prototype__.encode_rison!=="undefined")return x.encode_rison();var a=["("],b,i,v,ki,ks=[];for(i in x)ks[ks.length]=i;ks.sort();for(ki=0;ki<ks.length;ki++){i=ks[ki];v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}a[a.length]=")";return a.join("")}return"!n"},string:function(x){if(x==="")return"''";if(rison.id_ok.test(x))return x;x=x.replace(/(['!])/g,(function(a,b){if(sq[b])return"!"+b;return b}));return"'"+x+"'"},undefined:function(){return}};rison.encode=function(v){return enc(v)};rison.encode_object=function(v){if(typeof v!="object"||v===null||v instanceof Array)throw new Error("rison.encode_object expects an object argument");var r=s[typeof v](v);return r.substring(1,r.length-1)};rison.encode_array=function(v){if(!(v instanceof Array))throw new Error("rison.encode_array expects an array argument");var r=s[typeof v](v);return r.substring(2,r.length-1)};rison.encode_uri=function(v){return rison.quote(s[typeof v](v))}})();rison.decode=function(r){var errcb=function(e){throw Error("rison decoder error: "+e)};if(typeof r!=="string")return errcb("decode input must be a string");var p=new rison.parser(errcb);return p.parse(r)};rison.decode_object=function(r){return rison.decode("("+r+")")};rison.decode_array=function(r){return rison.decode("!("+r+")")};rison.parser=function(errcb){this.errorHandler=errcb};rison.parser.WHITESPACE="";rison.parser.prototype.setOptions=function(options){if(options["errorHandler"])this.errorHandler=options.errorHandler};rison.parser.prototype.parse=function(str){this.string=str;this.index=0;this.message=null;var value=this.readValue();if(!this.message&&this.next())value=this.error("unable to parse string as rison: '"+rison.encode(str)+"'");if(this.message&&this.errorHandler)this.errorHandler(this.message,this.index);return value};rison.parser.prototype.error=function(message){if(typeof console!=="undefined")console.log("rison parser error: ",message);this.message=message;return undefined};rison.parser.prototype.readValue=function(){var c=this.next();var fn=c&&this.table[c];if(fn)return fn.apply(this);var s=this.string;var i=this.index-1;rison.next_id.lastIndex=i;var m=rison.next_id.exec(s);if(m.length>0){var id=m[0];this.index=i+id.length;return id}if(c)return this.error("invalid character: '"+c+"'");return this.error("empty expression")};rison.parser.parse_array=function(parser){var ar=[];var c;while((c=parser.next())!==")"){if(!c)return parser.error("unmatched '!('");if(ar.length){if(c!==",")parser.error("missing ','")}else if(c===","){return parser.error("extra ','")}else--parser.index;var n=parser.readValue();if(typeof n=="undefined")return undefined;ar.push(n)}return ar};rison.parser.bangs={t:true,f:false,n:null,"(":rison.parser.parse_array};rison.parser.prototype.table={"!":function(){var s=this.string;var c=s.charAt(this.index++);if(!c)return this.error('"!" at end of input');var x=rison.parser.bangs[c];if(typeof x=="function"){return x.call(null,this)}else if(typeof x=="undefined"){return this.error('unknown literal: "!'+c+'"')}return x},"(":function(){var o={};var c;var count=0;while((c=this.next())!==")"){if(count){if(c!==",")this.error("missing ','")}else if(c===","){return this.error("extra ','")}else--this.index;var k=this.readValue();if(typeof k==="undefined")return undefined;if(this.next()!==":")return this.error("missing ':'");var v=this.readValue();if(typeof v==="undefined")return undefined;o[k]=v;count++}return o},"'":function(){var s=this.string;var i=this.index;var start=i;var segments=[];var c;while((c=s.charAt(i++))!=="'"){if(!c)return this.error('unmatched "\'"');if(c==="!"){if(start<i-1)segments.push(s.slice(start,i-1));c=s.charAt(i++);if("!'".indexOf(c)>=0){segments.push(c)}else{return this.error('invalid string escape: "!'+c+'"')}start=i}}if(start<i-1)segments.push(s.slice(start,i-1));this.index=i;return segments.length===1?segments[0]:segments.join("")},"-":function(){var s=this.string;var i=this.index;var start=i-1;var state="int";var permittedSigns="-";var transitions={"int+.":"frac","int+e":"exp","frac+e":"exp"};do{var c=s.charAt(i++);if(!c)break;if("0"<=c&&c<="9")continue;if(permittedSigns.indexOf(c)>=0){permittedSigns="";continue}state=transitions[state+"+"+c.toLowerCase()];if(state==="exp")permittedSigns="-"}while(state);this.index=--i;s=s.slice(start,i);if(s==="-")return this.error("invalid number");return Number(s)}};(function(table){for(var i=0;i<=9;i++)table[String(i)]=table["-"]})(rison.parser.prototype.table);rison.parser.prototype.next=function(){var c;var s=this.string;var i=this.index;do{if(i===s.length)return undefined;c=s.charAt(i++)}while(rison.parser.WHITESPACE.indexOf(c)>=0);this.index=i;return c};return rison}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _javascript=__webpack_require__(426);var _javascript2=_interopRequireDefault(_javascript);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_javascript2.default},function(module,exports){module.exports=function(hljs){var IDENT_RE="[A-Za-z$_][0-9A-Za-z$_]*";var KEYWORDS={keyword:"in of if for while finally var new function do return void else break catch "+"instanceof with throw case default try this switch continue typeof delete "+"let yield const export super debugger as async await static "+"import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent "+"encodeURI encodeURIComponent escape unescape Object Function Boolean Error "+"EvalError InternalError RangeError ReferenceError StopIteration SyntaxError "+"TypeError URIError Number Math Date String RegExp Array Float32Array "+"Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array "+"Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require "+"module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect "+"Promise"};var EXPRESSIONS;var NUMBER={className:"number",variants:[{begin:"\\b(0[bB][01]+)"},{begin:"\\b(0[oO][0-7]+)"},{begin:hljs.C_NUMBER_RE}],relevance:0};var SUBST={className:"subst",begin:"\\$\\{",end:"\\}",keywords:KEYWORDS,contains:[]};var TEMPLATE_STRING={className:"string",begin:"`",end:"`",contains:[hljs.BACKSLASH_ESCAPE,SUBST]};SUBST.contains=[hljs.APOS_STRING_MODE,hljs.QUOTE_STRING_MODE,TEMPLATE_STRING,NUMBER,hljs.REGEXP_MODE];var PARAMS_CONTAINS=SUBST.contains.concat([hljs.C_BLOCK_COMMENT_MODE,hljs.C_LINE_COMMENT_MODE]);return{aliases:["js","jsx"],keywords:KEYWORDS,contains:[{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},{className:"meta",begin:/^#!/,end:/$/},hljs.APOS_STRING_MODE,hljs.QUOTE_STRING_MODE,TEMPLATE_STRING,hljs.C_LINE_COMMENT_MODE,hljs.C_BLOCK_COMMENT_MODE,NUMBER,{begin:/[{,]\s*/,relevance:0,contains:[{begin:IDENT_RE+"\\s*:",returnBegin:true,relevance:0,contains:[{className:"attr",begin:IDENT_RE,relevance:0}]}]},{begin:"("+hljs.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[hljs.C_LINE_COMMENT_MODE,hljs.C_BLOCK_COMMENT_MODE,hljs.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+IDENT_RE+")\\s*=>",returnBegin:true,end:"\\s*=>",contains:[{className:"params",variants:[{begin:IDENT_RE},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:true,excludeEnd:true,keywords:KEYWORDS,contains:PARAMS_CONTAINS}]}]},{begin:/</,end:/(\/\w+|\w+\/)>/,subLanguage:"xml",contains:[{begin:/<\w+\s*\/>/,skip:true},{begin:/<\w+/,end:/(\/\w+|\w+\/)>/,skip:true,contains:[{begin:/<\w+\s*\/>/,skip:true},"self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:true,contains:[hljs.inherit(hljs.TITLE_MODE,{begin:IDENT_RE}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:true,excludeEnd:true,contains:PARAMS_CONTAINS}],illegal:/\[|%/},{begin:/\$[(.]/},hljs.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:true,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},hljs.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor",end:/\{/,excludeEnd:true}],illegal:/#(?!!)/}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _python=__webpack_require__(428);var _python2=_interopRequireDefault(_python);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_python2.default},function(module,exports){module.exports=function(hljs){var KEYWORDS={keyword:"and elif is global as in if from raise for except finally print import pass return "+"exec else break not with class assert yield try while continue del or def lambda "+"async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"};var PROMPT={className:"meta",begin:/^(>>>|\.\.\.) /};var SUBST={className:"subst",begin:/\{/,end:/\}/,keywords:KEYWORDS,illegal:/#/};var STRING={className:"string",contains:[hljs.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[PROMPT],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[PROMPT],relevance:10},{begin:/(fr|rf|f)'''/,end:/'''/,contains:[PROMPT,SUBST]},{begin:/(fr|rf|f)"""/,end:/"""/,contains:[PROMPT,SUBST]},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},{begin:/(fr|rf|f)'/,end:/'/,contains:[SUBST]},{begin:/(fr|rf|f)"/,end:/"/,contains:[SUBST]},hljs.APOS_STRING_MODE,hljs.QUOTE_STRING_MODE]};var NUMBER={className:"number",relevance:0,variants:[{begin:hljs.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:hljs.C_NUMBER_RE+"[lLjJ]?"}]};var PARAMS={className:"params",begin:/\(/,end:/\)/,contains:["self",PROMPT,NUMBER,STRING]};SUBST.contains=[STRING,NUMBER,PROMPT];return{aliases:["py","gyp"],keywords:KEYWORDS,illegal:/(<\/|->|\?)|=>/,contains:[PROMPT,NUMBER,STRING,hljs.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[hljs.UNDERSCORE_TITLE_MODE,PARAMS,{begin:/->/,endsWithParent:true,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ruby=__webpack_require__(430);var _ruby2=_interopRequireDefault(_ruby);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_ruby2.default},function(module,exports){module.exports=function(hljs){var RUBY_METHOD_RE="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?";var RUBY_KEYWORDS={keyword:"and then defined module in return redo if BEGIN retry end for self when "+"next until do begin unless END rescue else break undef not super class case "+"require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"};var YARDOCTAG={className:"doctag",begin:"@[A-Za-z]+"};var IRB_OBJECT={begin:"#<",end:">"};var COMMENT_MODES=[hljs.COMMENT("#","$",{contains:[YARDOCTAG]}),hljs.COMMENT("^\\=begin","^\\=end",{contains:[YARDOCTAG],relevance:10}),hljs.COMMENT("^__END__","\\n$")];var SUBST={className:"subst",begin:"#\\{",end:"}",keywords:RUBY_KEYWORDS};var STRING={className:"string",contains:[hljs.BACKSLASH_ESCAPE,SUBST],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:"%[qQwWx]?\\(",end:"\\)"},{begin:"%[qQwWx]?\\[",end:"\\]"},{begin:"%[qQwWx]?{",end:"}"},{begin:"%[qQwWx]?<",end:">"},{begin:"%[qQwWx]?/",end:"/"},{begin:"%[qQwWx]?%",end:"%"},{begin:"%[qQwWx]?-",end:"-"},{begin:"%[qQwWx]?\\|",end:"\\|"},{begin:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{begin:/<<(-?)\w+$/,end:/^\s*\w+$/}]};var PARAMS={className:"params",begin:"\\(",end:"\\)",endsParent:true,keywords:RUBY_KEYWORDS};var RUBY_DEFAULT_CONTAINS=[STRING,IRB_OBJECT,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[hljs.inherit(hljs.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{begin:"<\\s*",contains:[{begin:"("+hljs.IDENT_RE+"::)?"+hljs.IDENT_RE}]}].concat(COMMENT_MODES)},{className:"function",beginKeywords:"def",end:"$|;",contains:[hljs.inherit(hljs.TITLE_MODE,{begin:RUBY_METHOD_RE}),PARAMS].concat(COMMENT_MODES)},{begin:hljs.IDENT_RE+"::"},{className:"symbol",begin:hljs.UNDERSCORE_IDENT_RE+"(\\!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[STRING,{begin:RUBY_METHOD_RE}],relevance:0},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{className:"params",begin:/\|/,end:/\|/,keywords:RUBY_KEYWORDS},{begin:"("+hljs.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[IRB_OBJECT,{className:"regexp",contains:[hljs.BACKSLASH_ESCAPE,SUBST],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:"%r{",end:"}[a-z]*"},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(COMMENT_MODES),relevance:0}].concat(COMMENT_MODES);SUBST.contains=RUBY_DEFAULT_CONTAINS;PARAMS.contains=RUBY_DEFAULT_CONTAINS;var SIMPLE_PROMPT="[>?]>";var DEFAULT_PROMPT="[\\w#]+\\(\\w+\\):\\d+:\\d+>";var RVM_PROMPT="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>";var IRB_DEFAULT=[{begin:/^\s*=>/,starts:{end:"$",contains:RUBY_DEFAULT_CONTAINS}},{className:"meta",begin:"^("+SIMPLE_PROMPT+"|"+DEFAULT_PROMPT+"|"+RVM_PROMPT+")",starts:{end:"$",contains:RUBY_DEFAULT_CONTAINS}}];return{aliases:["rb","gemspec","podspec","thor","irb"],keywords:RUBY_KEYWORDS,illegal:/\/\*/,contains:COMMENT_MODES.concat(IRB_DEFAULT).concat(RUBY_DEFAULT_CONTAINS)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(159);var _assign2=_interopRequireDefault(_assign);var _objectWithoutProperties2=__webpack_require__(459);var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);exports.default=function(lowlight,defaultStyle){return function SyntaxHighlighter(_ref5){var language=_ref5.language,children=_ref5.children,_ref5$style=_ref5.style,style=_ref5$style===undefined?defaultStyle:_ref5$style,_ref5$customStyle=_ref5.customStyle,customStyle=_ref5$customStyle===undefined?{}:_ref5$customStyle,_ref5$codeTagProps=_ref5.codeTagProps,codeTagProps=_ref5$codeTagProps===undefined?{}:_ref5$codeTagProps,_ref5$useInlineStyles=_ref5.useInlineStyles,useInlineStyles=_ref5$useInlineStyles===undefined?true:_ref5$useInlineStyles,_ref5$showLineNumbers=_ref5.showLineNumbers,showLineNumbers=_ref5$showLineNumbers===undefined?false:_ref5$showLineNumbers,_ref5$startingLineNum=_ref5.startingLineNumber,startingLineNumber=_ref5$startingLineNum===undefined?1:_ref5$startingLineNum,lineNumberContainerStyle=_ref5.lineNumberContainerStyle,lineNumberStyle=_ref5.lineNumberStyle,wrapLines=_ref5.wrapLines,_ref5$lineStyle=_ref5.lineStyle,lineStyle=_ref5$lineStyle===undefined?{}:_ref5$lineStyle,renderer=_ref5.renderer,_ref5$PreTag=_ref5.PreTag,PreTag=_ref5$PreTag===undefined?"pre":_ref5$PreTag,_ref5$CodeTag=_ref5.CodeTag,CodeTag=_ref5$CodeTag===undefined?"code":_ref5$CodeTag,_ref5$code=_ref5.code,code=_ref5$code===undefined?Array.isArray(children)?children[0]:children:_ref5$code,rest=(0,_objectWithoutProperties3.default)(_ref5,["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","lineStyle","renderer","PreTag","CodeTag","code"]);wrapLines=renderer&&wrapLines===undefined?true:wrapLines;renderer=renderer||defaultRenderer;var codeTree=language&&!!lowlight.getLanguage(language)?lowlight.highlight(language,code):lowlight.highlightAuto(code);if(codeTree.language===null||language==="text"){codeTree.value=[{type:"text",value:code}]}var defaultPreStyle=style.hljs||{backgroundColor:"#fff"};var preProps=useInlineStyles?(0,_assign2.default)({},rest,{style:(0,_assign2.default)({},defaultPreStyle,customStyle)}):(0,_assign2.default)({},rest,{className:"hljs"});var tree=wrapLines?wrapLinesInSpan(codeTree,lineStyle):codeTree.value;var lineNumbers=showLineNumbers?_react2.default.createElement(LineNumbers,{containerStyle:lineNumberContainerStyle,numberStyle:lineNumberStyle,startingLineNumber:startingLineNumber,codeString:code}):null;return _react2.default.createElement(PreTag,preProps,lineNumbers,_react2.default.createElement(CodeTag,codeTagProps,renderer({rows:tree,stylesheet:style,useInlineStyles:useInlineStyles})))}};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _createElement=__webpack_require__(460);var _createElement2=_interopRequireDefault(_createElement);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var newLineRegex=/\n/g;function getNewLines(str){return str.match(newLineRegex)}function getLineNumbers(_ref){var lines=_ref.lines,startingLineNumber=_ref.startingLineNumber,style=_ref.style;return lines.map((function(_,i){var number=i+startingLineNumber;return _react2.default.createElement("span",{key:"line-"+i,className:"react-syntax-highlighter-line-number",style:typeof style==="function"?style(number):style},number+"\n")}))}function LineNumbers(_ref2){var codeString=_ref2.codeString,_ref2$containerStyle=_ref2.containerStyle,containerStyle=_ref2$containerStyle===undefined?{float:"left",paddingRight:"10px"}:_ref2$containerStyle,_ref2$numberStyle=_ref2.numberStyle,numberStyle=_ref2$numberStyle===undefined?{}:_ref2$numberStyle,startingLineNumber=_ref2.startingLineNumber;return _react2.default.createElement("code",{style:containerStyle},getLineNumbers({lines:codeString.replace(/\n$/,"").split("\n"),style:numberStyle,startingLineNumber:startingLineNumber}))}function createLineElement(_ref3){var children=_ref3.children,lineNumber=_ref3.lineNumber,lineStyle=_ref3.lineStyle,_ref3$className=_ref3.className,className=_ref3$className===undefined?[]:_ref3$className;return{type:"element",tagName:"span",properties:{className:className,style:typeof lineStyle==="function"?lineStyle(lineNumber):lineStyle},children:children}}function flattenCodeTree(tree){var className=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var newTree=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];for(var i=0;i<tree.length;i++){var node=tree[i];if(node.type==="text"){newTree.push(createLineElement({children:[node],className:className}))}else if(node.children){var classNames=className.concat(node.properties.className);newTree=newTree.concat(flattenCodeTree(node.children,classNames))}}return newTree}function wrapLinesInSpan(codeTree,lineStyle){var tree=flattenCodeTree(codeTree.value);var newTree=[];var lastLineBreakIndex=-1;var index=0;var _loop=function _loop(){var node=tree[index];var value=node.children[0].value;var newLines=getNewLines(value);if(newLines){(function(){var splitValue=value.split("\n");splitValue.forEach((function(text,i){var lineNumber=newTree.length+1;var newChild={type:"text",value:text+"\n"};if(i===0){var _children=tree.slice(lastLineBreakIndex+1,index).concat(createLineElement({children:[newChild],className:node.properties.className}));newTree.push(createLineElement({children:_children,lineNumber:lineNumber,lineStyle:lineStyle}))}else if(i===splitValue.length-1){var stringChild=tree[index+1]&&tree[index+1].children&&tree[index+1].children[0];if(stringChild){var lastLineInPreviousSpan={type:"text",value:""+text};var newElem=createLineElement({children:[lastLineInPreviousSpan],className:node.properties.className});tree.splice(index+1,0,newElem)}else{newTree.push(createLineElement({children:[newChild],lineNumber:lineNumber,lineStyle:lineStyle}))}}else{newTree.push(createLineElement({children:[newChild],lineNumber:lineNumber,lineStyle:lineStyle}))}}));lastLineBreakIndex=index})()}index++};while(index<tree.length){_loop()}if(lastLineBreakIndex!==tree.length-1){var children=tree.slice(lastLineBreakIndex+1,tree.length);if(children&&children.length){newTree.push(createLineElement({children:children,lineNumber:newTree.length+1,lineStyle:lineStyle}))}}return newTree}function defaultRenderer(_ref4){var rows=_ref4.rows,stylesheet=_ref4.stylesheet,useInlineStyles=_ref4.useInlineStyles;return rows.map((function(node,i){return(0,_createElement2.default)({node:node,stylesheet:stylesheet,useInlineStyles:useInlineStyles,key:"code-segement"+i})}))}},function(module,exports,__webpack_require__){__webpack_require__(433);module.exports=__webpack_require__(161).Object.assign},function(module,exports,__webpack_require__){var $export=__webpack_require__(434);$export($export.S+$export.F,"Object",{assign:__webpack_require__(444)})},function(module,exports,__webpack_require__){var global=__webpack_require__(160);var core=__webpack_require__(161);var ctx=__webpack_require__(435);var hide=__webpack_require__(437);var has=__webpack_require__(222);var PROTOTYPE="prototype";var $export=function(type,name,source){var IS_FORCED=type&$export.F;var IS_GLOBAL=type&$export.G;var IS_STATIC=type&$export.S;var IS_PROTO=type&$export.P;var IS_BIND=type&$export.B;var IS_WRAP=type&$export.W;var exports=IS_GLOBAL?core:core[name]||(core[name]={});var expProto=exports[PROTOTYPE];var target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE];var key,own,out;if(IS_GLOBAL)source=name;for(key in source){own=!IS_FORCED&&target&&target[key]!==undefined;if(own&&has(exports,key))continue;out=own?target[key]:source[key];exports[key]=IS_GLOBAL&&typeof target[key]!="function"?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};F[PROTOTYPE]=C[PROTOTYPE];return F}(out):IS_PROTO&&typeof out=="function"?ctx(Function.call,out):out;if(IS_PROTO){(exports.virtual||(exports.virtual={}))[key]=out;if(type&$export.R&&expProto&&!expProto[key])hide(expProto,key,out)}}};$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;module.exports=$export},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(436);module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if(typeof it!="function")throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var dP=__webpack_require__(438);var createDesc=__webpack_require__(443);module.exports=__webpack_require__(122)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){object[key]=value;return object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(439);var IE8_DOM_DEFINE=__webpack_require__(440);var toPrimitive=__webpack_require__(442);var dP=Object.defineProperty;exports.f=__webpack_require__(122)?Object.defineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");if("value"in Attributes)O[P]=Attributes.value;return O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(162);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(122)&&!__webpack_require__(163)((function(){return Object.defineProperty(__webpack_require__(441)("div"),"a",{get:function(){return 7}}).a!=7}))},function(module,exports,__webpack_require__){var isObject=__webpack_require__(162);var document=__webpack_require__(160).document;var is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(162);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=="function"&&!isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}},function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(122);var getKeys=__webpack_require__(445);var gOPS=__webpack_require__(456);var pIE=__webpack_require__(457);var toObject=__webpack_require__(458);var IObject=__webpack_require__(224);var $assign=Object.assign;module.exports=!$assign||__webpack_require__(163)((function(){var A={};var B={};var S=Symbol();var K="abcdefghijklmnopqrst";A[S]=7;K.split("").forEach((function(k){B[k]=k}));return $assign({},A)[S]!=7||Object.keys($assign({},B)).join("")!=K}))?function assign(target,source){var T=toObject(target);var aLen=arguments.length;var index=1;var getSymbols=gOPS.f;var isEnum=pIE.f;while(aLen>index){var S=IObject(arguments[index++]);var keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S);var length=keys.length;var j=0;var key;while(length>j){key=keys[j++];if(!DESCRIPTORS||isEnum.call(S,key))T[key]=S[key]}}return T}:$assign},function(module,exports,__webpack_require__){var $keys=__webpack_require__(446);var enumBugKeys=__webpack_require__(455);module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(222);var toIObject=__webpack_require__(223);var arrayIndexOf=__webpack_require__(448)(false);var IE_PROTO=__webpack_require__(451)("IE_PROTO");module.exports=function(object,names){var O=toIObject(object);var i=0;var result=[];var key;for(key in O)if(key!=IE_PROTO)has(O,key)&&result.push(key);while(names.length>i)if(has(O,key=names[i++])){~arrayIndexOf(result,key)||result.push(key)}return result}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(223);var toLength=__webpack_require__(449);var toAbsoluteIndex=__webpack_require__(450);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this);var length=toLength(O.length);var index=toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++)if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index||0}return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(226);var min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(226);var max=Math.max;var min=Math.min;module.exports=function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(452)("keys");var uid=__webpack_require__(454);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(161);var global=__webpack_require__(160);var SHARED="__core-js_shared__";var store=global[SHARED]||(global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(453)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports=true},function(module,exports){var id=0;var px=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var defined=__webpack_require__(225);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=function(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(159);var _assign2=_interopRequireDefault(_assign);var _extends2=__webpack_require__(461);var _extends3=_interopRequireDefault(_extends2);exports.createStyleObject=createStyleObject;exports.createClassNameString=createClassNameString;exports.createChildren=createChildren;exports.default=createElement;var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createStyleObject(classNames){var elementStyle=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var stylesheet=arguments[2];return classNames.reduce((function(styleObject,className){return(0,_extends3.default)({},styleObject,stylesheet[className])}),elementStyle)}function createClassNameString(classNames){return classNames.join(" ")}function createChildren(stylesheet,useInlineStyles){var childrenCount=0;return function(children){childrenCount+=1;return children.map((function(child,i){return createElement({node:child,stylesheet:stylesheet,useInlineStyles:useInlineStyles,key:"code-segment-"+childrenCount+"-"+i})}))}}function createElement(_ref){var node=_ref.node,stylesheet=_ref.stylesheet,_ref$style=_ref.style,style=_ref$style===undefined?{}:_ref$style,useInlineStyles=_ref.useInlineStyles,key=_ref.key;var properties=node.properties,type=node.type,TagName=node.tagName,value=node.value;if(type==="text"){return value}else if(TagName){var childrenCreator=createChildren(stylesheet,useInlineStyles);var props=useInlineStyles?{style:createStyleObject(properties.className,(0,_assign2.default)({},properties.style,style),stylesheet)}:{className:createClassNameString(properties.className)};var children=childrenCreator(node.children);return _react2.default.createElement(TagName,(0,_extends3.default)({key:key},props),children)}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _assign=__webpack_require__(159);var _assign2=_interopRequireDefault(_assign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_assign2.default||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},function(module,exports,__webpack_require__){"use strict";var high=__webpack_require__(463);function High(){}High.prototype=high;var low=new High;module.exports=low;low.highlight=highlight;low.highlightAuto=autoHighlight;low.registerLanguage=registerLanguage;low.getLanguage=getLanguage;var inherit=high.inherit;var own={}.hasOwnProperty;var DEFAULT_PREFIX="hljs-";var KEY_INSENSITIVE="case_insensitive";var KEY_CACHED_VARIANTS="cached_variants";var EMPTY="";var C_SPACE=" ";var C_PIPE="|";var T_ELEMENT="element";var T_TEXT="text";var T_SPAN="span";var languageNames=[];var languages={};var aliases={};function autoHighlight(value,options){var settings=options||{};var prefix=settings.prefix;var subset=settings.subset||languageNames;var length=subset.length;var index=-1;var result;var secondBest;var current;var name;if(prefix===null||prefix===undefined){prefix=DEFAULT_PREFIX}if(typeof value!=="string"){throw new Error("Expected `string` for value, got `"+value+"`")}secondBest=normalize({});result=normalize({});while(++index<length){name=subset[index];if(!getLanguage(name)){continue}current=normalize(coreHighlight(name,value,false,prefix));current.language=name;if(current.relevance>secondBest.relevance){secondBest=current}if(current.relevance>result.relevance){secondBest=result;result=current}}if(secondBest.language){result.secondBest=secondBest}return result}function highlight(language,value,options){var settings=options||{};var prefix=settings.prefix;if(prefix===null||prefix===undefined){prefix=DEFAULT_PREFIX}return normalize(coreHighlight(language,value,true,prefix))}function registerLanguage(name,syntax){var lang=languages[name]=syntax(low);var values=lang.aliases;var length=values&&values.length;var index=-1;languageNames.push(name);while(++index<length){aliases[values[index]]=name}}function coreHighlight(name,value,ignore,prefix,continuation){var continuations={};var stack=[];var modeBuffer=EMPTY;var relevance=0;var language;var top;var current;var currentChildren;var offset;var count;var match;var children;if(typeof name!=="string"){throw new Error("Expected `string` for name, got `"+name+"`")}if(typeof value!=="string"){throw new Error("Expected `string` for value, got `"+value+"`")}language=getLanguage(name);current=top=continuation||language;currentChildren=children=[];if(!language){throw new Error("Unknown language: `"+name+"` is not registered")}compileLanguage(language);try{offset=top.terminators.lastIndex=0;match=top.terminators.exec(value);while(match){count=processLexeme(value.substring(offset,match.index),match[0]);offset=top.terminators.lastIndex=match.index+count;match=top.terminators.exec(value)}processLexeme(value.substr(offset));current=top;while(current.parent){if(current.className){pop()}current=current.parent}return{relevance:relevance,value:currentChildren,language:name,top:top}}catch(err){if(err.message.indexOf("Illegal")===-1){throw err}return{relevance:0,value:addText(value,[])}}function processLexeme(buffer,lexeme){var newMode;var endMode;var origin;modeBuffer+=buffer;if(lexeme===undefined){addSiblings(processBuffer(),currentChildren);return 0}newMode=subMode(lexeme,top);if(newMode){addSiblings(processBuffer(),currentChildren);startNewMode(newMode,lexeme);return newMode.returnBegin?0:lexeme.length}endMode=endOfMode(top,lexeme);if(endMode){origin=top;if(!(origin.returnEnd||origin.excludeEnd)){modeBuffer+=lexeme}addSiblings(processBuffer(),currentChildren);do{if(top.className){pop()}relevance+=top.relevance;top=top.parent}while(top!==endMode.parent);if(origin.excludeEnd){addText(lexeme,currentChildren)}modeBuffer=EMPTY;if(endMode.starts){startNewMode(endMode.starts,EMPTY)}return origin.returnEnd?0:lexeme.length}if(isIllegal(lexeme,top)){throw new Error('Illegal lexeme "'+lexeme+'" for mode "'+(top.className||"<unnamed>")+'"')}modeBuffer+=lexeme;return lexeme.length||1}function startNewMode(mode,lexeme){var node;if(mode.className){node=build(mode.className,[])}if(mode.returnBegin){modeBuffer=EMPTY}else if(mode.excludeBegin){addText(lexeme,currentChildren);modeBuffer=EMPTY}else{modeBuffer=lexeme}if(node){currentChildren.push(node);stack.push(currentChildren);currentChildren=node.children}top=Object.create(mode,{parent:{value:top}})}function processBuffer(){var result=top.subLanguage===undefined?processKeywords():processSubLanguage();modeBuffer=EMPTY;return result}function processSubLanguage(){var explicit=typeof top.subLanguage==="string";var subvalue;if(explicit&&!languages[top.subLanguage]){return addText(modeBuffer,[])}if(explicit){subvalue=coreHighlight(top.subLanguage,modeBuffer,true,prefix,continuations[top.subLanguage])}else{subvalue=autoHighlight(modeBuffer,{subset:top.subLanguage.length?top.subLanguage:undefined,prefix:prefix})}if(top.relevance>0){relevance+=subvalue.relevance}if(explicit){continuations[top.subLanguage]=subvalue.top}return[build(subvalue.language,subvalue.value,true)]}function processKeywords(){var nodes=[];var lastIndex;var keyword;var node;var submatch;if(!top.keywords){return addText(modeBuffer,nodes)}lastIndex=0;top.lexemesRe.lastIndex=0;keyword=top.lexemesRe.exec(modeBuffer);while(keyword){addText(modeBuffer.substring(lastIndex,keyword.index),nodes);submatch=keywordMatch(top,keyword);if(submatch){relevance+=submatch[1];node=build(submatch[0],[]);nodes.push(node);addText(keyword[0],node.children)}else{addText(keyword[0],nodes)}lastIndex=top.lexemesRe.lastIndex;keyword=top.lexemesRe.exec(modeBuffer)}addText(modeBuffer.substr(lastIndex),nodes);return nodes}function addSiblings(siblings,nodes){var length=siblings.length;var index=-1;var sibling;while(++index<length){sibling=siblings[index];if(sibling.type===T_TEXT){addText(sibling.value,nodes)}else{nodes.push(sibling)}}}function addText(value,nodes){var tail;if(value){tail=nodes[nodes.length-1];if(tail&&tail.type===T_TEXT){tail.value+=value}else{nodes.push(buildText(value))}}return nodes}function buildText(value){return{type:T_TEXT,value:value}}function build(name,contents,noPrefix){return{type:T_ELEMENT,tagName:T_SPAN,properties:{className:[(noPrefix?EMPTY:prefix)+name]},children:contents}}function keywordMatch(mode,keywords){var keyword=keywords[0];if(language[KEY_INSENSITIVE]){keyword=keyword.toLowerCase()}return own.call(mode.keywords,keyword)&&mode.keywords[keyword]}function isIllegal(lexeme,mode){return!ignore&&test(mode.illegalRe,lexeme)}function endOfMode(mode,lexeme){if(test(mode.endRe,lexeme)){while(mode.endsParent&&mode.parent){mode=mode.parent}return mode}if(mode.endsWithParent){return endOfMode(mode.parent,lexeme)}}function subMode(lexeme,mode){var values=mode.contains;var length=values.length;var index=-1;while(++index<length){if(test(values[index].beginRe,lexeme)){return values[index]}}}function pop(){currentChildren=stack.pop()||children}}function expandMode(mode){if(mode.variants&&!mode[KEY_CACHED_VARIANTS]){mode[KEY_CACHED_VARIANTS]=mode.variants.map((function(variant){return inherit(mode,{variants:null},variant)}))}return mode[KEY_CACHED_VARIANTS]||mode.endsWithParent&&[inherit(mode)]||[mode]}function compileLanguage(language){compileMode(language);function compileMode(mode,parent){var compiledKeywords={};var terminators;if(mode.compiled){return}mode.compiled=true;mode.keywords=mode.keywords||mode.beginKeywords;if(mode.keywords){if(typeof mode.keywords==="string"){flatten("keyword",mode.keywords)}else{Object.keys(mode.keywords).forEach((function(className){flatten(className,mode.keywords[className])}))}mode.keywords=compiledKeywords}mode.lexemesRe=langRe(mode.lexemes||/\w+/,true);if(parent){if(mode.beginKeywords){mode.begin="\\b("+mode.beginKeywords.split(C_SPACE).join(C_PIPE)+")\\b"}if(!mode.begin){mode.begin=/\B|\b/}mode.beginRe=langRe(mode.begin);if(!mode.end&&!mode.endsWithParent){mode.end=/\B|\b/}if(mode.end){mode.endRe=langRe(mode.end)}mode.terminatorEnd=source(mode.end)||EMPTY;if(mode.endsWithParent&&parent.terminatorEnd){mode.terminatorEnd+=(mode.end?C_PIPE:EMPTY)+parent.terminatorEnd}}if(mode.illegal){mode.illegalRe=langRe(mode.illegal)}if(mode.relevance===undefined){mode.relevance=1}if(!mode.contains){mode.contains=[]}mode.contains=Array.prototype.concat.apply([],mode.contains.map((function(c){return expandMode(c==="self"?mode:c)})));mode.contains.forEach((function(c){compileMode(c,mode)}));if(mode.starts){compileMode(mode.starts,parent)}terminators=mode.contains.map((function(c){return c.beginKeywords?"\\.?("+c.begin+")\\.?":c.begin})).concat([mode.terminatorEnd,mode.illegal]).map(source).filter(Boolean);mode.terminators=terminators.length?langRe(terminators.join(C_PIPE),true):{exec:execNoop};function flatten(className,value){var pairs;var pair;var index;var length;if(language[KEY_INSENSITIVE]){value=value.toLowerCase()}pairs=value.split(C_SPACE);length=pairs.length;index=-1;while(++index<length){pair=pairs[index].split(C_PIPE);compiledKeywords[pair[0]]=[className,pair[1]?Number(pair[1]):1]}}}function langRe(value,global){return new RegExp(source(value),"m"+(language[KEY_INSENSITIVE]?"i":"")+(global?"g":""))}function source(re){return re&&re.source||re}}function normalize(result){return{relevance:result.relevance||0,language:result.language||null,value:result.value||[]}}function test(expression,lexeme){var match=expression&&expression.exec(lexeme);return match&&match.index===0}function execNoop(){return null}function getLanguage(name){name=name.toLowerCase();return languages[name]||languages[aliases[name]]}},function(module,exports,__webpack_require__){(function(factory){var globalObject=typeof window==="object"&&window||typeof self==="object"&&self;if(true){factory(exports)}else{}})((function(hljs){var ArrayProto=[],objectKeys=Object.keys;var languages={},aliases={};var noHighlightRe=/^(no-?highlight|plain|text)$/i,languagePrefixRe=/\blang(?:uage)?-([\w-]+)\b/i,fixMarkupRe=/((^(<[^>]+>|\t|)+|(?:\n)))/gm;var spanEndTag="</span>";var options={classPrefix:"hljs-",tabReplace:null,useBR:false,languages:undefined};function escape(value){return value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tag(node){return node.nodeName.toLowerCase()}function testRe(re,lexeme){var match=re&&re.exec(lexeme);return match&&match.index===0}function isNotHighlighted(language){return noHighlightRe.test(language)}function blockLanguage(block){var i,match,length,_class;var classes=block.className+" ";classes+=block.parentNode?block.parentNode.className:"";match=languagePrefixRe.exec(classes);if(match){return getLanguage(match[1])?match[1]:"no-highlight"}classes=classes.split(/\s+/);for(i=0,length=classes.length;i<length;i++){_class=classes[i];if(isNotHighlighted(_class)||getLanguage(_class)){return _class}}}function inherit(parent){var key;var result={};var objects=Array.prototype.slice.call(arguments,1);for(key in parent)result[key]=parent[key];objects.forEach((function(obj){for(key in obj)result[key]=obj[key]}));return result}function nodeStream(node){var result=[];(function _nodeStream(node,offset){for(var child=node.firstChild;child;child=child.nextSibling){if(child.nodeType===3)offset+=child.nodeValue.length;else if(child.nodeType===1){result.push({event:"start",offset:offset,node:child});offset=_nodeStream(child,offset);if(!tag(child).match(/br|hr|img|input/)){result.push({event:"stop",offset:offset,node:child})}}}return offset})(node,0);return result}function mergeStreams(original,highlighted,value){var processed=0;var result="";var nodeStack=[];function selectStream(){if(!original.length||!highlighted.length){return original.length?original:highlighted}if(original[0].offset!==highlighted[0].offset){return original[0].offset<highlighted[0].offset?original:highlighted}return highlighted[0].event==="start"?original:highlighted}function open(node){function attr_str(a){return" "+a.nodeName+'="'+escape(a.value).replace('"',"&quot;")+'"'}result+="<"+tag(node)+ArrayProto.map.call(node.attributes,attr_str).join("")+">"}function close(node){result+="</"+tag(node)+">"}function render(event){(event.event==="start"?open:close)(event.node)}while(original.length||highlighted.length){var stream=selectStream();result+=escape(value.substring(processed,stream[0].offset));processed=stream[0].offset;if(stream===original){nodeStack.reverse().forEach(close);do{render(stream.splice(0,1)[0]);stream=selectStream()}while(stream===original&&stream.length&&stream[0].offset===processed);nodeStack.reverse().forEach(open)}else{if(stream[0].event==="start"){nodeStack.push(stream[0].node)}else{nodeStack.pop()}render(stream.splice(0,1)[0])}}return result+escape(value.substr(processed))}function expand_mode(mode){if(mode.variants&&!mode.cached_variants){mode.cached_variants=mode.variants.map((function(variant){return inherit(mode,{variants:null},variant)}))}return mode.cached_variants||mode.endsWithParent&&[inherit(mode)]||[mode]}function compileLanguage(language){function reStr(re){return re&&re.source||re}function langRe(value,global){return new RegExp(reStr(value),"m"+(language.case_insensitive?"i":"")+(global?"g":""))}function compileMode(mode,parent){if(mode.compiled)return;mode.compiled=true;mode.keywords=mode.keywords||mode.beginKeywords;if(mode.keywords){var compiled_keywords={};var flatten=function(className,str){if(language.case_insensitive){str=str.toLowerCase()}str.split(" ").forEach((function(kw){var pair=kw.split("|");compiled_keywords[pair[0]]=[className,pair[1]?Number(pair[1]):1]}))};if(typeof mode.keywords==="string"){flatten("keyword",mode.keywords)}else{objectKeys(mode.keywords).forEach((function(className){flatten(className,mode.keywords[className])}))}mode.keywords=compiled_keywords}mode.lexemesRe=langRe(mode.lexemes||/\w+/,true);if(parent){if(mode.beginKeywords){mode.begin="\\b("+mode.beginKeywords.split(" ").join("|")+")\\b"}if(!mode.begin)mode.begin=/\B|\b/;mode.beginRe=langRe(mode.begin);if(!mode.end&&!mode.endsWithParent)mode.end=/\B|\b/;if(mode.end)mode.endRe=langRe(mode.end);mode.terminator_end=reStr(mode.end)||"";if(mode.endsWithParent&&parent.terminator_end)mode.terminator_end+=(mode.end?"|":"")+parent.terminator_end}if(mode.illegal)mode.illegalRe=langRe(mode.illegal);if(mode.relevance==null)mode.relevance=1;if(!mode.contains){mode.contains=[]}mode.contains=Array.prototype.concat.apply([],mode.contains.map((function(c){return expand_mode(c==="self"?mode:c)})));mode.contains.forEach((function(c){compileMode(c,mode)}));if(mode.starts){compileMode(mode.starts,parent)}var terminators=mode.contains.map((function(c){return c.beginKeywords?"\\.?("+c.begin+")\\.?":c.begin})).concat([mode.terminator_end,mode.illegal]).map(reStr).filter(Boolean);mode.terminators=terminators.length?langRe(terminators.join("|"),true):{exec:function(){return null}}}compileMode(language)}function highlight(name,value,ignore_illegals,continuation){function subMode(lexeme,mode){var i,length;for(i=0,length=mode.contains.length;i<length;i++){if(testRe(mode.contains[i].beginRe,lexeme)){return mode.contains[i]}}}function endOfMode(mode,lexeme){if(testRe(mode.endRe,lexeme)){while(mode.endsParent&&mode.parent){mode=mode.parent}return mode}if(mode.endsWithParent){return endOfMode(mode.parent,lexeme)}}function isIllegal(lexeme,mode){return!ignore_illegals&&testRe(mode.illegalRe,lexeme)}function keywordMatch(mode,match){var match_str=language.case_insensitive?match[0].toLowerCase():match[0];return mode.keywords.hasOwnProperty(match_str)&&mode.keywords[match_str]}function buildSpan(classname,insideSpan,leaveOpen,noPrefix){var classPrefix=noPrefix?"":options.classPrefix,openSpan='<span class="'+classPrefix,closeSpan=leaveOpen?"":spanEndTag;openSpan+=classname+'">';return openSpan+insideSpan+closeSpan}function processKeywords(){var keyword_match,last_index,match,result;if(!top.keywords)return escape(mode_buffer);result="";last_index=0;top.lexemesRe.lastIndex=0;match=top.lexemesRe.exec(mode_buffer);while(match){result+=escape(mode_buffer.substring(last_index,match.index));keyword_match=keywordMatch(top,match);if(keyword_match){relevance+=keyword_match[1];result+=buildSpan(keyword_match[0],escape(match[0]))}else{result+=escape(match[0])}last_index=top.lexemesRe.lastIndex;match=top.lexemesRe.exec(mode_buffer)}return result+escape(mode_buffer.substr(last_index))}function processSubLanguage(){var explicit=typeof top.subLanguage==="string";if(explicit&&!languages[top.subLanguage]){return escape(mode_buffer)}var result=explicit?highlight(top.subLanguage,mode_buffer,true,continuations[top.subLanguage]):highlightAuto(mode_buffer,top.subLanguage.length?top.subLanguage:undefined);if(top.relevance>0){relevance+=result.relevance}if(explicit){continuations[top.subLanguage]=result.top}return buildSpan(result.language,result.value,false,true)}function processBuffer(){result+=top.subLanguage!=null?processSubLanguage():processKeywords();mode_buffer=""}function startNewMode(mode){result+=mode.className?buildSpan(mode.className,"",true):"";top=Object.create(mode,{parent:{value:top}})}function processLexeme(buffer,lexeme){mode_buffer+=buffer;if(lexeme==null){processBuffer();return 0}var new_mode=subMode(lexeme,top);if(new_mode){if(new_mode.skip){mode_buffer+=lexeme}else{if(new_mode.excludeBegin){mode_buffer+=lexeme}processBuffer();if(!new_mode.returnBegin&&!new_mode.excludeBegin){mode_buffer=lexeme}}startNewMode(new_mode,lexeme);return new_mode.returnBegin?0:lexeme.length}var end_mode=endOfMode(top,lexeme);if(end_mode){var origin=top;if(origin.skip){mode_buffer+=lexeme}else{if(!(origin.returnEnd||origin.excludeEnd)){mode_buffer+=lexeme}processBuffer();if(origin.excludeEnd){mode_buffer=lexeme}}do{if(top.className){result+=spanEndTag}if(!top.skip){relevance+=top.relevance}top=top.parent}while(top!==end_mode.parent);if(end_mode.starts){startNewMode(end_mode.starts,"")}return origin.returnEnd?0:lexeme.length}if(isIllegal(lexeme,top))throw new Error('Illegal lexeme "'+lexeme+'" for mode "'+(top.className||"<unnamed>")+'"');mode_buffer+=lexeme;return lexeme.length||1}var language=getLanguage(name);if(!language){throw new Error('Unknown language: "'+name+'"')}compileLanguage(language);var top=continuation||language;var continuations={};var result="",current;for(current=top;current!==language;current=current.parent){if(current.className){result=buildSpan(current.className,"",true)+result}}var mode_buffer="";var relevance=0;try{var match,count,index=0;while(true){top.terminators.lastIndex=index;match=top.terminators.exec(value);if(!match)break;count=processLexeme(value.substring(index,match.index),match[0]);index=match.index+count}processLexeme(value.substr(index));for(current=top;current.parent;current=current.parent){if(current.className){result+=spanEndTag}}return{relevance:relevance,value:result,language:name,top:top}}catch(e){if(e.message&&e.message.indexOf("Illegal")!==-1){return{relevance:0,value:escape(value)}}else{throw e}}}function highlightAuto(text,languageSubset){languageSubset=languageSubset||options.languages||objectKeys(languages);var result={relevance:0,value:escape(text)};var second_best=result;languageSubset.filter(getLanguage).forEach((function(name){var current=highlight(name,text,false);current.language=name;if(current.relevance>second_best.relevance){second_best=current}if(current.relevance>result.relevance){second_best=result;result=current}}));if(second_best.language){result.second_best=second_best}return result}function fixMarkup(value){return!(options.tabReplace||options.useBR)?value:value.replace(fixMarkupRe,(function(match,p1){if(options.useBR&&match==="\n"){return"<br>"}else if(options.tabReplace){return p1.replace(/\t/g,options.tabReplace)}return""}))}function buildClassName(prevClassName,currentLang,resultLang){var language=currentLang?aliases[currentLang]:resultLang,result=[prevClassName.trim()];if(!prevClassName.match(/\bhljs\b/)){result.push("hljs")}if(prevClassName.indexOf(language)===-1){result.push(language)}return result.join(" ").trim()}function highlightBlock(block){var node,originalStream,result,resultNode,text;var language=blockLanguage(block);if(isNotHighlighted(language))return;if(options.useBR){node=document.createElementNS("http://www.w3.org/1999/xhtml","div");node.innerHTML=block.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")}else{node=block}text=node.textContent;result=language?highlight(language,text,true):highlightAuto(text);originalStream=nodeStream(node);if(originalStream.length){resultNode=document.createElementNS("http://www.w3.org/1999/xhtml","div");resultNode.innerHTML=result.value;result.value=mergeStreams(originalStream,nodeStream(resultNode),text)}result.value=fixMarkup(result.value);block.innerHTML=result.value;block.className=buildClassName(block.className,language,result.language);block.result={language:result.language,re:result.relevance};if(result.second_best){block.second_best={language:result.second_best.language,re:result.second_best.relevance}}}function configure(user_options){options=inherit(options,user_options)}function initHighlighting(){if(initHighlighting.called)return;initHighlighting.called=true;var blocks=document.querySelectorAll("pre code");ArrayProto.forEach.call(blocks,highlightBlock)}function initHighlightingOnLoad(){addEventListener("DOMContentLoaded",initHighlighting,false);addEventListener("load",initHighlighting,false)}function registerLanguage(name,language){var lang=languages[name]=language(hljs);if(lang.aliases){lang.aliases.forEach((function(alias){aliases[alias]=name}))}}function listLanguages(){return objectKeys(languages)}function getLanguage(name){name=(name||"").toLowerCase();return languages[name]||languages[aliases[name]]}hljs.highlight=highlight;hljs.highlightAuto=highlightAuto;hljs.fixMarkup=fixMarkup;hljs.highlightBlock=highlightBlock;hljs.configure=configure;hljs.initHighlighting=initHighlighting;hljs.initHighlightingOnLoad=initHighlightingOnLoad;hljs.registerLanguage=registerLanguage;hljs.listLanguages=listLanguages;hljs.getLanguage=getLanguage;hljs.inherit=inherit;hljs.IDENT_RE="[a-zA-Z]\\w*";hljs.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*";hljs.NUMBER_RE="\\b\\d+(\\.\\d+)?";hljs.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";hljs.BINARY_NUMBER_RE="\\b(0b[01]+)";hljs.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";hljs.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0};hljs.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[hljs.BACKSLASH_ESCAPE]};hljs.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[hljs.BACKSLASH_ESCAPE]};hljs.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/};hljs.COMMENT=function(begin,end,inherits){var mode=hljs.inherit({className:"comment",begin:begin,end:end,contains:[]},inherits||{});mode.contains.push(hljs.PHRASAL_WORDS_MODE);mode.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0});return mode};hljs.C_LINE_COMMENT_MODE=hljs.COMMENT("//","$");hljs.C_BLOCK_COMMENT_MODE=hljs.COMMENT("/\\*","\\*/");hljs.HASH_COMMENT_MODE=hljs.COMMENT("#","$");hljs.NUMBER_MODE={className:"number",begin:hljs.NUMBER_RE,relevance:0};hljs.C_NUMBER_MODE={className:"number",begin:hljs.C_NUMBER_RE,relevance:0};hljs.BINARY_NUMBER_MODE={className:"number",begin:hljs.BINARY_NUMBER_RE,relevance:0};hljs.CSS_NUMBER_MODE={className:"number",begin:hljs.NUMBER_RE+"("+"%|em|ex|ch|rem"+"|vw|vh|vmin|vmax"+"|cm|mm|in|pt|pc|px"+"|deg|grad|rad|turn"+"|s|ms"+"|Hz|kHz"+"|dpi|dpcm|dppx"+")?",relevance:0};hljs.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[hljs.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[hljs.BACKSLASH_ESCAPE]}]};hljs.TITLE_MODE={className:"title",begin:hljs.IDENT_RE,relevance:0};hljs.UNDERSCORE_TITLE_MODE={className:"title",begin:hljs.UNDERSCORE_IDENT_RE,relevance:0};hljs.METHOD_GUARD={begin:"\\.\\s*"+hljs.UNDERSCORE_IDENT_RE,relevance:0};return hljs}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#333",color:"white"},"hljs-name":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-code":{fontStyle:"italic",color:"#888"},"hljs-emphasis":{fontStyle:"italic"},"hljs-tag":{color:"#62c8f3"},"hljs-variable":{color:"#ade5fc"},"hljs-template-variable":{color:"#ade5fc"},"hljs-selector-id":{color:"#ade5fc"},"hljs-selector-class":{color:"#ade5fc"},"hljs-string":{color:"#a2fca2"},"hljs-bullet":{color:"#d36363"},"hljs-type":{color:"#ffa"},"hljs-title":{color:"#ffa"},"hljs-section":{color:"#ffa"},"hljs-attribute":{color:"#ffa"},"hljs-quote":{color:"#ffa"},"hljs-built_in":{color:"#ffa"},"hljs-builtin-name":{color:"#ffa"},"hljs-number":{color:"#d36363"},"hljs-symbol":{color:"#d36363"},"hljs-keyword":{color:"#fcc28c"},"hljs-selector-tag":{color:"#fcc28c"},"hljs-literal":{color:"#fcc28c"},"hljs-comment":{color:"#888"},"hljs-deletion":{color:"#333",backgroundColor:"#fc9b9b"},"hljs-regexp":{color:"#c6b4f0"},"hljs-link":{color:"#c6b4f0"},"hljs-meta":{color:"#fc9b9b"},"hljs-addition":{backgroundColor:"#a2fca2",color:"#333"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{color:"#a9b7c6",background:"#282b2e",display:"block",overflowX:"auto",padding:"0.5em"},"hljs-number":{color:"#6897BB"},"hljs-literal":{color:"#6897BB"},"hljs-symbol":{color:"#6897BB"},"hljs-bullet":{color:"#6897BB"},"hljs-keyword":{color:"#cc7832"},"hljs-selector-tag":{color:"#cc7832"},"hljs-deletion":{color:"#cc7832"},"hljs-variable":{color:"#629755"},"hljs-template-variable":{color:"#629755"},"hljs-link":{color:"#629755"},"hljs-comment":{color:"#808080"},"hljs-quote":{color:"#808080"},"hljs-meta":{color:"#bbb529"},"hljs-string":{color:"#6A8759"},"hljs-attribute":{color:"#6A8759"},"hljs-addition":{color:"#6A8759"},"hljs-section":{color:"#ffc66d"},"hljs-title":{color:"#ffc66d"},"hljs-type":{color:"#ffc66d"},"hljs-name":{color:"#e8bf6a"},"hljs-selector-id":{color:"#e8bf6a"},"hljs-selector-class":{color:"#e8bf6a"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#FFFFFF",color:"#434f54"},"hljs-subst":{color:"#434f54"},"hljs-keyword":{color:"#00979D"},"hljs-attribute":{color:"#00979D"},"hljs-selector-tag":{color:"#00979D"},"hljs-doctag":{color:"#00979D"},"hljs-name":{color:"#00979D"},"hljs-built_in":{color:"#D35400"},"hljs-literal":{color:"#D35400"},"hljs-bullet":{color:"#D35400"},"hljs-code":{color:"#D35400"},"hljs-addition":{color:"#D35400"},"hljs-regexp":{color:"#00979D"},"hljs-symbol":{color:"#00979D"},"hljs-variable":{color:"#00979D"},"hljs-template-variable":{color:"#00979D"},"hljs-link":{color:"#00979D"},"hljs-selector-attr":{color:"#00979D"},"hljs-selector-pseudo":{color:"#00979D"},"hljs-type":{color:"#005C5F"},"hljs-string":{color:"#005C5F"},"hljs-selector-id":{color:"#005C5F"},"hljs-selector-class":{color:"#005C5F"},"hljs-quote":{color:"#005C5F"},"hljs-template-tag":{color:"#005C5F"},"hljs-deletion":{color:"#005C5F"},"hljs-title":{color:"#880000",fontWeight:"bold"},"hljs-section":{color:"#880000",fontWeight:"bold"},"hljs-comment":{color:"rgba(149,165,166,.8)"},"hljs-meta-keyword":{color:"#728E00"},"hljs-meta":{color:"#434f54"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"},"hljs-function":{color:"#728E00"},"hljs-number":{color:"#8A7B52"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#222",color:"#aaa"},"hljs-subst":{color:"#aaa"},"hljs-section":{color:"#fff",fontWeight:"bold"},"hljs-comment":{color:"#444"},"hljs-quote":{color:"#444"},"hljs-meta":{color:"#444"},"hljs-string":{color:"#ffcc33"},"hljs-symbol":{color:"#ffcc33"},"hljs-bullet":{color:"#ffcc33"},"hljs-regexp":{color:"#ffcc33"},"hljs-number":{color:"#00cc66"},"hljs-addition":{color:"#00cc66"},"hljs-built_in":{color:"#32aaee"},"hljs-builtin-name":{color:"#32aaee"},"hljs-literal":{color:"#32aaee"},"hljs-type":{color:"#32aaee"},"hljs-template-variable":{color:"#32aaee"},"hljs-attribute":{color:"#32aaee"},"hljs-link":{color:"#32aaee"},"hljs-keyword":{color:"#6644aa"},"hljs-selector-tag":{color:"#6644aa"},"hljs-name":{color:"#6644aa"},"hljs-selector-id":{color:"#6644aa"},"hljs-selector-class":{color:"#6644aa"},"hljs-title":{color:"#bb1166"},"hljs-variable":{color:"#bb1166"},"hljs-deletion":{color:"#bb1166"},"hljs-template-tag":{color:"#bb1166"},"hljs-doctag":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"white",color:"black"},"hljs-string":{color:"#888"},"hljs-variable":{color:"#888"},"hljs-template-variable":{color:"#888"},"hljs-symbol":{color:"#888"},"hljs-bullet":{color:"#888"},"hljs-section":{color:"#888",fontWeight:"bold"},"hljs-addition":{color:"#888"},"hljs-attribute":{color:"#888"},"hljs-link":{color:"#888"},"hljs-comment":{color:"#ccc"},"hljs-quote":{color:"#ccc"},"hljs-meta":{color:"#ccc"},"hljs-deletion":{color:"#ccc"},"hljs-keyword":{fontWeight:"bold"},"hljs-selector-tag":{fontWeight:"bold"},"hljs-name":{fontWeight:"bold"},"hljs-type":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#7e7887"},"hljs-quote":{color:"#7e7887"},"hljs-variable":{color:"#be4678"},"hljs-template-variable":{color:"#be4678"},"hljs-attribute":{color:"#be4678"},"hljs-regexp":{color:"#be4678"},"hljs-link":{color:"#be4678"},"hljs-tag":{color:"#be4678"},"hljs-name":{color:"#be4678"},"hljs-selector-id":{color:"#be4678"},"hljs-selector-class":{color:"#be4678"},"hljs-number":{color:"#aa573c"},"hljs-meta":{color:"#aa573c"},"hljs-built_in":{color:"#aa573c"},"hljs-builtin-name":{color:"#aa573c"},"hljs-literal":{color:"#aa573c"},"hljs-type":{color:"#aa573c"},"hljs-params":{color:"#aa573c"},"hljs-string":{color:"#2a9292"},"hljs-symbol":{color:"#2a9292"},"hljs-bullet":{color:"#2a9292"},"hljs-title":{color:"#576ddb"},"hljs-section":{color:"#576ddb"},"hljs-keyword":{color:"#955ae7"},"hljs-selector-tag":{color:"#955ae7"},"hljs-deletion":{color:"#19171c",display:"inline-block",width:"100%",backgroundColor:"#be4678"},"hljs-addition":{color:"#19171c",display:"inline-block",width:"100%",backgroundColor:"#2a9292"},hljs:{display:"block",overflowX:"auto",background:"#19171c",color:"#8b8792",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#655f6d"},"hljs-quote":{color:"#655f6d"},"hljs-variable":{color:"#be4678"},"hljs-template-variable":{color:"#be4678"},"hljs-attribute":{color:"#be4678"},"hljs-tag":{color:"#be4678"},"hljs-name":{color:"#be4678"},"hljs-regexp":{color:"#be4678"},"hljs-link":{color:"#be4678"},"hljs-selector-id":{color:"#be4678"},"hljs-selector-class":{color:"#be4678"},"hljs-number":{color:"#aa573c"},"hljs-meta":{color:"#aa573c"},"hljs-built_in":{color:"#aa573c"},"hljs-builtin-name":{color:"#aa573c"},"hljs-literal":{color:"#aa573c"},"hljs-type":{color:"#aa573c"},"hljs-params":{color:"#aa573c"},"hljs-string":{color:"#2a9292"},"hljs-symbol":{color:"#2a9292"},"hljs-bullet":{color:"#2a9292"},"hljs-title":{color:"#576ddb"},"hljs-section":{color:"#576ddb"},"hljs-keyword":{color:"#955ae7"},"hljs-selector-tag":{color:"#955ae7"},"hljs-deletion":{color:"#19171c",display:"inline-block",width:"100%",backgroundColor:"#be4678"},"hljs-addition":{color:"#19171c",display:"inline-block",width:"100%",backgroundColor:"#2a9292"},hljs:{display:"block",overflowX:"auto",background:"#efecf4",color:"#585260",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#999580"},"hljs-quote":{color:"#999580"},"hljs-variable":{color:"#d73737"},"hljs-template-variable":{color:"#d73737"},"hljs-attribute":{color:"#d73737"},"hljs-tag":{color:"#d73737"},"hljs-name":{color:"#d73737"},"hljs-regexp":{color:"#d73737"},"hljs-link":{color:"#d73737"},"hljs-selector-id":{color:"#d73737"},"hljs-selector-class":{color:"#d73737"},"hljs-number":{color:"#b65611"},"hljs-meta":{color:"#b65611"},"hljs-built_in":{color:"#b65611"},"hljs-builtin-name":{color:"#b65611"},"hljs-literal":{color:"#b65611"},"hljs-type":{color:"#b65611"},"hljs-params":{color:"#b65611"},"hljs-string":{color:"#60ac39"},"hljs-symbol":{color:"#60ac39"},"hljs-bullet":{color:"#60ac39"},"hljs-title":{color:"#6684e1"},"hljs-section":{color:"#6684e1"},"hljs-keyword":{color:"#b854d4"},"hljs-selector-tag":{color:"#b854d4"},hljs:{display:"block",overflowX:"auto",background:"#20201d",color:"#a6a28c",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#7d7a68"},"hljs-quote":{color:"#7d7a68"},"hljs-variable":{color:"#d73737"},"hljs-template-variable":{color:"#d73737"},"hljs-attribute":{color:"#d73737"},"hljs-tag":{color:"#d73737"},"hljs-name":{color:"#d73737"},"hljs-regexp":{color:"#d73737"},"hljs-link":{color:"#d73737"},"hljs-selector-id":{color:"#d73737"},"hljs-selector-class":{color:"#d73737"},"hljs-number":{color:"#b65611"},"hljs-meta":{color:"#b65611"},"hljs-built_in":{color:"#b65611"},"hljs-builtin-name":{color:"#b65611"},"hljs-literal":{color:"#b65611"},"hljs-type":{color:"#b65611"},"hljs-params":{color:"#b65611"},"hljs-string":{color:"#60ac39"},"hljs-symbol":{color:"#60ac39"},"hljs-bullet":{color:"#60ac39"},"hljs-title":{color:"#6684e1"},"hljs-section":{color:"#6684e1"},"hljs-keyword":{color:"#b854d4"},"hljs-selector-tag":{color:"#b854d4"},hljs:{display:"block",overflowX:"auto",background:"#fefbec",color:"#6e6b5e",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#878573"},"hljs-quote":{color:"#878573"},"hljs-variable":{color:"#ba6236"},"hljs-template-variable":{color:"#ba6236"},"hljs-attribute":{color:"#ba6236"},"hljs-tag":{color:"#ba6236"},"hljs-name":{color:"#ba6236"},"hljs-regexp":{color:"#ba6236"},"hljs-link":{color:"#ba6236"},"hljs-selector-id":{color:"#ba6236"},"hljs-selector-class":{color:"#ba6236"},"hljs-number":{color:"#ae7313"},"hljs-meta":{color:"#ae7313"},"hljs-built_in":{color:"#ae7313"},"hljs-builtin-name":{color:"#ae7313"},"hljs-literal":{color:"#ae7313"},"hljs-type":{color:"#ae7313"},"hljs-params":{color:"#ae7313"},"hljs-string":{color:"#7d9726"},"hljs-symbol":{color:"#7d9726"},"hljs-bullet":{color:"#7d9726"},"hljs-title":{color:"#36a166"},"hljs-section":{color:"#36a166"},"hljs-keyword":{color:"#5f9182"},"hljs-selector-tag":{color:"#5f9182"},"hljs-deletion":{color:"#22221b",display:"inline-block",width:"100%",backgroundColor:"#ba6236"},"hljs-addition":{color:"#22221b",display:"inline-block",width:"100%",backgroundColor:"#7d9726"},hljs:{display:"block",overflowX:"auto",background:"#22221b",color:"#929181",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#6c6b5a"},"hljs-quote":{color:"#6c6b5a"},"hljs-variable":{color:"#ba6236"},"hljs-template-variable":{color:"#ba6236"},"hljs-attribute":{color:"#ba6236"},"hljs-tag":{color:"#ba6236"},"hljs-name":{color:"#ba6236"},"hljs-regexp":{color:"#ba6236"},"hljs-link":{color:"#ba6236"},"hljs-selector-id":{color:"#ba6236"},"hljs-selector-class":{color:"#ba6236"},"hljs-number":{color:"#ae7313"},"hljs-meta":{color:"#ae7313"},"hljs-built_in":{color:"#ae7313"},"hljs-builtin-name":{color:"#ae7313"},"hljs-literal":{color:"#ae7313"},"hljs-type":{color:"#ae7313"},"hljs-params":{color:"#ae7313"},"hljs-string":{color:"#7d9726"},"hljs-symbol":{color:"#7d9726"},"hljs-bullet":{color:"#7d9726"},"hljs-title":{color:"#36a166"},"hljs-section":{color:"#36a166"},"hljs-keyword":{color:"#5f9182"},"hljs-selector-tag":{color:"#5f9182"},"hljs-deletion":{color:"#22221b",display:"inline-block",width:"100%",backgroundColor:"#ba6236"},"hljs-addition":{color:"#22221b",display:"inline-block",width:"100%",backgroundColor:"#7d9726"},hljs:{display:"block",overflowX:"auto",background:"#f4f3ec",color:"#5f5e4e",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#9c9491"},"hljs-quote":{color:"#9c9491"},"hljs-variable":{color:"#f22c40"},"hljs-template-variable":{color:"#f22c40"},"hljs-attribute":{color:"#f22c40"},"hljs-tag":{color:"#f22c40"},"hljs-name":{color:"#f22c40"},"hljs-regexp":{color:"#f22c40"},"hljs-link":{color:"#f22c40"},"hljs-selector-id":{color:"#f22c40"},"hljs-selector-class":{color:"#f22c40"},"hljs-number":{color:"#df5320"},"hljs-meta":{color:"#df5320"},"hljs-built_in":{color:"#df5320"},"hljs-builtin-name":{color:"#df5320"},"hljs-literal":{color:"#df5320"},"hljs-type":{color:"#df5320"},"hljs-params":{color:"#df5320"},"hljs-string":{color:"#7b9726"},"hljs-symbol":{color:"#7b9726"},"hljs-bullet":{color:"#7b9726"},"hljs-title":{color:"#407ee7"},"hljs-section":{color:"#407ee7"},"hljs-keyword":{color:"#6666ea"},"hljs-selector-tag":{color:"#6666ea"},hljs:{display:"block",overflowX:"auto",background:"#1b1918",color:"#a8a19f",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#766e6b"},"hljs-quote":{color:"#766e6b"},"hljs-variable":{color:"#f22c40"},"hljs-template-variable":{color:"#f22c40"},"hljs-attribute":{color:"#f22c40"},"hljs-tag":{color:"#f22c40"},"hljs-name":{color:"#f22c40"},"hljs-regexp":{color:"#f22c40"},"hljs-link":{color:"#f22c40"},"hljs-selector-id":{color:"#f22c40"},"hljs-selector-class":{color:"#f22c40"},"hljs-number":{color:"#df5320"},"hljs-meta":{color:"#df5320"},"hljs-built_in":{color:"#df5320"},"hljs-builtin-name":{color:"#df5320"},"hljs-literal":{color:"#df5320"},"hljs-type":{color:"#df5320"},"hljs-params":{color:"#df5320"},"hljs-string":{color:"#7b9726"},"hljs-symbol":{color:"#7b9726"},"hljs-bullet":{color:"#7b9726"},"hljs-title":{color:"#407ee7"},"hljs-section":{color:"#407ee7"},"hljs-keyword":{color:"#6666ea"},"hljs-selector-tag":{color:"#6666ea"},hljs:{display:"block",overflowX:"auto",background:"#f1efee",color:"#68615e",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#9e8f9e"},"hljs-quote":{color:"#9e8f9e"},"hljs-variable":{color:"#ca402b"},"hljs-template-variable":{color:"#ca402b"},"hljs-attribute":{color:"#ca402b"},"hljs-tag":{color:"#ca402b"},"hljs-name":{color:"#ca402b"},"hljs-regexp":{color:"#ca402b"},"hljs-link":{color:"#ca402b"},"hljs-selector-id":{color:"#ca402b"},"hljs-selector-class":{color:"#ca402b"},"hljs-number":{color:"#a65926"},"hljs-meta":{color:"#a65926"},"hljs-built_in":{color:"#a65926"},"hljs-builtin-name":{color:"#a65926"},"hljs-literal":{color:"#a65926"},"hljs-type":{color:"#a65926"},"hljs-params":{color:"#a65926"},"hljs-string":{color:"#918b3b"},"hljs-symbol":{color:"#918b3b"},"hljs-bullet":{color:"#918b3b"},"hljs-title":{color:"#516aec"},"hljs-section":{color:"#516aec"},"hljs-keyword":{color:"#7b59c0"},"hljs-selector-tag":{color:"#7b59c0"},hljs:{display:"block",overflowX:"auto",background:"#1b181b",color:"#ab9bab",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#776977"},"hljs-quote":{color:"#776977"},"hljs-variable":{color:"#ca402b"},"hljs-template-variable":{color:"#ca402b"},"hljs-attribute":{color:"#ca402b"},"hljs-tag":{color:"#ca402b"},"hljs-name":{color:"#ca402b"},"hljs-regexp":{color:"#ca402b"},"hljs-link":{color:"#ca402b"},"hljs-selector-id":{color:"#ca402b"},"hljs-selector-class":{color:"#ca402b"},"hljs-number":{color:"#a65926"},"hljs-meta":{color:"#a65926"},"hljs-built_in":{color:"#a65926"},"hljs-builtin-name":{color:"#a65926"},"hljs-literal":{color:"#a65926"},"hljs-type":{color:"#a65926"},"hljs-params":{color:"#a65926"},"hljs-string":{color:"#918b3b"},"hljs-symbol":{color:"#918b3b"},"hljs-bullet":{color:"#918b3b"},"hljs-title":{color:"#516aec"},"hljs-section":{color:"#516aec"},"hljs-keyword":{color:"#7b59c0"},"hljs-selector-tag":{color:"#7b59c0"},hljs:{display:"block",overflowX:"auto",background:"#f7f3f7",color:"#695d69",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#7195a8"},"hljs-quote":{color:"#7195a8"},"hljs-variable":{color:"#d22d72"},"hljs-template-variable":{color:"#d22d72"},"hljs-attribute":{color:"#d22d72"},"hljs-tag":{color:"#d22d72"},"hljs-name":{color:"#d22d72"},"hljs-regexp":{color:"#d22d72"},"hljs-link":{color:"#d22d72"},"hljs-selector-id":{color:"#d22d72"},"hljs-selector-class":{color:"#d22d72"},"hljs-number":{color:"#935c25"},"hljs-meta":{color:"#935c25"},"hljs-built_in":{color:"#935c25"},"hljs-builtin-name":{color:"#935c25"},"hljs-literal":{color:"#935c25"},"hljs-type":{color:"#935c25"},"hljs-params":{color:"#935c25"},"hljs-string":{color:"#568c3b"},"hljs-symbol":{color:"#568c3b"},"hljs-bullet":{color:"#568c3b"},"hljs-title":{color:"#257fad"},"hljs-section":{color:"#257fad"},"hljs-keyword":{color:"#6b6bb8"},"hljs-selector-tag":{color:"#6b6bb8"},hljs:{display:"block",overflowX:"auto",background:"#161b1d",color:"#7ea2b4",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#5a7b8c"},"hljs-quote":{color:"#5a7b8c"},"hljs-variable":{color:"#d22d72"},"hljs-template-variable":{color:"#d22d72"},"hljs-attribute":{color:"#d22d72"},"hljs-tag":{color:"#d22d72"},"hljs-name":{color:"#d22d72"},"hljs-regexp":{color:"#d22d72"},"hljs-link":{color:"#d22d72"},"hljs-selector-id":{color:"#d22d72"},"hljs-selector-class":{color:"#d22d72"},"hljs-number":{color:"#935c25"},"hljs-meta":{color:"#935c25"},"hljs-built_in":{color:"#935c25"},"hljs-builtin-name":{color:"#935c25"},"hljs-literal":{color:"#935c25"},"hljs-type":{color:"#935c25"},"hljs-params":{color:"#935c25"},"hljs-string":{color:"#568c3b"},"hljs-symbol":{color:"#568c3b"},"hljs-bullet":{color:"#568c3b"},"hljs-title":{color:"#257fad"},"hljs-section":{color:"#257fad"},"hljs-keyword":{color:"#6b6bb8"},"hljs-selector-tag":{color:"#6b6bb8"},hljs:{display:"block",overflowX:"auto",background:"#ebf8ff",color:"#516d7b",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#7e7777"},"hljs-quote":{color:"#7e7777"},"hljs-variable":{color:"#ca4949"},"hljs-template-variable":{color:"#ca4949"},"hljs-attribute":{color:"#ca4949"},"hljs-tag":{color:"#ca4949"},"hljs-name":{color:"#ca4949"},"hljs-regexp":{color:"#ca4949"},"hljs-link":{color:"#ca4949"},"hljs-selector-id":{color:"#ca4949"},"hljs-selector-class":{color:"#ca4949"},"hljs-number":{color:"#b45a3c"},"hljs-meta":{color:"#b45a3c"},"hljs-built_in":{color:"#b45a3c"},"hljs-builtin-name":{color:"#b45a3c"},"hljs-literal":{color:"#b45a3c"},"hljs-type":{color:"#b45a3c"},"hljs-params":{color:"#b45a3c"},"hljs-string":{color:"#4b8b8b"},"hljs-symbol":{color:"#4b8b8b"},"hljs-bullet":{color:"#4b8b8b"},"hljs-title":{color:"#7272ca"},"hljs-section":{color:"#7272ca"},"hljs-keyword":{color:"#8464c4"},"hljs-selector-tag":{color:"#8464c4"},"hljs-deletion":{color:"#1b1818",display:"inline-block",width:"100%",backgroundColor:"#ca4949"},"hljs-addition":{color:"#1b1818",display:"inline-block",width:"100%",backgroundColor:"#4b8b8b"},hljs:{display:"block",overflowX:"auto",background:"#1b1818",color:"#8a8585",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#655d5d"},"hljs-quote":{color:"#655d5d"},"hljs-variable":{color:"#ca4949"},"hljs-template-variable":{color:"#ca4949"},"hljs-attribute":{color:"#ca4949"},"hljs-tag":{color:"#ca4949"},"hljs-name":{color:"#ca4949"},"hljs-regexp":{color:"#ca4949"},"hljs-link":{color:"#ca4949"},"hljs-selector-id":{color:"#ca4949"},"hljs-selector-class":{color:"#ca4949"},"hljs-number":{color:"#b45a3c"},"hljs-meta":{color:"#b45a3c"},"hljs-built_in":{color:"#b45a3c"},"hljs-builtin-name":{color:"#b45a3c"},"hljs-literal":{color:"#b45a3c"},"hljs-type":{color:"#b45a3c"},"hljs-params":{color:"#b45a3c"},"hljs-string":{color:"#4b8b8b"},"hljs-symbol":{color:"#4b8b8b"},"hljs-bullet":{color:"#4b8b8b"},"hljs-title":{color:"#7272ca"},"hljs-section":{color:"#7272ca"},"hljs-keyword":{color:"#8464c4"},"hljs-selector-tag":{color:"#8464c4"},"hljs-deletion":{color:"#1b1818",display:"inline-block",width:"100%",backgroundColor:"#ca4949"},"hljs-addition":{color:"#1b1818",display:"inline-block",width:"100%",backgroundColor:"#4b8b8b"},hljs:{display:"block",overflowX:"auto",background:"#f4ecec",color:"#585050",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#78877d"},"hljs-quote":{color:"#78877d"},"hljs-variable":{color:"#b16139"},"hljs-template-variable":{color:"#b16139"},"hljs-attribute":{color:"#b16139"},"hljs-tag":{color:"#b16139"},"hljs-name":{color:"#b16139"},"hljs-regexp":{color:"#b16139"},"hljs-link":{color:"#b16139"},"hljs-selector-id":{color:"#b16139"},"hljs-selector-class":{color:"#b16139"},"hljs-number":{color:"#9f713c"},"hljs-meta":{color:"#9f713c"},"hljs-built_in":{color:"#9f713c"},"hljs-builtin-name":{color:"#9f713c"},"hljs-literal":{color:"#9f713c"},"hljs-type":{color:"#9f713c"},"hljs-params":{color:"#9f713c"},"hljs-string":{color:"#489963"},"hljs-symbol":{color:"#489963"},"hljs-bullet":{color:"#489963"},"hljs-title":{color:"#478c90"},"hljs-section":{color:"#478c90"},"hljs-keyword":{color:"#55859b"},"hljs-selector-tag":{color:"#55859b"},"hljs-deletion":{color:"#171c19",display:"inline-block",width:"100%",backgroundColor:"#b16139"},"hljs-addition":{color:"#171c19",display:"inline-block",width:"100%",backgroundColor:"#489963"},hljs:{display:"block",overflowX:"auto",background:"#171c19",color:"#87928a",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#5f6d64"},"hljs-quote":{color:"#5f6d64"},"hljs-variable":{color:"#b16139"},"hljs-template-variable":{color:"#b16139"},"hljs-attribute":{color:"#b16139"},"hljs-tag":{color:"#b16139"},"hljs-name":{color:"#b16139"},"hljs-regexp":{color:"#b16139"},"hljs-link":{color:"#b16139"},"hljs-selector-id":{color:"#b16139"},"hljs-selector-class":{color:"#b16139"},"hljs-number":{color:"#9f713c"},"hljs-meta":{color:"#9f713c"},"hljs-built_in":{color:"#9f713c"},"hljs-builtin-name":{color:"#9f713c"},"hljs-literal":{color:"#9f713c"},"hljs-type":{color:"#9f713c"},"hljs-params":{color:"#9f713c"},"hljs-string":{color:"#489963"},"hljs-symbol":{color:"#489963"},"hljs-bullet":{color:"#489963"},"hljs-title":{color:"#478c90"},"hljs-section":{color:"#478c90"},"hljs-keyword":{color:"#55859b"},"hljs-selector-tag":{color:"#55859b"},"hljs-deletion":{color:"#171c19",display:"inline-block",width:"100%",backgroundColor:"#b16139"},"hljs-addition":{color:"#171c19",display:"inline-block",width:"100%",backgroundColor:"#489963"},hljs:{display:"block",overflowX:"auto",background:"#ecf4ee",color:"#526057",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#809980"},"hljs-quote":{color:"#809980"},"hljs-variable":{color:"#e6193c"},"hljs-template-variable":{color:"#e6193c"},"hljs-attribute":{color:"#e6193c"},"hljs-tag":{color:"#e6193c"},"hljs-name":{color:"#e6193c"},"hljs-regexp":{color:"#e6193c"},"hljs-link":{color:"#e6193c"},"hljs-selector-id":{color:"#e6193c"},"hljs-selector-class":{color:"#e6193c"},"hljs-number":{color:"#87711d"},"hljs-meta":{color:"#87711d"},"hljs-built_in":{color:"#87711d"},"hljs-builtin-name":{color:"#87711d"},"hljs-literal":{color:"#87711d"},"hljs-type":{color:"#87711d"},"hljs-params":{color:"#87711d"},"hljs-string":{color:"#29a329"},"hljs-symbol":{color:"#29a329"},"hljs-bullet":{color:"#29a329"},"hljs-title":{color:"#3d62f5"},"hljs-section":{color:"#3d62f5"},"hljs-keyword":{color:"#ad2bee"},"hljs-selector-tag":{color:"#ad2bee"},hljs:{display:"block",overflowX:"auto",background:"#131513",color:"#8ca68c",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#687d68"},"hljs-quote":{color:"#687d68"},"hljs-variable":{color:"#e6193c"},"hljs-template-variable":{color:"#e6193c"},"hljs-attribute":{color:"#e6193c"},"hljs-tag":{color:"#e6193c"},"hljs-name":{color:"#e6193c"},"hljs-regexp":{color:"#e6193c"},"hljs-link":{color:"#e6193c"},"hljs-selector-id":{color:"#e6193c"},"hljs-selector-class":{color:"#e6193c"},"hljs-number":{color:"#87711d"},"hljs-meta":{color:"#87711d"},"hljs-built_in":{color:"#87711d"},"hljs-builtin-name":{color:"#87711d"},"hljs-literal":{color:"#87711d"},"hljs-type":{color:"#87711d"},"hljs-params":{color:"#87711d"},"hljs-string":{color:"#29a329"},"hljs-symbol":{color:"#29a329"},"hljs-bullet":{color:"#29a329"},"hljs-title":{color:"#3d62f5"},"hljs-section":{color:"#3d62f5"},"hljs-keyword":{color:"#ad2bee"},"hljs-selector-tag":{color:"#ad2bee"},hljs:{display:"block",overflowX:"auto",background:"#f4fbf4",color:"#5e6e5e",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#898ea4"},"hljs-quote":{color:"#898ea4"},"hljs-variable":{color:"#c94922"},"hljs-template-variable":{color:"#c94922"},"hljs-attribute":{color:"#c94922"},"hljs-tag":{color:"#c94922"},"hljs-name":{color:"#c94922"},"hljs-regexp":{color:"#c94922"},"hljs-link":{color:"#c94922"},"hljs-selector-id":{color:"#c94922"},"hljs-selector-class":{color:"#c94922"},"hljs-number":{color:"#c76b29"},"hljs-meta":{color:"#c76b29"},"hljs-built_in":{color:"#c76b29"},"hljs-builtin-name":{color:"#c76b29"},"hljs-literal":{color:"#c76b29"},"hljs-type":{color:"#c76b29"},"hljs-params":{color:"#c76b29"},"hljs-string":{color:"#ac9739"},"hljs-symbol":{color:"#ac9739"},"hljs-bullet":{color:"#ac9739"},"hljs-title":{color:"#3d8fd1"},"hljs-section":{color:"#3d8fd1"},"hljs-keyword":{color:"#6679cc"},"hljs-selector-tag":{color:"#6679cc"},hljs:{display:"block",overflowX:"auto",background:"#202746",color:"#979db4",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#6b7394"},"hljs-quote":{color:"#6b7394"},"hljs-variable":{color:"#c94922"},"hljs-template-variable":{color:"#c94922"},"hljs-attribute":{color:"#c94922"},"hljs-tag":{color:"#c94922"},"hljs-name":{color:"#c94922"},"hljs-regexp":{color:"#c94922"},"hljs-link":{color:"#c94922"},"hljs-selector-id":{color:"#c94922"},"hljs-selector-class":{color:"#c94922"},"hljs-number":{color:"#c76b29"},"hljs-meta":{color:"#c76b29"},"hljs-built_in":{color:"#c76b29"},"hljs-builtin-name":{color:"#c76b29"},"hljs-literal":{color:"#c76b29"},"hljs-type":{color:"#c76b29"},"hljs-params":{color:"#c76b29"},"hljs-string":{color:"#ac9739"},"hljs-symbol":{color:"#ac9739"},"hljs-bullet":{color:"#ac9739"},"hljs-title":{color:"#3d8fd1"},"hljs-section":{color:"#3d8fd1"},"hljs-keyword":{color:"#6679cc"},"hljs-selector-tag":{color:"#6679cc"},hljs:{display:"block",overflowX:"auto",background:"#f5f7ff",color:"#5e6687",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#abb2bf",background:"#282c34"},"hljs-comment":{color:"#5c6370",fontStyle:"italic"},"hljs-quote":{color:"#5c6370",fontStyle:"italic"},"hljs-doctag":{color:"#c678dd"},"hljs-keyword":{color:"#c678dd"},"hljs-formula":{color:"#c678dd"},"hljs-section":{color:"#e06c75"},"hljs-name":{color:"#e06c75"},"hljs-selector-tag":{color:"#e06c75"},"hljs-deletion":{color:"#e06c75"},"hljs-subst":{color:"#e06c75"},"hljs-literal":{color:"#56b6c2"},"hljs-string":{color:"#98c379"},"hljs-regexp":{color:"#98c379"},"hljs-addition":{color:"#98c379"},"hljs-attribute":{color:"#98c379"},"hljs-meta-string":{color:"#98c379"},"hljs-built_in":{color:"#e6c07b"},"hljs-class .hljs-title":{color:"#e6c07b"},"hljs-attr":{color:"#d19a66"},"hljs-variable":{color:"#d19a66"},"hljs-template-variable":{color:"#d19a66"},"hljs-type":{color:"#d19a66"},"hljs-selector-class":{color:"#d19a66"},"hljs-selector-attr":{color:"#d19a66"},"hljs-selector-pseudo":{color:"#d19a66"},"hljs-number":{color:"#d19a66"},"hljs-symbol":{color:"#61aeee"},"hljs-bullet":{color:"#61aeee"},"hljs-link":{color:"#61aeee",textDecoration:"underline"},"hljs-meta":{color:"#61aeee"},"hljs-selector-id":{color:"#61aeee"},"hljs-title":{color:"#61aeee"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#383a42",background:"#fafafa"},"hljs-comment":{color:"#a0a1a7",fontStyle:"italic"},"hljs-quote":{color:"#a0a1a7",fontStyle:"italic"},"hljs-doctag":{color:"#a626a4"},"hljs-keyword":{color:"#a626a4"},"hljs-formula":{color:"#a626a4"},"hljs-section":{color:"#e45649"},"hljs-name":{color:"#e45649"},"hljs-selector-tag":{color:"#e45649"},"hljs-deletion":{color:"#e45649"},"hljs-subst":{color:"#e45649"},"hljs-literal":{color:"#0184bb"},"hljs-string":{color:"#50a14f"},"hljs-regexp":{color:"#50a14f"},"hljs-addition":{color:"#50a14f"},"hljs-attribute":{color:"#50a14f"},"hljs-meta-string":{color:"#50a14f"},"hljs-built_in":{color:"#c18401"},"hljs-class .hljs-title":{color:"#c18401"},"hljs-attr":{color:"#986801"},"hljs-variable":{color:"#986801"},"hljs-template-variable":{color:"#986801"},"hljs-type":{color:"#986801"},"hljs-selector-class":{color:"#986801"},"hljs-selector-attr":{color:"#986801"},"hljs-selector-pseudo":{color:"#986801"},"hljs-number":{color:"#986801"},"hljs-symbol":{color:"#4078f2"},"hljs-bullet":{color:"#4078f2"},"hljs-link":{color:"#4078f2",textDecoration:"underline"},"hljs-meta":{color:"#4078f2"},"hljs-selector-id":{color:"#4078f2"},"hljs-title":{color:"#4078f2"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#b7a68e url(./brown-papersq.png)",color:"#363c69"},"hljs-keyword":{color:"#005599",fontWeight:"bold"},"hljs-selector-tag":{color:"#005599",fontWeight:"bold"},"hljs-literal":{color:"#005599",fontWeight:"bold"},"hljs-subst":{color:"#363c69"},"hljs-string":{color:"#2c009f"},"hljs-title":{color:"#2c009f",fontWeight:"bold"},"hljs-section":{color:"#2c009f",fontWeight:"bold"},"hljs-type":{color:"#2c009f",fontWeight:"bold"},"hljs-attribute":{color:"#2c009f"},"hljs-symbol":{color:"#2c009f"},"hljs-bullet":{color:"#2c009f"},"hljs-built_in":{color:"#2c009f"},"hljs-addition":{color:"#2c009f"},"hljs-variable":{color:"#2c009f"},"hljs-template-tag":{color:"#2c009f"},"hljs-template-variable":{color:"#2c009f"},"hljs-link":{color:"#2c009f"},"hljs-name":{color:"#2c009f",fontWeight:"bold"},"hljs-comment":{color:"#802022"},"hljs-quote":{color:"#802022"},"hljs-meta":{color:"#802022"},"hljs-deletion":{color:"#802022"},"hljs-doctag":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#222",color:"#fff"},"hljs-comment":{color:"#777"},"hljs-quote":{color:"#777"},"hljs-variable":{color:"#ab875d"},"hljs-template-variable":{color:"#ab875d"},"hljs-tag":{color:"#ab875d"},"hljs-regexp":{color:"#ab875d"},"hljs-meta":{color:"#ab875d"},"hljs-number":{color:"#ab875d"},"hljs-built_in":{color:"#ab875d"},"hljs-builtin-name":{color:"#ab875d"},"hljs-literal":{color:"#ab875d"},"hljs-params":{color:"#ab875d"},"hljs-symbol":{color:"#ab875d"},"hljs-bullet":{color:"#ab875d"},"hljs-link":{color:"#ab875d"},"hljs-deletion":{color:"#ab875d"},"hljs-section":{color:"#9b869b"},"hljs-title":{color:"#9b869b"},"hljs-name":{color:"#9b869b"},"hljs-selector-id":{color:"#9b869b"},"hljs-selector-class":{color:"#9b869b"},"hljs-type":{color:"#9b869b"},"hljs-attribute":{color:"#9b869b"},"hljs-string":{color:"#8f9c6c"},"hljs-keyword":{color:"#8f9c6c"},"hljs-selector-tag":{color:"#8f9c6c"},"hljs-addition":{color:"#8f9c6c"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#fff",color:"#000"},"hljs-subst":{color:"#000"},"hljs-string":{color:"#756bb1"},"hljs-meta":{color:"#756bb1"},"hljs-symbol":{color:"#756bb1"},"hljs-template-tag":{color:"#756bb1"},"hljs-template-variable":{color:"#756bb1"},"hljs-addition":{color:"#756bb1"},"hljs-comment":{color:"#636363"},"hljs-quote":{color:"#636363"},"hljs-number":{color:"#31a354"},"hljs-regexp":{color:"#31a354"},"hljs-literal":{color:"#31a354"},"hljs-bullet":{color:"#31a354"},"hljs-link":{color:"#31a354"},"hljs-deletion":{color:"#88f"},"hljs-variable":{color:"#88f"},"hljs-keyword":{color:"#3182bd"},"hljs-selector-tag":{color:"#3182bd"},"hljs-title":{color:"#3182bd"},"hljs-section":{color:"#3182bd"},"hljs-built_in":{color:"#3182bd"},"hljs-doctag":{color:"#3182bd"},"hljs-type":{color:"#3182bd"},"hljs-tag":{color:"#3182bd"},"hljs-name":{color:"#3182bd"},"hljs-selector-id":{color:"#3182bd"},"hljs-selector-class":{color:"#3182bd"},"hljs-strong":{color:"#3182bd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-attribute":{color:"#e6550d"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#2b2b2b",color:"#bababa"},"hljs-strong":{color:"#a8a8a2"},"hljs-emphasis":{color:"#a8a8a2",fontStyle:"italic"},"hljs-bullet":{color:"#6896ba"},"hljs-quote":{color:"#6896ba"},"hljs-link":{color:"#6896ba"},"hljs-number":{color:"#6896ba"},"hljs-regexp":{color:"#6896ba"},"hljs-literal":{color:"#6896ba"},"hljs-code":{color:"#a6e22e"},"hljs-selector-class":{color:"#a6e22e"},"hljs-keyword":{color:"#cb7832"},"hljs-selector-tag":{color:"#cb7832"},"hljs-section":{color:"#cb7832"},"hljs-attribute":{color:"#cb7832"},"hljs-name":{color:"#cb7832"},"hljs-variable":{color:"#cb7832"},"hljs-params":{color:"#b9b9b9"},"hljs-string":{color:"#6a8759"},"hljs-subst":{color:"#e0c46c"},"hljs-type":{color:"#e0c46c"},"hljs-built_in":{color:"#e0c46c"},"hljs-builtin-name":{color:"#e0c46c"},"hljs-symbol":{color:"#e0c46c"},"hljs-selector-id":{color:"#e0c46c"},"hljs-selector-attr":{color:"#e0c46c"},"hljs-selector-pseudo":{color:"#e0c46c"},"hljs-template-tag":{color:"#e0c46c"},"hljs-template-variable":{color:"#e0c46c"},"hljs-addition":{color:"#e0c46c"},"hljs-comment":{color:"#7f7f7f"},"hljs-deletion":{color:"#7f7f7f"},"hljs-meta":{color:"#7f7f7f"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#444",color:"#ddd"},"hljs-keyword":{color:"white",fontWeight:"bold"},"hljs-selector-tag":{color:"white",fontWeight:"bold"},"hljs-literal":{color:"white",fontWeight:"bold"},"hljs-section":{color:"white",fontWeight:"bold"},"hljs-link":{color:"white"},"hljs-subst":{color:"#ddd"},"hljs-string":{color:"#d88"},"hljs-title":{color:"#d88",fontWeight:"bold"},"hljs-name":{color:"#d88",fontWeight:"bold"},"hljs-type":{color:"#d88",fontWeight:"bold"},"hljs-attribute":{color:"#d88"},"hljs-symbol":{color:"#d88"},"hljs-bullet":{color:"#d88"},"hljs-built_in":{color:"#d88"},"hljs-addition":{color:"#d88"},"hljs-variable":{color:"#d88"},"hljs-template-tag":{color:"#d88"},"hljs-template-variable":{color:"#d88"},"hljs-comment":{color:"#777"},"hljs-quote":{color:"#777"},"hljs-deletion":{color:"#777"},"hljs-meta":{color:"#777"},"hljs-doctag":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#F0F0F0",color:"#444"},"hljs-subst":{color:"#444"},"hljs-comment":{color:"#888888"},"hljs-keyword":{fontWeight:"bold"},"hljs-attribute":{fontWeight:"bold"},"hljs-selector-tag":{fontWeight:"bold"},"hljs-meta-keyword":{fontWeight:"bold"},"hljs-doctag":{fontWeight:"bold"},"hljs-name":{fontWeight:"bold"},"hljs-type":{color:"#880000"},"hljs-string":{color:"#880000"},"hljs-number":{color:"#880000"},"hljs-selector-id":{color:"#880000"},"hljs-selector-class":{color:"#880000"},"hljs-quote":{color:"#880000"},"hljs-template-tag":{color:"#880000"},"hljs-deletion":{color:"#880000"},"hljs-title":{color:"#880000",fontWeight:"bold"},"hljs-section":{color:"#880000",fontWeight:"bold"},"hljs-regexp":{color:"#BC6060"},"hljs-symbol":{color:"#BC6060"},"hljs-variable":{color:"#BC6060"},"hljs-template-variable":{color:"#BC6060"},"hljs-link":{color:"#BC6060"},"hljs-selector-attr":{color:"#BC6060"},"hljs-selector-pseudo":{color:"#BC6060"},"hljs-literal":{color:"#78A960"},"hljs-built_in":{color:"#397300"},"hljs-bullet":{color:"#397300"},"hljs-code":{color:"#397300"},"hljs-addition":{color:"#397300"},"hljs-meta":{color:"#1f7199"},"hljs-meta-string":{color:"#4d99bf"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",background:"#f8f8ff"},"hljs-comment":{color:"#408080",fontStyle:"italic"},"hljs-quote":{color:"#408080",fontStyle:"italic"},"hljs-keyword":{color:"#954121"},"hljs-selector-tag":{color:"#954121"},"hljs-literal":{color:"#954121"},"hljs-subst":{color:"#954121"},"hljs-number":{color:"#40a070"},"hljs-string":{color:"#219161"},"hljs-doctag":{color:"#219161"},"hljs-selector-id":{color:"#19469d"},"hljs-selector-class":{color:"#19469d"},"hljs-section":{color:"#19469d"},"hljs-type":{color:"#19469d"},"hljs-params":{color:"#00f"},"hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-regexp":{color:"#b68"},"hljs-link":{color:"#b68"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#282a36",color:"#f8f8f2"},"hljs-keyword":{color:"#8be9fd",fontWeight:"bold"},"hljs-selector-tag":{color:"#8be9fd",fontWeight:"bold"},"hljs-literal":{color:"#8be9fd",fontWeight:"bold"},"hljs-section":{color:"#8be9fd",fontWeight:"bold"},"hljs-link":{color:"#8be9fd"},"hljs-function .hljs-keyword":{color:"#ff79c6"},"hljs-subst":{color:"#f8f8f2"},"hljs-string":{color:"#f1fa8c"},"hljs-title":{color:"#f1fa8c",fontWeight:"bold"},"hljs-name":{color:"#f1fa8c",fontWeight:"bold"},"hljs-type":{color:"#f1fa8c",fontWeight:"bold"},"hljs-attribute":{color:"#f1fa8c"},"hljs-symbol":{color:"#f1fa8c"},"hljs-bullet":{color:"#f1fa8c"},"hljs-addition":{color:"#f1fa8c"},"hljs-variable":{color:"#f1fa8c"},"hljs-template-tag":{color:"#f1fa8c"},"hljs-template-variable":{color:"#f1fa8c"},"hljs-comment":{color:"#6272a4"},"hljs-quote":{color:"#6272a4"},"hljs-deletion":{color:"#6272a4"},"hljs-meta":{color:"#6272a4"},"hljs-doctag":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#000080",color:"#0ff"},"hljs-subst":{color:"#0ff"},"hljs-string":{color:"#ff0"},"hljs-attribute":{color:"#ff0"},"hljs-symbol":{color:"#ff0"},"hljs-bullet":{color:"#ff0"},"hljs-built_in":{color:"#ff0"},"hljs-builtin-name":{color:"#ff0"},"hljs-template-tag":{color:"#ff0"},"hljs-template-variable":{color:"#ff0"},"hljs-addition":{color:"#ff0"},"hljs-keyword":{color:"#fff",fontWeight:"bold"},"hljs-selector-tag":{color:"#fff",fontWeight:"bold"},"hljs-section":{color:"#fff",fontWeight:"bold"},"hljs-type":{color:"#fff"},"hljs-name":{color:"#fff",fontWeight:"bold"},"hljs-selector-id":{color:"#fff"},"hljs-selector-class":{color:"#fff"},"hljs-variable":{color:"#fff"},"hljs-comment":{color:"#888"},"hljs-quote":{color:"#888"},"hljs-doctag":{color:"#888"},"hljs-deletion":{color:"#888"},"hljs-number":{color:"#0f0"},"hljs-regexp":{color:"#0f0"},"hljs-literal":{color:"#0f0"},"hljs-link":{color:"#0f0"},"hljs-meta":{color:"#008080"},"hljs-title":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#eee",color:"black"},"hljs-link":{color:"#070"},"hljs-emphasis":{color:"#070",fontStyle:"italic"},"hljs-attribute":{color:"#070"},"hljs-addition":{color:"#070"},"hljs-strong":{color:"#d14",fontWeight:"bold"},"hljs-string":{color:"#d14"},"hljs-deletion":{color:"#d14"},"hljs-quote":{color:"#998",fontStyle:"italic"},"hljs-comment":{color:"#998",fontStyle:"italic"},"hljs-section":{color:"#900"},"hljs-title":{color:"#900"},"hljs-class .hljs-title":{color:"#458"},"hljs-type":{color:"#458"},"hljs-variable":{color:"#336699"},"hljs-template-variable":{color:"#336699"},"hljs-bullet":{color:"#997700"},"hljs-meta":{color:"#3344bb"},"hljs-code":{color:"#099"},"hljs-number":{color:"#099"},"hljs-literal":{color:"#099"},"hljs-keyword":{color:"#099"},"hljs-selector-tag":{color:"#099"},"hljs-regexp":{backgroundColor:"#fff0ff",color:"#880088"},"hljs-symbol":{color:"#990073"},"hljs-tag":{color:"#007700"},"hljs-name":{color:"#007700"},"hljs-selector-id":{color:"#007700"},"hljs-selector-class":{color:"#007700"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",background:"white",padding:"0.5em",color:"#333333",overflowX:"auto"},"hljs-comment":{color:"#969896"},"hljs-meta":{color:"#969896"},"hljs-string":{color:"#df5000"},"hljs-variable":{color:"#df5000"},"hljs-template-variable":{color:"#df5000"},"hljs-strong":{color:"#df5000"},"hljs-emphasis":{color:"#df5000"},"hljs-quote":{color:"#df5000"},"hljs-keyword":{color:"#a71d5d"},"hljs-selector-tag":{color:"#a71d5d"},"hljs-type":{color:"#a71d5d"},"hljs-literal":{color:"#0086b3"},"hljs-symbol":{color:"#0086b3"},"hljs-bullet":{color:"#0086b3"},"hljs-attribute":{color:"#0086b3"},"hljs-section":{color:"#63a35c"},"hljs-name":{color:"#63a35c"},"hljs-tag":{color:"#333333"},"hljs-title":{color:"#795da3"},"hljs-attr":{color:"#795da3"},"hljs-selector-id":{color:"#795da3"},"hljs-selector-class":{color:"#795da3"},"hljs-selector-attr":{color:"#795da3"},"hljs-selector-pseudo":{color:"#795da3"},"hljs-addition":{color:"#55a532",backgroundColor:"#eaffea"},"hljs-deletion":{color:"#bd2c00",backgroundColor:"#ffecec"},"hljs-link":{textDecoration:"underline"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#333",background:"#f8f8f8"},"hljs-comment":{color:"#998",fontStyle:"italic"},"hljs-quote":{color:"#998",fontStyle:"italic"},"hljs-keyword":{color:"#333",fontWeight:"bold"},"hljs-selector-tag":{color:"#333",fontWeight:"bold"},"hljs-subst":{color:"#333",fontWeight:"normal"},"hljs-number":{color:"#008080"},"hljs-literal":{color:"#008080"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-tag .hljs-attr":{color:"#008080"},"hljs-string":{color:"#d14"},"hljs-doctag":{color:"#d14"},"hljs-title":{color:"#900",fontWeight:"bold"},"hljs-section":{color:"#900",fontWeight:"bold"},"hljs-selector-id":{color:"#900",fontWeight:"bold"},"hljs-type":{color:"#458",fontWeight:"bold"},"hljs-class .hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-regexp":{color:"#009926"},"hljs-link":{color:"#009926"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"white",color:"black"},"hljs-comment":{color:"#800"},"hljs-quote":{color:"#800"},"hljs-keyword":{color:"#008"},"hljs-selector-tag":{color:"#008"},"hljs-section":{color:"#008"},"hljs-title":{color:"#606"},"hljs-name":{color:"#008"},"hljs-variable":{color:"#660"},"hljs-template-variable":{color:"#660"},"hljs-string":{color:"#080"},"hljs-selector-attr":{color:"#080"},"hljs-selector-pseudo":{color:"#080"},"hljs-regexp":{color:"#080"},"hljs-literal":{color:"#066"},"hljs-symbol":{color:"#066"},"hljs-bullet":{color:"#066"},"hljs-meta":{color:"#066"},"hljs-number":{color:"#066"},"hljs-link":{color:"#066"},"hljs-doctag":{color:"#606",fontWeight:"bold"},"hljs-type":{color:"#606"},"hljs-attr":{color:"#606"},"hljs-built_in":{color:"#606"},"hljs-builtin-name":{color:"#606"},"hljs-params":{color:"#606"},"hljs-attribute":{color:"#000"},"hljs-subst":{color:"#000"},"hljs-formula":{backgroundColor:"#eee",fontStyle:"italic"},"hljs-selector-id":{color:"#9B703F"},"hljs-selector-class":{color:"#9B703F"},"hljs-addition":{backgroundColor:"#baeeba"},"hljs-deletion":{backgroundColor:"#ffc8bd"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#333",background:"#fff"},"hljs-comment":{color:"#777",fontStyle:"italic"},"hljs-quote":{color:"#777",fontStyle:"italic"},"hljs-keyword":{color:"#333",fontWeight:"bold"},"hljs-selector-tag":{color:"#333",fontWeight:"bold"},"hljs-subst":{color:"#333",fontWeight:"normal"},"hljs-number":{color:"#777"},"hljs-literal":{color:"#777"},"hljs-string":{color:"#333",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAJ0lEQVQIW2O8e/fufwYGBgZBQUEQxcCIIfDu3Tuwivfv30NUoAsAALHpFMMLqZlPAAAAAElFTkSuQmCC) repeat"},"hljs-doctag":{color:"#333",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAJ0lEQVQIW2O8e/fufwYGBgZBQUEQxcCIIfDu3Tuwivfv30NUoAsAALHpFMMLqZlPAAAAAElFTkSuQmCC) repeat"},"hljs-formula":{color:"#333",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAJ0lEQVQIW2O8e/fufwYGBgZBQUEQxcCIIfDu3Tuwivfv30NUoAsAALHpFMMLqZlPAAAAAElFTkSuQmCC) repeat"},"hljs-title":{color:"#000",fontWeight:"bold"},"hljs-section":{color:"#000",fontWeight:"bold"},"hljs-selector-id":{color:"#000",fontWeight:"bold"},"hljs-class .hljs-title":{color:"#333",fontWeight:"bold"},"hljs-type":{color:"#333",fontWeight:"bold"},"hljs-name":{color:"#333",fontWeight:"bold"},"hljs-tag":{color:"#333"},"hljs-regexp":{color:"#333",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAPUlEQVQYV2NkQAN37979r6yszIgujiIAU4RNMVwhuiQ6H6wQl3XI4oy4FMHcCJPHcDS6J2A2EqUQpJhohQDexSef15DBCwAAAABJRU5ErkJggg==) repeat"},"hljs-symbol":{color:"#000",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAKElEQVQIW2NkQAO7d+/+z4gsBhJwdXVlhAvCBECKwIIwAbhKZBUwBQA6hBpm5efZsgAAAABJRU5ErkJggg==) repeat"},"hljs-bullet":{color:"#000",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAKElEQVQIW2NkQAO7d+/+z4gsBhJwdXVlhAvCBECKwIIwAbhKZBUwBQA6hBpm5efZsgAAAABJRU5ErkJggg==) repeat"},"hljs-link":{color:"#000",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAKElEQVQIW2NkQAO7d+/+z4gsBhJwdXVlhAvCBECKwIIwAbhKZBUwBQA6hBpm5efZsgAAAABJRU5ErkJggg==) repeat"},"hljs-built_in":{color:"#000",textDecoration:"underline"},"hljs-builtin-name":{color:"#000",textDecoration:"underline"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{color:"#fff",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAADCAYAAABS3WWCAAAAE0lEQVQIW2MMDQ39zzhz5kwIAQAyxweWgUHd1AAAAABJRU5ErkJggg==) repeat"},"hljs-addition":{color:"#000",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAALUlEQVQYV2N89+7dfwYk8P79ewZBQUFkIQZGOiu6e/cuiptQHAPl0NtNxAQBAM97Oejj3Dg7AAAAAElFTkSuQmCC) repeat"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#282828",color:"#ebdbb2"},"hljs-subst":{color:"#ebdbb2"},"hljs-deletion":{color:"#fb4934"},"hljs-formula":{color:"#fb4934"},"hljs-keyword":{color:"#fb4934"},"hljs-link":{color:"#fb4934"},"hljs-selector-tag":{color:"#fb4934"},"hljs-built_in":{color:"#83a598"},"hljs-emphasis":{color:"#83a598",fontStyle:"italic"},"hljs-name":{color:"#83a598"},"hljs-quote":{color:"#83a598"},"hljs-strong":{color:"#83a598",fontWeight:"bold"},"hljs-title":{color:"#83a598"},"hljs-variable":{color:"#83a598"},"hljs-attr":{color:"#fabd2f"},"hljs-params":{color:"#fabd2f"},"hljs-template-tag":{color:"#fabd2f"},"hljs-type":{color:"#fabd2f"},"hljs-builtin-name":{color:"#8f3f71"},"hljs-doctag":{color:"#8f3f71"},"hljs-literal":{color:"#d3869b"},"hljs-number":{color:"#d3869b"},"hljs-code":{color:"#fe8019"},"hljs-meta":{color:"#fe8019"},"hljs-regexp":{color:"#fe8019"},"hljs-selector-id":{color:"#fe8019"},"hljs-template-variable":{color:"#fe8019"},"hljs-addition":{color:"#b8bb26"},"hljs-meta-string":{color:"#b8bb26"},"hljs-section":{color:"#b8bb26",fontWeight:"bold"},"hljs-selector-attr":{color:"#b8bb26"},"hljs-selector-class":{color:"#b8bb26"},"hljs-string":{color:"#b8bb26"},"hljs-symbol":{color:"#b8bb26"},"hljs-attribute":{color:"#8ec07c"},"hljs-bullet":{color:"#8ec07c"},"hljs-class":{color:"#8ec07c"},"hljs-function":{color:"#8ec07c"},"hljs-function .hljs-keyword":{color:"#8ec07c"},"hljs-meta-keyword":{color:"#8ec07c"},"hljs-selector-pseudo":{color:"#8ec07c"},"hljs-tag":{color:"#8ec07c",fontWeight:"bold"},"hljs-comment":{color:"#928374",fontStyle:"italic"},"hljs-link_label":{color:"#d3869b"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#fbf1c7",color:"#3c3836"},"hljs-subst":{color:"#3c3836"},"hljs-deletion":{color:"#9d0006"},"hljs-formula":{color:"#9d0006"},"hljs-keyword":{color:"#9d0006"},"hljs-link":{color:"#9d0006"},"hljs-selector-tag":{color:"#9d0006"},"hljs-built_in":{color:"#076678"},"hljs-emphasis":{color:"#076678",fontStyle:"italic"},"hljs-name":{color:"#076678"},"hljs-quote":{color:"#076678"},"hljs-strong":{color:"#076678",fontWeight:"bold"},"hljs-title":{color:"#076678"},"hljs-variable":{color:"#076678"},"hljs-attr":{color:"#b57614"},"hljs-params":{color:"#b57614"},"hljs-template-tag":{color:"#b57614"},"hljs-type":{color:"#b57614"},"hljs-builtin-name":{color:"#8f3f71"},"hljs-doctag":{color:"#8f3f71"},"hljs-literal":{color:"#8f3f71"},"hljs-number":{color:"#8f3f71"},"hljs-code":{color:"#af3a03"},"hljs-meta":{color:"#af3a03"},"hljs-regexp":{color:"#af3a03"},"hljs-selector-id":{color:"#af3a03"},"hljs-template-variable":{color:"#af3a03"},"hljs-addition":{color:"#79740e"},"hljs-meta-string":{color:"#79740e"},"hljs-section":{color:"#79740e",fontWeight:"bold"},"hljs-selector-attr":{color:"#79740e"},"hljs-selector-class":{color:"#79740e"},"hljs-string":{color:"#79740e"},"hljs-symbol":{color:"#79740e"},"hljs-attribute":{color:"#427b58"},"hljs-bullet":{color:"#427b58"},"hljs-class":{color:"#427b58"},"hljs-function":{color:"#427b58"},"hljs-function .hljs-keyword":{color:"#427b58"},"hljs-meta-keyword":{color:"#427b58"},"hljs-selector-pseudo":{color:"#427b58"},"hljs-tag":{color:"#427b58",fontWeight:"bold"},"hljs-comment":{color:"#928374",fontStyle:"italic"},"hljs-link_label":{color:"#8f3f71"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#989498"},"hljs-quote":{color:"#989498"},"hljs-variable":{color:"#dd464c"},"hljs-template-variable":{color:"#dd464c"},"hljs-attribute":{color:"#dd464c"},"hljs-tag":{color:"#dd464c"},"hljs-name":{color:"#dd464c"},"hljs-selector-id":{color:"#dd464c"},"hljs-selector-class":{color:"#dd464c"},"hljs-regexp":{color:"#dd464c"},"hljs-link":{color:"#dd464c"},"hljs-deletion":{color:"#dd464c"},"hljs-number":{color:"#fd8b19"},"hljs-built_in":{color:"#fd8b19"},"hljs-builtin-name":{color:"#fd8b19"},"hljs-literal":{color:"#fd8b19"},"hljs-type":{color:"#fd8b19"},"hljs-params":{color:"#fd8b19"},"hljs-class .hljs-title":{color:"#fdcc59"},"hljs-string":{color:"#8fc13e"},"hljs-symbol":{color:"#8fc13e"},"hljs-bullet":{color:"#8fc13e"},"hljs-addition":{color:"#8fc13e"},"hljs-meta":{color:"#149b93"},"hljs-function":{color:"#1290bf"},"hljs-section":{color:"#1290bf"},"hljs-title":{color:"#1290bf"},"hljs-keyword":{color:"#c85e7c"},"hljs-selector-tag":{color:"#c85e7c"},hljs:{display:"block",background:"#322931",color:"#b9b5b8",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#1d1f21",color:"#c5c8c6"},"hljs::selection":{background:"#373b41"},"hljs span::selection":{background:"#373b41"},"hljs::-moz-selection":{background:"#373b41"},"hljs span::-moz-selection":{background:"#373b41"},"hljs-title":{color:"#f0c674"},"hljs-name":{color:"#f0c674"},"hljs-comment":{color:"#707880"},"hljs-meta":{color:"#707880"},"hljs-meta .hljs-keyword":{color:"#707880"},"hljs-number":{color:"#cc6666"},"hljs-symbol":{color:"#cc6666"},"hljs-literal":{color:"#cc6666"},"hljs-deletion":{color:"#cc6666"},"hljs-link":{color:"#cc6666"},"hljs-string":{color:"#b5bd68"},"hljs-doctag":{color:"#b5bd68"},"hljs-addition":{color:"#b5bd68"},"hljs-regexp":{color:"#b5bd68"},"hljs-selector-attr":{color:"#b5bd68"},"hljs-selector-pseudo":{color:"#b5bd68"},"hljs-attribute":{color:"#b294bb"},"hljs-code":{color:"#b294bb"},"hljs-selector-id":{color:"#b294bb"},"hljs-keyword":{color:"#81a2be"},"hljs-selector-tag":{color:"#81a2be"},"hljs-bullet":{color:"#81a2be"},"hljs-tag":{color:"#81a2be"},"hljs-subst":{color:"#8abeb7"},"hljs-variable":{color:"#8abeb7"},"hljs-template-tag":{color:"#8abeb7"},"hljs-template-variable":{color:"#8abeb7"},"hljs-type":{color:"#de935f"},"hljs-built_in":{color:"#de935f"},"hljs-builtin-name":{color:"#de935f"},"hljs-quote":{color:"#de935f"},"hljs-section":{color:"#de935f"},"hljs-selector-class":{color:"#de935f"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",background:"#fff"},"hljs-subst":{fontWeight:"normal",color:"#000"},"hljs-title":{fontWeight:"normal",color:"#000"},"hljs-comment":{color:"#808080",fontStyle:"italic"},"hljs-quote":{color:"#808080",fontStyle:"italic"},"hljs-meta":{color:"#808000"},"hljs-tag":{background:"#efefef"},"hljs-section":{fontWeight:"bold",color:"#000080"},"hljs-name":{fontWeight:"bold",color:"#000080"},"hljs-literal":{fontWeight:"bold",color:"#000080"},"hljs-keyword":{fontWeight:"bold",color:"#000080"},"hljs-selector-tag":{fontWeight:"bold",color:"#000080"},"hljs-type":{fontWeight:"bold",color:"#000080"},"hljs-selector-id":{fontWeight:"bold",color:"#000080"},"hljs-selector-class":{fontWeight:"bold",color:"#000080"},"hljs-attribute":{fontWeight:"bold",color:"#0000ff"},"hljs-number":{fontWeight:"normal",color:"#0000ff"},"hljs-regexp":{fontWeight:"normal",color:"#0000ff"},"hljs-link":{fontWeight:"normal",color:"#0000ff"},"hljs-string":{color:"#008000",fontWeight:"bold"},"hljs-symbol":{color:"#000",background:"#d0eded",fontStyle:"italic"},"hljs-bullet":{color:"#000",background:"#d0eded",fontStyle:"italic"},"hljs-formula":{color:"#000",background:"#d0eded",fontStyle:"italic"},"hljs-doctag":{textDecoration:"underline"},"hljs-variable":{color:"#660e7a"},"hljs-template-variable":{color:"#660e7a"},"hljs-addition":{background:"#baeeba"},"hljs-deletion":{background:"#ffc8bd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#000",color:"#f8f8f8"},"hljs-comment":{color:"#7c7c7c"},"hljs-quote":{color:"#7c7c7c"},"hljs-meta":{color:"#7c7c7c"},"hljs-keyword":{color:"#96cbfe"},"hljs-selector-tag":{color:"#96cbfe"},"hljs-tag":{color:"#96cbfe"},"hljs-name":{color:"#96cbfe"},"hljs-attribute":{color:"#ffffb6"},"hljs-selector-id":{color:"#ffffb6"},"hljs-string":{color:"#a8ff60"},"hljs-selector-attr":{color:"#a8ff60"},"hljs-selector-pseudo":{color:"#a8ff60"},"hljs-addition":{color:"#a8ff60"},"hljs-subst":{color:"#daefa3"},"hljs-regexp":{color:"#e9c062"},"hljs-link":{color:"#e9c062"},"hljs-title":{color:"#ffffb6"},"hljs-section":{color:"#ffffb6"},"hljs-type":{color:"#ffffb6"},"hljs-doctag":{color:"#ffffb6"},"hljs-symbol":{color:"#c6c5fe"},"hljs-bullet":{color:"#c6c5fe"},"hljs-variable":{color:"#c6c5fe"},"hljs-template-variable":{color:"#c6c5fe"},"hljs-literal":{color:"#c6c5fe"},"hljs-number":{color:"#ff73fd"},"hljs-deletion":{color:"#ff73fd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#d6baad"},"hljs-quote":{color:"#d6baad"},"hljs-variable":{color:"#dc3958"},"hljs-template-variable":{color:"#dc3958"},"hljs-tag":{color:"#dc3958"},"hljs-name":{color:"#dc3958"},"hljs-selector-id":{color:"#dc3958"},"hljs-selector-class":{color:"#dc3958"},"hljs-regexp":{color:"#dc3958"},"hljs-meta":{color:"#dc3958"},"hljs-number":{color:"#f79a32"},"hljs-built_in":{color:"#f79a32"},"hljs-builtin-name":{color:"#f79a32"},"hljs-literal":{color:"#f79a32"},"hljs-type":{color:"#f79a32"},"hljs-params":{color:"#f79a32"},"hljs-deletion":{color:"#f79a32"},"hljs-link":{color:"#f79a32"},"hljs-title":{color:"#f06431"},"hljs-section":{color:"#f06431"},"hljs-attribute":{color:"#f06431"},"hljs-string":{color:"#889b4a"},"hljs-symbol":{color:"#889b4a"},"hljs-bullet":{color:"#889b4a"},"hljs-addition":{color:"#889b4a"},"hljs-keyword":{color:"#98676a"},"hljs-selector-tag":{color:"#98676a"},"hljs-function":{color:"#98676a"},hljs:{display:"block",overflowX:"auto",background:"#221a0f",color:"#d3af86",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#a57a4c"},"hljs-quote":{color:"#a57a4c"},"hljs-variable":{color:"#dc3958"},"hljs-template-variable":{color:"#dc3958"},"hljs-tag":{color:"#dc3958"},"hljs-name":{color:"#dc3958"},"hljs-selector-id":{color:"#dc3958"},"hljs-selector-class":{color:"#dc3958"},"hljs-regexp":{color:"#dc3958"},"hljs-meta":{color:"#dc3958"},"hljs-number":{color:"#f79a32"},"hljs-built_in":{color:"#f79a32"},"hljs-builtin-name":{color:"#f79a32"},"hljs-literal":{color:"#f79a32"},"hljs-type":{color:"#f79a32"},"hljs-params":{color:"#f79a32"},"hljs-deletion":{color:"#f79a32"},"hljs-link":{color:"#f79a32"},"hljs-title":{color:"#f06431"},"hljs-section":{color:"#f06431"},"hljs-attribute":{color:"#f06431"},"hljs-string":{color:"#889b4a"},"hljs-symbol":{color:"#889b4a"},"hljs-bullet":{color:"#889b4a"},"hljs-addition":{color:"#889b4a"},"hljs-keyword":{color:"#98676a"},"hljs-selector-tag":{color:"#98676a"},"hljs-function":{color:"#98676a"},hljs:{display:"block",overflowX:"auto",background:"#fbebd4",color:"#84613d",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",backgroundColor:"#f4f4f4",color:"black"},"hljs-subst":{color:"black"},"hljs-string":{color:"#050"},"hljs-title":{color:"navy",fontWeight:"bold"},"hljs-symbol":{color:"#050"},"hljs-bullet":{color:"#050"},"hljs-attribute":{color:"#050"},"hljs-addition":{color:"#050"},"hljs-variable":{color:"#050"},"hljs-template-tag":{color:"#050"},"hljs-template-variable":{color:"#050"},"hljs-comment":{color:"#777"},"hljs-quote":{color:"#777"},"hljs-number":{color:"#800"},"hljs-regexp":{color:"#800"},"hljs-literal":{color:"#800"},"hljs-type":{color:"#800"},"hljs-link":{color:"#800"},"hljs-deletion":{color:"#00e"},"hljs-meta":{color:"#00e"},"hljs-keyword":{fontWeight:"bold",color:"navy"},"hljs-selector-tag":{fontWeight:"bold",color:"navy"},"hljs-doctag":{fontWeight:"bold",color:"navy"},"hljs-section":{fontWeight:"bold",color:"navy"},"hljs-built_in":{fontWeight:"bold",color:"navy"},"hljs-tag":{fontWeight:"bold",color:"navy"},"hljs-name":{fontWeight:"bold",color:"navy"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#eaeef3",color:"#00193a"},"hljs-keyword":{fontWeight:"bold"},"hljs-selector-tag":{fontWeight:"bold"},"hljs-title":{fontWeight:"bold",color:"#0048ab"},"hljs-section":{fontWeight:"bold",color:"#0048ab"},"hljs-doctag":{fontWeight:"bold"},"hljs-name":{fontWeight:"bold",color:"#0048ab"},"hljs-strong":{fontWeight:"bold"},"hljs-comment":{color:"#738191"},"hljs-string":{color:"#0048ab"},"hljs-built_in":{color:"#0048ab"},"hljs-literal":{color:"#0048ab"},"hljs-type":{color:"#0048ab"},"hljs-addition":{color:"#0048ab"},"hljs-tag":{color:"#0048ab"},"hljs-quote":{color:"#0048ab"},"hljs-selector-id":{color:"#0048ab"},"hljs-selector-class":{color:"#0048ab"},"hljs-meta":{color:"#4c81c9"},"hljs-subst":{color:"#4c81c9"},"hljs-symbol":{color:"#4c81c9"},"hljs-regexp":{color:"#4c81c9"},"hljs-attribute":{color:"#4c81c9"},"hljs-deletion":{color:"#4c81c9"},"hljs-variable":{color:"#4c81c9"},"hljs-template-variable":{color:"#4c81c9"},"hljs-link":{color:"#4c81c9"},"hljs-bullet":{color:"#4c81c9"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#23241f",color:"#f8f8f2"},"hljs-tag":{color:"#f8f8f2"},"hljs-subst":{color:"#f8f8f2"},"hljs-strong":{color:"#a8a8a2",fontWeight:"bold"},"hljs-emphasis":{color:"#a8a8a2",fontStyle:"italic"},"hljs-bullet":{color:"#ae81ff"},"hljs-quote":{color:"#ae81ff"},"hljs-number":{color:"#ae81ff"},"hljs-regexp":{color:"#ae81ff"},"hljs-literal":{color:"#ae81ff"},"hljs-link":{color:"#ae81ff"},"hljs-code":{color:"#a6e22e"},"hljs-title":{color:"#a6e22e"},"hljs-section":{color:"#a6e22e"},"hljs-selector-class":{color:"#a6e22e"},"hljs-keyword":{color:"#f92672"},"hljs-selector-tag":{color:"#f92672"},"hljs-name":{color:"#f92672"},"hljs-attr":{color:"#f92672"},"hljs-symbol":{color:"#66d9ef"},"hljs-attribute":{color:"#66d9ef"},"hljs-params":{color:"#f8f8f2"},"hljs-class .hljs-title":{color:"#f8f8f2"},"hljs-string":{color:"#e6db74"},"hljs-type":{color:"#e6db74"},"hljs-built_in":{color:"#e6db74"},"hljs-builtin-name":{color:"#e6db74"},"hljs-selector-id":{color:"#e6db74"},"hljs-selector-attr":{color:"#e6db74"},"hljs-selector-pseudo":{color:"#e6db74"},"hljs-addition":{color:"#e6db74"},"hljs-variable":{color:"#e6db74"},"hljs-template-variable":{color:"#e6db74"},"hljs-comment":{color:"#75715e"},"hljs-deletion":{color:"#75715e"},"hljs-meta":{color:"#75715e"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#272822",color:"#ddd"},"hljs-tag":{color:"#f92672"},"hljs-keyword":{color:"#f92672",fontWeight:"bold"},"hljs-selector-tag":{color:"#f92672",fontWeight:"bold"},"hljs-literal":{color:"#f92672",fontWeight:"bold"},"hljs-strong":{color:"#f92672"},"hljs-name":{color:"#f92672"},"hljs-code":{color:"#66d9ef"},"hljs-class .hljs-title":{color:"white"},"hljs-attribute":{color:"#bf79db"},"hljs-symbol":{color:"#bf79db"},"hljs-regexp":{color:"#bf79db"},"hljs-link":{color:"#bf79db"},"hljs-string":{color:"#a6e22e"},"hljs-bullet":{color:"#a6e22e"},"hljs-subst":{color:"#a6e22e"},"hljs-title":{color:"#a6e22e",fontWeight:"bold"},"hljs-section":{color:"#a6e22e",fontWeight:"bold"},"hljs-emphasis":{color:"#a6e22e"},"hljs-type":{color:"#a6e22e",fontWeight:"bold"},"hljs-built_in":{color:"#a6e22e"},"hljs-builtin-name":{color:"#a6e22e"},"hljs-selector-attr":{color:"#a6e22e"},"hljs-selector-pseudo":{color:"#a6e22e"},"hljs-addition":{color:"#a6e22e"},"hljs-variable":{color:"#a6e22e"},"hljs-template-tag":{color:"#a6e22e"},"hljs-template-variable":{color:"#a6e22e"},"hljs-comment":{color:"#75715e"},"hljs-quote":{color:"#75715e"},"hljs-deletion":{color:"#75715e"},"hljs-meta":{color:"#75715e"},"hljs-doctag":{fontWeight:"bold"},"hljs-selector-id":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#282b2e",color:"#e0e2e4"},"hljs-keyword":{color:"#93c763",fontWeight:"bold"},"hljs-selector-tag":{color:"#93c763",fontWeight:"bold"},"hljs-literal":{color:"#93c763",fontWeight:"bold"},"hljs-selector-id":{color:"#93c763"},"hljs-number":{color:"#ffcd22"},"hljs-attribute":{color:"#668bb0"},"hljs-code":{color:"white"},"hljs-class .hljs-title":{color:"white"},"hljs-section":{color:"white",fontWeight:"bold"},"hljs-regexp":{color:"#d39745"},"hljs-link":{color:"#d39745"},"hljs-meta":{color:"#557182"},"hljs-tag":{color:"#8cbbad"},"hljs-name":{color:"#8cbbad",fontWeight:"bold"},"hljs-bullet":{color:"#8cbbad"},"hljs-subst":{color:"#8cbbad"},"hljs-emphasis":{color:"#8cbbad"},"hljs-type":{color:"#8cbbad",fontWeight:"bold"},"hljs-built_in":{color:"#8cbbad"},"hljs-selector-attr":{color:"#8cbbad"},"hljs-selector-pseudo":{color:"#8cbbad"},"hljs-addition":{color:"#8cbbad"},"hljs-variable":{color:"#8cbbad"},"hljs-template-tag":{color:"#8cbbad"},"hljs-template-variable":{color:"#8cbbad"},"hljs-string":{color:"#ec7600"},"hljs-symbol":{color:"#ec7600"},"hljs-comment":{color:"#818e96"},"hljs-quote":{color:"#818e96"},"hljs-deletion":{color:"#818e96"},"hljs-selector-class":{color:"#A082BD"},"hljs-doctag":{fontWeight:"bold"},"hljs-title":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#65737e"},"hljs-quote":{color:"#65737e"},"hljs-variable":{color:"#bf616a"},"hljs-template-variable":{color:"#bf616a"},"hljs-tag":{color:"#bf616a"},"hljs-name":{color:"#bf616a"},"hljs-selector-id":{color:"#bf616a"},"hljs-selector-class":{color:"#bf616a"},"hljs-regexp":{color:"#bf616a"},"hljs-deletion":{color:"#bf616a"},"hljs-number":{color:"#d08770"},"hljs-built_in":{color:"#d08770"},"hljs-builtin-name":{color:"#d08770"},"hljs-literal":{color:"#d08770"},"hljs-type":{color:"#d08770"},"hljs-params":{color:"#d08770"},"hljs-meta":{color:"#d08770"},"hljs-link":{color:"#d08770"},"hljs-attribute":{color:"#ebcb8b"},"hljs-string":{color:"#a3be8c"},"hljs-symbol":{color:"#a3be8c"},"hljs-bullet":{color:"#a3be8c"},"hljs-addition":{color:"#a3be8c"},"hljs-title":{color:"#8fa1b3"},"hljs-section":{color:"#8fa1b3"},"hljs-keyword":{color:"#b48ead"},"hljs-selector-tag":{color:"#b48ead"},hljs:{display:"block",overflowX:"auto",background:"#2b303b",color:"#c0c5ce",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#8d8687"},"hljs-quote":{color:"#8d8687"},"hljs-variable":{color:"#ef6155"},"hljs-template-variable":{color:"#ef6155"},"hljs-tag":{color:"#ef6155"},"hljs-name":{color:"#ef6155"},"hljs-selector-id":{color:"#ef6155"},"hljs-selector-class":{color:"#ef6155"},"hljs-regexp":{color:"#ef6155"},"hljs-link":{color:"#ef6155"},"hljs-meta":{color:"#ef6155"},"hljs-number":{color:"#f99b15"},"hljs-built_in":{color:"#f99b15"},"hljs-builtin-name":{color:"#f99b15"},"hljs-literal":{color:"#f99b15"},"hljs-type":{color:"#f99b15"},"hljs-params":{color:"#f99b15"},"hljs-deletion":{color:"#f99b15"},"hljs-title":{color:"#fec418"},"hljs-section":{color:"#fec418"},"hljs-attribute":{color:"#fec418"},"hljs-string":{color:"#48b685"},"hljs-symbol":{color:"#48b685"},"hljs-bullet":{color:"#48b685"},"hljs-addition":{color:"#48b685"},"hljs-keyword":{color:"#815ba4"},"hljs-selector-tag":{color:"#815ba4"},hljs:{display:"block",overflowX:"auto",background:"#2f1e2e",color:"#a39e9b",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#776e71"},"hljs-quote":{color:"#776e71"},"hljs-variable":{color:"#ef6155"},"hljs-template-variable":{color:"#ef6155"},"hljs-tag":{color:"#ef6155"},"hljs-name":{color:"#ef6155"},"hljs-selector-id":{color:"#ef6155"},"hljs-selector-class":{color:"#ef6155"},"hljs-regexp":{color:"#ef6155"},"hljs-link":{color:"#ef6155"},"hljs-meta":{color:"#ef6155"},"hljs-number":{color:"#f99b15"},"hljs-built_in":{color:"#f99b15"},"hljs-builtin-name":{color:"#f99b15"},"hljs-literal":{color:"#f99b15"},"hljs-type":{color:"#f99b15"},"hljs-params":{color:"#f99b15"},"hljs-deletion":{color:"#f99b15"},"hljs-title":{color:"#fec418"},"hljs-section":{color:"#fec418"},"hljs-attribute":{color:"#fec418"},"hljs-string":{color:"#48b685"},"hljs-symbol":{color:"#48b685"},"hljs-bullet":{color:"#48b685"},"hljs-addition":{color:"#48b685"},"hljs-keyword":{color:"#815ba4"},"hljs-selector-tag":{color:"#815ba4"},hljs:{display:"block",overflowX:"auto",background:"#e7e9db",color:"#4f424c",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#dccf8f",background:"url(./pojoaque.jpg) repeat scroll left top #181914"},"hljs-comment":{color:"#586e75",fontStyle:"italic"},"hljs-quote":{color:"#586e75",fontStyle:"italic"},"hljs-keyword":{color:"#b64926"},"hljs-selector-tag":{color:"#b64926"},"hljs-literal":{color:"#b64926"},"hljs-addition":{color:"#b64926"},"hljs-number":{color:"#468966"},"hljs-string":{color:"#468966"},"hljs-doctag":{color:"#468966"},"hljs-regexp":{color:"#468966"},"hljs-title":{color:"#ffb03b"},"hljs-section":{color:"#ffb03b"},"hljs-built_in":{color:"#ffb03b"},"hljs-name":{color:"#ffb03b"},"hljs-variable":{color:"#b58900"},"hljs-template-variable":{color:"#b58900"},"hljs-class .hljs-title":{color:"#b58900"},"hljs-type":{color:"#b58900"},"hljs-tag":{color:"#b58900"},"hljs-attribute":{color:"#b89859"},"hljs-symbol":{color:"#cb4b16"},"hljs-bullet":{color:"#cb4b16"},"hljs-link":{color:"#cb4b16"},"hljs-subst":{color:"#cb4b16"},"hljs-meta":{color:"#cb4b16"},"hljs-deletion":{color:"#dc322f"},"hljs-selector-id":{color:"#d3a60c"},"hljs-selector-class":{color:"#d3a60c"},"hljs-formula":{background:"#073642"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#FFFFDF",color:"#000000"},"hljs-type":{color:"#000000"},"hljs-function":{color:"#000000"},"hljs-name":{color:"#000000",fontWeight:"bold"},"hljs-number":{color:"#000000"},"hljs-attr":{color:"#000000"},"hljs-params":{color:"#000000"},"hljs-subst":{color:"#000000"},"hljs-comment":{color:"#00AAAA"},"hljs-regexp":{color:"#00AAAA"},"hljs-section":{color:"#00AAAA"},"hljs-selector-pseudo":{color:"#00AAAA"},"hljs-addition":{color:"#00AAAA"},"hljs-title":{color:"#006666"},"hljs-tag":{color:"#006666"},"hljs-variable":{color:"#006666"},"hljs-code":{color:"#006666"},"hljs-keyword":{color:"#006666",fontWeight:"bold"},"hljs-class":{color:"#006666",fontWeight:"bold"},"hljs-meta-keyword":{color:"#006666",fontWeight:"bold"},"hljs-selector-class":{color:"#006666",fontWeight:"bold"},"hljs-built_in":{color:"#006666",fontWeight:"bold"},"hljs-builtin-name":{color:"#006666",fontWeight:"bold"},"hljs-string":{color:"#0080FF"},"hljs-selector-attr":{color:"#0080FF"},"hljs-symbol":{color:"#924B72"},"hljs-link":{color:"#924B72"},"hljs-deletion":{color:"#924B72"},"hljs-attribute":{color:"#924B72"},"hljs-meta":{color:"#924B72",fontWeight:"bold"},"hljs-literal":{color:"#924B72",fontWeight:"bold"},"hljs-selector-id":{color:"#924B72",fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#000000",color:"#aaaaaa"},"hljs-subst":{color:"#aaaaaa"},"hljs-tag":{color:"#aaaaaa"},"hljs-title":{color:"#aaaaaa"},"hljs-strong":{color:"#a8a8a2"},"hljs-emphasis":{color:"#a8a8a2",fontStyle:"italic"},"hljs-bullet":{color:"#ff55ff"},"hljs-quote":{color:"#ff55ff"},"hljs-number":{color:"#ff55ff"},"hljs-regexp":{color:"#ff55ff"},"hljs-literal":{color:"#ff55ff"},"hljs-code\n.hljs-selector-class":{color:"#aaaaff"},"hljs-stronge":{fontStyle:"italic"},"hljs-type":{fontStyle:"italic",color:"#ff55ff"},"hljs-keyword":{color:"#ffff55"},"hljs-selector-tag":{color:"#ffff55"},"hljs-function":{color:"#ffff55"},"hljs-section":{color:"#ffff55"},"hljs-symbol":{color:"#ffff55"},"hljs-name":{color:"#ffff55"},"hljs-attribute":{color:"#ff5555"},"hljs-variable":{color:"#8888ff"},"hljs-params":{color:"#8888ff"},"hljs-class .hljs-title":{color:"#8888ff"},"hljs-string":{color:"#ff55ff"},"hljs-selector-id":{color:"#ff55ff"},"hljs-selector-attr":{color:"#ff55ff"},"hljs-selector-pseudo":{color:"#ff55ff"},"hljs-built_in":{color:"#ff55ff"},"hljs-builtin-name":{color:"#ff55ff"},"hljs-template-tag":{color:"#ff55ff"},"hljs-template-variable":{color:"#ff55ff"},"hljs-addition":{color:"#ff55ff"},"hljs-link":{color:"#ff55ff"},"hljs-comment":{color:"#55ffff"},"hljs-meta":{color:"#55ffff"},"hljs-deletion":{color:"#55ffff"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#ffffff",color:"#000000"},"hljs-subst":{color:"#000000"},"hljs-tag":{color:"#000000"},"hljs-title":{color:"#000000"},"hljs-strong":{color:"#000000"},"hljs-emphasis":{color:"#000000",fontStyle:"italic"},"hljs-bullet":{color:"#000080"},"hljs-quote":{color:"#000080"},"hljs-number":{color:"#000080"},"hljs-regexp":{color:"#000080"},"hljs-literal":{color:"#000080"},"hljs-code\n.hljs-selector-class":{color:"#800080"},"hljs-stronge":{fontStyle:"italic"},"hljs-type":{fontStyle:"italic",color:"#008000"},"hljs-keyword":{color:"#808000"},"hljs-selector-tag":{color:"#808000"},"hljs-function":{color:"#808000"},"hljs-section":{color:"#808000"},"hljs-symbol":{color:"#808000"},"hljs-name":{color:"#808000"},"hljs-attribute":{color:"#800000"},"hljs-variable":{color:"#0055AF"},"hljs-params":{color:"#0055AF"},"hljs-class .hljs-title":{color:"#0055AF"},"hljs-string":{color:"#008000"},"hljs-selector-id":{color:"#008000"},"hljs-selector-attr":{color:"#008000"},"hljs-selector-pseudo":{color:"#008000"},"hljs-built_in":{color:"#008000"},"hljs-builtin-name":{color:"#008000"},"hljs-template-tag":{color:"#008000"},"hljs-template-variable":{color:"#008000"},"hljs-addition":{color:"#008000"},"hljs-link":{color:"#008000"},"hljs-comment":{color:"#008000"},"hljs-meta":{color:"#008000"},"hljs-deletion":{color:"#008000"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#232323",color:"#e6e1dc"},"hljs-comment":{color:"#bc9458",fontStyle:"italic"},"hljs-quote":{color:"#bc9458",fontStyle:"italic"},"hljs-keyword":{color:"#c26230"},"hljs-selector-tag":{color:"#c26230"},"hljs-string":{color:"#a5c261"},"hljs-number":{color:"#a5c261"},"hljs-regexp":{color:"#a5c261"},"hljs-variable":{color:"#a5c261"},"hljs-template-variable":{color:"#a5c261"},"hljs-subst":{color:"#519f50"},"hljs-tag":{color:"#e8bf6a"},"hljs-name":{color:"#e8bf6a"},"hljs-type":{color:"#da4939"},"hljs-symbol":{color:"#6d9cbe"},"hljs-bullet":{color:"#6d9cbe"},"hljs-built_in":{color:"#6d9cbe"},"hljs-builtin-name":{color:"#6d9cbe"},"hljs-attr":{color:"#6d9cbe"},"hljs-link":{color:"#6d9cbe",textDecoration:"underline"},"hljs-params":{color:"#d0d0ff"},"hljs-attribute":{color:"#cda869"},"hljs-meta":{color:"#9b859d"},"hljs-title":{color:"#ffc66d"},"hljs-section":{color:"#ffc66d"},"hljs-addition":{backgroundColor:"#144212",color:"#e6e1dc",display:"inline-block",width:"100%"},"hljs-deletion":{backgroundColor:"#600",color:"#e6e1dc",display:"inline-block",width:"100%"},"hljs-selector-class":{color:"#9b703f"},"hljs-selector-id":{color:"#8b98ab"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#474949",color:"#d1d9e1"},"hljs-comment":{color:"#969896",fontStyle:"italic"},"hljs-quote":{color:"#969896",fontStyle:"italic"},"hljs-keyword":{color:"#cc99cc"},"hljs-selector-tag":{color:"#cc99cc"},"hljs-literal":{color:"#cc99cc"},"hljs-type":{color:"#cc99cc"},"hljs-addition":{color:"#cc99cc"},"hljs-number":{color:"#f99157"},"hljs-selector-attr":{color:"#f99157"},"hljs-selector-pseudo":{color:"#f99157"},"hljs-string":{color:"#8abeb7"},"hljs-doctag":{color:"#8abeb7"},"hljs-regexp":{color:"#8abeb7"},"hljs-title":{color:"#b5bd68"},"hljs-name":{color:"#b5bd68",fontWeight:"bold"},"hljs-section":{color:"#b5bd68",fontWeight:"bold"},"hljs-built_in":{color:"#b5bd68"},"hljs-variable":{color:"#ffcc66"},"hljs-template-variable":{color:"#ffcc66"},"hljs-selector-id":{color:"#ffcc66"},"hljs-class .hljs-title":{color:"#ffcc66"},"hljs-strong":{fontWeight:"bold"},"hljs-symbol":{color:"#f99157"},"hljs-bullet":{color:"#f99157"},"hljs-subst":{color:"#f99157"},"hljs-meta":{color:"#f99157"},"hljs-link":{color:"#f99157"},"hljs-deletion":{color:"#dc322f"},"hljs-formula":{background:"#eee8d5"},"hljs-attr":{color:"#81a2be"},"hljs-attribute":{color:"#81a2be"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#F0F0F0",color:"#444"},"hljs-subst":{color:"#444"},"hljs-comment":{color:"#888888"},"hljs-keyword":{fontWeight:"bold"},"hljs-selector-tag":{fontWeight:"bold"},"hljs-meta-keyword":{fontWeight:"bold"},"hljs-doctag":{fontWeight:"bold"},"hljs-name":{fontWeight:"bold"},"hljs-attribute":{color:"#0E9A00"},"hljs-function":{color:"#99069A"},"hljs-builtin-name":{color:"#99069A"},"hljs-type":{color:"#880000"},"hljs-string":{color:"#880000"},"hljs-number":{color:"#880000"},"hljs-selector-id":{color:"#880000"},"hljs-selector-class":{color:"#880000"},"hljs-quote":{color:"#880000"},"hljs-template-tag":{color:"#880000"},"hljs-deletion":{color:"#880000"},"hljs-title":{color:"#880000",fontWeight:"bold"},"hljs-section":{color:"#880000",fontWeight:"bold"},"hljs-regexp":{color:"#BC6060"},"hljs-symbol":{color:"#BC6060"},"hljs-variable":{color:"#BC6060"},"hljs-template-variable":{color:"#BC6060"},"hljs-link":{color:"#BC6060"},"hljs-selector-attr":{color:"#BC6060"},"hljs-selector-pseudo":{color:"#BC6060"},"hljs-literal":{color:"#78A960"},"hljs-built_in":{color:"#0C9A9A"},"hljs-bullet":{color:"#0C9A9A"},"hljs-code":{color:"#0C9A9A"},"hljs-addition":{color:"#0C9A9A"},"hljs-meta":{color:"#1f7199"},"hljs-meta-string":{color:"#4d99bf"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"15px 0.5em 0.5em 30px",fontSize:"11px",lineHeight:"16px",color:"#3e5915"},re:{background:"#f6f6ae url(./school-book.png)",borderTop:"solid 2px #d2e8b9",borderBottom:"solid 1px #d2e8b9"},"hljs-keyword":{color:"#005599",fontWeight:"bold"},"hljs-selector-tag":{color:"#005599",fontWeight:"bold"},"hljs-literal":{color:"#005599",fontWeight:"bold"},"hljs-subst":{color:"#3e5915"},"hljs-string":{color:"#2c009f"},"hljs-title":{color:"#2c009f",fontWeight:"bold"},"hljs-section":{color:"#2c009f",fontWeight:"bold"},"hljs-type":{color:"#2c009f",fontWeight:"bold"},"hljs-symbol":{color:"#2c009f"},"hljs-bullet":{color:"#2c009f"},"hljs-attribute":{color:"#2c009f"},"hljs-built_in":{color:"#2c009f"},"hljs-builtin-name":{color:"#2c009f"},"hljs-addition":{color:"#2c009f"},"hljs-variable":{color:"#2c009f"},"hljs-template-tag":{color:"#2c009f"},"hljs-template-variable":{color:"#2c009f"},"hljs-link":{color:"#2c009f"},"hljs-comment":{color:"#e60415"},"hljs-quote":{color:"#e60415"},"hljs-deletion":{color:"#e60415"},"hljs-meta":{color:"#e60415"},"hljs-doctag":{fontWeight:"bold"},"hljs-name":{fontWeight:"bold"},"hljs-selector-id":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#002b36",color:"#839496"},"hljs-comment":{color:"#586e75"},"hljs-quote":{color:"#586e75"},"hljs-keyword":{color:"#859900"},"hljs-selector-tag":{color:"#859900"},"hljs-addition":{color:"#859900"},"hljs-number":{color:"#2aa198"},"hljs-string":{color:"#2aa198"},"hljs-meta .hljs-meta-string":{color:"#2aa198"},"hljs-literal":{color:"#2aa198"},"hljs-doctag":{color:"#2aa198"},"hljs-regexp":{color:"#2aa198"},"hljs-title":{color:"#268bd2"},"hljs-section":{color:"#268bd2"},"hljs-name":{color:"#268bd2"},"hljs-selector-id":{color:"#268bd2"},"hljs-selector-class":{color:"#268bd2"},"hljs-attribute":{color:"#b58900"},"hljs-attr":{color:"#b58900"},"hljs-variable":{color:"#b58900"},"hljs-template-variable":{color:"#b58900"},"hljs-class .hljs-title":{color:"#b58900"},"hljs-type":{color:"#b58900"},"hljs-symbol":{color:"#cb4b16"},"hljs-bullet":{color:"#cb4b16"},"hljs-subst":{color:"#cb4b16"},"hljs-meta":{color:"#cb4b16"},"hljs-meta .hljs-keyword":{color:"#cb4b16"},"hljs-selector-attr":{color:"#cb4b16"},"hljs-selector-pseudo":{color:"#cb4b16"},"hljs-link":{color:"#cb4b16"},"hljs-built_in":{color:"#dc322f"},"hljs-deletion":{color:"#dc322f"},"hljs-formula":{background:"#073642"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#fdf6e3",color:"#657b83"},"hljs-comment":{color:"#93a1a1"},"hljs-quote":{color:"#93a1a1"},"hljs-keyword":{color:"#859900"},"hljs-selector-tag":{color:"#859900"},"hljs-addition":{color:"#859900"},"hljs-number":{color:"#2aa198"},"hljs-string":{color:"#2aa198"},"hljs-meta .hljs-meta-string":{color:"#2aa198"},"hljs-literal":{color:"#2aa198"},"hljs-doctag":{color:"#2aa198"},"hljs-regexp":{color:"#2aa198"},"hljs-title":{color:"#268bd2"},"hljs-section":{color:"#268bd2"},"hljs-name":{color:"#268bd2"},"hljs-selector-id":{color:"#268bd2"},"hljs-selector-class":{color:"#268bd2"},"hljs-attribute":{color:"#b58900"},"hljs-attr":{color:"#b58900"},"hljs-variable":{color:"#b58900"},"hljs-template-variable":{color:"#b58900"},"hljs-class .hljs-title":{color:"#b58900"},"hljs-type":{color:"#b58900"},"hljs-symbol":{color:"#cb4b16"},"hljs-bullet":{color:"#cb4b16"},"hljs-subst":{color:"#cb4b16"},"hljs-meta":{color:"#cb4b16"},"hljs-meta .hljs-keyword":{color:"#cb4b16"},"hljs-selector-attr":{color:"#cb4b16"},"hljs-selector-pseudo":{color:"#cb4b16"},"hljs-link":{color:"#cb4b16"},"hljs-built_in":{color:"#dc322f"},"hljs-deletion":{color:"#dc322f"},"hljs-formula":{background:"#eee8d5"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#000",color:"#f8f8f8"},"hljs-comment":{color:"#aeaeae",fontStyle:"italic"},"hljs-quote":{color:"#aeaeae",fontStyle:"italic"},"hljs-keyword":{color:"#e28964"},"hljs-selector-tag":{color:"#e28964"},"hljs-type":{color:"#e28964"},"hljs-string":{color:"#65b042"},"hljs-subst":{color:"#daefa3"},"hljs-regexp":{color:"#e9c062"},"hljs-link":{color:"#e9c062"},"hljs-title":{color:"#89bdff"},"hljs-section":{color:"#89bdff"},"hljs-tag":{color:"#89bdff"},"hljs-name":{color:"#89bdff"},"hljs-class .hljs-title":{textDecoration:"underline"},"hljs-doctag":{textDecoration:"underline"},"hljs-symbol":{color:"#3387cc"},"hljs-bullet":{color:"#3387cc"},"hljs-number":{color:"#3387cc"},"hljs-params":{color:"#3e87e3"},"hljs-variable":{color:"#3e87e3"},"hljs-template-variable":{color:"#3e87e3"},"hljs-attribute":{color:"#cda869"},"hljs-meta":{color:"#8996a8"},"hljs-formula":{backgroundColor:"#0e2231",color:"#f8f8f8",fontStyle:"italic"},"hljs-addition":{backgroundColor:"#253b22",color:"#f8f8f8"},"hljs-deletion":{backgroundColor:"#420e09",color:"#f8f8f8"},"hljs-selector-class":{color:"#9b703f"},"hljs-selector-id":{color:"#8b98ab"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#7285b7"},"hljs-quote":{color:"#7285b7"},"hljs-variable":{color:"#ff9da4"},"hljs-template-variable":{color:"#ff9da4"},"hljs-tag":{color:"#ff9da4"},"hljs-name":{color:"#ff9da4"},"hljs-selector-id":{color:"#ff9da4"},"hljs-selector-class":{color:"#ff9da4"},"hljs-regexp":{color:"#ff9da4"},"hljs-deletion":{color:"#ff9da4"},"hljs-number":{color:"#ffc58f"},"hljs-built_in":{color:"#ffc58f"},"hljs-builtin-name":{color:"#ffc58f"},"hljs-literal":{color:"#ffc58f"},"hljs-type":{color:"#ffc58f"},"hljs-params":{color:"#ffc58f"},"hljs-meta":{color:"#ffc58f"},"hljs-link":{color:"#ffc58f"},"hljs-attribute":{color:"#ffeead"},"hljs-string":{color:"#d1f1a9"},"hljs-symbol":{color:"#d1f1a9"},"hljs-bullet":{color:"#d1f1a9"},"hljs-addition":{color:"#d1f1a9"},"hljs-title":{color:"#bbdaff"},"hljs-section":{color:"#bbdaff"},"hljs-keyword":{color:"#ebbbff"},"hljs-selector-tag":{color:"#ebbbff"},hljs:{display:"block",overflowX:"auto",background:"#002451",color:"white",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#969896"},"hljs-quote":{color:"#969896"},"hljs-variable":{color:"#d54e53"},"hljs-template-variable":{color:"#d54e53"},"hljs-tag":{color:"#d54e53"},"hljs-name":{color:"#d54e53"},"hljs-selector-id":{color:"#d54e53"},"hljs-selector-class":{color:"#d54e53"},"hljs-regexp":{color:"#d54e53"},"hljs-deletion":{color:"#d54e53"},"hljs-number":{color:"#e78c45"},"hljs-built_in":{color:"#e78c45"},"hljs-builtin-name":{color:"#e78c45"},"hljs-literal":{color:"#e78c45"},"hljs-type":{color:"#e78c45"},"hljs-params":{color:"#e78c45"},"hljs-meta":{color:"#e78c45"},"hljs-link":{color:"#e78c45"},"hljs-attribute":{color:"#e7c547"},"hljs-string":{color:"#b9ca4a"},"hljs-symbol":{color:"#b9ca4a"},"hljs-bullet":{color:"#b9ca4a"},"hljs-addition":{color:"#b9ca4a"},"hljs-title":{color:"#7aa6da"},"hljs-section":{color:"#7aa6da"},"hljs-keyword":{color:"#c397d8"},"hljs-selector-tag":{color:"#c397d8"},hljs:{display:"block",overflowX:"auto",background:"black",color:"#eaeaea",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#999999"},"hljs-quote":{color:"#999999"},"hljs-variable":{color:"#f2777a"},"hljs-template-variable":{color:"#f2777a"},"hljs-tag":{color:"#f2777a"},"hljs-name":{color:"#f2777a"},"hljs-selector-id":{color:"#f2777a"},"hljs-selector-class":{color:"#f2777a"},"hljs-regexp":{color:"#f2777a"},"hljs-deletion":{color:"#f2777a"},"hljs-number":{color:"#f99157"},"hljs-built_in":{color:"#f99157"},"hljs-builtin-name":{color:"#f99157"},"hljs-literal":{color:"#f99157"},"hljs-type":{color:"#f99157"},"hljs-params":{color:"#f99157"},"hljs-meta":{color:"#f99157"},"hljs-link":{color:"#f99157"},"hljs-attribute":{color:"#ffcc66"},"hljs-string":{color:"#99cc99"},"hljs-symbol":{color:"#99cc99"},"hljs-bullet":{color:"#99cc99"},"hljs-addition":{color:"#99cc99"},"hljs-title":{color:"#6699cc"},"hljs-section":{color:"#6699cc"},"hljs-keyword":{color:"#cc99cc"},"hljs-selector-tag":{color:"#cc99cc"},hljs:{display:"block",overflowX:"auto",background:"#2d2d2d",color:"#cccccc",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#969896"},"hljs-quote":{color:"#969896"},"hljs-variable":{color:"#cc6666"},"hljs-template-variable":{color:"#cc6666"},"hljs-tag":{color:"#cc6666"},"hljs-name":{color:"#cc6666"},"hljs-selector-id":{color:"#cc6666"},"hljs-selector-class":{color:"#cc6666"},"hljs-regexp":{color:"#cc6666"},"hljs-deletion":{color:"#cc6666"},"hljs-number":{color:"#de935f"},"hljs-built_in":{color:"#de935f"},"hljs-builtin-name":{color:"#de935f"},"hljs-literal":{color:"#de935f"},"hljs-type":{color:"#de935f"},"hljs-params":{color:"#de935f"},"hljs-meta":{color:"#de935f"},"hljs-link":{color:"#de935f"},"hljs-attribute":{color:"#f0c674"},"hljs-string":{color:"#b5bd68"},"hljs-symbol":{color:"#b5bd68"},"hljs-bullet":{color:"#b5bd68"},"hljs-addition":{color:"#b5bd68"},"hljs-title":{color:"#81a2be"},"hljs-section":{color:"#81a2be"},"hljs-keyword":{color:"#b294bb"},"hljs-selector-tag":{color:"#b294bb"},hljs:{display:"block",overflowX:"auto",background:"#1d1f21",color:"#c5c8c6",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={"hljs-comment":{color:"#8e908c"},"hljs-quote":{color:"#8e908c"},"hljs-variable":{color:"#c82829"},"hljs-template-variable":{color:"#c82829"},"hljs-tag":{color:"#c82829"},"hljs-name":{color:"#c82829"},"hljs-selector-id":{color:"#c82829"},"hljs-selector-class":{color:"#c82829"},"hljs-regexp":{color:"#c82829"},"hljs-deletion":{color:"#c82829"},"hljs-number":{color:"#f5871f"},"hljs-built_in":{color:"#f5871f"},"hljs-builtin-name":{color:"#f5871f"},"hljs-literal":{color:"#f5871f"},"hljs-type":{color:"#f5871f"},"hljs-params":{color:"#f5871f"},"hljs-meta":{color:"#f5871f"},"hljs-link":{color:"#f5871f"},"hljs-attribute":{color:"#eab700"},"hljs-string":{color:"#718c00"},"hljs-symbol":{color:"#718c00"},"hljs-bullet":{color:"#718c00"},"hljs-addition":{color:"#718c00"},"hljs-title":{color:"#4271ae"},"hljs-section":{color:"#4271ae"},"hljs-keyword":{color:"#8959a8"},"hljs-selector-tag":{color:"#8959a8"},hljs:{display:"block",overflowX:"auto",background:"white",color:"#4d4d4c",padding:"0.5em"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"white",color:"black"},"hljs-comment":{color:"#008000"},"hljs-quote":{color:"#008000"},"hljs-variable":{color:"#008000"},"hljs-keyword":{color:"#00f"},"hljs-selector-tag":{color:"#00f"},"hljs-built_in":{color:"#00f"},"hljs-name":{color:"#00f"},"hljs-tag":{color:"#00f"},"hljs-string":{color:"#a31515"},"hljs-title":{color:"#a31515"},"hljs-section":{color:"#a31515"},"hljs-attribute":{color:"#a31515"},"hljs-literal":{color:"#a31515"},"hljs-template-tag":{color:"#a31515"},"hljs-template-variable":{color:"#a31515"},"hljs-type":{color:"#a31515"},"hljs-addition":{color:"#a31515"},"hljs-deletion":{color:"#2b91af"},"hljs-selector-attr":{color:"#2b91af"},"hljs-selector-pseudo":{color:"#2b91af"},"hljs-meta":{color:"#2b91af"},"hljs-doctag":{color:"#808080"},"hljs-attr":{color:"#f00"},"hljs-symbol":{color:"#00b0e8"},"hljs-bullet":{color:"#00b0e8"},"hljs-link":{color:"#00b0e8"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#1E1E1E",color:"#DCDCDC"},"hljs-keyword":{color:"#569CD6"},"hljs-literal":{color:"#569CD6"},"hljs-symbol":{color:"#569CD6"},"hljs-name":{color:"#569CD6"},"hljs-link":{color:"#569CD6",textDecoration:"underline"},"hljs-built_in":{color:"#4EC9B0"},"hljs-type":{color:"#4EC9B0"},"hljs-number":{color:"#B8D7A3"},"hljs-class":{color:"#B8D7A3"},"hljs-string":{color:"#D69D85"},"hljs-meta-string":{color:"#D69D85"},"hljs-regexp":{color:"#9A5334"},"hljs-template-tag":{color:"#9A5334"},"hljs-subst":{color:"#DCDCDC"},"hljs-function":{color:"#DCDCDC"},"hljs-title":{color:"#DCDCDC"},"hljs-params":{color:"#DCDCDC"},"hljs-formula":{color:"#DCDCDC"},"hljs-comment":{color:"#57A64A",fontStyle:"italic"},"hljs-quote":{color:"#57A64A",fontStyle:"italic"},"hljs-doctag":{color:"#608B4E"},"hljs-meta":{color:"#9B9B9B"},"hljs-meta-keyword":{color:"#9B9B9B"},"hljs-tag":{color:"#9B9B9B"},"hljs-variable":{color:"#BD63C5"},"hljs-template-variable":{color:"#BD63C5"},"hljs-attr":{color:"#9CDCFE"},"hljs-attribute":{color:"#9CDCFE"},"hljs-builtin-name":{color:"#9CDCFE"},"hljs-section":{color:"gold"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"},"hljs-bullet":{color:"#D7BA7D"},"hljs-selector-tag":{color:"#D7BA7D"},"hljs-selector-id":{color:"#D7BA7D"},"hljs-selector-class":{color:"#D7BA7D"},"hljs-selector-attr":{color:"#D7BA7D"},"hljs-selector-pseudo":{color:"#D7BA7D"},"hljs-addition":{backgroundColor:"#144212",display:"inline-block",width:"100%"},"hljs-deletion":{backgroundColor:"#600",display:"inline-block",width:"100%"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#fff",color:"black"},"hljs-comment":{color:"#006a00"},"hljs-quote":{color:"#006a00"},"hljs-keyword":{color:"#aa0d91"},"hljs-selector-tag":{color:"#aa0d91"},"hljs-literal":{color:"#aa0d91"},"hljs-name":{color:"#008"},"hljs-variable":{color:"#660"},"hljs-template-variable":{color:"#660"},"hljs-string":{color:"#c41a16"},"hljs-regexp":{color:"#080"},"hljs-link":{color:"#080"},"hljs-title":{color:"#1c00cf"},"hljs-tag":{color:"#1c00cf"},"hljs-symbol":{color:"#1c00cf"},"hljs-bullet":{color:"#1c00cf"},"hljs-number":{color:"#1c00cf"},"hljs-meta":{color:"#1c00cf"},"hljs-section":{color:"#5c2699"},"hljs-class .hljs-title":{color:"#5c2699"},"hljs-type":{color:"#5c2699"},"hljs-attr":{color:"#5c2699"},"hljs-built_in":{color:"#5c2699"},"hljs-builtin-name":{color:"#5c2699"},"hljs-params":{color:"#5c2699"},"hljs-attribute":{color:"#000"},"hljs-subst":{color:"#000"},"hljs-formula":{backgroundColor:"#eee",fontStyle:"italic"},"hljs-addition":{backgroundColor:"#baeeba"},"hljs-deletion":{backgroundColor:"#ffc8bd"},"hljs-selector-id":{color:"#9b703f"},"hljs-selector-class":{color:"#9b703f"},"hljs-doctag":{fontWeight:"bold"},"hljs-strong":{fontWeight:"bold"},"hljs-emphasis":{fontStyle:"italic"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",color:"#eaeaea",background:"#000",padding:"0.5"},"hljs-subst":{color:"#eaeaea"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"},"hljs-builtin-name":{color:"#eaeaea"},"hljs-type":{color:"#eaeaea"},"hljs-params":{color:"#da0000"},"hljs-literal":{color:"#ff0000",fontWeight:"bolder"},"hljs-number":{color:"#ff0000",fontWeight:"bolder"},"hljs-name":{color:"#ff0000",fontWeight:"bolder"},"hljs-comment":{color:"#969896"},"hljs-selector-id":{color:"#00ffff"},"hljs-quote":{color:"#00ffff"},"hljs-template-variable":{color:"#00ffff",fontWeight:"bold"},"hljs-variable":{color:"#00ffff",fontWeight:"bold"},"hljs-title":{color:"#00ffff",fontWeight:"bold"},"hljs-selector-class":{color:"#fff000"},"hljs-keyword":{color:"#fff000"},"hljs-symbol":{color:"#fff000"},"hljs-string":{color:"#00ff00"},"hljs-bullet":{color:"#00ff00"},"hljs-tag":{color:"#000fff"},"hljs-section":{color:"#000fff"},"hljs-selector-tag":{color:"#000fff",fontWeight:"bold"},"hljs-attribute":{color:"#ff00ff"},"hljs-built_in":{color:"#ff00ff"},"hljs-regexp":{color:"#ff00ff"},"hljs-link":{color:"#ff00ff"},"hljs-meta":{color:"#fff",fontWeight:"bolder"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#3f3f3f",color:"#dcdcdc"},"hljs-keyword":{color:"#e3ceab"},"hljs-selector-tag":{color:"#e3ceab"},"hljs-tag":{color:"#e3ceab"},"hljs-template-tag":{color:"#dcdcdc"},"hljs-number":{color:"#8cd0d3"},"hljs-variable":{color:"#efdcbc"},"hljs-template-variable":{color:"#efdcbc"},"hljs-attribute":{color:"#efdcbc"},"hljs-literal":{color:"#efefaf"},"hljs-subst":{color:"#8f8f8f"},"hljs-title":{color:"#efef8f"},"hljs-name":{color:"#efef8f"},"hljs-selector-id":{color:"#efef8f"},"hljs-selector-class":{color:"#efef8f"},"hljs-section":{color:"#efef8f"},"hljs-type":{color:"#efef8f"},"hljs-symbol":{color:"#dca3a3"},"hljs-bullet":{color:"#dca3a3"},"hljs-link":{color:"#dca3a3"},"hljs-deletion":{color:"#cc9393"},"hljs-string":{color:"#cc9393"},"hljs-built_in":{color:"#cc9393"},"hljs-builtin-name":{color:"#cc9393"},"hljs-addition":{color:"#7f9f7f"},"hljs-comment":{color:"#7f9f7f"},"hljs-quote":{color:"#7f9f7f"},"hljs-meta":{color:"#7f9f7f"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}}},function(module,exports,__webpack_require__){"use strict";(function(setImmediate){function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var util=_interopDefault(__webpack_require__(544));var Heap=_interopDefault(__webpack_require__(545));function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var window$1=typeof window==="undefined"?null:window;var navigator=window$1?window$1.navigator:null;var document$1=window$1?window$1.document:null;var typeofstr=_typeof("");var typeofobj=_typeof({});var typeoffn=_typeof((function(){}));var typeofhtmlele=typeof HTMLElement==="undefined"?"undefined":_typeof(HTMLElement);var instanceStr=function instanceStr(obj){return obj&&obj.instanceString&&fn(obj.instanceString)?obj.instanceString():null};var string=function string(obj){return obj!=null&&_typeof(obj)==typeofstr};var fn=function fn(obj){return obj!=null&&_typeof(obj)===typeoffn};var array=function array(obj){return Array.isArray?Array.isArray(obj):obj!=null&&obj instanceof Array};var plainObject=function plainObject(obj){return obj!=null&&_typeof(obj)===typeofobj&&!array(obj)&&obj.constructor===Object};var object=function object(obj){return obj!=null&&_typeof(obj)===typeofobj};var number=function number(obj){return obj!=null&&_typeof(obj)===_typeof(1)&&!isNaN(obj)};var integer=function integer(obj){return number(obj)&&Math.floor(obj)===obj};var htmlElement=function htmlElement(obj){if("undefined"===typeofhtmlele){return undefined}else{return null!=obj&&obj instanceof HTMLElement}};var elementOrCollection=function elementOrCollection(obj){return element(obj)||collection(obj)};var element=function element(obj){return instanceStr(obj)==="collection"&&obj._private.single};var collection=function collection(obj){return instanceStr(obj)==="collection"&&!obj._private.single};var core=function core(obj){return instanceStr(obj)==="core"};var stylesheet=function stylesheet(obj){return instanceStr(obj)==="stylesheet"};var event=function event(obj){return instanceStr(obj)==="event"};var emptyString=function emptyString(obj){if(obj===undefined||obj===null){return true}else if(obj===""||obj.match(/^\s+$/)){return true}return false};var domElement=function domElement(obj){if(typeof HTMLElement==="undefined"){return false}else{return obj instanceof HTMLElement}};var boundingBox=function boundingBox(obj){return plainObject(obj)&&number(obj.x1)&&number(obj.x2)&&number(obj.y1)&&number(obj.y2)};var promise=function promise(obj){return object(obj)&&fn(obj.then)};var ms=function ms(){return navigator&&navigator.userAgent.match(/msie|trident|edge/i)};var memoize=function memoize(fn,keyFn){if(!keyFn){keyFn=function keyFn(){if(arguments.length===1){return arguments[0]}else if(arguments.length===0){return"undefined"}var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}return args.join("$")}}var memoizedFn=function memoizedFn(){var self=this;var args=arguments;var ret;var k=keyFn.apply(self,args);var cache=memoizedFn.cache;if(!(ret=cache[k])){ret=cache[k]=fn.apply(self,args)}return ret};memoizedFn.cache={};return memoizedFn};var camel2dash=memoize((function(str){return str.replace(/([A-Z])/g,(function(v){return"-"+v.toLowerCase()}))}));var dash2camel=memoize((function(str){return str.replace(/(-\w)/g,(function(v){return v[1].toUpperCase()}))}));var prependCamel=memoize((function(prefix,str){return prefix+str[0].toUpperCase()+str.substring(1)}),(function(prefix,str){return prefix+"$"+str}));var capitalize=function capitalize(str){if(emptyString(str)){return str}return str.charAt(0).toUpperCase()+str.substring(1)};var number$1="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))";var rgba="rgb[a]?\\(("+number$1+"[%]?)\\s*,\\s*("+number$1+"[%]?)\\s*,\\s*("+number$1+"[%]?)(?:\\s*,\\s*("+number$1+"))?\\)";var rgbaNoBackRefs="rgb[a]?\\((?:"+number$1+"[%]?)\\s*,\\s*(?:"+number$1+"[%]?)\\s*,\\s*(?:"+number$1+"[%]?)(?:\\s*,\\s*(?:"+number$1+"))?\\)";var hsla="hsl[a]?\\(("+number$1+")\\s*,\\s*("+number$1+"[%])\\s*,\\s*("+number$1+"[%])(?:\\s*,\\s*("+number$1+"))?\\)";var hslaNoBackRefs="hsl[a]?\\((?:"+number$1+")\\s*,\\s*(?:"+number$1+"[%])\\s*,\\s*(?:"+number$1+"[%])(?:\\s*,\\s*(?:"+number$1+"))?\\)";var hex3="\\#[0-9a-fA-F]{3}";var hex6="\\#[0-9a-fA-F]{6}";var ascending=function ascending(a,b){if(a<b){return-1}else if(a>b){return 1}else{return 0}};var descending=function descending(a,b){return-1*ascending(a,b)};var extend=Object.assign!=null?Object.assign.bind(Object):function(tgt){var args=arguments;for(var i=1;i<args.length;i++){var obj=args[i];if(obj==null){continue}var keys=Object.keys(obj);for(var j=0;j<keys.length;j++){var k=keys[j];tgt[k]=obj[k]}}return tgt};var hex2tuple=function hex2tuple(hex){if(!(hex.length===4||hex.length===7)||hex[0]!=="#"){return}var shortHex=hex.length===4;var r,g,b;var base=16;if(shortHex){r=parseInt(hex[1]+hex[1],base);g=parseInt(hex[2]+hex[2],base);b=parseInt(hex[3]+hex[3],base)}else{r=parseInt(hex[1]+hex[2],base);g=parseInt(hex[3]+hex[4],base);b=parseInt(hex[5]+hex[6],base)}return[r,g,b]};var hsl2tuple=function hsl2tuple(hsl){var ret;var h,s,l,a,r,g,b;function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p}var m=new RegExp("^"+hsla+"$").exec(hsl);if(m){h=parseInt(m[1]);if(h<0){h=(360- -1*h%360)%360}else if(h>360){h=h%360}h/=360;s=parseFloat(m[2]);if(s<0||s>100){return}s=s/100;l=parseFloat(m[3]);if(l<0||l>100){return}l=l/100;a=m[4];if(a!==undefined){a=parseFloat(a);if(a<0||a>1){return}}if(s===0){r=g=b=Math.round(l*255)}else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=Math.round(255*hue2rgb(p,q,h+1/3));g=Math.round(255*hue2rgb(p,q,h));b=Math.round(255*hue2rgb(p,q,h-1/3))}ret=[r,g,b,a]}return ret};var rgb2tuple=function rgb2tuple(rgb){var ret;var m=new RegExp("^"+rgba+"$").exec(rgb);if(m){ret=[];var isPct=[];for(var i=1;i<=3;i++){var channel=m[i];if(channel[channel.length-1]==="%"){isPct[i]=true}channel=parseFloat(channel);if(isPct[i]){channel=channel/100*255}if(channel<0||channel>255){return}ret.push(Math.floor(channel))}var atLeastOneIsPct=isPct[1]||isPct[2]||isPct[3];var allArePct=isPct[1]&&isPct[2]&&isPct[3];if(atLeastOneIsPct&&!allArePct){return}var alpha=m[4];if(alpha!==undefined){alpha=parseFloat(alpha);if(alpha<0||alpha>1){return}ret.push(alpha)}}return ret};var colorname2tuple=function colorname2tuple(color){return colors[color.toLowerCase()]};var color2tuple=function color2tuple(color){return(array(color)?color:null)||colorname2tuple(color)||hex2tuple(color)||rgb2tuple(color)||hsl2tuple(color)};var colors={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var setMap=function setMap(options){var obj=options.map;var keys=options.keys;var l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(plainObject(key)){throw Error("Tried to set map with object key")}if(i<keys.length-1){if(obj[key]==null){obj[key]={}}obj=obj[key]}else{obj[key]=options.value}}};var getMap=function getMap(options){var obj=options.map;var keys=options.keys;var l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(plainObject(key)){throw Error("Tried to get map with object key")}obj=obj[key];if(obj==null){return obj}}return obj};var performance=window$1?window$1.performance:null;var pnow=performance&&performance.now?function(){return performance.now()}:function(){return Date.now()};var raf=function(){if(window$1){if(window$1.requestAnimationFrame){return function(fn){window$1.requestAnimationFrame(fn)}}else if(window$1.mozRequestAnimationFrame){return function(fn){window$1.mozRequestAnimationFrame(fn)}}else if(window$1.webkitRequestAnimationFrame){return function(fn){window$1.webkitRequestAnimationFrame(fn)}}else if(window$1.msRequestAnimationFrame){return function(fn){window$1.msRequestAnimationFrame(fn)}}}return function(fn){if(fn){setTimeout((function(){fn(pnow())}),1e3/60)}}}();var requestAnimationFrame=function requestAnimationFrame(fn){return raf(fn)};var performanceNow=pnow;var DEFAULT_SEED=5381;var hashIterableInts=function hashIterableInts(iterator){var seed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:DEFAULT_SEED;var hash=seed;var entry;for(;;){entry=iterator.next();if(entry.done){break}hash=(hash<<5)+hash+entry.value|0}return hash};var hashInt=function hashInt(num){var seed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:DEFAULT_SEED;return(seed<<5)+seed+num|0};var hashIntsArray=function hashIntsArray(ints,seed){var entry={value:0,done:false};var i=0;var length=ints.length;var iterator={next:function next(){if(i<length){entry.value=ints[i++]}else{entry.done=true}return entry}};return hashIterableInts(iterator,seed)};var hashString=function hashString(str,seed){var entry={value:0,done:false};var i=0;var length=str.length;var iterator={next:function next(){if(i<length){entry.value=str.charCodeAt(i++)}else{entry.done=true}return entry}};return hashIterableInts(iterator,seed)};var hashStrings=function hashStrings(){return hashStringsArray(arguments)};var hashStringsArray=function hashStringsArray(strs){var hash;for(var i=0;i<strs.length;i++){var str=strs[i];if(i===0){hash=hashString(str)}else{hash=hashString(str,hash)}}return hash};var warningsEnabled=true;var warnSupported=console.warn!=null;var traceSupported=console.trace!=null;var MAX_INT=Number.MAX_SAFE_INTEGER||9007199254740991;var trueify=function trueify(){return true};var falsify=function falsify(){return false};var zeroify=function zeroify(){return 0};var noop=function noop(){};var error=function error(msg){throw new Error(msg)};var warnings=function warnings(enabled){if(enabled!==undefined){warningsEnabled=!!enabled}else{return warningsEnabled}};var warn=function warn(msg){if(!warnings()){return}if(warnSupported){console.warn(msg)}else{console.log(msg);if(traceSupported){console.trace()}}};var clone=function clone(obj){return extend({},obj)};var copy=function copy(obj){if(obj==null){return obj}if(array(obj)){return obj.slice()}else if(plainObject(obj)){return clone(obj)}else{return obj}};var copyArray=function copyArray(arr){return arr.slice()};var uuid=function uuid(a,b){for(b=a="";a++<36;b+=a*51&52?(a^15?8^Math.random()*(a^20?16:4):4).toString(16):"-"){}return b};var _staticEmptyObject={};var staticEmptyObject=function staticEmptyObject(){return _staticEmptyObject};var defaults=function defaults(_defaults){var keys=Object.keys(_defaults);return function(opts){var filledOpts={};for(var i=0;i<keys.length;i++){var key=keys[i];var optVal=opts==null?undefined:opts[key];filledOpts[key]=optVal===undefined?_defaults[key]:optVal}return filledOpts}};var removeFromArray=function removeFromArray(arr,ele,manyCopies){for(var i=arr.length;i>=0;i--){if(arr[i]===ele){arr.splice(i,1);if(!manyCopies){break}}}};var clearArray=function clearArray(arr){arr.splice(0,arr.length)};var push=function push(arr,otherArr){for(var i=0;i<otherArr.length;i++){var el=otherArr[i];arr.push(el)}};var getPrefixedProperty=function getPrefixedProperty(obj,propName,prefix){if(prefix){propName=prependCamel(prefix,propName)}return obj[propName]};var setPrefixedProperty=function setPrefixedProperty(obj,propName,prefix,value){if(prefix){propName=prependCamel(prefix,propName)}obj[propName]=value};var ObjectMap=function(){function ObjectMap(){_classCallCheck(this,ObjectMap);this._obj={}}_createClass(ObjectMap,[{key:"set",value:function set(key,val){this._obj[key]=val;return this}},{key:"delete",value:function _delete(key){this._obj[key]=undefined;return this}},{key:"clear",value:function clear(){this._obj={}}},{key:"has",value:function has(key){return this._obj[key]!==undefined}},{key:"get",value:function get(key){return this._obj[key]}}]);return ObjectMap}();var Map$1=typeof Map!=="undefined"?Map:ObjectMap;var undef="undefined";var ObjectSet=function(){function ObjectSet(arrayOrObjectSet){_classCallCheck(this,ObjectSet);this._obj=Object.create(null);this.size=0;if(arrayOrObjectSet!=null){var arr;if(arrayOrObjectSet.instanceString!=null&&arrayOrObjectSet.instanceString()===this.instanceString()){arr=arrayOrObjectSet.toArray()}else{arr=arrayOrObjectSet}for(var i=0;i<arr.length;i++){this.add(arr[i])}}}_createClass(ObjectSet,[{key:"instanceString",value:function instanceString(){return"set"}},{key:"add",value:function add(val){var o=this._obj;if(o[val]!==1){o[val]=1;this.size++}}},{key:"delete",value:function _delete(val){var o=this._obj;if(o[val]===1){o[val]=0;this.size--}}},{key:"clear",value:function clear(){this._obj=Object.create(null)}},{key:"has",value:function has(val){return this._obj[val]===1}},{key:"toArray",value:function toArray(){var _this=this;return Object.keys(this._obj).filter((function(key){return _this.has(key)}))}},{key:"forEach",value:function forEach(callback,thisArg){return this.toArray().forEach(callback,thisArg)}}]);return ObjectSet}();var Set$1=(typeof Set==="undefined"?"undefined":_typeof(Set))!==undef?Set:ObjectSet;var Element=function Element(cy,params,restore){restore=restore===undefined||restore?true:false;if(cy===undefined||params===undefined||!core(cy)){error("An element must have a core reference and parameters set");return}var group=params.group;if(group==null){if(params.data&&params.data.source!=null&&params.data.target!=null){group="edges"}else{group="nodes"}}if(group!=="nodes"&&group!=="edges"){error("An element must be of type `nodes` or `edges`; you specified `"+group+"`");return}this.length=1;this[0]=this;var _p=this._private={cy:cy,single:true,data:params.data||{},position:params.position||{x:0,y:0},autoWidth:undefined,autoHeight:undefined,autoPadding:undefined,compoundBoundsClean:false,listeners:[],group:group,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:true,selected:params.selected?true:false,selectable:params.selectable===undefined?true:params.selectable?true:false,locked:params.locked?true:false,grabbed:false,grabbable:params.grabbable===undefined?true:params.grabbable?true:false,pannable:params.pannable===undefined?group==="edges"?true:false:params.pannable?true:false,active:false,classes:new Set$1,animation:{current:[],queue:[]},rscratch:{},scratch:params.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:false,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(_p.position.x==null){_p.position.x=0}if(_p.position.y==null){_p.position.y=0}if(params.renderedPosition){var rpos=params.renderedPosition;var pan=cy.pan();var zoom=cy.zoom();_p.position={x:(rpos.x-pan.x)/zoom,y:(rpos.y-pan.y)/zoom}}var classes=[];if(array(params.classes)){classes=params.classes}else if(string(params.classes)){classes=params.classes.split(/\s+/)}for(var i=0,l=classes.length;i<l;i++){var cls=classes[i];if(!cls||cls===""){continue}_p.classes.add(cls)}this.createEmitter();var bypass=params.style||params.css;if(bypass){warn("Setting a `style` bypass at element creation is deprecated");this.style(bypass)}if(restore===undefined||restore){this.restore()}};var defineSearch=function defineSearch(params){params={bfs:params.bfs||!params.dfs,dfs:params.dfs||!params.bfs};return function searchFn(roots,fn$1,directed){var options;if(plainObject(roots)&&!elementOrCollection(roots)){options=roots;roots=options.roots||options.root;fn$1=options.visit;directed=options.directed}directed=arguments.length===2&&!fn(fn$1)?fn$1:directed;fn$1=fn(fn$1)?fn$1:function(){};var cy=this._private.cy;var v=roots=string(roots)?this.filter(roots):roots;var Q=[];var connectedNodes=[];var connectedBy={};var id2depth={};var V={};var j=0;var found;var _this$byGroup=this.byGroup(),nodes=_this$byGroup.nodes,edges=_this$byGroup.edges;for(var i=0;i<v.length;i++){var vi=v[i];var viId=vi.id();if(vi.isNode()){Q.unshift(vi);if(params.bfs){V[viId]=true;connectedNodes.push(vi)}id2depth[viId]=0}}var _loop2=function _loop2(){var v=params.bfs?Q.shift():Q.pop();var vId=v.id();if(params.dfs){if(V[vId]){return"continue"}V[vId]=true;connectedNodes.push(v)}var depth=id2depth[vId];var prevEdge=connectedBy[vId];var src=prevEdge!=null?prevEdge.source():null;var tgt=prevEdge!=null?prevEdge.target():null;var prevNode=prevEdge==null?undefined:v.same(src)?tgt[0]:src[0];var ret=void 0;ret=fn$1(v,prevEdge,prevNode,j++,depth);if(ret===true){found=v;return"break"}if(ret===false){return"break"}var vwEdges=v.connectedEdges().filter((function(e){return(!directed||e.source().same(v))&&edges.has(e)}));for(var _i2=0;_i2<vwEdges.length;_i2++){var e=vwEdges[_i2];var w=e.connectedNodes().filter((function(n){return!n.same(v)&&nodes.has(n)}));var wId=w.id();if(w.length!==0&&!V[wId]){w=w[0];Q.push(w);if(params.bfs){V[wId]=true;connectedNodes.push(w)}connectedBy[wId]=e;id2depth[wId]=id2depth[vId]+1}}};_loop:while(Q.length!==0){var _ret=_loop2();switch(_ret){case"continue":continue;case"break":break _loop}}var connectedEles=cy.collection();for(var _i=0;_i<connectedNodes.length;_i++){var node=connectedNodes[_i];var edge=connectedBy[node.id()];if(edge!=null){connectedEles.merge(edge)}connectedEles.merge(node)}return{path:cy.collection(connectedEles),found:cy.collection(found)}}};var elesfn={breadthFirstSearch:defineSearch({bfs:true}),depthFirstSearch:defineSearch({dfs:true})};elesfn.bfs=elesfn.breadthFirstSearch;elesfn.dfs=elesfn.depthFirstSearch;var dijkstraDefaults=defaults({root:null,weight:function weight(edge){return 1},directed:false});var elesfn$1={dijkstra:function dijkstra(options){if(!plainObject(options)){var args=arguments;options={root:args[0],weight:args[1],directed:args[2]}}var _dijkstraDefaults=dijkstraDefaults(options),root=_dijkstraDefaults.root,weight=_dijkstraDefaults.weight,directed=_dijkstraDefaults.directed;var eles=this;var weightFn=weight;var source=string(root)?this.filter(root)[0]:root[0];var dist={};var prev={};var knownDist={};var _this$byGroup=this.byGroup(),nodes=_this$byGroup.nodes,edges=_this$byGroup.edges;edges.unmergeBy((function(ele){return ele.isLoop()}));var getDist=function getDist(node){return dist[node.id()]};var setDist=function setDist(node,d){dist[node.id()]=d;Q.updateItem(node)};var Q=new Heap((function(a,b){return getDist(a)-getDist(b)}));for(var i=0;i<nodes.length;i++){var node=nodes[i];dist[node.id()]=node.same(source)?0:Infinity;Q.push(node)}var distBetween=function distBetween(u,v){var uvs=(directed?u.edgesTo(v):u.edgesWith(v)).intersect(edges);var smallestDistance=Infinity;var smallestEdge;for(var _i=0;_i<uvs.length;_i++){var edge=uvs[_i];var _weight=weightFn(edge);if(_weight<smallestDistance||!smallestEdge){smallestDistance=_weight;smallestEdge=edge}}return{edge:smallestEdge,dist:smallestDistance}};while(Q.size()>0){var u=Q.pop();var smalletsDist=getDist(u);var uid=u.id();knownDist[uid]=smalletsDist;if(smalletsDist===Infinity){continue}var neighbors=u.neighborhood().intersect(nodes);for(var _i2=0;_i2<neighbors.length;_i2++){var v=neighbors[_i2];var vid=v.id();var vDist=distBetween(u,v);var alt=smalletsDist+vDist.dist;if(alt<getDist(v)){setDist(v,alt);prev[vid]={node:u,edge:vDist.edge}}}}return{distanceTo:function distanceTo(node){var target=string(node)?nodes.filter(node)[0]:node[0];return knownDist[target.id()]},pathTo:function pathTo(node){var target=string(node)?nodes.filter(node)[0]:node[0];var S=[];var u=target;var uid=u.id();if(target.length>0){S.unshift(target);while(prev[uid]){var p=prev[uid];S.unshift(p.edge);S.unshift(p.node);u=p.node;uid=u.id()}}return eles.spawn(S)}}}};var elesfn$2={kruskal:function kruskal(weightFn){weightFn=weightFn||function(edge){return 1};var _this$byGroup=this.byGroup(),nodes=_this$byGroup.nodes,edges=_this$byGroup.edges;var numNodes=nodes.length;var forest=new Array(numNodes);var A=nodes;var findSetIndex=function findSetIndex(ele){for(var i=0;i<forest.length;i++){var eles=forest[i];if(eles.has(ele)){return i}}};for(var i=0;i<numNodes;i++){forest[i]=this.spawn(nodes[i])}var S=edges.sort((function(a,b){return weightFn(a)-weightFn(b)}));for(var _i=0;_i<S.length;_i++){var edge=S[_i];var u=edge.source()[0];var v=edge.target()[0];var setUIndex=findSetIndex(u);var setVIndex=findSetIndex(v);var setU=forest[setUIndex];var setV=forest[setVIndex];if(setUIndex!==setVIndex){A.merge(edge);setU.merge(setV);forest.splice(setVIndex,1)}}return A}};var aStarDefaults=defaults({root:null,goal:null,weight:function weight(edge){return 1},heuristic:function heuristic(edge){return 0},directed:false});var elesfn$3={aStar:function aStar(options){var cy=this.cy();var _aStarDefaults=aStarDefaults(options),root=_aStarDefaults.root,goal=_aStarDefaults.goal,heuristic=_aStarDefaults.heuristic,directed=_aStarDefaults.directed,weight=_aStarDefaults.weight;root=cy.collection(root)[0];goal=cy.collection(goal)[0];var sid=root.id();var tid=goal.id();var gScore={};var fScore={};var closedSetIds={};var openSet=new Heap((function(a,b){return fScore[a.id()]-fScore[b.id()]}));var openSetIds=new Set$1;var cameFrom={};var cameFromEdge={};var addToOpenSet=function addToOpenSet(ele,id){openSet.push(ele);openSetIds.add(id)};var cMin,cMinId;var popFromOpenSet=function popFromOpenSet(){cMin=openSet.pop();cMinId=cMin.id();openSetIds["delete"](cMinId)};var isInOpenSet=function isInOpenSet(id){return openSetIds.has(id)};addToOpenSet(root,sid);gScore[sid]=0;fScore[sid]=heuristic(root);var steps=0;while(openSet.size()>0){popFromOpenSet();steps++;if(cMinId===tid){var path=[];var pathNode=goal;var pathNodeId=tid;var pathEdge=cameFromEdge[pathNodeId];for(;;){path.unshift(pathNode);if(pathEdge!=null){path.unshift(pathEdge)}pathNode=cameFrom[pathNodeId];if(pathNode==null){break}pathNodeId=pathNode.id();pathEdge=cameFromEdge[pathNodeId]}return{found:true,distance:gScore[cMinId],path:this.spawn(path),steps:steps}}closedSetIds[cMinId]=true;var vwEdges=cMin._private.edges;for(var i=0;i<vwEdges.length;i++){var e=vwEdges[i];if(!this.hasElementWithId(e.id())){continue}if(directed&&e.data("source")!==cMinId){continue}var wSrc=e.source();var wTgt=e.target();var w=wSrc.id()!==cMinId?wSrc:wTgt;var wid=w.id();if(!this.hasElementWithId(wid)){continue}if(closedSetIds[wid]){continue}var tempScore=gScore[cMinId]+weight(e);if(!isInOpenSet(wid)){gScore[wid]=tempScore;fScore[wid]=tempScore+heuristic(w);addToOpenSet(w,wid);cameFrom[wid]=cMin;cameFromEdge[wid]=e;continue}if(tempScore<gScore[wid]){gScore[wid]=tempScore;fScore[wid]=tempScore+heuristic(w);cameFrom[wid]=cMin}}}return{found:false,distance:undefined,path:undefined,steps:steps}}};var floydWarshallDefaults=defaults({weight:function weight(edge){return 1},directed:false});var elesfn$4={floydWarshall:function floydWarshall(options){var cy=this.cy();var _floydWarshallDefault=floydWarshallDefaults(options),weight=_floydWarshallDefault.weight,directed=_floydWarshallDefault.directed;var weightFn=weight;var _this$byGroup=this.byGroup(),nodes=_this$byGroup.nodes,edges=_this$byGroup.edges;var N=nodes.length;var Nsq=N*N;var indexOf=function indexOf(node){return nodes.indexOf(node)};var atIndex=function atIndex(i){return nodes[i]};var dist=new Array(Nsq);for(var n=0;n<Nsq;n++){var j=n%N;var i=(n-j)/N;if(i===j){dist[n]=0}else{dist[n]=Infinity}}var next=new Array(Nsq);var edgeNext=new Array(Nsq);for(var _i=0;_i<edges.length;_i++){var edge=edges[_i];var src=edge.source()[0];var tgt=edge.target()[0];if(src===tgt){continue}var s=indexOf(src);var t=indexOf(tgt);var st=s*N+t;var _weight=weightFn(edge);if(dist[st]>_weight){dist[st]=_weight;next[st]=t;edgeNext[st]=edge}if(!directed){var ts=t*N+s;if(!directed&&dist[ts]>_weight){dist[ts]=_weight;next[ts]=s;edgeNext[ts]=edge}}}for(var k=0;k<N;k++){for(var _i2=0;_i2<N;_i2++){var ik=_i2*N+k;for(var _j=0;_j<N;_j++){var ij=_i2*N+_j;var kj=k*N+_j;if(dist[ik]+dist[kj]<dist[ij]){dist[ij]=dist[ik]+dist[kj];next[ij]=next[ik]}}}}var getArgEle=function getArgEle(ele){return(string(ele)?cy.filter(ele):ele)[0]};var indexOfArgEle=function indexOfArgEle(ele){return indexOf(getArgEle(ele))};var res={distance:function distance(from,to){var i=indexOfArgEle(from);var j=indexOfArgEle(to);return dist[i*N+j]},path:function path(from,to){var i=indexOfArgEle(from);var j=indexOfArgEle(to);var fromNode=atIndex(i);if(i===j){return fromNode.collection()}if(next[i*N+j]==null){return cy.collection()}var path=cy.collection();var prev=i;var edge;path.merge(fromNode);while(i!==j){prev=i;i=next[i*N+j];edge=edgeNext[prev*N+i];path.merge(edge);path.merge(atIndex(i))}return path}};return res}};var bellmanFordDefaults=defaults({weight:function weight(edge){return 1},directed:false,root:null});var elesfn$5={bellmanFord:function bellmanFord(options){var _this=this;var _bellmanFordDefaults=bellmanFordDefaults(options),weight=_bellmanFordDefaults.weight,directed=_bellmanFordDefaults.directed,root=_bellmanFordDefaults.root;var weightFn=weight;var eles=this;var cy=this.cy();var _this$byGroup=this.byGroup(),edges=_this$byGroup.edges,nodes=_this$byGroup.nodes;var numNodes=nodes.length;var infoMap=new Map$1;var hasNegativeWeightCycle=false;var negativeWeightCycles=[];root=cy.collection(root)[0];edges.unmergeBy((function(edge){return edge.isLoop()}));var numEdges=edges.length;var getInfo=function getInfo(node){var obj=infoMap.get(node.id());if(!obj){obj={};infoMap.set(node.id(),obj)}return obj};var getNodeFromTo=function getNodeFromTo(to){return(string(to)?cy.$(to):to)[0]};var distanceTo=function distanceTo(to){return getInfo(getNodeFromTo(to)).dist};var pathTo=function pathTo(to){var thisStart=arguments.length>1&&arguments[1]!==undefined?arguments[1]:root;var end=getNodeFromTo(to);var path=[];var node=end;for(;;){if(node==null){return _this.spawn()}var _getInfo=getInfo(node),edge=_getInfo.edge,pred=_getInfo.pred;path.unshift(node[0]);if(node.same(thisStart)&&path.length>0){break}if(edge!=null){path.unshift(edge)}node=pred}return eles.spawn(path)};for(var i=0;i<numNodes;i++){var node=nodes[i];var info=getInfo(node);if(node.same(root)){info.dist=0}else{info.dist=Infinity}info.pred=null;info.edge=null}var replacedEdge=false;var checkForEdgeReplacement=function checkForEdgeReplacement(node1,node2,edge,info1,info2,weight){var dist=info1.dist+weight;if(dist<info2.dist&&!edge.same(info1.edge)){info2.dist=dist;info2.pred=node1;info2.edge=edge;replacedEdge=true}};for(var _i=1;_i<numNodes;_i++){replacedEdge=false;for(var e=0;e<numEdges;e++){var edge=edges[e];var src=edge.source();var tgt=edge.target();var _weight=weightFn(edge);var srcInfo=getInfo(src);var tgtInfo=getInfo(tgt);checkForEdgeReplacement(src,tgt,edge,srcInfo,tgtInfo,_weight);if(!directed){checkForEdgeReplacement(tgt,src,edge,tgtInfo,srcInfo,_weight)}}if(!replacedEdge){break}}if(replacedEdge){for(var _e=0;_e<numEdges;_e++){var _edge=edges[_e];var _src=_edge.source();var _tgt=_edge.target();var _weight2=weightFn(_edge);var srcDist=getInfo(_src).dist;var tgtDist=getInfo(_tgt).dist;if(srcDist+_weight2<tgtDist||!directed&&tgtDist+_weight2<srcDist){warn("Graph contains a negative weight cycle for Bellman-Ford");hasNegativeWeightCycle=true;break}}}return{distanceTo:distanceTo,pathTo:pathTo,hasNegativeWeightCycle:hasNegativeWeightCycle,negativeWeightCycles:negativeWeightCycles}}};var sqrt2=Math.sqrt(2);var collapse=function collapse(edgeIndex,nodeMap,remainingEdges){if(remainingEdges.length===0){error("Karger-Stein must be run on a connected (sub)graph")}var edgeInfo=remainingEdges[edgeIndex];var sourceIn=edgeInfo[1];var targetIn=edgeInfo[2];var partition1=nodeMap[sourceIn];var partition2=nodeMap[targetIn];var newEdges=remainingEdges;for(var i=newEdges.length-1;i>=0;i--){var edge=newEdges[i];var src=edge[1];var tgt=edge[2];if(nodeMap[src]===partition1&&nodeMap[tgt]===partition2||nodeMap[src]===partition2&&nodeMap[tgt]===partition1){newEdges.splice(i,1)}}for(var _i=0;_i<newEdges.length;_i++){var _edge=newEdges[_i];if(_edge[1]===partition2){newEdges[_i]=_edge.slice();newEdges[_i][1]=partition1}else if(_edge[2]===partition2){newEdges[_i]=_edge.slice();newEdges[_i][2]=partition1}}for(var _i2=0;_i2<nodeMap.length;_i2++){if(nodeMap[_i2]===partition2){nodeMap[_i2]=partition1}}return newEdges};var contractUntil=function contractUntil(metaNodeMap,remainingEdges,size,sizeLimit){while(size>sizeLimit){var edgeIndex=Math.floor(Math.random()*remainingEdges.length);remainingEdges=collapse(edgeIndex,metaNodeMap,remainingEdges);size--}return remainingEdges};var elesfn$6={kargerStein:function kargerStein(){var _this$byGroup=this.byGroup(),nodes=_this$byGroup.nodes,edges=_this$byGroup.edges;edges.unmergeBy((function(edge){return edge.isLoop()}));var numNodes=nodes.length;var numEdges=edges.length;var numIter=Math.ceil(Math.pow(Math.log(numNodes)/Math.LN2,2));var stopSize=Math.floor(numNodes/sqrt2);if(numNodes<2){error("At least 2 nodes are required for Karger-Stein algorithm");return undefined}var edgeIndexes=[];for(var i=0;i<numEdges;i++){var e=edges[i];edgeIndexes.push([i,nodes.indexOf(e.source()),nodes.indexOf(e.target())])}var minCutSize=Infinity;var minCutEdgeIndexes=[];var minCutNodeMap=new Array(numNodes);var metaNodeMap=new Array(numNodes);var metaNodeMap2=new Array(numNodes);var copyNodesMap=function copyNodesMap(from,to){for(var _i3=0;_i3<numNodes;_i3++){to[_i3]=from[_i3]}};for(var iter=0;iter<=numIter;iter++){for(var _i4=0;_i4<numNodes;_i4++){metaNodeMap[_i4]=_i4}var edgesState=contractUntil(metaNodeMap,edgeIndexes.slice(),numNodes,stopSize);var edgesState2=edgesState.slice();copyNodesMap(metaNodeMap,metaNodeMap2);var res1=contractUntil(metaNodeMap,edgesState,stopSize,2);var res2=contractUntil(metaNodeMap2,edgesState2,stopSize,2);if(res1.length<=res2.length&&res1.length<minCutSize){minCutSize=res1.length;minCutEdgeIndexes=res1;copyNodesMap(metaNodeMap,minCutNodeMap)}else if(res2.length<=res1.length&&res2.length<minCutSize){minCutSize=res2.length;minCutEdgeIndexes=res2;copyNodesMap(metaNodeMap2,minCutNodeMap)}}var cut=this.spawn(minCutEdgeIndexes.map((function(e){return edges[e[0]]})));var partition1=this.spawn();var partition2=this.spawn();var witnessNodePartition=minCutNodeMap[0];for(var _i5=0;_i5<minCutNodeMap.length;_i5++){var partitionId=minCutNodeMap[_i5];var node=nodes[_i5];if(partitionId===witnessNodePartition){partition1.merge(node)}else{partition2.merge(node)}}var ret={cut:cut,partition1:partition1,partition2:partition2};return ret}};var copyPosition=function copyPosition(p){return{x:p.x,y:p.y}};var modelToRenderedPosition=function modelToRenderedPosition(p,zoom,pan){return{x:p.x*zoom+pan.x,y:p.y*zoom+pan.y}};var renderedToModelPosition=function renderedToModelPosition(p,zoom,pan){return{x:(p.x-pan.x)/zoom,y:(p.y-pan.y)/zoom}};var array2point=function array2point(arr){return{x:arr[0],y:arr[1]}};var min=function min(arr){var begin=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var end=arguments.length>2&&arguments[2]!==undefined?arguments[2]:arr.length;var min=Infinity;for(var i=begin;i<end;i++){var val=arr[i];if(isFinite(val)){min=Math.min(val,min)}}return min};var max=function max(arr){var begin=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var end=arguments.length>2&&arguments[2]!==undefined?arguments[2]:arr.length;var max=-Infinity;for(var i=begin;i<end;i++){var val=arr[i];if(isFinite(val)){max=Math.max(val,max)}}return max};var mean=function mean(arr){var begin=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var end=arguments.length>2&&arguments[2]!==undefined?arguments[2]:arr.length;var total=0;var n=0;for(var i=begin;i<end;i++){var val=arr[i];if(isFinite(val)){total+=val;n++}}return total/n};var median=function median(arr){var begin=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var end=arguments.length>2&&arguments[2]!==undefined?arguments[2]:arr.length;var copy=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var sort=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var includeHoles=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;if(copy){arr=arr.slice(begin,end)}else{if(end<arr.length){arr.splice(end,arr.length-end)}if(begin>0){arr.splice(0,begin)}}var off=0;for(var i=arr.length-1;i>=0;i--){var v=arr[i];if(includeHoles){if(!isFinite(v)){arr[i]=-Infinity;off++}}else{arr.splice(i,1)}}if(sort){arr.sort((function(a,b){return a-b}))}var len=arr.length;var mid=Math.floor(len/2);if(len%2!==0){return arr[mid+1+off]}else{return(arr[mid-1+off]+arr[mid+off])/2}};var deg2rad=function deg2rad(deg){return Math.PI*deg/180};var getAngleFromDisp=function getAngleFromDisp(dispX,dispY){return Math.atan2(dispY,dispX)-Math.PI/2};var log2=Math.log2||function(n){return Math.log(n)/Math.log(2)};var signum=function signum(x){if(x>0){return 1}else if(x<0){return-1}else{return 0}};var dist=function dist(p1,p2){return Math.sqrt(sqdist(p1,p2))};var sqdist=function sqdist(p1,p2){var dx=p2.x-p1.x;var dy=p2.y-p1.y;return dx*dx+dy*dy};var inPlaceSumNormalize=function inPlaceSumNormalize(v){var length=v.length;var total=0;for(var i=0;i<length;i++){total+=v[i]}for(var _i=0;_i<length;_i++){v[_i]=v[_i]/total}return v};var qbezierAt=function qbezierAt(p0,p1,p2,t){return(1-t)*(1-t)*p0+2*(1-t)*t*p1+t*t*p2};var qbezierPtAt=function qbezierPtAt(p0,p1,p2,t){return{x:qbezierAt(p0.x,p1.x,p2.x,t),y:qbezierAt(p0.y,p1.y,p2.y,t)}};var lineAt=function lineAt(p0,p1,t,d){var vec={x:p1.x-p0.x,y:p1.y-p0.y};var vecDist=dist(p0,p1);var normVec={x:vec.x/vecDist,y:vec.y/vecDist};t=t==null?0:t;d=d!=null?d:t*vecDist;return{x:p0.x+normVec.x*d,y:p0.y+normVec.y*d}};var bound=function bound(min,val,max){return Math.max(min,Math.min(max,val))};var makeBoundingBox=function makeBoundingBox(bb){if(bb==null){return{x1:Infinity,y1:Infinity,x2:-Infinity,y2:-Infinity,w:0,h:0}}else if(bb.x1!=null&&bb.y1!=null){if(bb.x2!=null&&bb.y2!=null&&bb.x2>=bb.x1&&bb.y2>=bb.y1){return{x1:bb.x1,y1:bb.y1,x2:bb.x2,y2:bb.y2,w:bb.x2-bb.x1,h:bb.y2-bb.y1}}else if(bb.w!=null&&bb.h!=null&&bb.w>=0&&bb.h>=0){return{x1:bb.x1,y1:bb.y1,x2:bb.x1+bb.w,y2:bb.y1+bb.h,w:bb.w,h:bb.h}}}};var copyBoundingBox=function copyBoundingBox(bb){return{x1:bb.x1,x2:bb.x2,w:bb.w,y1:bb.y1,y2:bb.y2,h:bb.h}};var clearBoundingBox=function clearBoundingBox(bb){bb.x1=Infinity;bb.y1=Infinity;bb.x2=-Infinity;bb.y2=-Infinity;bb.w=0;bb.h=0};var updateBoundingBox=function updateBoundingBox(bb1,bb2){bb1.x1=Math.min(bb1.x1,bb2.x1);bb1.x2=Math.max(bb1.x2,bb2.x2);bb1.w=bb1.x2-bb1.x1;bb1.y1=Math.min(bb1.y1,bb2.y1);bb1.y2=Math.max(bb1.y2,bb2.y2);bb1.h=bb1.y2-bb1.y1};var expandBoundingBoxByPoint=function expandBoundingBoxByPoint(bb,x,y){bb.x1=Math.min(bb.x1,x);bb.x2=Math.max(bb.x2,x);bb.w=bb.x2-bb.x1;bb.y1=Math.min(bb.y1,y);bb.y2=Math.max(bb.y2,y);bb.h=bb.y2-bb.y1};var expandBoundingBox=function expandBoundingBox(bb){var padding=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;bb.x1-=padding;bb.x2+=padding;bb.y1-=padding;bb.y2+=padding;bb.w=bb.x2-bb.x1;bb.h=bb.y2-bb.y1;return bb};var expandBoundingBoxSides=function expandBoundingBoxSides(bb){var padding=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0];var top,right,bottom,left;if(padding.length===1){top=right=bottom=left=padding[0]}else if(padding.length===2){top=bottom=padding[0];left=right=padding[1]}else if(padding.length===4){var _padding=_slicedToArray(padding,4);top=_padding[0];right=_padding[1];bottom=_padding[2];left=_padding[3]}bb.x1-=left;bb.x2+=right;bb.y1-=top;bb.y2+=bottom;bb.w=bb.x2-bb.x1;bb.h=bb.y2-bb.y1;return bb};var assignBoundingBox=function assignBoundingBox(bb1,bb2){bb1.x1=bb2.x1;bb1.y1=bb2.y1;bb1.x2=bb2.x2;bb1.y2=bb2.y2;bb1.w=bb1.x2-bb1.x1;bb1.h=bb1.y2-bb1.y1};var assignShiftToBoundingBox=function assignShiftToBoundingBox(bb,delta){bb.x1+=delta.x;bb.x2+=delta.x;bb.y1+=delta.y;bb.y2+=delta.y};var boundingBoxesIntersect=function boundingBoxesIntersect(bb1,bb2){if(bb1.x1>bb2.x2){return false}if(bb2.x1>bb1.x2){return false}if(bb1.x2<bb2.x1){return false}if(bb2.x2<bb1.x1){return false}if(bb1.y2<bb2.y1){return false}if(bb2.y2<bb1.y1){return false}if(bb1.y1>bb2.y2){return false}if(bb2.y1>bb1.y2){return false}return true};var inBoundingBox=function inBoundingBox(bb,x,y){return bb.x1<=x&&x<=bb.x2&&bb.y1<=y&&y<=bb.y2};var pointInBoundingBox=function pointInBoundingBox(bb,pt){return inBoundingBox(bb,pt.x,pt.y)};var boundingBoxInBoundingBox=function boundingBoxInBoundingBox(bb1,bb2){return inBoundingBox(bb1,bb2.x1,bb2.y1)&&inBoundingBox(bb1,bb2.x2,bb2.y2)};var roundRectangleIntersectLine=function roundRectangleIntersectLine(x,y,nodeX,nodeY,width,height,padding){var cornerRadius=getRoundRectangleRadius(width,height);var halfWidth=width/2;var halfHeight=height/2;var straightLineIntersections;{var topStartX=nodeX-halfWidth+cornerRadius-padding;var topStartY=nodeY-halfHeight-padding;var topEndX=nodeX+halfWidth-cornerRadius+padding;var topEndY=topStartY;straightLineIntersections=finiteLinesIntersect(x,y,nodeX,nodeY,topStartX,topStartY,topEndX,topEndY,false);if(straightLineIntersections.length>0){return straightLineIntersections}}{var rightStartX=nodeX+halfWidth+padding;var rightStartY=nodeY-halfHeight+cornerRadius-padding;var rightEndX=rightStartX;var rightEndY=nodeY+halfHeight-cornerRadius+padding;straightLineIntersections=finiteLinesIntersect(x,y,nodeX,nodeY,rightStartX,rightStartY,rightEndX,rightEndY,false);if(straightLineIntersections.length>0){return straightLineIntersections}}{var bottomStartX=nodeX-halfWidth+cornerRadius-padding;var bottomStartY=nodeY+halfHeight+padding;var bottomEndX=nodeX+halfWidth-cornerRadius+padding;var bottomEndY=bottomStartY;straightLineIntersections=finiteLinesIntersect(x,y,nodeX,nodeY,bottomStartX,bottomStartY,bottomEndX,bottomEndY,false);if(straightLineIntersections.length>0){return straightLineIntersections}}{var leftStartX=nodeX-halfWidth-padding;var leftStartY=nodeY-halfHeight+cornerRadius-padding;var leftEndX=leftStartX;var leftEndY=nodeY+halfHeight-cornerRadius+padding;straightLineIntersections=finiteLinesIntersect(x,y,nodeX,nodeY,leftStartX,leftStartY,leftEndX,leftEndY,false);if(straightLineIntersections.length>0){return straightLineIntersections}}var arcIntersections;{var topLeftCenterX=nodeX-halfWidth+cornerRadius;var topLeftCenterY=nodeY-halfHeight+cornerRadius;arcIntersections=intersectLineCircle(x,y,nodeX,nodeY,topLeftCenterX,topLeftCenterY,cornerRadius+padding);if(arcIntersections.length>0&&arcIntersections[0]<=topLeftCenterX&&arcIntersections[1]<=topLeftCenterY){return[arcIntersections[0],arcIntersections[1]]}}{var topRightCenterX=nodeX+halfWidth-cornerRadius;var topRightCenterY=nodeY-halfHeight+cornerRadius;arcIntersections=intersectLineCircle(x,y,nodeX,nodeY,topRightCenterX,topRightCenterY,cornerRadius+padding);if(arcIntersections.length>0&&arcIntersections[0]>=topRightCenterX&&arcIntersections[1]<=topRightCenterY){return[arcIntersections[0],arcIntersections[1]]}}{var bottomRightCenterX=nodeX+halfWidth-cornerRadius;var bottomRightCenterY=nodeY+halfHeight-cornerRadius;arcIntersections=intersectLineCircle(x,y,nodeX,nodeY,bottomRightCenterX,bottomRightCenterY,cornerRadius+padding);if(arcIntersections.length>0&&arcIntersections[0]>=bottomRightCenterX&&arcIntersections[1]>=bottomRightCenterY){return[arcIntersections[0],arcIntersections[1]]}}{var bottomLeftCenterX=nodeX-halfWidth+cornerRadius;var bottomLeftCenterY=nodeY+halfHeight-cornerRadius;arcIntersections=intersectLineCircle(x,y,nodeX,nodeY,bottomLeftCenterX,bottomLeftCenterY,cornerRadius+padding);if(arcIntersections.length>0&&arcIntersections[0]<=bottomLeftCenterX&&arcIntersections[1]>=bottomLeftCenterY){return[arcIntersections[0],arcIntersections[1]]}}return[]};var inLineVicinity=function inLineVicinity(x,y,lx1,ly1,lx2,ly2,tolerance){var t=tolerance;var x1=Math.min(lx1,lx2);var x2=Math.max(lx1,lx2);var y1=Math.min(ly1,ly2);var y2=Math.max(ly1,ly2);return x1-t<=x&&x<=x2+t&&y1-t<=y&&y<=y2+t};var inBezierVicinity=function inBezierVicinity(x,y,x1,y1,x2,y2,x3,y3,tolerance){var bb={x1:Math.min(x1,x3,x2)-tolerance,x2:Math.max(x1,x3,x2)+tolerance,y1:Math.min(y1,y3,y2)-tolerance,y2:Math.max(y1,y3,y2)+tolerance};if(x<bb.x1||x>bb.x2||y<bb.y1||y>bb.y2){return false}else{return true}};var solveQuadratic=function solveQuadratic(a,b,c,val){c-=val;var r=b*b-4*a*c;if(r<0){return[]}var sqrtR=Math.sqrt(r);var denom=2*a;var root1=(-b+sqrtR)/denom;var root2=(-b-sqrtR)/denom;return[root1,root2]};var solveCubic=function solveCubic(a,b,c,d,result){var epsilon=1e-5;if(a===0){a=epsilon}b/=a;c/=a;d/=a;var discriminant,q,r,dum1,s,t,term1,r13;q=(3*c-b*b)/9;r=-(27*d)+b*(9*c-2*(b*b));r/=54;discriminant=q*q*q+r*r;result[1]=0;term1=b/3;if(discriminant>0){s=r+Math.sqrt(discriminant);s=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3);t=r-Math.sqrt(discriminant);t=t<0?-Math.pow(-t,1/3):Math.pow(t,1/3);result[0]=-term1+s+t;term1+=(s+t)/2;result[4]=result[2]=-term1;term1=Math.sqrt(3)*(-t+s)/2;result[3]=term1;result[5]=-term1;return}result[5]=result[3]=0;if(discriminant===0){r13=r<0?-Math.pow(-r,1/3):Math.pow(r,1/3);result[0]=-term1+2*r13;result[4]=result[2]=-(r13+term1);return}q=-q;dum1=q*q*q;dum1=Math.acos(r/Math.sqrt(dum1));r13=2*Math.sqrt(q);result[0]=-term1+r13*Math.cos(dum1/3);result[2]=-term1+r13*Math.cos((dum1+2*Math.PI)/3);result[4]=-term1+r13*Math.cos((dum1+4*Math.PI)/3);return};var sqdistToQuadraticBezier=function sqdistToQuadraticBezier(x,y,x1,y1,x2,y2,x3,y3){var a=1*x1*x1-4*x1*x2+2*x1*x3+4*x2*x2-4*x2*x3+x3*x3+y1*y1-4*y1*y2+2*y1*y3+4*y2*y2-4*y2*y3+y3*y3;var b=1*9*x1*x2-3*x1*x1-3*x1*x3-6*x2*x2+3*x2*x3+9*y1*y2-3*y1*y1-3*y1*y3-6*y2*y2+3*y2*y3;var c=1*3*x1*x1-6*x1*x2+x1*x3-x1*x+2*x2*x2+2*x2*x-x3*x+3*y1*y1-6*y1*y2+y1*y3-y1*y+2*y2*y2+2*y2*y-y3*y;var d=1*x1*x2-x1*x1+x1*x-x2*x+y1*y2-y1*y1+y1*y-y2*y;var roots=[];solveCubic(a,b,c,d,roots);var zeroThreshold=1e-7;var params=[];for(var index=0;index<6;index+=2){if(Math.abs(roots[index+1])<zeroThreshold&&roots[index]>=0&&roots[index]<=1){params.push(roots[index])}}params.push(1);params.push(0);var minDistanceSquared=-1;var curX,curY,distSquared;for(var i=0;i<params.length;i++){curX=Math.pow(1-params[i],2)*x1+2*(1-params[i])*params[i]*x2+params[i]*params[i]*x3;curY=Math.pow(1-params[i],2)*y1+2*(1-params[i])*params[i]*y2+params[i]*params[i]*y3;distSquared=Math.pow(curX-x,2)+Math.pow(curY-y,2);if(minDistanceSquared>=0){if(distSquared<minDistanceSquared){minDistanceSquared=distSquared}}else{minDistanceSquared=distSquared}}return minDistanceSquared};var sqdistToFiniteLine=function sqdistToFiniteLine(x,y,x1,y1,x2,y2){var offset=[x-x1,y-y1];var line=[x2-x1,y2-y1];var lineSq=line[0]*line[0]+line[1]*line[1];var hypSq=offset[0]*offset[0]+offset[1]*offset[1];var dotProduct=offset[0]*line[0]+offset[1]*line[1];var adjSq=dotProduct*dotProduct/lineSq;if(dotProduct<0){return hypSq}if(adjSq>lineSq){return(x-x2)*(x-x2)+(y-y2)*(y-y2)}return hypSq-adjSq};var pointInsidePolygonPoints=function pointInsidePolygonPoints(x,y,points){var x1,y1,x2,y2;var y3;var up=0;for(var i=0;i<points.length/2;i++){x1=points[i*2];y1=points[i*2+1];if(i+1<points.length/2){x2=points[(i+1)*2];y2=points[(i+1)*2+1]}else{x2=points[(i+1-points.length/2)*2];y2=points[(i+1-points.length/2)*2+1]}if(x1==x&&x2==x);else if(x1>=x&&x>=x2||x1<=x&&x<=x2){y3=(x-x1)/(x2-x1)*(y2-y1)+y1;if(y3>y){up++}}else{continue}}if(up%2===0){return false}else{return true}};var pointInsidePolygon=function pointInsidePolygon(x,y,basePoints,centerX,centerY,width,height,direction,padding){var transformedPoints=new Array(basePoints.length);var angle;if(direction[0]!=null){angle=Math.atan(direction[1]/direction[0]);if(direction[0]<0){angle=angle+Math.PI/2}else{angle=-angle-Math.PI/2}}else{angle=direction}var cos=Math.cos(-angle);var sin=Math.sin(-angle);for(var i=0;i<transformedPoints.length/2;i++){transformedPoints[i*2]=width/2*(basePoints[i*2]*cos-basePoints[i*2+1]*sin);transformedPoints[i*2+1]=height/2*(basePoints[i*2+1]*cos+basePoints[i*2]*sin);transformedPoints[i*2]+=centerX;transformedPoints[i*2+1]+=centerY}var points;if(padding>0){var expandedLineSet=expandPolygon(transformedPoints,-padding);points=joinLines(expandedLineSet)}else{points=transformedPoints}return pointInsidePolygonPoints(x,y,points)};var joinLines=function joinLines(lineSet){var vertices=new Array(lineSet.length/2);var currentLineStartX,currentLineStartY,currentLineEndX,currentLineEndY;var nextLineStartX,nextLineStartY,nextLineEndX,nextLineEndY;for(var i=0;i<lineSet.length/4;i++){currentLineStartX=lineSet[i*4];currentLineStartY=lineSet[i*4+1];currentLineEndX=lineSet[i*4+2];currentLineEndY=lineSet[i*4+3];if(i<lineSet.length/4-1){nextLineStartX=lineSet[(i+1)*4];nextLineStartY=lineSet[(i+1)*4+1];nextLineEndX=lineSet[(i+1)*4+2];nextLineEndY=lineSet[(i+1)*4+3]}else{nextLineStartX=lineSet[0];nextLineStartY=lineSet[1];nextLineEndX=lineSet[2];nextLineEndY=lineSet[3]}var intersection=finiteLinesIntersect(currentLineStartX,currentLineStartY,currentLineEndX,currentLineEndY,nextLineStartX,nextLineStartY,nextLineEndX,nextLineEndY,true);vertices[i*2]=intersection[0];vertices[i*2+1]=intersection[1]}return vertices};var expandPolygon=function expandPolygon(points,pad){var expandedLineSet=new Array(points.length*2);var currentPointX,currentPointY,nextPointX,nextPointY;for(var i=0;i<points.length/2;i++){currentPointX=points[i*2];currentPointY=points[i*2+1];if(i<points.length/2-1){nextPointX=points[(i+1)*2];nextPointY=points[(i+1)*2+1]}else{nextPointX=points[0];nextPointY=points[1]}var offsetX=nextPointY-currentPointY;var offsetY=-(nextPointX-currentPointX);var offsetLength=Math.sqrt(offsetX*offsetX+offsetY*offsetY);var normalizedOffsetX=offsetX/offsetLength;var normalizedOffsetY=offsetY/offsetLength;expandedLineSet[i*4]=currentPointX+normalizedOffsetX*pad;expandedLineSet[i*4+1]=currentPointY+normalizedOffsetY*pad;expandedLineSet[i*4+2]=nextPointX+normalizedOffsetX*pad;expandedLineSet[i*4+3]=nextPointY+normalizedOffsetY*pad}return expandedLineSet};var intersectLineEllipse=function intersectLineEllipse(x,y,centerX,centerY,ellipseWradius,ellipseHradius){var dispX=centerX-x;var dispY=centerY-y;dispX/=ellipseWradius;dispY/=ellipseHradius;var len=Math.sqrt(dispX*dispX+dispY*dispY);var newLength=len-1;if(newLength<0){return[]}var lenProportion=newLength/len;return[(centerX-x)*lenProportion+x,(centerY-y)*lenProportion+y]};var checkInEllipse=function checkInEllipse(x,y,width,height,centerX,centerY,padding){x-=centerX;y-=centerY;x/=width/2+padding;y/=height/2+padding;return x*x+y*y<=1};var intersectLineCircle=function intersectLineCircle(x1,y1,x2,y2,centerX,centerY,radius){var d=[x2-x1,y2-y1];var f=[x1-centerX,y1-centerY];var a=d[0]*d[0]+d[1]*d[1];var b=2*(f[0]*d[0]+f[1]*d[1]);var c=f[0]*f[0]+f[1]*f[1]-radius*radius;var discriminant=b*b-4*a*c;if(discriminant<0){return[]}var t1=(-b+Math.sqrt(discriminant))/(2*a);var t2=(-b-Math.sqrt(discriminant))/(2*a);var tMin=Math.min(t1,t2);var tMax=Math.max(t1,t2);var inRangeParams=[];if(tMin>=0&&tMin<=1){inRangeParams.push(tMin)}if(tMax>=0&&tMax<=1){inRangeParams.push(tMax)}if(inRangeParams.length===0){return[]}var nearIntersectionX=inRangeParams[0]*d[0]+x1;var nearIntersectionY=inRangeParams[0]*d[1]+y1;if(inRangeParams.length>1){if(inRangeParams[0]==inRangeParams[1]){return[nearIntersectionX,nearIntersectionY]}else{var farIntersectionX=inRangeParams[1]*d[0]+x1;var farIntersectionY=inRangeParams[1]*d[1]+y1;return[nearIntersectionX,nearIntersectionY,farIntersectionX,farIntersectionY]}}else{return[nearIntersectionX,nearIntersectionY]}};var midOfThree=function midOfThree(a,b,c){if(b<=a&&a<=c||c<=a&&a<=b){return a}else if(a<=b&&b<=c||c<=b&&b<=a){return b}else{return c}};var finiteLinesIntersect=function finiteLinesIntersect(x1,y1,x2,y2,x3,y3,x4,y4,infiniteLines){var dx13=x1-x3;var dx21=x2-x1;var dx43=x4-x3;var dy13=y1-y3;var dy21=y2-y1;var dy43=y4-y3;var ua_t=dx43*dy13-dy43*dx13;var ub_t=dx21*dy13-dy21*dx13;var u_b=dy43*dx21-dx43*dy21;if(u_b!==0){var ua=ua_t/u_b;var ub=ub_t/u_b;var flptThreshold=.001;var _min=0-flptThreshold;var _max=1+flptThreshold;if(_min<=ua&&ua<=_max&&_min<=ub&&ub<=_max){return[x1+ua*dx21,y1+ua*dy21]}else{if(!infiniteLines){return[]}else{return[x1+ua*dx21,y1+ua*dy21]}}}else{if(ua_t===0||ub_t===0){if(midOfThree(x1,x2,x4)===x4){return[x4,y4]}if(midOfThree(x1,x2,x3)===x3){return[x3,y3]}if(midOfThree(x3,x4,x2)===x2){return[x2,y2]}return[]}else{return[]}}};var polygonIntersectLine=function polygonIntersectLine(x,y,basePoints,centerX,centerY,width,height,padding){var intersections=[];var intersection;var transformedPoints=new Array(basePoints.length);var doTransform=true;if(width==null){doTransform=false}var points;if(doTransform){for(var i=0;i<transformedPoints.length/2;i++){transformedPoints[i*2]=basePoints[i*2]*width+centerX;transformedPoints[i*2+1]=basePoints[i*2+1]*height+centerY}if(padding>0){var expandedLineSet=expandPolygon(transformedPoints,-padding);points=joinLines(expandedLineSet)}else{points=transformedPoints}}else{points=basePoints}var currentX,currentY,nextX,nextY;for(var _i2=0;_i2<points.length/2;_i2++){currentX=points[_i2*2];currentY=points[_i2*2+1];if(_i2<points.length/2-1){nextX=points[(_i2+1)*2];nextY=points[(_i2+1)*2+1]}else{nextX=points[0];nextY=points[1]}intersection=finiteLinesIntersect(x,y,centerX,centerY,currentX,currentY,nextX,nextY);if(intersection.length!==0){intersections.push(intersection[0],intersection[1])}}return intersections};var shortenIntersection=function shortenIntersection(intersection,offset,amount){var disp=[intersection[0]-offset[0],intersection[1]-offset[1]];var length=Math.sqrt(disp[0]*disp[0]+disp[1]*disp[1]);var lenRatio=(length-amount)/length;if(lenRatio<0){lenRatio=1e-5}return[offset[0]+lenRatio*disp[0],offset[1]+lenRatio*disp[1]]};var generateUnitNgonPointsFitToSquare=function generateUnitNgonPointsFitToSquare(sides,rotationRadians){var points=generateUnitNgonPoints(sides,rotationRadians);points=fitPolygonToSquare(points);return points};var fitPolygonToSquare=function fitPolygonToSquare(points){var x,y;var sides=points.length/2;var minX=Infinity,minY=Infinity,maxX=-Infinity,maxY=-Infinity;for(var i=0;i<sides;i++){x=points[2*i];y=points[2*i+1];minX=Math.min(minX,x);maxX=Math.max(maxX,x);minY=Math.min(minY,y);maxY=Math.max(maxY,y)}var sx=2/(maxX-minX);var sy=2/(maxY-minY);for(var _i3=0;_i3<sides;_i3++){x=points[2*_i3]=points[2*_i3]*sx;y=points[2*_i3+1]=points[2*_i3+1]*sy;minX=Math.min(minX,x);maxX=Math.max(maxX,x);minY=Math.min(minY,y);maxY=Math.max(maxY,y)}if(minY<-1){for(var _i4=0;_i4<sides;_i4++){y=points[2*_i4+1]=points[2*_i4+1]+(-1-minY)}}return points};var generateUnitNgonPoints=function generateUnitNgonPoints(sides,rotationRadians){var increment=1/sides*2*Math.PI;var startAngle=sides%2===0?Math.PI/2+increment/2:Math.PI/2;startAngle+=rotationRadians;var points=new Array(sides*2);var currentAngle;for(var i=0;i<sides;i++){currentAngle=i*increment+startAngle;points[2*i]=Math.cos(currentAngle);points[2*i+1]=Math.sin(-currentAngle)}return points};var getRoundRectangleRadius=function getRoundRectangleRadius(width,height){return Math.min(width/4,height/4,8)};var getCutRectangleCornerLength=function getCutRectangleCornerLength(){return 8};var bezierPtsToQuadCoeff=function bezierPtsToQuadCoeff(p0,p1,p2){return[p0-2*p1+p2,2*(p1-p0),p0]};var getBarrelCurveConstants=function getBarrelCurveConstants(width,height){return{heightOffset:Math.min(15,.05*height),widthOffset:Math.min(100,.25*width),ctrlPtOffsetPct:.05}};var pageRankDefaults=defaults({dampingFactor:.8,precision:1e-6,iterations:200,weight:function weight(edge){return 1}});var elesfn$7={pageRank:function pageRank(options){var _pageRankDefaults=pageRankDefaults(options),dampingFactor=_pageRankDefaults.dampingFactor,precision=_pageRankDefaults.precision,iterations=_pageRankDefaults.iterations,weight=_pageRankDefaults.weight;var cy=this._private.cy;var _this$byGroup=this.byGroup(),nodes=_this$byGroup.nodes,edges=_this$byGroup.edges;var numNodes=nodes.length;var numNodesSqd=numNodes*numNodes;var numEdges=edges.length;var matrix=new Array(numNodesSqd);var columnSum=new Array(numNodes);var additionalProb=(1-dampingFactor)/numNodes;for(var i=0;i<numNodes;i++){for(var j=0;j<numNodes;j++){var n=i*numNodes+j;matrix[n]=0}columnSum[i]=0}for(var _i=0;_i<numEdges;_i++){var edge=edges[_i];var srcId=edge.data("source");var tgtId=edge.data("target");if(srcId===tgtId){continue}var s=nodes.indexOfId(srcId);var t=nodes.indexOfId(tgtId);var w=weight(edge);var _n=t*numNodes+s;matrix[_n]+=w;columnSum[s]+=w}var p=1/numNodes+additionalProb;for(var _j=0;_j<numNodes;_j++){if(columnSum[_j]===0){for(var _i2=0;_i2<numNodes;_i2++){var _n2=_i2*numNodes+_j;matrix[_n2]=p}}else{for(var _i3=0;_i3<numNodes;_i3++){var _n3=_i3*numNodes+_j;matrix[_n3]=matrix[_n3]/columnSum[_j]+additionalProb}}}var eigenvector=new Array(numNodes);var temp=new Array(numNodes);var previous;for(var _i4=0;_i4<numNodes;_i4++){eigenvector[_i4]=1}for(var iter=0;iter<iterations;iter++){for(var _i5=0;_i5<numNodes;_i5++){temp[_i5]=0}for(var _i6=0;_i6<numNodes;_i6++){for(var _j2=0;_j2<numNodes;_j2++){var _n4=_i6*numNodes+_j2;temp[_i6]+=matrix[_n4]*eigenvector[_j2]}}inPlaceSumNormalize(temp);previous=eigenvector;eigenvector=temp;temp=previous;var diff=0;for(var _i7=0;_i7<numNodes;_i7++){var delta=previous[_i7]-eigenvector[_i7];diff+=delta*delta}if(diff<precision){break}}var res={rank:function rank(node){node=cy.collection(node)[0];return eigenvector[nodes.indexOf(node)]}};return res}};var defaults$1=defaults({root:null,weight:function weight(edge){return 1},directed:false,alpha:0});var elesfn$8={degreeCentralityNormalized:function degreeCentralityNormalized(options){options=defaults$1(options);var cy=this.cy();var nodes=this.nodes();var numNodes=nodes.length;if(!options.directed){var degrees={};var maxDegree=0;for(var i=0;i<numNodes;i++){var node=nodes[i];options.root=node;var currDegree=this.degreeCentrality(options);if(maxDegree<currDegree.degree){maxDegree=currDegree.degree}degrees[node.id()]=currDegree.degree}return{degree:function degree(node){if(maxDegree===0){return 0}if(string(node)){node=cy.filter(node)}return degrees[node.id()]/maxDegree}}}else{var indegrees={};var outdegrees={};var maxIndegree=0;var maxOutdegree=0;for(var _i=0;_i<numNodes;_i++){var _node=nodes[_i];var id=_node.id();options.root=_node;var _currDegree=this.degreeCentrality(options);if(maxIndegree<_currDegree.indegree)maxIndegree=_currDegree.indegree;if(maxOutdegree<_currDegree.outdegree)maxOutdegree=_currDegree.outdegree;indegrees[id]=_currDegree.indegree;outdegrees[id]=_currDegree.outdegree}return{indegree:function indegree(node){if(maxIndegree==0){return 0}if(string(node)){node=cy.filter(node)}return indegrees[node.id()]/maxIndegree},outdegree:function outdegree(node){if(maxOutdegree===0){return 0}if(string(node)){node=cy.filter(node)}return outdegrees[node.id()]/maxOutdegree}}}},degreeCentrality:function degreeCentrality(options){options=defaults$1(options);var cy=this.cy();var callingEles=this;var _options=options,root=_options.root,weight=_options.weight,directed=_options.directed,alpha=_options.alpha;root=cy.collection(root)[0];if(!directed){var connEdges=root.connectedEdges().intersection(callingEles);var k=connEdges.length;var s=0;for(var i=0;i<connEdges.length;i++){s+=weight(connEdges[i])}return{degree:Math.pow(k,1-alpha)*Math.pow(s,alpha)}}else{var edges=root.connectedEdges();var incoming=edges.filter((function(edge){return edge.target().same(root)&&callingEles.has(edge)}));var outgoing=edges.filter((function(edge){return edge.source().same(root)&&callingEles.has(edge)}));var k_in=incoming.length;var k_out=outgoing.length;var s_in=0;var s_out=0;for(var _i2=0;_i2<incoming.length;_i2++){s_in+=weight(incoming[_i2])}for(var _i3=0;_i3<outgoing.length;_i3++){s_out+=weight(outgoing[_i3])}return{indegree:Math.pow(k_in,1-alpha)*Math.pow(s_in,alpha),outdegree:Math.pow(k_out,1-alpha)*Math.pow(s_out,alpha)}}}};elesfn$8.dc=elesfn$8.degreeCentrality;elesfn$8.dcn=elesfn$8.degreeCentralityNormalised=elesfn$8.degreeCentralityNormalized;var defaults$2=defaults({harmonic:true,weight:function weight(){return 1},directed:false,root:null});var elesfn$9={closenessCentralityNormalized:function closenessCentralityNormalized(options){var _defaults=defaults$2(options),harmonic=_defaults.harmonic,weight=_defaults.weight,directed=_defaults.directed;var cy=this.cy();var closenesses={};var maxCloseness=0;var nodes=this.nodes();var fw=this.floydWarshall({weight:weight,directed:directed});for(var i=0;i<nodes.length;i++){var currCloseness=0;var node_i=nodes[i];for(var j=0;j<nodes.length;j++){if(i!==j){var d=fw.distance(node_i,nodes[j]);if(harmonic){currCloseness+=1/d}else{currCloseness+=d}}}if(!harmonic){currCloseness=1/currCloseness}if(maxCloseness<currCloseness){maxCloseness=currCloseness}closenesses[node_i.id()]=currCloseness}return{closeness:function closeness(node){if(maxCloseness==0){return 0}if(string(node)){node=cy.filter(node)[0].id()}else{node=node.id()}return closenesses[node]/maxCloseness}}},closenessCentrality:function closenessCentrality(options){var _defaults2=defaults$2(options),root=_defaults2.root,weight=_defaults2.weight,directed=_defaults2.directed,harmonic=_defaults2.harmonic;root=this.filter(root)[0];var dijkstra=this.dijkstra({root:root,weight:weight,directed:directed});var totalDistance=0;var nodes=this.nodes();for(var i=0;i<nodes.length;i++){var n=nodes[i];if(!n.same(root)){var d=dijkstra.distanceTo(n);if(harmonic){totalDistance+=1/d}else{totalDistance+=d}}}return harmonic?totalDistance:1/totalDistance}};elesfn$9.cc=elesfn$9.closenessCentrality;elesfn$9.ccn=elesfn$9.closenessCentralityNormalised=elesfn$9.closenessCentralityNormalized;var defaults$3=defaults({weight:null,directed:false});var elesfn$a={betweennessCentrality:function betweennessCentrality(options){var _defaults=defaults$3(options),directed=_defaults.directed,weight=_defaults.weight;var weighted=weight!=null;var cy=this.cy();var V=this.nodes();var A={};var _C={};var max=0;var C={set:function set(key,val){_C[key]=val;if(val>max){max=val}},get:function get(key){return _C[key]}};for(var i=0;i<V.length;i++){var v=V[i];var vid=v.id();if(directed){A[vid]=v.outgoers().nodes()}else{A[vid]=v.openNeighborhood().nodes()}C.set(vid,0)}var _loop=function _loop(s){var sid=V[s].id();var S=[];var P={};var g={};var d={};var Q=new Heap((function(a,b){return d[a]-d[b]}));for(var _i=0;_i<V.length;_i++){var _vid=V[_i].id();P[_vid]=[];g[_vid]=0;d[_vid]=Infinity}g[sid]=1;d[sid]=0;Q.push(sid);while(!Q.empty()){var _v=Q.pop();S.push(_v);if(weighted){for(var j=0;j<A[_v].length;j++){var w=A[_v][j];var vEle=cy.getElementById(_v);var edge=void 0;if(vEle.edgesTo(w).length>0){edge=vEle.edgesTo(w)[0]}else{edge=w.edgesTo(vEle)[0]}var edgeWeight=weight(edge);w=w.id();if(d[w]>d[_v]+edgeWeight){d[w]=d[_v]+edgeWeight;if(Q.nodes.indexOf(w)<0){Q.push(w)}else{Q.updateItem(w)}g[w]=0;P[w]=[]}if(d[w]==d[_v]+edgeWeight){g[w]=g[w]+g[_v];P[w].push(_v)}}}else{for(var _j=0;_j<A[_v].length;_j++){var _w=A[_v][_j].id();if(d[_w]==Infinity){Q.push(_w);d[_w]=d[_v]+1}if(d[_w]==d[_v]+1){g[_w]=g[_w]+g[_v];P[_w].push(_v)}}}}var e={};for(var _i2=0;_i2<V.length;_i2++){e[V[_i2].id()]=0}while(S.length>0){var _w2=S.pop();for(var _j2=0;_j2<P[_w2].length;_j2++){var _v2=P[_w2][_j2];e[_v2]=e[_v2]+g[_v2]/g[_w2]*(1+e[_w2]);if(_w2!=V[s].id()){C.set(_w2,C.get(_w2)+e[_w2])}}}};for(var s=0;s<V.length;s++){_loop(s)}var ret={betweenness:function betweenness(node){var id=cy.collection(node).id();return C.get(id)},betweennessNormalized:function betweennessNormalized(node){if(max==0){return 0}var id=cy.collection(node).id();return C.get(id)/max}};ret.betweennessNormalised=ret.betweennessNormalized;return ret}};elesfn$a.bc=elesfn$a.betweennessCentrality;var defaults$4=defaults({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(edge){return 1}]});var setOptions=function setOptions(options){return defaults$4(options)};var getSimilarity=function getSimilarity(edge,attributes){var total=0;for(var i=0;i<attributes.length;i++){total+=attributes[i](edge)}return total};var addLoops=function addLoops(M,n,val){for(var i=0;i<n;i++){M[i*n+i]=val}};var normalize=function normalize(M,n){var sum;for(var col=0;col<n;col++){sum=0;for(var row=0;row<n;row++){sum+=M[row*n+col]}for(var _row=0;_row<n;_row++){M[_row*n+col]=M[_row*n+col]/sum}}};var mmult=function mmult(A,B,n){var C=new Array(n*n);for(var i=0;i<n;i++){for(var j=0;j<n;j++){C[i*n+j]=0}for(var k=0;k<n;k++){for(var _j=0;_j<n;_j++){C[i*n+_j]+=A[i*n+k]*B[k*n+_j]}}}return C};var expand=function expand(M,n,expandFactor){var _M=M.slice(0);for(var p=1;p<expandFactor;p++){M=mmult(M,_M,n)}return M};var inflate=function inflate(M,n,inflateFactor){var _M=new Array(n*n);for(var i=0;i<n*n;i++){_M[i]=Math.pow(M[i],inflateFactor)}normalize(_M,n);return _M};var hasConverged=function hasConverged(M,_M,n2,roundFactor){for(var i=0;i<n2;i++){var v1=Math.round(M[i]*Math.pow(10,roundFactor))/Math.pow(10,roundFactor);var v2=Math.round(_M[i]*Math.pow(10,roundFactor))/Math.pow(10,roundFactor);if(v1!==v2){return false}}return true};var assign=function assign(M,n,nodes,cy){var clusters=[];for(var i=0;i<n;i++){var cluster=[];for(var j=0;j<n;j++){if(Math.round(M[i*n+j]*1e3)/1e3>0){cluster.push(nodes[j])}}if(cluster.length!==0){clusters.push(cy.collection(cluster))}}return clusters};var isDuplicate=function isDuplicate(c1,c2){for(var i=0;i<c1.length;i++){if(!c2[i]||c1[i].id()!==c2[i].id()){return false}}return true};var removeDuplicates=function removeDuplicates(clusters){for(var i=0;i<clusters.length;i++){for(var j=0;j<clusters.length;j++){if(i!=j&&isDuplicate(clusters[i],clusters[j])){clusters.splice(j,1)}}}return clusters};var markovClustering=function markovClustering(options){var nodes=this.nodes();var edges=this.edges();var cy=this.cy();var opts=setOptions(options);var id2position={};for(var i=0;i<nodes.length;i++){id2position[nodes[i].id()]=i}var n=nodes.length,n2=n*n;var M=new Array(n2),_M;for(var _i=0;_i<n2;_i++){M[_i]=0}for(var e=0;e<edges.length;e++){var edge=edges[e];var _i2=id2position[edge.source().id()];var j=id2position[edge.target().id()];var sim=getSimilarity(edge,opts.attributes);M[_i2*n+j]+=sim;M[j*n+_i2]+=sim}addLoops(M,n,opts.multFactor);normalize(M,n);var isStillMoving=true;var iterations=0;while(isStillMoving&&iterations<opts.maxIterations){isStillMoving=false;_M=expand(M,n,opts.expandFactor);M=inflate(_M,n,opts.inflateFactor);if(!hasConverged(M,_M,n2,4)){isStillMoving=true}iterations++}var clusters=assign(M,n,nodes,cy);clusters=removeDuplicates(clusters);return clusters};var markovClustering$1={markovClustering:markovClustering,mcl:markovClustering};var identity=function identity(x){return x};var absDiff=function absDiff(p,q){return Math.abs(q-p)};var addAbsDiff=function addAbsDiff(total,p,q){return total+absDiff(p,q)};var addSquaredDiff=function addSquaredDiff(total,p,q){return total+Math.pow(q-p,2)};var sqrt=function sqrt(x){return Math.sqrt(x)};var maxAbsDiff=function maxAbsDiff(currentMax,p,q){return Math.max(currentMax,absDiff(p,q))};var getDistance=function getDistance(length,getP,getQ,init,visit){var post=arguments.length>5&&arguments[5]!==undefined?arguments[5]:identity;var ret=init;var p,q;for(var dim=0;dim<length;dim++){p=getP(dim);q=getQ(dim);ret=visit(ret,p,q)}return post(ret)};var distances={euclidean:function euclidean(length,getP,getQ){if(length>=2){return getDistance(length,getP,getQ,0,addSquaredDiff,sqrt)}else{return getDistance(length,getP,getQ,0,addAbsDiff)}},squaredEuclidean:function squaredEuclidean(length,getP,getQ){return getDistance(length,getP,getQ,0,addSquaredDiff)},manhattan:function manhattan(length,getP,getQ){return getDistance(length,getP,getQ,0,addAbsDiff)},max:function max(length,getP,getQ){return getDistance(length,getP,getQ,-Infinity,maxAbsDiff)}};distances["squared-euclidean"]=distances["squaredEuclidean"];distances["squaredeuclidean"]=distances["squaredEuclidean"];function clusteringDistance(method,length,getP,getQ,nodeP,nodeQ){var impl;if(fn(method)){impl=method}else{impl=distances[method]||distances.euclidean}if(length===0&&fn(method)){return impl(nodeP,nodeQ)}else{return impl(length,getP,getQ,nodeP,nodeQ)}}var defaults$5=defaults({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:false,testCentroids:null});var setOptions$1=function setOptions(options){return defaults$5(options)};var getDist=function getDist(type,node,centroid,attributes,mode){var noNodeP=mode!=="kMedoids";var getP=noNodeP?function(i){return centroid[i]}:function(i){return attributes[i](centroid)};var getQ=function getQ(i){return attributes[i](node)};var nodeP=centroid;var nodeQ=node;return clusteringDistance(type,attributes.length,getP,getQ,nodeP,nodeQ)};var randomCentroids=function randomCentroids(nodes,k,attributes){var ndim=attributes.length;var min=new Array(ndim);var max=new Array(ndim);var centroids=new Array(k);var centroid=null;for(var i=0;i<ndim;i++){min[i]=nodes.min(attributes[i]).value;max[i]=nodes.max(attributes[i]).value}for(var c=0;c<k;c++){centroid=[];for(var _i=0;_i<ndim;_i++){centroid[_i]=Math.random()*(max[_i]-min[_i])+min[_i]}centroids[c]=centroid}return centroids};var classify=function classify(node,centroids,distance,attributes,type){var min=Infinity;var index=0;for(var i=0;i<centroids.length;i++){var dist=getDist(distance,node,centroids[i],attributes,type);if(dist<min){min=dist;index=i}}return index};var buildCluster=function buildCluster(centroid,nodes,assignment){var cluster=[];var node=null;for(var n=0;n<nodes.length;n++){node=nodes[n];if(assignment[node.id()]===centroid){cluster.push(node)}}return cluster};var haveValuesConverged=function haveValuesConverged(v1,v2,sensitivityThreshold){return Math.abs(v2-v1)<=sensitivityThreshold};var haveMatricesConverged=function haveMatricesConverged(v1,v2,sensitivityThreshold){for(var i=0;i<v1.length;i++){for(var j=0;j<v1[i].length;j++){var diff=Math.abs(v1[i][j]-v2[i][j]);if(diff>sensitivityThreshold){return false}}}return true};var seenBefore=function seenBefore(node,medoids,n){for(var i=0;i<n;i++){if(node===medoids[i])return true}return false};var randomMedoids=function randomMedoids(nodes,k){var medoids=new Array(k);if(nodes.length<50){for(var i=0;i<k;i++){var node=nodes[Math.floor(Math.random()*nodes.length)];while(seenBefore(node,medoids,i)){node=nodes[Math.floor(Math.random()*nodes.length)]}medoids[i]=node}}else{for(var _i2=0;_i2<k;_i2++){medoids[_i2]=nodes[Math.floor(Math.random()*nodes.length)]}}return medoids};var findCost=function findCost(potentialNewMedoid,cluster,attributes){var cost=0;for(var n=0;n<cluster.length;n++){cost+=getDist("manhattan",cluster[n],potentialNewMedoid,attributes,"kMedoids")}return cost};var kMeans=function kMeans(options){var cy=this.cy();var nodes=this.nodes();var node=null;var opts=setOptions$1(options);var clusters=new Array(opts.k);var assignment={};var centroids;if(opts.testMode){if(typeof opts.testCentroids==="number"){centroids=randomCentroids(nodes,opts.k,opts.attributes)}else if(_typeof(opts.testCentroids)==="object"){centroids=opts.testCentroids}else{centroids=randomCentroids(nodes,opts.k,opts.attributes)}}else{centroids=randomCentroids(nodes,opts.k,opts.attributes)}var isStillMoving=true;var iterations=0;while(isStillMoving&&iterations<opts.maxIterations){for(var n=0;n<nodes.length;n++){node=nodes[n];assignment[node.id()]=classify(node,centroids,opts.distance,opts.attributes,"kMeans")}isStillMoving=false;for(var c=0;c<opts.k;c++){var cluster=buildCluster(c,nodes,assignment);if(cluster.length===0){continue}var ndim=opts.attributes.length;var centroid=centroids[c];var newCentroid=new Array(ndim);var sum=new Array(ndim);for(var d=0;d<ndim;d++){sum[d]=0;for(var i=0;i<cluster.length;i++){node=cluster[i];sum[d]+=opts.attributes[d](node)}newCentroid[d]=sum[d]/cluster.length;if(!haveValuesConverged(newCentroid[d],centroid[d],opts.sensitivityThreshold)){isStillMoving=true}}centroids[c]=newCentroid;clusters[c]=cy.collection(cluster)}iterations++}return clusters};var kMedoids=function kMedoids(options){var cy=this.cy();var nodes=this.nodes();var node=null;var opts=setOptions$1(options);var clusters=new Array(opts.k);var medoids;var assignment={};var curCost;var minCosts=new Array(opts.k);if(opts.testMode){if(typeof opts.testCentroids==="number");else if(_typeof(opts.testCentroids)==="object"){medoids=opts.testCentroids}else{medoids=randomMedoids(nodes,opts.k)}}else{medoids=randomMedoids(nodes,opts.k)}var isStillMoving=true;var iterations=0;while(isStillMoving&&iterations<opts.maxIterations){for(var n=0;n<nodes.length;n++){node=nodes[n];assignment[node.id()]=classify(node,medoids,opts.distance,opts.attributes,"kMedoids")}isStillMoving=false;for(var m=0;m<medoids.length;m++){var cluster=buildCluster(m,nodes,assignment);if(cluster.length===0){continue}minCosts[m]=findCost(medoids[m],cluster,opts.attributes);for(var _n=0;_n<cluster.length;_n++){curCost=findCost(cluster[_n],cluster,opts.attributes);if(curCost<minCosts[m]){minCosts[m]=curCost;medoids[m]=cluster[_n];isStillMoving=true}}clusters[m]=cy.collection(cluster)}iterations++}return clusters};var updateCentroids=function updateCentroids(centroids,nodes,U,weight,opts){var numerator,denominator;for(var n=0;n<nodes.length;n++){for(var c=0;c<centroids.length;c++){weight[n][c]=Math.pow(U[n][c],opts.m)}}for(var _c=0;_c<centroids.length;_c++){for(var dim=0;dim<opts.attributes.length;dim++){numerator=0;denominator=0;for(var _n2=0;_n2<nodes.length;_n2++){numerator+=weight[_n2][_c]*opts.attributes[dim](nodes[_n2]);denominator+=weight[_n2][_c]}centroids[_c][dim]=numerator/denominator}}};var updateMembership=function updateMembership(U,_U,centroids,nodes,opts){for(var i=0;i<U.length;i++){_U[i]=U[i].slice()}var sum,numerator,denominator;var pow=2/(opts.m-1);for(var c=0;c<centroids.length;c++){for(var n=0;n<nodes.length;n++){sum=0;for(var k=0;k<centroids.length;k++){numerator=getDist(opts.distance,nodes[n],centroids[c],opts.attributes,"cmeans");denominator=getDist(opts.distance,nodes[n],centroids[k],opts.attributes,"cmeans");sum+=Math.pow(numerator/denominator,pow)}U[n][c]=1/sum}}};var assign$1=function assign(nodes,U,opts,cy){var clusters=new Array(opts.k);for(var c=0;c<clusters.length;c++){clusters[c]=[]}var max;var index;for(var n=0;n<U.length;n++){max=-Infinity;index=-1;for(var _c2=0;_c2<U[0].length;_c2++){if(U[n][_c2]>max){max=U[n][_c2];index=_c2}}clusters[index].push(nodes[n])}for(var _c3=0;_c3<clusters.length;_c3++){clusters[_c3]=cy.collection(clusters[_c3])}return clusters};var fuzzyCMeans=function fuzzyCMeans(options){var cy=this.cy();var nodes=this.nodes();var opts=setOptions$1(options);var clusters;var centroids;var U;var _U;var weight;_U=new Array(nodes.length);for(var i=0;i<nodes.length;i++){_U[i]=new Array(opts.k)}U=new Array(nodes.length);for(var _i3=0;_i3<nodes.length;_i3++){U[_i3]=new Array(opts.k)}for(var _i4=0;_i4<nodes.length;_i4++){var total=0;for(var j=0;j<opts.k;j++){U[_i4][j]=Math.random();total+=U[_i4][j]}for(var _j=0;_j<opts.k;_j++){U[_i4][_j]=U[_i4][_j]/total}}centroids=new Array(opts.k);for(var _i5=0;_i5<opts.k;_i5++){centroids[_i5]=new Array(opts.attributes.length)}weight=new Array(nodes.length);for(var _i6=0;_i6<nodes.length;_i6++){weight[_i6]=new Array(opts.k)}var isStillMoving=true;var iterations=0;while(isStillMoving&&iterations<opts.maxIterations){isStillMoving=false;updateCentroids(centroids,nodes,U,weight,opts);updateMembership(U,_U,centroids,nodes,opts);if(!haveMatricesConverged(U,_U,opts.sensitivityThreshold)){isStillMoving=true}iterations++}clusters=assign$1(nodes,U,opts,cy);return{clusters:clusters,degreeOfMembership:U}};var kClustering={kMeans:kMeans,kMedoids:kMedoids,fuzzyCMeans:fuzzyCMeans,fcm:fuzzyCMeans};var defaults$6=defaults({distance:"euclidean",linkage:"min",mode:"threshold",threshold:Infinity,addDendrogram:false,dendrogramDepth:0,attributes:[]});var linkageAliases={single:"min",complete:"max"};var setOptions$2=function setOptions(options){var opts=defaults$6(options);var preferredAlias=linkageAliases[opts.linkage];if(preferredAlias!=null){opts.linkage=preferredAlias}return opts};var mergeClosest=function mergeClosest(clusters,index,dists,mins,opts){var minKey=0;var min=Infinity;var dist;var attrs=opts.attributes;var getDist=function getDist(n1,n2){return clusteringDistance(opts.distance,attrs.length,(function(i){return attrs[i](n1)}),(function(i){return attrs[i](n2)}),n1,n2)};for(var i=0;i<clusters.length;i++){var key=clusters[i].key;var _dist=dists[key][mins[key]];if(_dist<min){minKey=key;min=_dist}}if(opts.mode==="threshold"&&min>=opts.threshold||opts.mode==="dendrogram"&&clusters.length===1){return false}var c1=index[minKey];var c2=index[mins[minKey]];var merged;if(opts.mode==="dendrogram"){merged={left:c1,right:c2,key:c1.key}}else{merged={value:c1.value.concat(c2.value),key:c1.key}}clusters[c1.index]=merged;clusters.splice(c2.index,1);index[c1.key]=merged;for(var _i=0;_i<clusters.length;_i++){var cur=clusters[_i];if(c1.key===cur.key){dist=Infinity}else if(opts.linkage==="min"){dist=dists[c1.key][cur.key];if(dists[c1.key][cur.key]>dists[c2.key][cur.key]){dist=dists[c2.key][cur.key]}}else if(opts.linkage==="max"){dist=dists[c1.key][cur.key];if(dists[c1.key][cur.key]<dists[c2.key][cur.key]){dist=dists[c2.key][cur.key]}}else if(opts.linkage==="mean"){dist=(dists[c1.key][cur.key]*c1.size+dists[c2.key][cur.key]*c2.size)/(c1.size+c2.size)}else{if(opts.mode==="dendrogram")dist=getDist(cur.value,c1.value);else dist=getDist(cur.value[0],c1.value[0])}dists[c1.key][cur.key]=dists[cur.key][c1.key]=dist}for(var _i2=0;_i2<clusters.length;_i2++){var key1=clusters[_i2].key;if(mins[key1]===c1.key||mins[key1]===c2.key){var _min=key1;for(var j=0;j<clusters.length;j++){var key2=clusters[j].key;if(dists[key1][key2]<dists[key1][_min]){_min=key2}}mins[key1]=_min}clusters[_i2].index=_i2}c1.key=c2.key=c1.index=c2.index=null;return true};var getAllChildren=function getAllChildren(root,arr,cy){if(!root)return;if(root.value){arr.push(root.value)}else{if(root.left)getAllChildren(root.left,arr);if(root.right)getAllChildren(root.right,arr)}};var buildDendrogram=function buildDendrogram(root,cy){if(!root)return"";if(root.left&&root.right){var leftStr=buildDendrogram(root.left,cy);var rightStr=buildDendrogram(root.right,cy);var node=cy.add({group:"nodes",data:{id:leftStr+","+rightStr}});cy.add({group:"edges",data:{source:leftStr,target:node.id()}});cy.add({group:"edges",data:{source:rightStr,target:node.id()}});return node.id()}else if(root.value){return root.value.id()}};var buildClustersFromTree=function buildClustersFromTree(root,k,cy){if(!root)return[];var left=[],right=[],leaves=[];if(k===0){if(root.left)getAllChildren(root.left,left);if(root.right)getAllChildren(root.right,right);leaves=left.concat(right);return[cy.collection(leaves)]}else if(k===1){if(root.value){return[cy.collection(root.value)]}else{if(root.left)getAllChildren(root.left,left);if(root.right)getAllChildren(root.right,right);return[cy.collection(left),cy.collection(right)]}}else{if(root.value){return[cy.collection(root.value)]}else{if(root.left)left=buildClustersFromTree(root.left,k-1,cy);if(root.right)right=buildClustersFromTree(root.right,k-1,cy);return left.concat(right)}}};var hierarchicalClustering=function hierarchicalClustering(options){var cy=this.cy();var nodes=this.nodes();var opts=setOptions$2(options);var attrs=opts.attributes;var getDist=function getDist(n1,n2){return clusteringDistance(opts.distance,attrs.length,(function(i){return attrs[i](n1)}),(function(i){return attrs[i](n2)}),n1,n2)};var clusters=[];var dists=[];var mins=[];var index=[];for(var n=0;n<nodes.length;n++){var cluster={value:opts.mode==="dendrogram"?nodes[n]:[nodes[n]],key:n,index:n};clusters[n]=cluster;index[n]=cluster;dists[n]=[];mins[n]=0}for(var i=0;i<clusters.length;i++){for(var j=0;j<=i;j++){var dist=void 0;if(opts.mode==="dendrogram"){dist=i===j?Infinity:getDist(clusters[i].value,clusters[j].value)}else{dist=i===j?Infinity:getDist(clusters[i].value[0],clusters[j].value[0])}dists[i][j]=dist;dists[j][i]=dist;if(dist<dists[i][mins[i]]){mins[i]=j}}}var merged=mergeClosest(clusters,index,dists,mins,opts);while(merged){merged=mergeClosest(clusters,index,dists,mins,opts)}var retClusters;if(opts.mode==="dendrogram"){retClusters=buildClustersFromTree(clusters[0],opts.dendrogramDepth,cy);if(opts.addDendrogram)buildDendrogram(clusters[0],cy)}else{retClusters=new Array(clusters.length);clusters.forEach((function(cluster,i){cluster.key=cluster.index=null;retClusters[i]=cy.collection(cluster.value)}))}return retClusters};var hierarchicalClustering$1={hierarchicalClustering:hierarchicalClustering,hca:hierarchicalClustering};var defaults$7=defaults({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]});var setOptions$3=function setOptions(options){var dmp=options.damping;var pref=options.preference;if(!(.5<=dmp&&dmp<1)){error("Damping must range on [0.5, 1).  Got: ".concat(dmp))}var validPrefs=["median","mean","min","max"];if(!(validPrefs.some((function(v){return v===pref}))||number(pref))){error("Preference must be one of [".concat(validPrefs.map((function(p){return"'".concat(p,"'")})).join(", "),"] or a number.  Got: ").concat(pref))}return defaults$7(options)};var getSimilarity$1=function getSimilarity(type,n1,n2,attributes){var attr=function attr(n,i){return attributes[i](n)};return-clusteringDistance(type,attributes.length,(function(i){return attr(n1,i)}),(function(i){return attr(n2,i)}),n1,n2)};var getPreference=function getPreference(S,preference){var p=null;if(preference==="median"){p=median(S)}else if(preference==="mean"){p=mean(S)}else if(preference==="min"){p=min(S)}else if(preference==="max"){p=max(S)}else{p=preference}return p};var findExemplars=function findExemplars(n,R,A){var indices=[];for(var i=0;i<n;i++){if(R[i*n+i]+A[i*n+i]>0){indices.push(i)}}return indices};var assignClusters=function assignClusters(n,S,exemplars){var clusters=[];for(var i=0;i<n;i++){var index=-1;var max=-Infinity;for(var ei=0;ei<exemplars.length;ei++){var e=exemplars[ei];if(S[i*n+e]>max){index=e;max=S[i*n+e]}}if(index>0){clusters.push(index)}}for(var _ei=0;_ei<exemplars.length;_ei++){clusters[exemplars[_ei]]=exemplars[_ei]}return clusters};var assign$2=function assign(n,S,exemplars){var clusters=assignClusters(n,S,exemplars);for(var ei=0;ei<exemplars.length;ei++){var ii=[];for(var c=0;c<clusters.length;c++){if(clusters[c]===exemplars[ei]){ii.push(c)}}var maxI=-1;var maxSum=-Infinity;for(var i=0;i<ii.length;i++){var sum=0;for(var j=0;j<ii.length;j++){sum+=S[ii[j]*n+ii[i]]}if(sum>maxSum){maxI=i;maxSum=sum}}exemplars[ei]=ii[maxI]}clusters=assignClusters(n,S,exemplars);return clusters};var affinityPropagation=function affinityPropagation(options){var cy=this.cy();var nodes=this.nodes();var opts=setOptions$3(options);var id2position={};for(var i=0;i<nodes.length;i++){id2position[nodes[i].id()]=i}var n;var n2;var S;var p;var R;var A;n=nodes.length;n2=n*n;S=new Array(n2);for(var _i=0;_i<n2;_i++){S[_i]=-Infinity}for(var _i2=0;_i2<n;_i2++){for(var j=0;j<n;j++){if(_i2!==j){S[_i2*n+j]=getSimilarity$1(opts.distance,nodes[_i2],nodes[j],opts.attributes)}}}p=getPreference(S,opts.preference);for(var _i3=0;_i3<n;_i3++){S[_i3*n+_i3]=p}R=new Array(n2);for(var _i4=0;_i4<n2;_i4++){R[_i4]=0}A=new Array(n2);for(var _i5=0;_i5<n2;_i5++){A[_i5]=0}var old=new Array(n);var Rp=new Array(n);var se=new Array(n);for(var _i6=0;_i6<n;_i6++){old[_i6]=0;Rp[_i6]=0;se[_i6]=0}var e=new Array(n*opts.minIterations);for(var _i7=0;_i7<e.length;_i7++){e[_i7]=0}var iter;for(iter=0;iter<opts.maxIterations;iter++){for(var _i8=0;_i8<n;_i8++){var max=-Infinity,max2=-Infinity,maxI=-1,AS=0;for(var _j=0;_j<n;_j++){old[_j]=R[_i8*n+_j];AS=A[_i8*n+_j]+S[_i8*n+_j];if(AS>=max){max2=max;max=AS;maxI=_j}else if(AS>max2){max2=AS}}for(var _j2=0;_j2<n;_j2++){R[_i8*n+_j2]=(1-opts.damping)*(S[_i8*n+_j2]-max)+opts.damping*old[_j2]}R[_i8*n+maxI]=(1-opts.damping)*(S[_i8*n+maxI]-max2)+opts.damping*old[maxI]}for(var _i9=0;_i9<n;_i9++){var sum=0;for(var _j3=0;_j3<n;_j3++){old[_j3]=A[_j3*n+_i9];Rp[_j3]=Math.max(0,R[_j3*n+_i9]);sum+=Rp[_j3]}sum-=Rp[_i9];Rp[_i9]=R[_i9*n+_i9];sum+=Rp[_i9];for(var _j4=0;_j4<n;_j4++){A[_j4*n+_i9]=(1-opts.damping)*Math.min(0,sum-Rp[_j4])+opts.damping*old[_j4]}A[_i9*n+_i9]=(1-opts.damping)*(sum-Rp[_i9])+opts.damping*old[_i9]}var K=0;for(var _i10=0;_i10<n;_i10++){var E=A[_i10*n+_i10]+R[_i10*n+_i10]>0?1:0;e[iter%opts.minIterations*n+_i10]=E;K+=E}if(K>0&&(iter>=opts.minIterations-1||iter==opts.maxIterations-1)){var _sum=0;for(var _i11=0;_i11<n;_i11++){se[_i11]=0;for(var _j5=0;_j5<opts.minIterations;_j5++){se[_i11]+=e[_j5*n+_i11]}if(se[_i11]===0||se[_i11]===opts.minIterations){_sum++}}if(_sum===n){break}}}var exemplarsIndices=findExemplars(n,R,A);var clusterIndices=assign$2(n,S,exemplarsIndices);var clusters={};for(var c=0;c<exemplarsIndices.length;c++){clusters[exemplarsIndices[c]]=[]}for(var _i12=0;_i12<nodes.length;_i12++){var pos=id2position[nodes[_i12].id()];var clusterIndex=clusterIndices[pos];if(clusterIndex!=null){clusters[clusterIndex].push(nodes[_i12])}}var retClusters=new Array(exemplarsIndices.length);for(var _c=0;_c<exemplarsIndices.length;_c++){retClusters[_c]=cy.collection(clusters[exemplarsIndices[_c]])}return retClusters};var affinityPropagation$1={affinityPropagation:affinityPropagation,ap:affinityPropagation};var elesfn$b={};[elesfn,elesfn$1,elesfn$2,elesfn$3,elesfn$4,elesfn$5,elesfn$6,elesfn$7,elesfn$8,elesfn$9,elesfn$a,markovClustering$1,kClustering,hierarchicalClustering$1,affinityPropagation$1].forEach((function(props){extend(elesfn$b,props)}));
/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var STATE_PENDING=0;var STATE_FULFILLED=1;var STATE_REJECTED=2;var api=function api(executor){if(!(this instanceof api))return new api(executor);this.id="Thenable/1.0.7";this.state=STATE_PENDING;this.fulfillValue=undefined;this.rejectReason=undefined;this.onFulfilled=[];this.onRejected=[];this.proxy={then:this.then.bind(this)};if(typeof executor==="function")executor.call(this,this.fulfill.bind(this),this.reject.bind(this))};api.prototype={fulfill:function fulfill(value){return deliver(this,STATE_FULFILLED,"fulfillValue",value)},reject:function reject(value){return deliver(this,STATE_REJECTED,"rejectReason",value)},then:function then(onFulfilled,onRejected){var curr=this;var next=new api;curr.onFulfilled.push(resolver(onFulfilled,next,"fulfill"));curr.onRejected.push(resolver(onRejected,next,"reject"));execute(curr);return next.proxy}};var deliver=function deliver(curr,state,name,value){if(curr.state===STATE_PENDING){curr.state=state;curr[name]=value;execute(curr)}return curr};var execute=function execute(curr){if(curr.state===STATE_FULFILLED)execute_handlers(curr,"onFulfilled",curr.fulfillValue);else if(curr.state===STATE_REJECTED)execute_handlers(curr,"onRejected",curr.rejectReason)};var execute_handlers=function execute_handlers(curr,name,value){if(curr[name].length===0)return;var handlers=curr[name];curr[name]=[];var func=function func(){for(var i=0;i<handlers.length;i++){handlers[i](value)}};if(typeof setImmediate==="function")setImmediate(func);else setTimeout(func,0)};var resolver=function resolver(cb,next,method){return function(value){if(typeof cb!=="function")next[method].call(next,value);else{var result;try{result=cb(value)}catch(e){next.reject(e);return}resolve(next,result)}}};var resolve=function resolve(promise,x){if(promise===x||promise.proxy===x){promise.reject(new TypeError("cannot resolve promise with itself"));return}var then;if(_typeof(x)==="object"&&x!==null||typeof x==="function"){try{then=x.then}catch(e){promise.reject(e);return}}if(typeof then==="function"){var resolved=false;try{then.call(x,(function(y){if(resolved)return;resolved=true;if(y===x)promise.reject(new TypeError("circular thenable chain"));else resolve(promise,y)}),(function(r){if(resolved)return;resolved=true;promise.reject(r)}))}catch(e){if(!resolved)promise.reject(e)}return}promise.fulfill(x)};api.all=function(ps){return new api((function(resolveAll,rejectAll){var vals=new Array(ps.length);var doneCount=0;var fulfill=function fulfill(i,val){vals[i]=val;doneCount++;if(doneCount===ps.length){resolveAll(vals)}};for(var i=0;i<ps.length;i++){(function(i){var p=ps[i];var isPromise=p!=null&&p.then!=null;if(isPromise){p.then((function(val){fulfill(i,val)}),(function(err){rejectAll(err)}))}else{var val=p;fulfill(i,val)}})(i)}}))};api.resolve=function(val){return new api((function(resolve,reject){resolve(val)}))};api.reject=function(val){return new api((function(resolve,reject){reject(val)}))};var Promise$1=typeof Promise!=="undefined"?Promise:api;var Animation=function Animation(target,opts,opts2){var isCore=core(target);var isEle=!isCore;var _p=this._private=extend({duration:1e3},opts,opts2);_p.target=target;_p.style=_p.style||_p.css;_p.started=false;_p.playing=false;_p.hooked=false;_p.applying=false;_p.progress=0;_p.completes=[];_p.frames=[];if(_p.complete&&fn(_p.complete)){_p.completes.push(_p.complete)}if(isEle){var pos=target.position();_p.startPosition=_p.startPosition||{x:pos.x,y:pos.y};_p.startStyle=_p.startStyle||target.cy().style().getAnimationStartStyle(target,_p.style)}if(isCore){var pan=target.pan();_p.startPan={x:pan.x,y:pan.y};_p.startZoom=target.zoom()}this.length=1;this[0]=this};var anifn=Animation.prototype;extend(anifn,{instanceString:function instanceString(){return"animation"},hook:function hook(){var _p=this._private;if(!_p.hooked){var q;var tAni=_p.target._private.animation;if(_p.queue){q=tAni.queue}else{q=tAni.current}q.push(this);if(elementOrCollection(_p.target)){_p.target.cy().addToAnimationPool(_p.target)}_p.hooked=true}return this},play:function play(){var _p=this._private;if(_p.progress===1){_p.progress=0}_p.playing=true;_p.started=false;_p.stopped=false;this.hook();return this},playing:function playing(){return this._private.playing},apply:function apply(){var _p=this._private;_p.applying=true;_p.started=false;_p.stopped=false;this.hook();return this},applying:function applying(){return this._private.applying},pause:function pause(){var _p=this._private;_p.playing=false;_p.started=false;return this},stop:function stop(){var _p=this._private;_p.playing=false;_p.started=false;_p.stopped=true;return this},rewind:function rewind(){return this.progress(0)},fastforward:function fastforward(){return this.progress(1)},time:function time(t){var _p=this._private;if(t===undefined){return _p.progress*_p.duration}else{return this.progress(t/_p.duration)}},progress:function progress(p){var _p=this._private;var wasPlaying=_p.playing;if(p===undefined){return _p.progress}else{if(wasPlaying){this.pause()}_p.progress=p;_p.started=false;if(wasPlaying){this.play()}}return this},completed:function completed(){return this._private.progress===1},reverse:function reverse(){var _p=this._private;var wasPlaying=_p.playing;if(wasPlaying){this.pause()}_p.progress=1-_p.progress;_p.started=false;var swap=function swap(a,b){var _pa=_p[a];if(_pa==null){return}_p[a]=_p[b];_p[b]=_pa};swap("zoom","startZoom");swap("pan","startPan");swap("position","startPosition");if(_p.style){for(var i=0;i<_p.style.length;i++){var prop=_p.style[i];var name=prop.name;var startStyleProp=_p.startStyle[name];_p.startStyle[name]=prop;_p.style[i]=startStyleProp}}if(wasPlaying){this.play()}return this},promise:function promise(type){var _p=this._private;var arr;switch(type){case"frame":arr=_p.frames;break;default:case"complete":case"completed":arr=_p.completes}return new Promise$1((function(resolve,reject){arr.push((function(){resolve()}))}))}});anifn.complete=anifn.completed;anifn.run=anifn.play;anifn.running=anifn.playing;var define={animated:function animated(){return function animatedImpl(){var self=this;var selfIsArrayLike=self.length!==undefined;var all=selfIsArrayLike?self:[self];var cy=this._private.cy||this;if(!cy.styleEnabled()){return false}var ele=all[0];if(ele){return ele._private.animation.current.length>0}}},clearQueue:function clearQueue(){return function clearQueueImpl(){var self=this;var selfIsArrayLike=self.length!==undefined;var all=selfIsArrayLike?self:[self];var cy=this._private.cy||this;if(!cy.styleEnabled()){return this}for(var i=0;i<all.length;i++){var ele=all[i];ele._private.animation.queue=[]}return this}},delay:function delay(){return function delayImpl(time,complete){var cy=this._private.cy||this;if(!cy.styleEnabled()){return this}return this.animate({delay:time,duration:time,complete:complete})}},delayAnimation:function delayAnimation(){return function delayAnimationImpl(time,complete){var cy=this._private.cy||this;if(!cy.styleEnabled()){return this}return this.animation({delay:time,duration:time,complete:complete})}},animation:function animation(){return function animationImpl(properties,params){var self=this;var selfIsArrayLike=self.length!==undefined;var all=selfIsArrayLike?self:[self];var cy=this._private.cy||this;var isCore=!selfIsArrayLike;var isEles=!isCore;if(!cy.styleEnabled()){return this}var style=cy.style();properties=extend({},properties,params);var propertiesEmpty=Object.keys(properties).length===0;if(propertiesEmpty){return new Animation(all[0],properties)}if(properties.duration===undefined){properties.duration=400}switch(properties.duration){case"slow":properties.duration=600;break;case"fast":properties.duration=200;break}if(isEles){properties.style=style.getPropsList(properties.style||properties.css);properties.css=undefined}if(isEles&&properties.renderedPosition!=null){var rpos=properties.renderedPosition;var pan=cy.pan();var zoom=cy.zoom();properties.position=renderedToModelPosition(rpos,zoom,pan)}if(isCore&&properties.panBy!=null){var panBy=properties.panBy;var cyPan=cy.pan();properties.pan={x:cyPan.x+panBy.x,y:cyPan.y+panBy.y}}var center=properties.center||properties.centre;if(isCore&&center!=null){var centerPan=cy.getCenterPan(center.eles,properties.zoom);if(centerPan!=null){properties.pan=centerPan}}if(isCore&&properties.fit!=null){var fit=properties.fit;var fitVp=cy.getFitViewport(fit.eles||fit.boundingBox,fit.padding);if(fitVp!=null){properties.pan=fitVp.pan;properties.zoom=fitVp.zoom}}if(isCore&&plainObject(properties.zoom)){var vp=cy.getZoomedViewport(properties.zoom);if(vp!=null){if(vp.zoomed){properties.zoom=vp.zoom}if(vp.panned){properties.pan=vp.pan}}}return new Animation(all[0],properties)}},animate:function animate(){return function animateImpl(properties,params){var self=this;var selfIsArrayLike=self.length!==undefined;var all=selfIsArrayLike?self:[self];var cy=this._private.cy||this;if(!cy.styleEnabled()){return this}if(params){properties=extend({},properties,params)}for(var i=0;i<all.length;i++){var ele=all[i];var queue=ele.animated()&&(properties.queue===undefined||properties.queue);var ani=ele.animation(properties,queue?{queue:true}:undefined);ani.play()}return this}},stop:function stop(){return function stopImpl(clearQueue,jumpToEnd){var self=this;var selfIsArrayLike=self.length!==undefined;var all=selfIsArrayLike?self:[self];var cy=this._private.cy||this;if(!cy.styleEnabled()){return this}for(var i=0;i<all.length;i++){var ele=all[i];var _p=ele._private;var anis=_p.animation.current;for(var j=0;j<anis.length;j++){var ani=anis[j];var ani_p=ani._private;if(jumpToEnd){ani_p.duration=0}}if(clearQueue){_p.animation.queue=[]}if(!jumpToEnd){_p.animation.current=[]}}cy.notify("draw");return this}}};var define$1={data:function data(params){var defaults={field:"data",bindingEvent:"data",allowBinding:false,allowSetting:false,allowGetting:false,settingEvent:"data",settingTriggersEvent:false,triggerFnName:"trigger",immutableKeys:{},updateStyle:false,beforeGet:function beforeGet(self){},beforeSet:function beforeSet(self,obj){},onSet:function onSet(self){},canSet:function canSet(self){return true}};params=extend({},defaults,params);return function dataImpl(name,value){var p=params;var self=this;var selfIsArrayLike=self.length!==undefined;var all=selfIsArrayLike?self:[self];var single=selfIsArrayLike?self[0]:self;if(string(name)){if(p.allowGetting&&value===undefined){var ret;if(single){p.beforeGet(single);ret=single._private[p.field][name]}return ret}else if(p.allowSetting&&value!==undefined){var valid=!p.immutableKeys[name];if(valid){var change=_defineProperty({},name,value);p.beforeSet(self,change);for(var i=0,l=all.length;i<l;i++){var ele=all[i];if(p.canSet(ele)){ele._private[p.field][name]=value}}if(p.updateStyle){self.updateStyle()}p.onSet(self);if(p.settingTriggersEvent){self[p.triggerFnName](p.settingEvent)}}}}else if(p.allowSetting&&plainObject(name)){var obj=name;var k,v;var keys=Object.keys(obj);p.beforeSet(self,obj);for(var _i=0;_i<keys.length;_i++){k=keys[_i];v=obj[k];var _valid=!p.immutableKeys[k];if(_valid){for(var j=0;j<all.length;j++){var _ele=all[j];if(p.canSet(_ele)){_ele._private[p.field][k]=v}}}}if(p.updateStyle){self.updateStyle()}p.onSet(self);if(p.settingTriggersEvent){self[p.triggerFnName](p.settingEvent)}}else if(p.allowBinding&&fn(name)){var fn$1=name;self.on(p.bindingEvent,fn$1)}else if(p.allowGetting&&name===undefined){var _ret;if(single){p.beforeGet(single);_ret=single._private[p.field]}return _ret}return self}},removeData:function removeData(params){var defaults={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:false,immutableKeys:{}};params=extend({},defaults,params);return function removeDataImpl(names){var p=params;var self=this;var selfIsArrayLike=self.length!==undefined;var all=selfIsArrayLike?self:[self];if(string(names)){var keys=names.split(/\s+/);var l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(emptyString(key)){continue}var valid=!p.immutableKeys[key];if(valid){for(var i_a=0,l_a=all.length;i_a<l_a;i_a++){all[i_a]._private[p.field][key]=undefined}}}if(p.triggerEvent){self[p.triggerFnName](p.event)}}else if(names===undefined){for(var _i_a=0,_l_a=all.length;_i_a<_l_a;_i_a++){var _privateFields=all[_i_a]._private[p.field];var _keys=Object.keys(_privateFields);for(var _i2=0;_i2<_keys.length;_i2++){var _key=_keys[_i2];var validKeyToDelete=!p.immutableKeys[_key];if(validKeyToDelete){_privateFields[_key]=undefined}}}if(p.triggerEvent){self[p.triggerFnName](p.event)}}return self}}};var define$2={eventAliasesOn:function eventAliasesOn(proto){var p=proto;p.addListener=p.listen=p.bind=p.on;p.unlisten=p.unbind=p.off=p.removeListener;p.trigger=p.emit;p.pon=p.promiseOn=function(events,selector){var self=this;var args=Array.prototype.slice.call(arguments,0);return new Promise$1((function(resolve,reject){var callback=function callback(e){self.off.apply(self,offArgs);resolve(e)};var onArgs=args.concat([callback]);var offArgs=onArgs.concat([]);self.on.apply(self,onArgs)}))}}};var define$3={};[define,define$1,define$2].forEach((function(m){extend(define$3,m)}));var elesfn$c={animate:define$3.animate(),animation:define$3.animation(),animated:define$3.animated(),clearQueue:define$3.clearQueue(),delay:define$3.delay(),delayAnimation:define$3.delayAnimation(),stop:define$3.stop()};var elesfn$d={classes:function classes(_classes){var self=this;if(_classes===undefined){var ret=[];self[0]._private.classes.forEach((function(cls){return ret.push(cls)}));return ret}else if(!array(_classes)){_classes=(_classes||"").match(/\S+/g)||[]}var changed=[];var classesSet=new Set$1(_classes);for(var j=0;j<self.length;j++){var ele=self[j];var _p=ele._private;var eleClasses=_p.classes;var changedEle=false;for(var i=0;i<_classes.length;i++){var cls=_classes[i];var eleHasClass=eleClasses.has(cls);if(!eleHasClass){changedEle=true;break}}if(!changedEle){changedEle=eleClasses.size!==_classes.length}if(changedEle){_p.classes=classesSet;changed.push(ele)}}if(changed.length>0){this.spawn(changed).updateStyle().emit("class")}return self},addClass:function addClass(classes){return this.toggleClass(classes,true)},hasClass:function hasClass(className){var ele=this[0];return ele!=null&&ele._private.classes.has(className)},toggleClass:function toggleClass(classes,toggle){if(!array(classes)){classes=classes.match(/\S+/g)||[]}var self=this;var toggleUndefd=toggle===undefined;var changed=[];for(var i=0,il=self.length;i<il;i++){var ele=self[i];var eleClasses=ele._private.classes;var changedEle=false;for(var j=0;j<classes.length;j++){var cls=classes[j];var hasClass=eleClasses.has(cls);var changedNow=false;if(toggle||toggleUndefd&&!hasClass){eleClasses.add(cls);changedNow=true}else if(!toggle||toggleUndefd&&hasClass){eleClasses["delete"](cls);changedNow=true}if(!changedEle&&changedNow){changed.push(ele);changedEle=true}}}if(changed.length>0){this.spawn(changed).updateStyle().emit("class")}return self},removeClass:function removeClass(classes){return this.toggleClass(classes,false)},flashClass:function flashClass(classes,duration){var self=this;if(duration==null){duration=250}else if(duration===0){return self}self.addClass(classes);setTimeout((function(){self.removeClass(classes)}),duration);return self}};elesfn$d.className=elesfn$d.classNames=elesfn$d.classes;var tokens={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"'+"|"+"'(?:\\\\'|[^'])*'",number:number$1,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};tokens.variable="(?:[\\w-]|(?:\\\\"+tokens.metaChar+"))+";tokens.value=tokens.string+"|"+tokens.number;tokens.className=tokens.variable;tokens.id=tokens.variable;(function(){var ops,op,i;ops=tokens.comparatorOp.split("|");for(i=0;i<ops.length;i++){op=ops[i];tokens.comparatorOp+="|@"+op}ops=tokens.comparatorOp.split("|");for(i=0;i<ops.length;i++){op=ops[i];if(op.indexOf("!")>=0){continue}if(op==="="){continue}tokens.comparatorOp+="|\\!"+op}})();var newQuery=function newQuery(){return{checks:[]}};var Type={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20};var stateSelectors=[{selector:":selected",matches:function matches(ele){return ele.selected()}},{selector:":unselected",matches:function matches(ele){return!ele.selected()}},{selector:":selectable",matches:function matches(ele){return ele.selectable()}},{selector:":unselectable",matches:function matches(ele){return!ele.selectable()}},{selector:":locked",matches:function matches(ele){return ele.locked()}},{selector:":unlocked",matches:function matches(ele){return!ele.locked()}},{selector:":visible",matches:function matches(ele){return ele.visible()}},{selector:":hidden",matches:function matches(ele){return!ele.visible()}},{selector:":transparent",matches:function matches(ele){return ele.transparent()}},{selector:":grabbed",matches:function matches(ele){return ele.grabbed()}},{selector:":free",matches:function matches(ele){return!ele.grabbed()}},{selector:":removed",matches:function matches(ele){return ele.removed()}},{selector:":inside",matches:function matches(ele){return!ele.removed()}},{selector:":grabbable",matches:function matches(ele){return ele.grabbable()}},{selector:":ungrabbable",matches:function matches(ele){return!ele.grabbable()}},{selector:":animated",matches:function matches(ele){return ele.animated()}},{selector:":unanimated",matches:function matches(ele){return!ele.animated()}},{selector:":parent",matches:function matches(ele){return ele.isParent()}},{selector:":childless",matches:function matches(ele){return ele.isChildless()}},{selector:":child",matches:function matches(ele){return ele.isChild()}},{selector:":orphan",matches:function matches(ele){return ele.isOrphan()}},{selector:":nonorphan",matches:function matches(ele){return ele.isChild()}},{selector:":compound",matches:function matches(ele){if(ele.isNode()){return ele.isParent()}else{return ele.source().isParent()||ele.target().isParent()}}},{selector:":loop",matches:function matches(ele){return ele.isLoop()}},{selector:":simple",matches:function matches(ele){return ele.isSimple()}},{selector:":active",matches:function matches(ele){return ele.active()}},{selector:":inactive",matches:function matches(ele){return!ele.active()}},{selector:":backgrounding",matches:function matches(ele){return ele.backgrounding()}},{selector:":nonbackgrounding",matches:function matches(ele){return!ele.backgrounding()}}].sort((function(a,b){return descending(a.selector,b.selector)}));var lookup=function(){var selToFn={};var s;for(var i=0;i<stateSelectors.length;i++){s=stateSelectors[i];selToFn[s.selector]=s.matches}return selToFn}();var stateSelectorMatches=function stateSelectorMatches(sel,ele){return lookup[sel](ele)};var stateSelectorRegex="("+stateSelectors.map((function(s){return s.selector})).join("|")+")";var cleanMetaChars=function cleanMetaChars(str){return str.replace(new RegExp("\\\\("+tokens.metaChar+")","g"),(function(match,$1){return $1}))};var replaceLastQuery=function replaceLastQuery(selector,examiningQuery,replacementQuery){selector[selector.length-1]=replacementQuery};var exprs=[{name:"group",query:true,regex:"("+tokens.group+")",populate:function populate(selector,query,_ref){var _ref2=_slicedToArray(_ref,1),group=_ref2[0];query.checks.push({type:Type.GROUP,value:group==="*"?group:group+"s"})}},{name:"state",query:true,regex:stateSelectorRegex,populate:function populate(selector,query,_ref3){var _ref4=_slicedToArray(_ref3,1),state=_ref4[0];query.checks.push({type:Type.STATE,value:state})}},{name:"id",query:true,regex:"\\#("+tokens.id+")",populate:function populate(selector,query,_ref5){var _ref6=_slicedToArray(_ref5,1),id=_ref6[0];query.checks.push({type:Type.ID,value:cleanMetaChars(id)})}},{name:"className",query:true,regex:"\\.("+tokens.className+")",populate:function populate(selector,query,_ref7){var _ref8=_slicedToArray(_ref7,1),className=_ref8[0];query.checks.push({type:Type.CLASS,value:cleanMetaChars(className)})}},{name:"dataExists",query:true,regex:"\\[\\s*("+tokens.variable+")\\s*\\]",populate:function populate(selector,query,_ref9){var _ref10=_slicedToArray(_ref9,1),variable=_ref10[0];query.checks.push({type:Type.DATA_EXIST,field:cleanMetaChars(variable)})}},{name:"dataCompare",query:true,regex:"\\[\\s*("+tokens.variable+")\\s*("+tokens.comparatorOp+")\\s*("+tokens.value+")\\s*\\]",populate:function populate(selector,query,_ref11){var _ref12=_slicedToArray(_ref11,3),variable=_ref12[0],comparatorOp=_ref12[1],value=_ref12[2];var valueIsString=new RegExp("^"+tokens.string+"$").exec(value)!=null;if(valueIsString){value=value.substring(1,value.length-1)}else{value=parseFloat(value)}query.checks.push({type:Type.DATA_COMPARE,field:cleanMetaChars(variable),operator:comparatorOp,value:value})}},{name:"dataBool",query:true,regex:"\\[\\s*("+tokens.boolOp+")\\s*("+tokens.variable+")\\s*\\]",populate:function populate(selector,query,_ref13){var _ref14=_slicedToArray(_ref13,2),boolOp=_ref14[0],variable=_ref14[1];query.checks.push({type:Type.DATA_BOOL,field:cleanMetaChars(variable),operator:boolOp})}},{name:"metaCompare",query:true,regex:"\\[\\[\\s*("+tokens.meta+")\\s*("+tokens.comparatorOp+")\\s*("+tokens.number+")\\s*\\]\\]",populate:function populate(selector,query,_ref15){var _ref16=_slicedToArray(_ref15,3),meta=_ref16[0],comparatorOp=_ref16[1],number=_ref16[2];query.checks.push({type:Type.META_COMPARE,field:cleanMetaChars(meta),operator:comparatorOp,value:parseFloat(number)})}},{name:"nextQuery",separator:true,regex:tokens.separator,populate:function populate(selector,query){var currentSubject=selector.currentSubject;var edgeCount=selector.edgeCount;var compoundCount=selector.compoundCount;var lastQ=selector[selector.length-1];if(currentSubject!=null){lastQ.subject=currentSubject;selector.currentSubject=null}lastQ.edgeCount=edgeCount;lastQ.compoundCount=compoundCount;selector.edgeCount=0;selector.compoundCount=0;var nextQuery=selector[selector.length++]=newQuery();return nextQuery}},{name:"directedEdge",separator:true,regex:tokens.directedEdge,populate:function populate(selector,query){if(selector.currentSubject==null){var edgeQuery=newQuery();var source=query;var target=newQuery();edgeQuery.checks.push({type:Type.DIRECTED_EDGE,source:source,target:target});replaceLastQuery(selector,query,edgeQuery);selector.edgeCount++;return target}else{var srcTgtQ=newQuery();var _source=query;var _target=newQuery();srcTgtQ.checks.push({type:Type.NODE_SOURCE,source:_source,target:_target});replaceLastQuery(selector,query,srcTgtQ);selector.edgeCount++;return _target}}},{name:"undirectedEdge",separator:true,regex:tokens.undirectedEdge,populate:function populate(selector,query){if(selector.currentSubject==null){var edgeQuery=newQuery();var source=query;var target=newQuery();edgeQuery.checks.push({type:Type.UNDIRECTED_EDGE,nodes:[source,target]});replaceLastQuery(selector,query,edgeQuery);selector.edgeCount++;return target}else{var nhoodQ=newQuery();var node=query;var neighbor=newQuery();nhoodQ.checks.push({type:Type.NODE_NEIGHBOR,node:node,neighbor:neighbor});replaceLastQuery(selector,query,nhoodQ);return neighbor}}},{name:"child",separator:true,regex:tokens.child,populate:function populate(selector,query){if(selector.currentSubject==null){var parentChildQuery=newQuery();var child=newQuery();var parent=selector[selector.length-1];parentChildQuery.checks.push({type:Type.CHILD,parent:parent,child:child});replaceLastQuery(selector,query,parentChildQuery);selector.compoundCount++;return child}else if(selector.currentSubject===query){var compound=newQuery();var left=selector[selector.length-1];var right=newQuery();var subject=newQuery();var _child=newQuery();var _parent=newQuery();compound.checks.push({type:Type.COMPOUND_SPLIT,left:left,right:right,subject:subject});subject.checks=query.checks;query.checks=[{type:Type.TRUE}];_parent.checks.push({type:Type.TRUE});right.checks.push({type:Type.PARENT,parent:_parent,child:_child});replaceLastQuery(selector,left,compound);selector.currentSubject=subject;selector.compoundCount++;return _child}else{var _parent2=newQuery();var _child2=newQuery();var pcQChecks=[{type:Type.PARENT,parent:_parent2,child:_child2}];_parent2.checks=query.checks;query.checks=pcQChecks;selector.compoundCount++;return _child2}}},{name:"descendant",separator:true,regex:tokens.descendant,populate:function populate(selector,query){if(selector.currentSubject==null){var ancChQuery=newQuery();var descendant=newQuery();var ancestor=selector[selector.length-1];ancChQuery.checks.push({type:Type.DESCENDANT,ancestor:ancestor,descendant:descendant});replaceLastQuery(selector,query,ancChQuery);selector.compoundCount++;return descendant}else if(selector.currentSubject===query){var compound=newQuery();var left=selector[selector.length-1];var right=newQuery();var subject=newQuery();var _descendant=newQuery();var _ancestor=newQuery();compound.checks.push({type:Type.COMPOUND_SPLIT,left:left,right:right,subject:subject});subject.checks=query.checks;query.checks=[{type:Type.TRUE}];_ancestor.checks.push({type:Type.TRUE});right.checks.push({type:Type.ANCESTOR,ancestor:_ancestor,descendant:_descendant});replaceLastQuery(selector,left,compound);selector.currentSubject=subject;selector.compoundCount++;return _descendant}else{var _ancestor2=newQuery();var _descendant2=newQuery();var adQChecks=[{type:Type.ANCESTOR,ancestor:_ancestor2,descendant:_descendant2}];_ancestor2.checks=query.checks;query.checks=adQChecks;selector.compoundCount++;return _descendant2}}},{name:"subject",modifier:true,regex:tokens.subject,populate:function populate(selector,query){if(selector.currentSubject!=null&&selector.currentSubject!==query){warn("Redefinition of subject in selector `"+selector.toString()+"`");return false}selector.currentSubject=query;var topQ=selector[selector.length-1];var topChk=topQ.checks[0];var topType=topChk==null?null:topChk.type;if(topType===Type.DIRECTED_EDGE){topChk.type=Type.NODE_TARGET}else if(topType===Type.UNDIRECTED_EDGE){topChk.type=Type.NODE_NEIGHBOR;topChk.node=topChk.nodes[1];topChk.neighbor=topChk.nodes[0];topChk.nodes=null}}}];exprs.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var consumeExpr=function consumeExpr(remaining){var expr;var match;var name;for(var j=0;j<exprs.length;j++){var e=exprs[j];var n=e.name;var m=remaining.match(e.regexObj);if(m!=null){match=m;expr=e;name=n;var consumed=m[0];remaining=remaining.substring(consumed.length);break}}return{expr:expr,match:match,name:name,remaining:remaining}};var consumeWhitespace=function consumeWhitespace(remaining){var match=remaining.match(/^\s+/);if(match){var consumed=match[0];remaining=remaining.substring(consumed.length)}return remaining};var parse=function parse(selector){var self=this;var remaining=self.inputText=selector;var currentQuery=self[0]=newQuery();self.length=1;remaining=consumeWhitespace(remaining);for(;;){var exprInfo=consumeExpr(remaining);if(exprInfo.expr==null){warn("The selector `"+selector+"`is invalid");return false}else{var args=exprInfo.match.slice(1);var ret=exprInfo.expr.populate(self,currentQuery,args);if(ret===false){return false}else if(ret!=null){currentQuery=ret}}remaining=exprInfo.remaining;if(remaining.match(/^\s*$/)){break}}var lastQ=self[self.length-1];if(self.currentSubject!=null){lastQ.subject=self.currentSubject}lastQ.edgeCount=self.edgeCount;lastQ.compoundCount=self.compoundCount;for(var i=0;i<self.length;i++){var q=self[i];if(q.compoundCount>0&&q.edgeCount>0){warn("The selector `"+selector+"` is invalid because it uses both a compound selector and an edge selector");return false}if(q.edgeCount>1){warn("The selector `"+selector+"` is invalid because it uses multiple edge selectors");return false}else if(q.edgeCount===1){warn("The selector `"+selector+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}}return true};var toString=function toString(){if(this.toStringCache!=null){return this.toStringCache}var clean=function clean(obj){if(obj==null){return""}else{return obj}};var cleanVal=function cleanVal(val){if(string(val)){return'"'+val+'"'}else{return clean(val)}};var space=function space(val){return" "+val+" "};var checkToString=function checkToString(check,subject){var type=check.type,value=check.value;switch(type){case Type.GROUP:{var group=clean(value);return group.substring(0,group.length-1)}case Type.DATA_COMPARE:{var field=check.field,operator=check.operator;return"["+field+space(clean(operator))+cleanVal(value)+"]"}case Type.DATA_BOOL:{var _operator=check.operator,_field=check.field;return"["+clean(_operator)+_field+"]"}case Type.DATA_EXIST:{var _field2=check.field;return"["+_field2+"]"}case Type.META_COMPARE:{var _operator2=check.operator,_field3=check.field;return"[["+_field3+space(clean(_operator2))+cleanVal(value)+"]]"}case Type.STATE:{return value}case Type.ID:{return"#"+value}case Type.CLASS:{return"."+value}case Type.PARENT:case Type.CHILD:{return queryToString(check.parent,subject)+space(">")+queryToString(check.child,subject)}case Type.ANCESTOR:case Type.DESCENDANT:{return queryToString(check.ancestor,subject)+" "+queryToString(check.descendant,subject)}case Type.COMPOUND_SPLIT:{var lhs=queryToString(check.left,subject);var sub=queryToString(check.subject,subject);var rhs=queryToString(check.right,subject);return lhs+(lhs.length>0?" ":"")+sub+rhs}case Type.TRUE:{return""}}};var queryToString=function queryToString(query,subject){return query.checks.reduce((function(str,chk,i){return str+(subject===query&&i===0?"$":"")+checkToString(chk,subject)}),"")};var str="";for(var i=0;i<this.length;i++){var query=this[i];str+=queryToString(query,query.subject);if(this.length>1&&i<this.length-1){str+=", "}}this.toStringCache=str;return str};var parse$1={parse:parse,toString:toString};var valCmp=function valCmp(fieldVal,operator,value){var matches;var isFieldStr=string(fieldVal);var isFieldNum=number(fieldVal);var isValStr=string(value);var fieldStr,valStr;var caseInsensitive=false;var notExpr=false;var isIneqCmp=false;if(operator.indexOf("!")>=0){operator=operator.replace("!","");notExpr=true}if(operator.indexOf("@")>=0){operator=operator.replace("@","");caseInsensitive=true}if(isFieldStr||isValStr||caseInsensitive){fieldStr=!isFieldStr&&!isFieldNum?"":""+fieldVal;valStr=""+value}if(caseInsensitive){fieldVal=fieldStr=fieldStr.toLowerCase();value=valStr=valStr.toLowerCase()}switch(operator){case"*=":matches=fieldStr.indexOf(valStr)>=0;break;case"$=":matches=fieldStr.indexOf(valStr,fieldStr.length-valStr.length)>=0;break;case"^=":matches=fieldStr.indexOf(valStr)===0;break;case"=":matches=fieldVal===value;break;case">":isIneqCmp=true;matches=fieldVal>value;break;case">=":isIneqCmp=true;matches=fieldVal>=value;break;case"<":isIneqCmp=true;matches=fieldVal<value;break;case"<=":isIneqCmp=true;matches=fieldVal<=value;break;default:matches=false;break}if(notExpr&&(fieldVal!=null||!isIneqCmp)){matches=!matches}return matches};var boolCmp=function boolCmp(fieldVal,operator){switch(operator){case"?":return fieldVal?true:false;case"!":return fieldVal?false:true;case"^":return fieldVal===undefined}};var existCmp=function existCmp(fieldVal){return fieldVal!==undefined};var data=function data(ele,field){return ele.data(field)};var meta=function meta(ele,field){return ele[field]()};var match=[];var matches=function matches(query,ele){return query.checks.every((function(chk){return match[chk.type](chk,ele)}))};match[Type.GROUP]=function(check,ele){var group=check.value;return group==="*"||group===ele.group()};match[Type.STATE]=function(check,ele){var stateSelector=check.value;return stateSelectorMatches(stateSelector,ele)};match[Type.ID]=function(check,ele){var id=check.value;return ele.id()===id};match[Type.CLASS]=function(check,ele){var cls=check.value;return ele.hasClass(cls)};match[Type.META_COMPARE]=function(check,ele){var field=check.field,operator=check.operator,value=check.value;return valCmp(meta(ele,field),operator,value)};match[Type.DATA_COMPARE]=function(check,ele){var field=check.field,operator=check.operator,value=check.value;return valCmp(data(ele,field),operator,value)};match[Type.DATA_BOOL]=function(check,ele){var field=check.field,operator=check.operator;return boolCmp(data(ele,field),operator)};match[Type.DATA_EXIST]=function(check,ele){var field=check.field,operator=check.operator;return existCmp(data(ele,field))};match[Type.UNDIRECTED_EDGE]=function(check,ele){var qA=check.nodes[0];var qB=check.nodes[1];var src=ele.source();var tgt=ele.target();return matches(qA,src)&&matches(qB,tgt)||matches(qB,src)&&matches(qA,tgt)};match[Type.NODE_NEIGHBOR]=function(check,ele){return matches(check.node,ele)&&ele.neighborhood().some((function(n){return n.isNode()&&matches(check.neighbor,n)}))};match[Type.DIRECTED_EDGE]=function(check,ele){return matches(check.source,ele.source())&&matches(check.target,ele.target())};match[Type.NODE_SOURCE]=function(check,ele){return matches(check.source,ele)&&ele.outgoers().some((function(n){return n.isNode()&&matches(check.target,n)}))};match[Type.NODE_TARGET]=function(check,ele){return matches(check.target,ele)&&ele.incomers().some((function(n){return n.isNode()&&matches(check.source,n)}))};match[Type.CHILD]=function(check,ele){return matches(check.child,ele)&&matches(check.parent,ele.parent())};match[Type.PARENT]=function(check,ele){return matches(check.parent,ele)&&ele.children().some((function(c){return matches(check.child,c)}))};match[Type.DESCENDANT]=function(check,ele){return matches(check.descendant,ele)&&ele.ancestors().some((function(a){return matches(check.ancestor,a)}))};match[Type.ANCESTOR]=function(check,ele){return matches(check.ancestor,ele)&&ele.descendants().some((function(d){return matches(check.descendant,d)}))};match[Type.COMPOUND_SPLIT]=function(check,ele){return matches(check.subject,ele)&&matches(check.left,ele)&&matches(check.right,ele)};match[Type.TRUE]=function(){return true};match[Type.COLLECTION]=function(check,ele){var collection=check.value;return collection.has(ele)};match[Type.FILTER]=function(check,ele){var filter=check.value;return filter(ele)};var filter=function filter(collection){var self=this;if(self.length===1&&self[0].checks.length===1&&self[0].checks[0].type===Type.ID){return collection.getElementById(self[0].checks[0].value).collection()}var selectorFunction=function selectorFunction(element){for(var j=0;j<self.length;j++){var query=self[j];if(matches(query,element)){return true}}return false};if(self.text()==null){selectorFunction=function selectorFunction(){return true}}return collection.filter(selectorFunction)};var matches$1=function matches$1(ele){var self=this;for(var j=0;j<self.length;j++){var query=self[j];if(matches(query,ele)){return true}}return false};var matching={matches:matches$1,filter:filter};var Selector=function Selector(selector){this.inputText=selector;this.currentSubject=null;this.compoundCount=0;this.edgeCount=0;this.length=0;if(selector==null||string(selector)&&selector.match(/^\s*$/));else if(elementOrCollection(selector)){this.addQuery({checks:[{type:Type.COLLECTION,value:selector.collection()}]})}else if(fn(selector)){this.addQuery({checks:[{type:Type.FILTER,value:selector}]})}else if(string(selector)){if(!this.parse(selector)){this.invalid=true}}else{error("A selector must be created from a string; found ")}};var selfn=Selector.prototype;[parse$1,matching].forEach((function(p){return extend(selfn,p)}));selfn.text=function(){return this.inputText};selfn.size=function(){return this.length};selfn.eq=function(i){return this[i]};selfn.sameText=function(otherSel){return!this.invalid&&!otherSel.invalid&&this.text()===otherSel.text()};selfn.addQuery=function(q){this[this.length++]=q};selfn.selector=selfn.toString;var elesfn$e={allAre:function allAre(selector){var selObj=new Selector(selector);return this.every((function(ele){return selObj.matches(ele)}))},is:function is(selector){var selObj=new Selector(selector);return this.some((function(ele){return selObj.matches(ele)}))},some:function some(fn,thisArg){for(var i=0;i<this.length;i++){var ret=!thisArg?fn(this[i],i,this):fn.apply(thisArg,[this[i],i,this]);if(ret){return true}}return false},every:function every(fn,thisArg){for(var i=0;i<this.length;i++){var ret=!thisArg?fn(this[i],i,this):fn.apply(thisArg,[this[i],i,this]);if(!ret){return false}}return true},same:function same(collection){if(this===collection){return true}collection=this.cy().collection(collection);var thisLength=this.length;var collectionLength=collection.length;if(thisLength!==collectionLength){return false}if(thisLength===1){return this[0]===collection[0]}return this.every((function(ele){return collection.hasElementWithId(ele.id())}))},anySame:function anySame(collection){collection=this.cy().collection(collection);return this.some((function(ele){return collection.hasElementWithId(ele.id())}))},allAreNeighbors:function allAreNeighbors(collection){collection=this.cy().collection(collection);var nhood=this.neighborhood();return collection.every((function(ele){return nhood.hasElementWithId(ele.id())}))},contains:function contains(collection){collection=this.cy().collection(collection);var self=this;return collection.every((function(ele){return self.hasElementWithId(ele.id())}))}};elesfn$e.allAreNeighbours=elesfn$e.allAreNeighbors;elesfn$e.has=elesfn$e.contains;elesfn$e.equal=elesfn$e.equals=elesfn$e.same;var cache=function cache(fn,name){return function traversalCache(arg1,arg2,arg3,arg4){var selectorOrEles=arg1;var eles=this;var key;if(selectorOrEles==null){key=""}else if(elementOrCollection(selectorOrEles)&&selectorOrEles.length===1){key=selectorOrEles.id()}if(eles.length===1&&key){var _p=eles[0]._private;var tch=_p.traversalCache=_p.traversalCache||{};var ch=tch[name]=tch[name]||[];var hash=hashString(key);var cacheHit=ch[hash];if(cacheHit){return cacheHit}else{return ch[hash]=fn.call(eles,arg1,arg2,arg3,arg4)}}else{return fn.call(eles,arg1,arg2,arg3,arg4)}}};var elesfn$f={parent:function parent(selector){var parents=[];if(this.length===1){var parent=this[0]._private.parent;if(parent){return parent}}for(var i=0;i<this.length;i++){var ele=this[i];var _parent=ele._private.parent;if(_parent){parents.push(_parent)}}return this.spawn(parents,{unique:true}).filter(selector)},parents:function parents(selector){var parents=[];var eles=this.parent();while(eles.nonempty()){for(var i=0;i<eles.length;i++){var ele=eles[i];parents.push(ele)}eles=eles.parent()}return this.spawn(parents,{unique:true}).filter(selector)},commonAncestors:function commonAncestors(selector){var ancestors;for(var i=0;i<this.length;i++){var ele=this[i];var parents=ele.parents();ancestors=ancestors||parents;ancestors=ancestors.intersect(parents)}return ancestors.filter(selector)},orphans:function orphans(selector){return this.stdFilter((function(ele){return ele.isOrphan()})).filter(selector)},nonorphans:function nonorphans(selector){return this.stdFilter((function(ele){return ele.isChild()})).filter(selector)},children:cache((function(selector){var children=[];for(var i=0;i<this.length;i++){var ele=this[i];var eleChildren=ele._private.children;for(var j=0;j<eleChildren.length;j++){children.push(eleChildren[j])}}return this.spawn(children,{unique:true}).filter(selector)}),"children"),siblings:function siblings(selector){return this.parent().children().not(this).filter(selector)},isParent:function isParent(){var ele=this[0];if(ele){return ele.isNode()&&ele._private.children.length!==0}},isChildless:function isChildless(){var ele=this[0];if(ele){return ele.isNode()&&ele._private.children.length===0}},isChild:function isChild(){var ele=this[0];if(ele){return ele.isNode()&&ele._private.parent!=null}},isOrphan:function isOrphan(){var ele=this[0];if(ele){return ele.isNode()&&ele._private.parent==null}},descendants:function descendants(selector){var elements=[];function add(eles){for(var i=0;i<eles.length;i++){var ele=eles[i];elements.push(ele);if(ele.children().nonempty()){add(ele.children())}}}add(this.children());return this.spawn(elements,{unique:true}).filter(selector)}};function forEachCompound(eles,fn,includeSelf,recursiveStep){var q=[];var did=new Set$1;var cy=eles.cy();var hasCompounds=cy.hasCompoundNodes();for(var i=0;i<eles.length;i++){var ele=eles[i];if(includeSelf){q.push(ele)}else if(hasCompounds){recursiveStep(q,did,ele)}}while(q.length>0){var _ele=q.shift();fn(_ele);did.add(_ele.id());if(hasCompounds){recursiveStep(q,did,_ele)}}return eles}function addChildren(q,did,ele){if(ele.isParent()){var children=ele._private.children;for(var i=0;i<children.length;i++){var child=children[i];if(!did.has(child.id())){q.push(child)}}}}elesfn$f.forEachDown=function(fn){var includeSelf=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return forEachCompound(this,fn,includeSelf,addChildren)};function addParent(q,did,ele){if(ele.isChild()){var parent=ele._private.parent;if(!did.has(parent.id())){q.push(parent)}}}elesfn$f.forEachUp=function(fn){var includeSelf=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return forEachCompound(this,fn,includeSelf,addParent)};function addParentAndChildren(q,did,ele){addParent(q,did,ele);addChildren(q,did,ele)}elesfn$f.forEachUpAndDown=function(fn){var includeSelf=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return forEachCompound(this,fn,includeSelf,addParentAndChildren)};elesfn$f.ancestors=elesfn$f.parents;var fn$1,elesfn$g;fn$1=elesfn$g={data:define$3.data({field:"data",bindingEvent:"data",allowBinding:true,allowSetting:true,settingEvent:"data",settingTriggersEvent:true,triggerFnName:"trigger",allowGetting:true,immutableKeys:{id:true,source:true,target:true,parent:true},updateStyle:true}),removeData:define$3.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:true,immutableKeys:{id:true,source:true,target:true,parent:true},updateStyle:true}),scratch:define$3.data({field:"scratch",bindingEvent:"scratch",allowBinding:true,allowSetting:true,settingEvent:"scratch",settingTriggersEvent:true,triggerFnName:"trigger",allowGetting:true,updateStyle:true}),removeScratch:define$3.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:true,updateStyle:true}),rscratch:define$3.data({field:"rscratch",allowBinding:false,allowSetting:true,settingTriggersEvent:false,allowGetting:true}),removeRscratch:define$3.removeData({field:"rscratch",triggerEvent:false}),id:function id(){var ele=this[0];if(ele){return ele._private.data.id}}};fn$1.attr=fn$1.data;fn$1.removeAttr=fn$1.removeData;var data$1=elesfn$g;var elesfn$h={};function defineDegreeFunction(callback){return function(includeLoops){var self=this;if(includeLoops===undefined){includeLoops=true}if(self.length===0){return}if(self.isNode()&&!self.removed()){var degree=0;var node=self[0];var connectedEdges=node._private.edges;for(var i=0;i<connectedEdges.length;i++){var edge=connectedEdges[i];if(!includeLoops&&edge.isLoop()){continue}degree+=callback(node,edge)}return degree}else{return}}}extend(elesfn$h,{degree:defineDegreeFunction((function(node,edge){if(edge.source().same(edge.target())){return 2}else{return 1}})),indegree:defineDegreeFunction((function(node,edge){if(edge.target().same(node)){return 1}else{return 0}})),outdegree:defineDegreeFunction((function(node,edge){if(edge.source().same(node)){return 1}else{return 0}}))});function defineDegreeBoundsFunction(degreeFn,callback){return function(includeLoops){var ret;var nodes=this.nodes();for(var i=0;i<nodes.length;i++){var ele=nodes[i];var degree=ele[degreeFn](includeLoops);if(degree!==undefined&&(ret===undefined||callback(degree,ret))){ret=degree}}return ret}}extend(elesfn$h,{minDegree:defineDegreeBoundsFunction("degree",(function(degree,min){return degree<min})),maxDegree:defineDegreeBoundsFunction("degree",(function(degree,max){return degree>max})),minIndegree:defineDegreeBoundsFunction("indegree",(function(degree,min){return degree<min})),maxIndegree:defineDegreeBoundsFunction("indegree",(function(degree,max){return degree>max})),minOutdegree:defineDegreeBoundsFunction("outdegree",(function(degree,min){return degree<min})),maxOutdegree:defineDegreeBoundsFunction("outdegree",(function(degree,max){return degree>max}))});extend(elesfn$h,{totalDegree:function totalDegree(includeLoops){var total=0;var nodes=this.nodes();for(var i=0;i<nodes.length;i++){total+=nodes[i].degree(includeLoops)}return total}});var fn$2,elesfn$i;var beforePositionSet=function beforePositionSet(eles,newPos,silent){for(var i=0;i<eles.length;i++){var ele=eles[i];if(!ele.locked()){var oldPos=ele._private.position;var delta={x:newPos.x!=null?newPos.x-oldPos.x:0,y:newPos.y!=null?newPos.y-oldPos.y:0};if(ele.isParent()&&!(delta.x===0&&delta.y===0)){ele.children().shift(delta,silent)}ele.shiftCachedBoundingBox(delta)}}};var positionDef={field:"position",bindingEvent:"position",allowBinding:true,allowSetting:true,settingEvent:"position",settingTriggersEvent:true,triggerFnName:"emitAndNotify",allowGetting:true,validKeys:["x","y"],beforeGet:function beforeGet(ele){ele.updateCompoundBounds()},beforeSet:function beforeSet(eles,newPos){beforePositionSet(eles,newPos,false)},onSet:function onSet(eles){eles.dirtyCompoundBoundsCache()},canSet:function canSet(ele){return!ele.locked()}};fn$2=elesfn$i={position:define$3.data(positionDef),silentPosition:define$3.data(extend({},positionDef,{allowBinding:false,allowSetting:true,settingTriggersEvent:false,allowGetting:false,beforeSet:function beforeSet(eles,newPos){beforePositionSet(eles,newPos,true)}})),positions:function positions(pos,silent){if(plainObject(pos)){if(silent){this.silentPosition(pos)}else{this.position(pos)}}else if(fn(pos)){var _fn=pos;var cy=this.cy();cy.startBatch();for(var i=0;i<this.length;i++){var ele=this[i];var _pos=void 0;if(_pos=_fn(ele,i)){if(silent){ele.silentPosition(_pos)}else{ele.position(_pos)}}}cy.endBatch()}return this},silentPositions:function silentPositions(pos){return this.positions(pos,true)},shift:function shift(dim,val,silent){var delta;if(plainObject(dim)){delta={x:number(dim.x)?dim.x:0,y:number(dim.y)?dim.y:0};silent=val}else if(string(dim)&&number(val)){delta={x:0,y:0};delta[dim]=val}if(delta!=null){var cy=this.cy();cy.startBatch();for(var i=0;i<this.length;i++){var ele=this[i];var pos=ele.position();var newPos={x:pos.x+delta.x,y:pos.y+delta.y};if(silent){ele.silentPosition(newPos)}else{ele.position(newPos)}}cy.endBatch()}return this},silentShift:function silentShift(dim,val){if(plainObject(dim)){this.shift(dim,true)}else if(string(dim)&&number(val)){this.shift(dim,val,true)}return this},renderedPosition:function renderedPosition(dim,val){var ele=this[0];var cy=this.cy();var zoom=cy.zoom();var pan=cy.pan();var rpos=plainObject(dim)?dim:undefined;var setting=rpos!==undefined||val!==undefined&&string(dim);if(ele&&ele.isNode()){if(setting){for(var i=0;i<this.length;i++){var _ele=this[i];if(val!==undefined){_ele.position(dim,(val-pan[dim])/zoom)}else if(rpos!==undefined){_ele.position(renderedToModelPosition(rpos,zoom,pan))}}}else{var pos=ele.position();rpos=modelToRenderedPosition(pos,zoom,pan);if(dim===undefined){return rpos}else{return rpos[dim]}}}else if(!setting){return undefined}return this},relativePosition:function relativePosition(dim,val){var ele=this[0];var cy=this.cy();var ppos=plainObject(dim)?dim:undefined;var setting=ppos!==undefined||val!==undefined&&string(dim);var hasCompoundNodes=cy.hasCompoundNodes();if(ele&&ele.isNode()){if(setting){for(var i=0;i<this.length;i++){var _ele2=this[i];var parent=hasCompoundNodes?_ele2.parent():null;var hasParent=parent&&parent.length>0;var relativeToParent=hasParent;if(hasParent){parent=parent[0]}var origin=relativeToParent?parent.position():{x:0,y:0};if(val!==undefined){_ele2.position(dim,val+origin[dim])}else if(ppos!==undefined){_ele2.position({x:ppos.x+origin.x,y:ppos.y+origin.y})}}}else{var pos=ele.position();var _parent=hasCompoundNodes?ele.parent():null;var _hasParent=_parent&&_parent.length>0;var _relativeToParent=_hasParent;if(_hasParent){_parent=_parent[0]}var _origin=_relativeToParent?_parent.position():{x:0,y:0};ppos={x:pos.x-_origin.x,y:pos.y-_origin.y};if(dim===undefined){return ppos}else{return ppos[dim]}}}else if(!setting){return undefined}return this}};fn$2.modelPosition=fn$2.point=fn$2.position;fn$2.modelPositions=fn$2.points=fn$2.positions;fn$2.renderedPoint=fn$2.renderedPosition;fn$2.relativePoint=fn$2.relativePosition;var position=elesfn$i;var fn$3,elesfn$j;fn$3=elesfn$j={};elesfn$j.renderedBoundingBox=function(options){var bb=this.boundingBox(options);var cy=this.cy();var zoom=cy.zoom();var pan=cy.pan();var x1=bb.x1*zoom+pan.x;var x2=bb.x2*zoom+pan.x;var y1=bb.y1*zoom+pan.y;var y2=bb.y2*zoom+pan.y;return{x1:x1,x2:x2,y1:y1,y2:y2,w:x2-x1,h:y2-y1}};elesfn$j.dirtyCompoundBoundsCache=function(){var cy=this.cy();if(!cy.styleEnabled()||!cy.hasCompoundNodes()){return this}this.forEachUp((function(ele){if(ele.isParent()){var _p=ele._private;_p.compoundBoundsClean=false;_p.bbCache=null;ele.emitAndNotify("bounds")}}));return this};elesfn$j.updateCompoundBounds=function(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var cy=this.cy();if(!cy.styleEnabled()||!cy.hasCompoundNodes()){return this}if(!force&&cy.batching()){return this}function update(parent){if(!parent.isParent()){return}var _p=parent._private;var children=parent.children();var includeLabels=parent.pstyle("compound-sizing-wrt-labels").value==="include";var min={width:{val:parent.pstyle("min-width").pfValue,left:parent.pstyle("min-width-bias-left"),right:parent.pstyle("min-width-bias-right")},height:{val:parent.pstyle("min-height").pfValue,top:parent.pstyle("min-height-bias-top"),bottom:parent.pstyle("min-height-bias-bottom")}};var bb=children.boundingBox({includeLabels:includeLabels,includeOverlays:false,useCache:false});var pos=_p.position;if(bb.w===0||bb.h===0){bb={w:parent.pstyle("width").pfValue,h:parent.pstyle("height").pfValue};bb.x1=pos.x-bb.w/2;bb.x2=pos.x+bb.w/2;bb.y1=pos.y-bb.h/2;bb.y2=pos.y+bb.h/2}function computeBiasValues(propDiff,propBias,propBiasComplement){var biasDiff=0;var biasComplementDiff=0;var biasTotal=propBias+propBiasComplement;if(propDiff>0&&biasTotal>0){biasDiff=propBias/biasTotal*propDiff;biasComplementDiff=propBiasComplement/biasTotal*propDiff}return{biasDiff:biasDiff,biasComplementDiff:biasComplementDiff}}function computePaddingValues(width,height,paddingObject,relativeTo){if(paddingObject.units==="%"){switch(relativeTo){case"width":return width>0?paddingObject.pfValue*width:0;case"height":return height>0?paddingObject.pfValue*height:0;case"average":return width>0&&height>0?paddingObject.pfValue*(width+height)/2:0;case"min":return width>0&&height>0?width>height?paddingObject.pfValue*height:paddingObject.pfValue*width:0;case"max":return width>0&&height>0?width>height?paddingObject.pfValue*width:paddingObject.pfValue*height:0;default:return 0}}else if(paddingObject.units==="px"){return paddingObject.pfValue}else{return 0}}var leftVal=min.width.left.value;if(min.width.left.units==="px"&&min.width.val>0){leftVal=leftVal*100/min.width.val}var rightVal=min.width.right.value;if(min.width.right.units==="px"&&min.width.val>0){rightVal=rightVal*100/min.width.val}var topVal=min.height.top.value;if(min.height.top.units==="px"&&min.height.val>0){topVal=topVal*100/min.height.val}var bottomVal=min.height.bottom.value;if(min.height.bottom.units==="px"&&min.height.val>0){bottomVal=bottomVal*100/min.height.val}var widthBiasDiffs=computeBiasValues(min.width.val-bb.w,leftVal,rightVal);var diffLeft=widthBiasDiffs.biasDiff;var diffRight=widthBiasDiffs.biasComplementDiff;var heightBiasDiffs=computeBiasValues(min.height.val-bb.h,topVal,bottomVal);var diffTop=heightBiasDiffs.biasDiff;var diffBottom=heightBiasDiffs.biasComplementDiff;_p.autoPadding=computePaddingValues(bb.w,bb.h,parent.pstyle("padding"),parent.pstyle("padding-relative-to").value);_p.autoWidth=Math.max(bb.w,min.width.val);pos.x=(-diffLeft+bb.x1+bb.x2+diffRight)/2;_p.autoHeight=Math.max(bb.h,min.height.val);pos.y=(-diffTop+bb.y1+bb.y2+diffBottom)/2}for(var i=0;i<this.length;i++){var ele=this[i];var _p=ele._private;if(!_p.compoundBoundsClean){update(ele);if(!cy.batching()){_p.compoundBoundsClean=true}}}return this};var noninf=function noninf(x){if(x===Infinity||x===-Infinity){return 0}return x};var updateBounds=function updateBounds(b,x1,y1,x2,y2){if(x2-x1===0||y2-y1===0){return}if(x1==null||y1==null||x2==null||y2==null){return}b.x1=x1<b.x1?x1:b.x1;b.x2=x2>b.x2?x2:b.x2;b.y1=y1<b.y1?y1:b.y1;b.y2=y2>b.y2?y2:b.y2;b.w=b.x2-b.x1;b.h=b.y2-b.y1};var updateBoundsFromBox=function updateBoundsFromBox(b,b2){if(b2==null){return b}return updateBounds(b,b2.x1,b2.y1,b2.x2,b2.y2)};var prefixedProperty=function prefixedProperty(obj,field,prefix){return getPrefixedProperty(obj,field,prefix)};var updateBoundsFromArrow=function updateBoundsFromArrow(bounds,ele,prefix){if(ele.cy().headless()){return}var _p=ele._private;var rstyle=_p.rstyle;var halfArW=rstyle.arrowWidth/2;var arrowType=ele.pstyle(prefix+"-arrow-shape").value;var x;var y;if(arrowType!=="none"){if(prefix==="source"){x=rstyle.srcX;y=rstyle.srcY}else if(prefix==="target"){x=rstyle.tgtX;y=rstyle.tgtY}else{x=rstyle.midX;y=rstyle.midY}var bbs=_p.arrowBounds=_p.arrowBounds||{};var bb=bbs[prefix]=bbs[prefix]||{};bb.x1=x-halfArW;bb.y1=y-halfArW;bb.x2=x+halfArW;bb.y2=y+halfArW;bb.w=bb.x2-bb.x1;bb.h=bb.y2-bb.y1;expandBoundingBox(bb,1);updateBounds(bounds,bb.x1,bb.y1,bb.x2,bb.y2)}};var updateBoundsFromLabel=function updateBoundsFromLabel(bounds,ele,prefix){if(ele.cy().headless()){return}var prefixDash;if(prefix){prefixDash=prefix+"-"}else{prefixDash=""}var _p=ele._private;var rstyle=_p.rstyle;var label=ele.pstyle(prefixDash+"label").strValue;if(label){var halign=ele.pstyle("text-halign");var valign=ele.pstyle("text-valign");var labelWidth=prefixedProperty(rstyle,"labelWidth",prefix);var labelHeight=prefixedProperty(rstyle,"labelHeight",prefix);var labelX=prefixedProperty(rstyle,"labelX",prefix);var labelY=prefixedProperty(rstyle,"labelY",prefix);var marginX=ele.pstyle(prefixDash+"text-margin-x").pfValue;var marginY=ele.pstyle(prefixDash+"text-margin-y").pfValue;var isEdge=ele.isEdge();var rotation=ele.pstyle(prefixDash+"text-rotation");var outlineWidth=ele.pstyle("text-outline-width").pfValue;var borderWidth=ele.pstyle("text-border-width").pfValue;var halfBorderWidth=borderWidth/2;var padding=ele.pstyle("text-background-padding").pfValue;var lh=labelHeight;var lw=labelWidth;var lw_2=lw/2;var lh_2=lh/2;var lx1,lx2,ly1,ly2;if(isEdge){lx1=labelX-lw_2;lx2=labelX+lw_2;ly1=labelY-lh_2;ly2=labelY+lh_2}else{switch(halign.value){case"left":lx1=labelX-lw;lx2=labelX;break;case"center":lx1=labelX-lw_2;lx2=labelX+lw_2;break;case"right":lx1=labelX;lx2=labelX+lw;break}switch(valign.value){case"top":ly1=labelY-lh;ly2=labelY;break;case"center":ly1=labelY-lh_2;ly2=labelY+lh_2;break;case"bottom":ly1=labelY;ly2=labelY+lh;break}}lx1+=marginX-Math.max(outlineWidth,halfBorderWidth)-padding;lx2+=marginX+Math.max(outlineWidth,halfBorderWidth)+padding;ly1+=marginY-Math.max(outlineWidth,halfBorderWidth)-padding;ly2+=marginY+Math.max(outlineWidth,halfBorderWidth)+padding;var bbPrefix=prefix||"main";var bbs=_p.labelBounds;var bb=bbs[bbPrefix]=bbs[bbPrefix]||{};bb.x1=lx1;bb.y1=ly1;bb.x2=lx2;bb.y2=ly2;bb.w=lx2-lx1;bb.h=ly2-ly1;expandBoundingBox(bb,1);var isAutorotate=isEdge&&rotation.strValue==="autorotate";var isPfValue=rotation.pfValue!=null&&rotation.pfValue!==0;if(isAutorotate||isPfValue){var theta=isAutorotate?prefixedProperty(_p.rstyle,"labelAngle",prefix):rotation.pfValue;var cos=Math.cos(theta);var sin=Math.sin(theta);var xo=(lx1+lx2)/2;var yo=(ly1+ly2)/2;if(!isEdge){switch(halign.value){case"left":xo=lx2;break;case"right":xo=lx1;break}switch(valign.value){case"top":yo=ly2;break;case"bottom":yo=ly1;break}}var rotate=function rotate(x,y){x=x-xo;y=y-yo;return{x:x*cos-y*sin+xo,y:x*sin+y*cos+yo}};var px1y1=rotate(lx1,ly1);var px1y2=rotate(lx1,ly2);var px2y1=rotate(lx2,ly1);var px2y2=rotate(lx2,ly2);lx1=Math.min(px1y1.x,px1y2.x,px2y1.x,px2y2.x);lx2=Math.max(px1y1.x,px1y2.x,px2y1.x,px2y2.x);ly1=Math.min(px1y1.y,px1y2.y,px2y1.y,px2y2.y);ly2=Math.max(px1y1.y,px1y2.y,px2y1.y,px2y2.y)}updateBounds(bounds,lx1,ly1,lx2,ly2);updateBounds(_p.labelBounds.all,lx1,ly1,lx2,ly2)}return bounds};var boundingBoxImpl=function boundingBoxImpl(ele,options){var cy=ele._private.cy;var styleEnabled=cy.styleEnabled();var headless=cy.headless();var bounds=makeBoundingBox();var _p=ele._private;var isNode=ele.isNode();var isEdge=ele.isEdge();var ex1,ex2,ey1,ey2;var x,y;var rstyle=_p.rstyle;var manualExpansion=isNode&&styleEnabled?ele.pstyle("bounds-expansion").pfValue:[0];var isDisplayed=function isDisplayed(ele){return ele.pstyle("display").value!=="none"};var displayed=!styleEnabled||isDisplayed(ele)&&(!isEdge||isDisplayed(ele.source())&&isDisplayed(ele.target()));if(displayed){var overlayOpacity=0;var overlayPadding=0;if(styleEnabled&&options.includeOverlays){overlayOpacity=ele.pstyle("overlay-opacity").value;if(overlayOpacity!==0){overlayPadding=ele.pstyle("overlay-padding").value}}var w=0;var wHalf=0;if(styleEnabled){w=ele.pstyle("width").pfValue;wHalf=w/2}if(isNode&&options.includeNodes){var pos=ele.position();x=pos.x;y=pos.y;var _w=ele.outerWidth();var halfW=_w/2;var h=ele.outerHeight();var halfH=h/2;ex1=x-halfW;ex2=x+halfW;ey1=y-halfH;ey2=y+halfH;updateBounds(bounds,ex1,ey1,ex2,ey2)}else if(isEdge&&options.includeEdges){if(styleEnabled&&!headless){ex1=Math.min(rstyle.srcX,rstyle.midX,rstyle.tgtX);ex2=Math.max(rstyle.srcX,rstyle.midX,rstyle.tgtX);ey1=Math.min(rstyle.srcY,rstyle.midY,rstyle.tgtY);ey2=Math.max(rstyle.srcY,rstyle.midY,rstyle.tgtY);ex1-=wHalf;ex2+=wHalf;ey1-=wHalf;ey2+=wHalf;updateBounds(bounds,ex1,ey1,ex2,ey2)}if(styleEnabled&&!headless&&ele.pstyle("curve-style").strValue==="haystack"){var hpts=rstyle.haystackPts||[];ex1=hpts[0].x;ey1=hpts[0].y;ex2=hpts[1].x;ey2=hpts[1].y;if(ex1>ex2){var temp=ex1;ex1=ex2;ex2=temp}if(ey1>ey2){var _temp=ey1;ey1=ey2;ey2=_temp}updateBounds(bounds,ex1-wHalf,ey1-wHalf,ex2+wHalf,ey2+wHalf)}else{var pts=rstyle.bezierPts||rstyle.linePts||[];for(var j=0;j<pts.length;j++){var pt=pts[j];ex1=pt.x-wHalf;ex2=pt.x+wHalf;ey1=pt.y-wHalf;ey2=pt.y+wHalf;updateBounds(bounds,ex1,ey1,ex2,ey2)}if(pts.length===0){var n1=ele.source();var n1pos=n1.position();var n2=ele.target();var n2pos=n2.position();ex1=n1pos.x;ex2=n2pos.x;ey1=n1pos.y;ey2=n2pos.y;if(ex1>ex2){var _temp2=ex1;ex1=ex2;ex2=_temp2}if(ey1>ey2){var _temp3=ey1;ey1=ey2;ey2=_temp3}ex1-=wHalf;ex2+=wHalf;ey1-=wHalf;ey2+=wHalf;updateBounds(bounds,ex1,ey1,ex2,ey2)}}}if(styleEnabled&&options.includeEdges&&isEdge){updateBoundsFromArrow(bounds,ele,"mid-source");updateBoundsFromArrow(bounds,ele,"mid-target");updateBoundsFromArrow(bounds,ele,"source");updateBoundsFromArrow(bounds,ele,"target")}if(styleEnabled){var ghost=ele.pstyle("ghost").value==="yes";if(ghost){var gx=ele.pstyle("ghost-offset-x").pfValue;var gy=ele.pstyle("ghost-offset-y").pfValue;updateBounds(bounds,bounds.x1+gx,bounds.y1+gy,bounds.x2+gx,bounds.y2+gy)}}var bbBody=_p.bodyBounds=_p.bodyBounds||{};assignBoundingBox(bbBody,bounds);expandBoundingBoxSides(bbBody,manualExpansion);expandBoundingBox(bbBody,1);if(styleEnabled){ex1=bounds.x1;ex2=bounds.x2;ey1=bounds.y1;ey2=bounds.y2;updateBounds(bounds,ex1-overlayPadding,ey1-overlayPadding,ex2+overlayPadding,ey2+overlayPadding)}var bbOverlay=_p.overlayBounds=_p.overlayBounds||{};assignBoundingBox(bbOverlay,bounds);expandBoundingBoxSides(bbOverlay,manualExpansion);expandBoundingBox(bbOverlay,1);var bbLabels=_p.labelBounds=_p.labelBounds||{};if(bbLabels.all!=null){clearBoundingBox(bbLabels.all)}else{bbLabels.all=makeBoundingBox()}if(styleEnabled&&options.includeLabels){if(options.includeMainLabels){updateBoundsFromLabel(bounds,ele,null)}if(isEdge){if(options.includeSourceLabels){updateBoundsFromLabel(bounds,ele,"source")}if(options.includeTargetLabels){updateBoundsFromLabel(bounds,ele,"target")}}}}bounds.x1=noninf(bounds.x1);bounds.y1=noninf(bounds.y1);bounds.x2=noninf(bounds.x2);bounds.y2=noninf(bounds.y2);bounds.w=noninf(bounds.x2-bounds.x1);bounds.h=noninf(bounds.y2-bounds.y1);if(bounds.w>0&&bounds.h>0&&displayed){expandBoundingBoxSides(bounds,manualExpansion);expandBoundingBox(bounds,1)}return bounds};var getKey=function getKey(opts){var i=0;var tf=function tf(val){return(val?1:0)<<i++};var key=0;key+=tf(opts.incudeNodes);key+=tf(opts.includeEdges);key+=tf(opts.includeLabels);key+=tf(opts.includeMainLabels);key+=tf(opts.includeSourceLabels);key+=tf(opts.includeTargetLabels);key+=tf(opts.includeOverlays);return key};var getBoundingBoxPosKey=function getBoundingBoxPosKey(ele){if(ele.isEdge()){var p1=ele.source().position();var p2=ele.target().position();var r=function r(x){return Math.round(x)};return hashIntsArray([r(p1.x),r(p1.y),r(p2.x),r(p2.y)])}else{return 0}};var cachedBoundingBoxImpl=function cachedBoundingBoxImpl(ele,opts){var _p=ele._private;var bb;var isEdge=ele.isEdge();var key=opts==null?defBbOptsKey:getKey(opts);var usingDefOpts=key===defBbOptsKey;var currPosKey=getBoundingBoxPosKey(ele);var isPosKeySame=_p.bbCachePosKey===currPosKey;var useCache=opts.useCache&&isPosKeySame;var needRecalc=!useCache||_p.bbCache==null;if(needRecalc){if(!isPosKeySame){ele.recalculateRenderedStyle()}bb=boundingBoxImpl(ele,defBbOpts);_p.bbCache=bb;_p.bbCacheShift.x=_p.bbCacheShift.y=0;_p.bbCachePosKey=currPosKey}else{bb=_p.bbCache}if(!needRecalc&&(_p.bbCacheShift.x!==0||_p.bbCacheShift.y!==0)){var shift=assignShiftToBoundingBox;var delta=_p.bbCacheShift;var safeShift=function safeShift(bb,delta){if(bb!=null){shift(bb,delta)}};shift(bb,delta);var bodyBounds=_p.bodyBounds,overlayBounds=_p.overlayBounds,labelBounds=_p.labelBounds,arrowBounds=_p.arrowBounds;safeShift(bodyBounds,delta);safeShift(overlayBounds,delta);if(arrowBounds!=null){safeShift(arrowBounds.source,delta);safeShift(arrowBounds.target,delta);safeShift(arrowBounds["mid-source"],delta);safeShift(arrowBounds["mid-target"],delta)}if(labelBounds!=null){safeShift(labelBounds.main,delta);safeShift(labelBounds.all,delta);safeShift(labelBounds.source,delta);safeShift(labelBounds.target,delta)}}_p.bbCacheShift.x=_p.bbCacheShift.y=0;if(!usingDefOpts){var isNode=ele.isNode();bb=makeBoundingBox();if(opts.includeNodes&&isNode||opts.includeEdges&&!isNode){if(opts.includeOverlays){updateBoundsFromBox(bb,_p.overlayBounds)}else{updateBoundsFromBox(bb,_p.bodyBounds)}}if(opts.includeLabels){if(opts.includeMainLabels&&(!isEdge||opts.includeSourceLabels&&opts.includeTargetLabels)){updateBoundsFromBox(bb,_p.labelBounds.all)}else{if(opts.includeMainLabels){updateBoundsFromBox(bb,_p.labelBounds.main)}if(opts.includeSourceLabels){updateBoundsFromBox(bb,_p.labelBounds.source)}if(opts.includeTargetLabels){updateBoundsFromBox(bb,_p.labelBounds.target)}}}bb.w=bb.x2-bb.x1;bb.h=bb.y2-bb.y1}return bb};var defBbOpts={includeNodes:true,includeEdges:true,includeLabels:true,includeMainLabels:true,includeSourceLabels:true,includeTargetLabels:true,includeOverlays:true,useCache:true};var defBbOptsKey=getKey(defBbOpts);var filledBbOpts=defaults(defBbOpts);elesfn$j.boundingBox=function(options){var bounds;if(this.length===1&&this[0]._private.bbCache!=null&&(options===undefined||options.useCache===undefined||options.useCache===true)){if(options===undefined){options=defBbOpts}else{options=filledBbOpts(options)}bounds=cachedBoundingBoxImpl(this[0],options)}else{bounds=makeBoundingBox();options=options||defBbOpts;var opts=filledBbOpts(options);var eles=this;var cy=eles.cy();var styleEnabled=cy.styleEnabled();if(styleEnabled){for(var i=0;i<eles.length;i++){var ele=eles[i];var _p=ele._private;var currPosKey=getBoundingBoxPosKey(ele);var isPosKeySame=_p.bbCachePosKey===currPosKey;var useCache=opts.useCache&&isPosKeySame;ele.recalculateRenderedStyle(useCache)}}this.updateCompoundBounds();for(var _i=0;_i<eles.length;_i++){var _ele=eles[_i];updateBoundsFromBox(bounds,cachedBoundingBoxImpl(_ele,opts))}}bounds.x1=noninf(bounds.x1);bounds.y1=noninf(bounds.y1);bounds.x2=noninf(bounds.x2);bounds.y2=noninf(bounds.y2);bounds.w=noninf(bounds.x2-bounds.x1);bounds.h=noninf(bounds.y2-bounds.y1);return bounds};elesfn$j.dirtyBoundingBoxCache=function(){for(var i=0;i<this.length;i++){var _p=this[i]._private;_p.bbCache=null;_p.bbCacheShift.x=_p.bbCacheShift.y=0;_p.bbCachePosKey=null;_p.bodyBounds=null;_p.overlayBounds=null;_p.labelBounds.all=null;_p.labelBounds.source=null;_p.labelBounds.target=null;_p.labelBounds.main=null;_p.arrowBounds.source=null;_p.arrowBounds.target=null;_p.arrowBounds["mid-source"]=null;_p.arrowBounds["mid-target"]=null}this.emitAndNotify("bounds");return this};elesfn$j.shiftCachedBoundingBox=function(delta){for(var i=0;i<this.length;i++){var ele=this[i];var _p=ele._private;var bb=_p.bbCache;if(bb!=null){_p.bbCacheShift.x+=delta.x;_p.bbCacheShift.y+=delta.y}}this.emitAndNotify("bounds");return this};elesfn$j.boundingBoxAt=function(fn){var nodes=this.nodes();var cy=this.cy();var hasCompoundNodes=cy.hasCompoundNodes();if(hasCompoundNodes){nodes=nodes.filter((function(node){return!node.isParent()}))}if(plainObject(fn)){var obj=fn;fn=function fn(){return obj}}var storeOldPos=function storeOldPos(node,i){return node._private.bbAtOldPos=fn(node,i)};var getOldPos=function getOldPos(node){return node._private.bbAtOldPos};cy.startBatch();nodes.forEach(storeOldPos).silentPositions(fn);if(hasCompoundNodes){this.updateCompoundBounds(true)}var bb=copyBoundingBox(this.boundingBox({useCache:false}));nodes.silentPositions(getOldPos);cy.endBatch();return bb};fn$3.boundingbox=fn$3.bb=fn$3.boundingBox;fn$3.renderedBoundingbox=fn$3.renderedBoundingBox;var bounds=elesfn$j;var fn$4,elesfn$k;fn$4=elesfn$k={};var defineDimFns=function defineDimFns(opts){opts.uppercaseName=capitalize(opts.name);opts.autoName="auto"+opts.uppercaseName;opts.labelName="label"+opts.uppercaseName;opts.outerName="outer"+opts.uppercaseName;opts.uppercaseOuterName=capitalize(opts.outerName);fn$4[opts.name]=function dimImpl(){var ele=this[0];var _p=ele._private;var cy=_p.cy;var styleEnabled=cy._private.styleEnabled;if(ele){if(styleEnabled){if(ele.isParent()){ele.updateCompoundBounds();return _p[opts.autoName]||0}var d=ele.pstyle(opts.name);switch(d.strValue){case"label":ele.recalculateRenderedStyle();return _p.rstyle[opts.labelName]||0;default:return d.pfValue}}else{return 1}}};fn$4["outer"+opts.uppercaseName]=function outerDimImpl(){var ele=this[0];var _p=ele._private;var cy=_p.cy;var styleEnabled=cy._private.styleEnabled;if(ele){if(styleEnabled){var dim=ele[opts.name]();var border=ele.pstyle("border-width").pfValue;var padding=2*ele.padding();return dim+border+padding}else{return 1}}};fn$4["rendered"+opts.uppercaseName]=function renderedDimImpl(){var ele=this[0];if(ele){var d=ele[opts.name]();return d*this.cy().zoom()}};fn$4["rendered"+opts.uppercaseOuterName]=function renderedOuterDimImpl(){var ele=this[0];if(ele){var od=ele[opts.outerName]();return od*this.cy().zoom()}}};defineDimFns({name:"width"});defineDimFns({name:"height"});elesfn$k.padding=function(){var ele=this[0];var _p=ele._private;if(ele.isParent()){ele.updateCompoundBounds();if(_p.autoPadding!==undefined){return _p.autoPadding}else{return ele.pstyle("padding").pfValue}}else{return ele.pstyle("padding").pfValue}};elesfn$k.paddedHeight=function(){var ele=this[0];return ele.height()+2*ele.padding()};elesfn$k.paddedWidth=function(){var ele=this[0];return ele.width()+2*ele.padding()};var widthHeight=elesfn$k;var ifEdge=function ifEdge(ele,getValue){if(ele.isEdge()){return getValue(ele)}};var ifEdgeRenderedPosition=function ifEdgeRenderedPosition(ele,getPoint){if(ele.isEdge()){var cy=ele.cy();return modelToRenderedPosition(getPoint(ele),cy.zoom(),cy.pan())}};var ifEdgeRenderedPositions=function ifEdgeRenderedPositions(ele,getPoints){if(ele.isEdge()){var cy=ele.cy();var pan=cy.pan();var zoom=cy.zoom();return getPoints(ele).map((function(p){return modelToRenderedPosition(p,zoom,pan)}))}};var controlPoints=function controlPoints(ele){return ele.renderer().getControlPoints(ele)};var segmentPoints=function segmentPoints(ele){return ele.renderer().getSegmentPoints(ele)};var sourceEndpoint=function sourceEndpoint(ele){return ele.renderer().getSourceEndpoint(ele)};var targetEndpoint=function targetEndpoint(ele){return ele.renderer().getTargetEndpoint(ele)};var midpoint=function midpoint(ele){return ele.renderer().getEdgeMidpoint(ele)};var pts={controlPoints:{get:controlPoints,mult:true},segmentPoints:{get:segmentPoints,mult:true},sourceEndpoint:{get:sourceEndpoint},targetEndpoint:{get:targetEndpoint},midpoint:{get:midpoint}};var renderedName=function renderedName(name){return"rendered"+name[0].toUpperCase()+name.substr(1)};var edgePoints=Object.keys(pts).reduce((function(obj,name){var spec=pts[name];var rName=renderedName(name);obj[name]=function(){return ifEdge(this,spec.get)};if(spec.mult){obj[rName]=function(){return ifEdgeRenderedPositions(this,spec.get)}}else{obj[rName]=function(){return ifEdgeRenderedPosition(this,spec.get)}}return obj}),{});var dimensions=extend({},position,bounds,widthHeight,edgePoints);
/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Event=function Event(src,props){this.recycle(src,props)};function returnFalse(){return false}function returnTrue(){return true}Event.prototype={instanceString:function instanceString(){return"event"},recycle:function recycle(src,props){this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=returnFalse;if(src!=null&&src.preventDefault){this.type=src.type;this.isDefaultPrevented=src.defaultPrevented?returnTrue:returnFalse}else if(src!=null&&src.type){props=src}else{this.type=src}if(props!=null){this.originalEvent=props.originalEvent;this.type=props.type!=null?props.type:this.type;this.cy=props.cy;this.target=props.target;this.position=props.position;this.renderedPosition=props.renderedPosition;this.namespace=props.namespace;this.layout=props.layout}if(this.cy!=null&&this.position!=null&&this.renderedPosition==null){var pos=this.position;var zoom=this.cy.zoom();var pan=this.cy.pan();this.renderedPosition={x:pos.x*zoom+pan.x,y:pos.y*zoom+pan.y}}this.timeStamp=src&&src.timeStamp||Date.now()},preventDefault:function preventDefault(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}},stopPropagation:function stopPropagation(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}},stopImmediatePropagation:function stopImmediatePropagation(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var eventRegex=/^([^.]+)(\.(?:[^.]+))?$/;var universalNamespace=".*";var defaults$8={qualifierCompare:function qualifierCompare(q1,q2){return q1===q2},eventMatches:function eventMatches(){return true},addEventFields:function addEventFields(){},callbackContext:function callbackContext(context){return context},beforeEmit:function beforeEmit(){},afterEmit:function afterEmit(){},bubble:function bubble(){return false},parent:function parent(){return null},context:null};var defaultsKeys=Object.keys(defaults$8);var emptyOpts={};function Emitter(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:emptyOpts;var context=arguments.length>1?arguments[1]:undefined;for(var i=0;i<defaultsKeys.length;i++){var key=defaultsKeys[i];this[key]=opts[key]||defaults$8[key]}this.context=context||this.context;this.listeners=[];this.emitting=0}var p=Emitter.prototype;var forEachEvent=function forEachEvent(self,handler,events,qualifier,callback,conf,confOverrides){if(fn(qualifier)){callback=qualifier;qualifier=null}if(confOverrides){if(conf==null){conf=confOverrides}else{conf=extend({},conf,confOverrides)}}var eventList=array(events)?events:events.split(/\s+/);for(var i=0;i<eventList.length;i++){var evt=eventList[i];if(emptyString(evt)){continue}var match=evt.match(eventRegex);if(match){var type=match[1];var namespace=match[2]?match[2]:null;var ret=handler(self,evt,type,namespace,qualifier,callback,conf);if(ret===false){break}}}};var makeEventObj=function makeEventObj(self,obj){self.addEventFields(self.context,obj);return new Event(obj.type,obj)};var forEachEventObj=function forEachEventObj(self,handler,events){if(event(events)){handler(self,events);return}else if(plainObject(events)){handler(self,makeEventObj(self,events));return}var eventList=array(events)?events:events.split(/\s+/);for(var i=0;i<eventList.length;i++){var evt=eventList[i];if(emptyString(evt)){continue}var match=evt.match(eventRegex);if(match){var type=match[1];var namespace=match[2]?match[2]:null;var eventObj=makeEventObj(self,{type:type,namespace:namespace,target:self.context});handler(self,eventObj)}}};p.on=p.addListener=function(events,qualifier,callback,conf,confOverrides){forEachEvent(this,(function(self,event,type,namespace,qualifier,callback,conf){if(fn(callback)){self.listeners.push({event:event,callback:callback,type:type,namespace:namespace,qualifier:qualifier,conf:conf})}}),events,qualifier,callback,conf,confOverrides);return this};p.one=function(events,qualifier,callback,conf){return this.on(events,qualifier,callback,conf,{one:true})};p.removeListener=p.off=function(events,qualifier,callback,conf){var _this=this;if(this.emitting!==0){this.listeners=copyArray(this.listeners)}var listeners=this.listeners;var _loop=function _loop(i){var listener=listeners[i];forEachEvent(_this,(function(self,event,type,namespace,qualifier,callback){if((listener.type===type||events==="*")&&(!namespace&&listener.namespace!==".*"||listener.namespace===namespace)&&(!qualifier||self.qualifierCompare(listener.qualifier,qualifier))&&(!callback||listener.callback===callback)){listeners.splice(i,1);return false}}),events,qualifier,callback,conf)};for(var i=listeners.length-1;i>=0;i--){_loop(i)}return this};p.removeAllListeners=function(){return this.removeListener("*")};p.emit=p.trigger=function(events,extraParams,manualCallback){var listeners=this.listeners;var numListenersBeforeEmit=listeners.length;this.emitting++;if(!array(extraParams)){extraParams=[extraParams]}forEachEventObj(this,(function(self,eventObj){if(manualCallback!=null){listeners=[{event:eventObj.event,type:eventObj.type,namespace:eventObj.namespace,callback:manualCallback}];numListenersBeforeEmit=listeners.length}var _loop2=function _loop2(i){var listener=listeners[i];if(listener.type===eventObj.type&&(!listener.namespace||listener.namespace===eventObj.namespace||listener.namespace===universalNamespace)&&self.eventMatches(self.context,listener,eventObj)){var args=[eventObj];if(extraParams!=null){push(args,extraParams)}self.beforeEmit(self.context,listener,eventObj);if(listener.conf&&listener.conf.one){self.listeners=self.listeners.filter((function(l){return l!==listener}))}var context=self.callbackContext(self.context,listener,eventObj);var ret=listener.callback.apply(context,args);self.afterEmit(self.context,listener,eventObj);if(ret===false){eventObj.stopPropagation();eventObj.preventDefault()}}};for(var i=0;i<numListenersBeforeEmit;i++){_loop2(i)}if(self.bubble(self.context)&&!eventObj.isPropagationStopped()){self.parent(self.context).emit(eventObj,extraParams)}}),events);this.emitting--;return this};var emitterOptions={qualifierCompare:function qualifierCompare(selector1,selector2){if(selector1==null||selector2==null){return selector1==null&&selector2==null}else{return selector1.sameText(selector2)}},eventMatches:function eventMatches(ele,listener,eventObj){var selector=listener.qualifier;if(selector!=null){return ele!==eventObj.target&&element(eventObj.target)&&selector.matches(eventObj.target)}return true},addEventFields:function addEventFields(ele,evt){evt.cy=ele.cy();evt.target=ele},callbackContext:function callbackContext(ele,listener,eventObj){return listener.qualifier!=null?eventObj.target:ele},beforeEmit:function beforeEmit(context,listener){if(listener.conf&&listener.conf.once){listener.conf.onceCollection.removeListener(listener.event,listener.qualifier,listener.callback)}},bubble:function bubble(){return true},parent:function parent(ele){return ele.isChild()?ele.parent():ele.cy()}};var argSelector=function argSelector(arg){if(string(arg)){return new Selector(arg)}else{return arg}};var elesfn$l={createEmitter:function createEmitter(){for(var i=0;i<this.length;i++){var ele=this[i];var _p=ele._private;if(!_p.emitter){_p.emitter=new Emitter(emitterOptions,ele)}}return this},emitter:function emitter(){return this._private.emitter},on:function on(events,selector,callback){var argSel=argSelector(selector);for(var i=0;i<this.length;i++){var ele=this[i];ele.emitter().on(events,argSel,callback)}return this},removeListener:function removeListener(events,selector,callback){var argSel=argSelector(selector);for(var i=0;i<this.length;i++){var ele=this[i];ele.emitter().removeListener(events,argSel,callback)}return this},removeAllListeners:function removeAllListeners(){for(var i=0;i<this.length;i++){var ele=this[i];ele.emitter().removeAllListeners()}return this},one:function one(events,selector,callback){var argSel=argSelector(selector);for(var i=0;i<this.length;i++){var ele=this[i];ele.emitter().one(events,argSel,callback)}return this},once:function once(events,selector,callback){var argSel=argSelector(selector);for(var i=0;i<this.length;i++){var ele=this[i];ele.emitter().on(events,argSel,callback,{once:true,onceCollection:this})}},emit:function emit(events,extraParams){for(var i=0;i<this.length;i++){var ele=this[i];ele.emitter().emit(events,extraParams)}return this},emitAndNotify:function emitAndNotify(event,extraParams){if(this.length===0){return}this.cy().notify(event,this);this.emit(event,extraParams);return this}};define$3.eventAliasesOn(elesfn$l);var elesfn$m={nodes:function nodes(selector){return this.filter((function(ele){return ele.isNode()})).filter(selector)},edges:function edges(selector){return this.filter((function(ele){return ele.isEdge()})).filter(selector)},byGroup:function byGroup(){var nodes=this.spawn();var edges=this.spawn();for(var i=0;i<this.length;i++){var ele=this[i];if(ele.isNode()){nodes.merge(ele)}else{edges.merge(ele)}}return{nodes:nodes,edges:edges}},filter:function filter(_filter,thisArg){if(_filter===undefined){return this}else if(string(_filter)||elementOrCollection(_filter)){return new Selector(_filter).filter(this)}else if(fn(_filter)){var filterEles=this.spawn();var eles=this;for(var i=0;i<eles.length;i++){var ele=eles[i];var include=thisArg?_filter.apply(thisArg,[ele,i,eles]):_filter(ele,i,eles);if(include){filterEles.merge(ele)}}return filterEles}return this.spawn()},not:function not(toRemove){if(!toRemove){return this}else{if(string(toRemove)){toRemove=this.filter(toRemove)}var elements=[];var rMap=toRemove._private.map;for(var i=0;i<this.length;i++){var element=this[i];var remove=rMap.has(element.id());if(!remove){elements.push(element)}}return this.spawn(elements)}},absoluteComplement:function absoluteComplement(){var cy=this.cy();return cy.mutableElements().not(this)},intersect:function intersect(other){if(string(other)){var selector=other;return this.filter(selector)}var elements=[];var col1=this;var col2=other;var col1Smaller=this.length<other.length;var map2=col1Smaller?col2._private.map:col1._private.map;var col=col1Smaller?col1:col2;for(var i=0;i<col.length;i++){var id=col[i]._private.data.id;var entry=map2.get(id);if(entry){elements.push(entry.ele)}}return this.spawn(elements)},xor:function xor(other){var cy=this._private.cy;if(string(other)){other=cy.$(other)}var elements=[];var col1=this;var col2=other;var add=function add(col,other){for(var i=0;i<col.length;i++){var ele=col[i];var id=ele._private.data.id;var inOther=other.hasElementWithId(id);if(!inOther){elements.push(ele)}}};add(col1,col2);add(col2,col1);return this.spawn(elements)},diff:function diff(other){var cy=this._private.cy;if(string(other)){other=cy.$(other)}var left=[];var right=[];var both=[];var col1=this;var col2=other;var add=function add(col,other,retEles){for(var i=0;i<col.length;i++){var ele=col[i];var id=ele._private.data.id;var inOther=other.hasElementWithId(id);if(inOther){both.push(ele)}else{retEles.push(ele)}}};add(col1,col2,left);add(col2,col1,right);return{left:this.spawn(left,{unique:true}),right:this.spawn(right,{unique:true}),both:this.spawn(both,{unique:true})}},add:function add(toAdd){var cy=this._private.cy;if(!toAdd){return this}if(string(toAdd)){var selector=toAdd;toAdd=cy.mutableElements().filter(selector)}var elements=[];for(var i=0;i<this.length;i++){elements.push(this[i])}var map=this._private.map;for(var _i=0;_i<toAdd.length;_i++){var add=!map.has(toAdd[_i].id());if(add){elements.push(toAdd[_i])}}return this.spawn(elements)},merge:function merge(toAdd){var _p=this._private;var cy=_p.cy;if(!toAdd){return this}if(toAdd&&string(toAdd)){var selector=toAdd;toAdd=cy.mutableElements().filter(selector)}var map=_p.map;for(var i=0;i<toAdd.length;i++){var toAddEle=toAdd[i];var id=toAddEle._private.data.id;var add=!map.has(id);if(add){var index=this.length++;this[index]=toAddEle;map.set(id,{ele:toAddEle,index:index})}else{var _index=map.get(id).index;this[_index]=toAddEle;map.set(id,{ele:toAddEle,index:_index})}}return this},unmergeAt:function unmergeAt(i){var ele=this[i];var id=ele.id();var _p=this._private;var map=_p.map;this[i]=undefined;map["delete"](id);var unmergedLastEle=i===this.length-1;if(this.length>1&&!unmergedLastEle){var lastEleI=this.length-1;var lastEle=this[lastEleI];var lastEleId=lastEle._private.data.id;this[lastEleI]=undefined;this[i]=lastEle;map.set(lastEleId,{ele:lastEle,index:i})}this.length--;return this},unmergeOne:function unmergeOne(ele){ele=ele[0];var _p=this._private;var id=ele._private.data.id;var map=_p.map;var entry=map.get(id);if(!entry){return this}var i=entry.index;this.unmergeAt(i);return this},unmerge:function unmerge(toRemove){var cy=this._private.cy;if(!toRemove){return this}if(toRemove&&string(toRemove)){var selector=toRemove;toRemove=cy.mutableElements().filter(selector)}for(var i=0;i<toRemove.length;i++){this.unmergeOne(toRemove[i])}return this},unmergeBy:function unmergeBy(toRmFn){for(var i=this.length-1;i>=0;i--){var ele=this[i];if(toRmFn(ele)){this.unmergeAt(i)}}return this},map:function map(mapFn,thisArg){var arr=[];var eles=this;for(var i=0;i<eles.length;i++){var ele=eles[i];var ret=thisArg?mapFn.apply(thisArg,[ele,i,eles]):mapFn(ele,i,eles);arr.push(ret)}return arr},reduce:function reduce(fn,initialValue){var val=initialValue;var eles=this;for(var i=0;i<eles.length;i++){val=fn(val,eles[i],i,eles)}return val},max:function max(valFn,thisArg){var max=-Infinity;var maxEle;var eles=this;for(var i=0;i<eles.length;i++){var ele=eles[i];var val=thisArg?valFn.apply(thisArg,[ele,i,eles]):valFn(ele,i,eles);if(val>max){max=val;maxEle=ele}}return{value:max,ele:maxEle}},min:function min(valFn,thisArg){var min=Infinity;var minEle;var eles=this;for(var i=0;i<eles.length;i++){var ele=eles[i];var val=thisArg?valFn.apply(thisArg,[ele,i,eles]):valFn(ele,i,eles);if(val<min){min=val;minEle=ele}}return{value:min,ele:minEle}}};var fn$5=elesfn$m;fn$5["u"]=fn$5["|"]=fn$5["+"]=fn$5.union=fn$5.or=fn$5.add;fn$5["\\"]=fn$5["!"]=fn$5["-"]=fn$5.difference=fn$5.relativeComplement=fn$5.subtract=fn$5.not;fn$5["n"]=fn$5["&"]=fn$5["."]=fn$5.and=fn$5.intersection=fn$5.intersect;fn$5["^"]=fn$5["(+)"]=fn$5["(-)"]=fn$5.symmetricDifference=fn$5.symdiff=fn$5.xor;fn$5.fnFilter=fn$5.filterFn=fn$5.stdFilter=fn$5.filter;fn$5.complement=fn$5.abscomp=fn$5.absoluteComplement;var elesfn$n={isNode:function isNode(){return this.group()==="nodes"},isEdge:function isEdge(){return this.group()==="edges"},isLoop:function isLoop(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function isSimple(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function group(){var ele=this[0];if(ele){return ele._private.group}}};var zIndexSort=function zIndexSort(a,b){var cy=a.cy();var hasCompoundNodes=cy.hasCompoundNodes();function getDepth(ele){var style=ele.pstyle("z-compound-depth");if(style.value==="auto"){return hasCompoundNodes?ele.zDepth():0}else if(style.value==="bottom"){return-1}else if(style.value==="top"){return MAX_INT}return 0}var depthDiff=getDepth(a)-getDepth(b);if(depthDiff!==0){return depthDiff}function getEleDepth(ele){var style=ele.pstyle("z-index-compare");if(style.value==="auto"){return ele.isNode()?1:0}return 0}var eleDiff=getEleDepth(a)-getEleDepth(b);if(eleDiff!==0){return eleDiff}var zDiff=a.pstyle("z-index").value-b.pstyle("z-index").value;if(zDiff!==0){return zDiff}return a.poolIndex()-b.poolIndex()};var elesfn$o={forEach:function forEach(fn$1,thisArg){if(fn(fn$1)){var N=this.length;for(var i=0;i<N;i++){var ele=this[i];var ret=thisArg?fn$1.apply(thisArg,[ele,i,this]):fn$1(ele,i,this);if(ret===false){break}}}return this},toArray:function toArray(){var array=[];for(var i=0;i<this.length;i++){array.push(this[i])}return array},slice:function slice(start,end){var array=[];var thisSize=this.length;if(end==null){end=thisSize}if(start==null){start=0}if(start<0){start=thisSize+start}if(end<0){end=thisSize+end}for(var i=start;i>=0&&i<end&&i<thisSize;i++){array.push(this[i])}return this.spawn(array)},size:function size(){return this.length},eq:function eq(i){return this[i]||this.spawn()},first:function first(){return this[0]||this.spawn()},last:function last(){return this[this.length-1]||this.spawn()},empty:function empty(){return this.length===0},nonempty:function nonempty(){return!this.empty()},sort:function sort(sortFn){if(!fn(sortFn)){return this}var sorted=this.toArray().sort(sortFn);return this.spawn(sorted)},sortByZIndex:function sortByZIndex(){return this.sort(zIndexSort)},zDepth:function zDepth(){var ele=this[0];if(!ele){return undefined}var _p=ele._private;var group=_p.group;if(group==="nodes"){var depth=_p.data.parent?ele.parents().size():0;if(!ele.isParent()){return MAX_INT-1}return depth}else{var src=_p.source;var tgt=_p.target;var srcDepth=src.zDepth();var tgtDepth=tgt.zDepth();return Math.max(srcDepth,tgtDepth,0)}}};elesfn$o.each=elesfn$o.forEach;var getLayoutDimensionOptions=defaults({nodeDimensionsIncludeLabels:false});var elesfn$p={layoutDimensions:function layoutDimensions(options){options=getLayoutDimensionOptions(options);var dims;if(!this.takesUpSpace()){dims={w:0,h:0}}else if(options.nodeDimensionsIncludeLabels){var bbDim=this.boundingBox();dims={w:bbDim.w,h:bbDim.h}}else{dims={w:this.outerWidth(),h:this.outerHeight()}}if(dims.w===0||dims.h===0){dims.w=dims.h=1}return dims},layoutPositions:function layoutPositions(layout,options,fn){var nodes=this.nodes();var cy=this.cy();var layoutEles=options.eles;var getMemoizeKey=function getMemoizeKey(node){return node.id()};var fnMem=memoize(fn,getMemoizeKey);layout.emit({type:"layoutstart",layout:layout});layout.animations=[];var calculateSpacing=function calculateSpacing(spacing,nodesBb,pos){var center={x:nodesBb.x1+nodesBb.w/2,y:nodesBb.y1+nodesBb.h/2};var spacingVector={x:(pos.x-center.x)*spacing,y:(pos.y-center.y)*spacing};return{x:center.x+spacingVector.x,y:center.y+spacingVector.y}};var useSpacingFactor=options.spacingFactor&&options.spacingFactor!==1;var spacingBb=function spacingBb(){if(!useSpacingFactor){return null}var bb=makeBoundingBox();for(var i=0;i<nodes.length;i++){var node=nodes[i];var pos=fnMem(node,i);expandBoundingBoxByPoint(bb,pos.x,pos.y)}return bb};var bb=spacingBb();var getFinalPos=memoize((function(node,i){var newPos=fnMem(node,i);if(useSpacingFactor){var spacing=Math.abs(options.spacingFactor);newPos=calculateSpacing(spacing,bb,newPos)}if(options.transform!=null){newPos=options.transform(node,newPos)}return newPos}),getMemoizeKey);if(options.animate){for(var i=0;i<nodes.length;i++){var node=nodes[i];var newPos=getFinalPos(node,i);var animateNode=options.animateFilter==null||options.animateFilter(node,i);if(animateNode){var ani=node.animation({position:newPos,duration:options.animationDuration,easing:options.animationEasing});layout.animations.push(ani)}else{node.position(newPos)}}if(options.fit){var fitAni=cy.animation({fit:{boundingBox:layoutEles.boundingBoxAt(getFinalPos),padding:options.padding},duration:options.animationDuration,easing:options.animationEasing});layout.animations.push(fitAni)}else if(options.zoom!==undefined&&options.pan!==undefined){var zoomPanAni=cy.animation({zoom:options.zoom,pan:options.pan,duration:options.animationDuration,easing:options.animationEasing});layout.animations.push(zoomPanAni)}layout.animations.forEach((function(ani){return ani.play()}));layout.one("layoutready",options.ready);layout.emit({type:"layoutready",layout:layout});Promise$1.all(layout.animations.map((function(ani){return ani.promise()}))).then((function(){layout.one("layoutstop",options.stop);layout.emit({type:"layoutstop",layout:layout})}))}else{nodes.positions(getFinalPos);if(options.fit){cy.fit(options.eles,options.padding)}if(options.zoom!=null){cy.zoom(options.zoom)}if(options.pan){cy.pan(options.pan)}layout.one("layoutready",options.ready);layout.emit({type:"layoutready",layout:layout});layout.one("layoutstop",options.stop);layout.emit({type:"layoutstop",layout:layout})}return this},layout:function layout(options){var cy=this.cy();return cy.makeLayout(extend({},options,{eles:this}))}};elesfn$p.createLayout=elesfn$p.makeLayout=elesfn$p.layout;function styleCache(key,fn,ele){var _p=ele._private;var cache=_p.styleCache=_p.styleCache||[];var val;if((val=cache[key])!=null){return val}else{val=cache[key]=fn(ele);return val}}function cacheStyleFunction(key,fn){key=hashString(key);return function cachedStyleFunction(ele){return styleCache(key,fn,ele)}}function cachePrototypeStyleFunction(key,fn){key=hashString(key);var selfFn=function selfFn(ele){return fn.call(ele)};return function cachedPrototypeStyleFunction(){var ele=this[0];if(ele){return styleCache(key,selfFn,ele)}}}var elesfn$q={recalculateRenderedStyle:function recalculateRenderedStyle(useCache){var cy=this.cy();var renderer=cy.renderer();var styleEnabled=cy.styleEnabled();if(renderer&&styleEnabled){renderer.recalculateRenderedStyle(this,useCache)}return this},dirtyStyleCache:function dirtyStyleCache(){var cy=this.cy();var dirty=function dirty(ele){return ele._private.styleCache=null};if(cy.hasCompoundNodes()){var eles;eles=this.spawnSelf().merge(this.descendants()).merge(this.parents());eles.merge(eles.connectedEdges());eles.forEach(dirty)}else{this.forEach((function(ele){dirty(ele);ele.connectedEdges().forEach(dirty)}))}return this},updateStyle:function updateStyle(notifyRenderer){var cy=this._private.cy;if(!cy.styleEnabled()){return this}if(cy.batching()){var bEles=cy._private.batchStyleEles;bEles.merge(this);return this}var hasCompounds=cy.hasCompoundNodes();var style=cy.style();var updatedEles=this;notifyRenderer=notifyRenderer||notifyRenderer===undefined?true:false;if(hasCompounds){updatedEles=this.spawnSelf().merge(this.descendants()).merge(this.parents())}var changedEles=style.apply(updatedEles);if(notifyRenderer){changedEles.emitAndNotify("style")}else{changedEles.emit("style")}return this},parsedStyle:function parsedStyle(property){var includeNonDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var ele=this[0];var cy=ele.cy();if(!cy.styleEnabled()){return}if(ele){var overriddenStyle=ele._private.style[property];if(overriddenStyle!=null){return overriddenStyle}else if(includeNonDefault){return cy.style().getDefaultProperty(property)}else{return null}}},numericStyle:function numericStyle(property){var ele=this[0];if(!ele.cy().styleEnabled()){return}if(ele){var pstyle=ele.pstyle(property);return pstyle.pfValue!==undefined?pstyle.pfValue:pstyle.value}},numericStyleUnits:function numericStyleUnits(property){var ele=this[0];if(!ele.cy().styleEnabled()){return}if(ele){return ele.pstyle(property).units}},renderedStyle:function renderedStyle(property){var cy=this.cy();if(!cy.styleEnabled()){return this}var ele=this[0];if(ele){return cy.style().getRenderedStyle(ele,property)}},style:function style(name,value){var cy=this.cy();if(!cy.styleEnabled()){return this}var updateTransitions=false;var style=cy.style();if(plainObject(name)){var props=name;style.applyBypass(this,props,updateTransitions);this.emitAndNotify("style")}else if(string(name)){if(value===undefined){var ele=this[0];if(ele){return style.getStylePropertyValue(ele,name)}else{return}}else{style.applyBypass(this,name,value,updateTransitions);this.emitAndNotify("style")}}else if(name===undefined){var _ele=this[0];if(_ele){return style.getRawStyle(_ele)}else{return}}return this},removeStyle:function removeStyle(names){var cy=this.cy();if(!cy.styleEnabled()){return this}var updateTransitions=false;var style=cy.style();var eles=this;if(names===undefined){for(var i=0;i<eles.length;i++){var ele=eles[i];style.removeAllBypasses(ele,updateTransitions)}}else{names=names.split(/\s+/);for(var _i=0;_i<eles.length;_i++){var _ele2=eles[_i];style.removeBypasses(_ele2,names,updateTransitions)}}this.emitAndNotify("style");return this},show:function show(){this.css("display","element");return this},hide:function hide(){this.css("display","none");return this},effectiveOpacity:function effectiveOpacity(){var cy=this.cy();if(!cy.styleEnabled()){return 1}var hasCompoundNodes=cy.hasCompoundNodes();var ele=this[0];if(ele){var _p=ele._private;var parentOpacity=ele.pstyle("opacity").value;if(!hasCompoundNodes){return parentOpacity}var parents=!_p.data.parent?null:ele.parents();if(parents){for(var i=0;i<parents.length;i++){var parent=parents[i];var opacity=parent.pstyle("opacity").value;parentOpacity=opacity*parentOpacity}}return parentOpacity}},transparent:function transparent(){var cy=this.cy();if(!cy.styleEnabled()){return false}var ele=this[0];var hasCompoundNodes=ele.cy().hasCompoundNodes();if(ele){if(!hasCompoundNodes){return ele.pstyle("opacity").value===0}else{return ele.effectiveOpacity()===0}}},backgrounding:function backgrounding(){var cy=this.cy();if(!cy.styleEnabled()){return false}var ele=this[0];return ele._private.backgrounding?true:false}};function checkCompound(ele,parentOk){var _p=ele._private;var parents=_p.data.parent?ele.parents():null;if(parents){for(var i=0;i<parents.length;i++){var parent=parents[i];if(!parentOk(parent)){return false}}}return true}function defineDerivedStateFunction(specs){var ok=specs.ok;var edgeOkViaNode=specs.edgeOkViaNode||specs.ok;var parentOk=specs.parentOk||specs.ok;return function(){var cy=this.cy();if(!cy.styleEnabled()){return true}var ele=this[0];var hasCompoundNodes=cy.hasCompoundNodes();if(ele){var _p=ele._private;if(!ok(ele)){return false}if(ele.isNode()){return!hasCompoundNodes||checkCompound(ele,parentOk)}else{var src=_p.source;var tgt=_p.target;return edgeOkViaNode(src)&&(!hasCompoundNodes||checkCompound(src,edgeOkViaNode))&&(src===tgt||edgeOkViaNode(tgt)&&(!hasCompoundNodes||checkCompound(tgt,edgeOkViaNode)))}}}}var eleTakesUpSpace=cacheStyleFunction("eleTakesUpSpace",(function(ele){return ele.pstyle("display").value==="element"&&ele.width()!==0&&(ele.isNode()?ele.height()!==0:true)}));elesfn$q.takesUpSpace=cachePrototypeStyleFunction("takesUpSpace",defineDerivedStateFunction({ok:eleTakesUpSpace}));var eleInteractive=cacheStyleFunction("eleInteractive",(function(ele){return ele.pstyle("events").value==="yes"&&ele.pstyle("visibility").value==="visible"&&eleTakesUpSpace(ele)}));var parentInteractive=cacheStyleFunction("parentInteractive",(function(parent){return parent.pstyle("visibility").value==="visible"&&eleTakesUpSpace(parent)}));elesfn$q.interactive=cachePrototypeStyleFunction("interactive",defineDerivedStateFunction({ok:eleInteractive,parentOk:parentInteractive,edgeOkViaNode:eleTakesUpSpace}));elesfn$q.noninteractive=function(){var ele=this[0];if(ele){return!ele.interactive()}};var eleVisible=cacheStyleFunction("eleVisible",(function(ele){return ele.pstyle("visibility").value==="visible"&&ele.pstyle("opacity").pfValue!==0&&eleTakesUpSpace(ele)}));var edgeVisibleViaNode=eleTakesUpSpace;elesfn$q.visible=cachePrototypeStyleFunction("visible",defineDerivedStateFunction({ok:eleVisible,edgeOkViaNode:edgeVisibleViaNode}));elesfn$q.hidden=function(){var ele=this[0];if(ele){return!ele.visible()}};elesfn$q.isBundledBezier=cachePrototypeStyleFunction("isBundledBezier",(function(){if(!this.cy().styleEnabled()){return false}return!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace()}));elesfn$q.bypass=elesfn$q.css=elesfn$q.style;elesfn$q.renderedCss=elesfn$q.renderedStyle;elesfn$q.removeBypass=elesfn$q.removeCss=elesfn$q.removeStyle;elesfn$q.pstyle=elesfn$q.parsedStyle;var elesfn$r={};function defineSwitchFunction(params){return function(){var args=arguments;var changedEles=[];if(args.length===2){var data=args[0];var handler=args[1];this.on(params.event,data,handler)}else if(args.length===1&&fn(args[0])){var _handler=args[0];this.on(params.event,_handler)}else if(args.length===0||args.length===1&&array(args[0])){var addlEvents=args.length===1?args[0]:null;for(var i=0;i<this.length;i++){var ele=this[i];var able=!params.ableField||ele._private[params.ableField];var changed=ele._private[params.field]!=params.value;if(params.overrideAble){var overrideAble=params.overrideAble(ele);if(overrideAble!==undefined){able=overrideAble;if(!overrideAble){return this}}}if(able){ele._private[params.field]=params.value;if(changed){changedEles.push(ele)}}}var changedColl=this.spawn(changedEles);changedColl.updateStyle();changedColl.emit(params.event);if(addlEvents){changedColl.emit(addlEvents)}}return this}}function defineSwitchSet(params){elesfn$r[params.field]=function(){var ele=this[0];if(ele){if(params.overrideField){var val=params.overrideField(ele);if(val!==undefined){return val}}return ele._private[params.field]}};elesfn$r[params.on]=defineSwitchFunction({event:params.on,field:params.field,ableField:params.ableField,overrideAble:params.overrideAble,value:true});elesfn$r[params.off]=defineSwitchFunction({event:params.off,field:params.field,ableField:params.ableField,overrideAble:params.overrideAble,value:false})}defineSwitchSet({field:"locked",overrideField:function overrideField(ele){return ele.cy().autolock()?true:undefined},on:"lock",off:"unlock"});defineSwitchSet({field:"grabbable",overrideField:function overrideField(ele){return ele.cy().autoungrabify()||ele.pannable()?false:undefined},on:"grabify",off:"ungrabify"});defineSwitchSet({field:"selected",ableField:"selectable",overrideAble:function overrideAble(ele){return ele.cy().autounselectify()?false:undefined},on:"select",off:"unselect"});defineSwitchSet({field:"selectable",overrideField:function overrideField(ele){return ele.cy().autounselectify()?false:undefined},on:"selectify",off:"unselectify"});elesfn$r.deselect=elesfn$r.unselect;elesfn$r.grabbed=function(){var ele=this[0];if(ele){return ele._private.grabbed}};defineSwitchSet({field:"active",on:"activate",off:"unactivate"});defineSwitchSet({field:"pannable",on:"panify",off:"unpanify"});elesfn$r.inactive=function(){var ele=this[0];if(ele){return!ele._private.active}};var elesfn$s={};var defineDagExtremity=function defineDagExtremity(params){return function dagExtremityImpl(selector){var eles=this;var ret=[];for(var i=0;i<eles.length;i++){var ele=eles[i];if(!ele.isNode()){continue}var disqualified=false;var edges=ele.connectedEdges();for(var j=0;j<edges.length;j++){var edge=edges[j];var src=edge.source();var tgt=edge.target();if(params.noIncomingEdges&&tgt===ele&&src!==ele||params.noOutgoingEdges&&src===ele&&tgt!==ele){disqualified=true;break}}if(!disqualified){ret.push(ele)}}return this.spawn(ret,{unique:true}).filter(selector)}};var defineDagOneHop=function defineDagOneHop(params){return function(selector){var eles=this;var oEles=[];for(var i=0;i<eles.length;i++){var ele=eles[i];if(!ele.isNode()){continue}var edges=ele.connectedEdges();for(var j=0;j<edges.length;j++){var edge=edges[j];var src=edge.source();var tgt=edge.target();if(params.outgoing&&src===ele){oEles.push(edge);oEles.push(tgt)}else if(params.incoming&&tgt===ele){oEles.push(edge);oEles.push(src)}}}return this.spawn(oEles,{unique:true}).filter(selector)}};var defineDagAllHops=function defineDagAllHops(params){return function(selector){var eles=this;var sEles=[];var sElesIds={};for(;;){var next=params.outgoing?eles.outgoers():eles.incomers();if(next.length===0){break}var newNext=false;for(var i=0;i<next.length;i++){var n=next[i];var nid=n.id();if(!sElesIds[nid]){sElesIds[nid]=true;sEles.push(n);newNext=true}}if(!newNext){break}eles=next}return this.spawn(sEles,{unique:true}).filter(selector)}};elesfn$s.clearTraversalCache=function(){for(var i=0;i<this.length;i++){this[i]._private.traversalCache=null}};extend(elesfn$s,{roots:defineDagExtremity({noIncomingEdges:true}),leaves:defineDagExtremity({noOutgoingEdges:true}),outgoers:cache(defineDagOneHop({outgoing:true}),"outgoers"),successors:defineDagAllHops({outgoing:true}),incomers:cache(defineDagOneHop({incoming:true}),"incomers"),predecessors:defineDagAllHops({incoming:true})});extend(elesfn$s,{neighborhood:cache((function(selector){var elements=[];var nodes=this.nodes();for(var i=0;i<nodes.length;i++){var node=nodes[i];var connectedEdges=node.connectedEdges();for(var j=0;j<connectedEdges.length;j++){var edge=connectedEdges[j];var src=edge.source();var tgt=edge.target();var otherNode=node===src?tgt:src;if(otherNode.length>0){elements.push(otherNode[0])}elements.push(edge[0])}}return this.spawn(elements,{unique:true}).filter(selector)}),"neighborhood"),closedNeighborhood:function closedNeighborhood(selector){return this.neighborhood().add(this).filter(selector)},openNeighborhood:function openNeighborhood(selector){return this.neighborhood(selector)}});elesfn$s.neighbourhood=elesfn$s.neighborhood;elesfn$s.closedNeighbourhood=elesfn$s.closedNeighborhood;elesfn$s.openNeighbourhood=elesfn$s.openNeighborhood;extend(elesfn$s,{source:cache((function sourceImpl(selector){var ele=this[0];var src;if(ele){src=ele._private.source||ele.cy().collection()}return src&&selector?src.filter(selector):src}),"source"),target:cache((function targetImpl(selector){var ele=this[0];var tgt;if(ele){tgt=ele._private.target||ele.cy().collection()}return tgt&&selector?tgt.filter(selector):tgt}),"target"),sources:defineSourceFunction({attr:"source"}),targets:defineSourceFunction({attr:"target"})});function defineSourceFunction(params){return function sourceImpl(selector){var sources=[];for(var i=0;i<this.length;i++){var ele=this[i];var src=ele._private[params.attr];if(src){sources.push(src)}}return this.spawn(sources,{unique:true}).filter(selector)}}extend(elesfn$s,{edgesWith:cache(defineEdgesWithFunction(),"edgesWith"),edgesTo:cache(defineEdgesWithFunction({thisIsSrc:true}),"edgesTo")});function defineEdgesWithFunction(params){return function edgesWithImpl(otherNodes){var elements=[];var cy=this._private.cy;var p=params||{};if(string(otherNodes)){otherNodes=cy.$(otherNodes)}for(var h=0;h<otherNodes.length;h++){var edges=otherNodes[h]._private.edges;for(var i=0;i<edges.length;i++){var edge=edges[i];var edgeData=edge._private.data;var thisToOther=this.hasElementWithId(edgeData.source)&&otherNodes.hasElementWithId(edgeData.target);var otherToThis=otherNodes.hasElementWithId(edgeData.source)&&this.hasElementWithId(edgeData.target);var edgeConnectsThisAndOther=thisToOther||otherToThis;if(!edgeConnectsThisAndOther){continue}if(p.thisIsSrc||p.thisIsTgt){if(p.thisIsSrc&&!thisToOther){continue}if(p.thisIsTgt&&!otherToThis){continue}}elements.push(edge)}}return this.spawn(elements,{unique:true})}}extend(elesfn$s,{connectedEdges:cache((function(selector){var retEles=[];var eles=this;for(var i=0;i<eles.length;i++){var node=eles[i];if(!node.isNode()){continue}var edges=node._private.edges;for(var j=0;j<edges.length;j++){var edge=edges[j];retEles.push(edge)}}return this.spawn(retEles,{unique:true}).filter(selector)}),"connectedEdges"),connectedNodes:cache((function(selector){var retEles=[];var eles=this;for(var i=0;i<eles.length;i++){var edge=eles[i];if(!edge.isEdge()){continue}retEles.push(edge.source()[0]);retEles.push(edge.target()[0])}return this.spawn(retEles,{unique:true}).filter(selector)}),"connectedNodes"),parallelEdges:cache(defineParallelEdgesFunction(),"parallelEdges"),codirectedEdges:cache(defineParallelEdgesFunction({codirected:true}),"codirectedEdges")});function defineParallelEdgesFunction(params){var defaults={codirected:false};params=extend({},defaults,params);return function parallelEdgesImpl(selector){var elements=[];var edges=this.edges();var p=params;for(var i=0;i<edges.length;i++){var edge1=edges[i];var edge1_p=edge1._private;var src1=edge1_p.source;var srcid1=src1._private.data.id;var tgtid1=edge1_p.data.target;var srcEdges1=src1._private.edges;for(var j=0;j<srcEdges1.length;j++){var edge2=srcEdges1[j];var edge2data=edge2._private.data;var tgtid2=edge2data.target;var srcid2=edge2data.source;var codirected=tgtid2===tgtid1&&srcid2===srcid1;var oppdirected=srcid1===tgtid2&&tgtid1===srcid2;if(p.codirected&&codirected||!p.codirected&&(codirected||oppdirected)){elements.push(edge2)}}}return this.spawn(elements,{unique:true}).filter(selector)}}extend(elesfn$s,{components:function components(root){var self=this;var cy=self.cy();var visited=cy.collection();var unvisited=root==null?self.nodes():root.nodes();var components=[];if(root!=null&&unvisited.empty()){unvisited=root.sources()}var visitInComponent=function visitInComponent(node,component){visited.merge(node);unvisited.unmerge(node);component.merge(node)};if(unvisited.empty()){return self.spawn()}var _loop=function _loop(){var cmpt=cy.collection();components.push(cmpt);var root=unvisited[0];visitInComponent(root,cmpt);self.bfs({directed:false,roots:root,visit:function visit(v){return visitInComponent(v,cmpt)}});cmpt.forEach((function(node){node.connectedEdges().forEach((function(e){if(cmpt.has(e.source())&&cmpt.has(e.target())){cmpt.merge(e)}}))}))};do{_loop()}while(unvisited.length>0);return components},component:function component(){var ele=this[0];return ele.cy().mutableElements().components(ele)[0]}});elesfn$s.componentsOf=elesfn$s.components;var idFactory={generate:function generate(cy,element,tryThisId){var id=tryThisId!=null?tryThisId:uuid();while(cy.hasElementWithId(id)){id=uuid()}return id}};var Collection=function Collection(cy,elements,options){if(cy===undefined||!core(cy)){error("A collection must have a reference to the core");return}var map=new Map$1;var createdElements=false;if(!elements){elements=[]}else if(elements.length>0&&plainObject(elements[0])&&!element(elements[0])){createdElements=true;var eles=[];var elesIds=new Set$1;for(var i=0,l=elements.length;i<l;i++){var json=elements[i];if(json.data==null){json.data={}}var _data=json.data;if(_data.id==null){_data.id=idFactory.generate(cy,json)}else if(cy.hasElementWithId(_data.id)||elesIds.has(_data.id)){continue}var ele=new Element(cy,json,false);eles.push(ele);elesIds.add(_data.id)}elements=eles}this.length=0;for(var _i=0,_l=elements.length;_i<_l;_i++){var element$1=elements[_i][0];if(element$1==null){continue}var id=element$1._private.data.id;if(options==null||options.unique&&!map.has(id)){map.set(id,{index:this.length,ele:element$1});this[this.length]=element$1;this.length++}}this._private={cy:cy,map:map};if(createdElements){this.restore()}};var elesfn$t=Element.prototype=Collection.prototype;elesfn$t.instanceString=function(){return"collection"};elesfn$t.spawn=function(cy,eles,opts){if(!core(cy)){opts=eles;eles=cy;cy=this.cy()}return new Collection(cy,eles,opts)};elesfn$t.spawnSelf=function(){return this.spawn(this)};elesfn$t.cy=function(){return this._private.cy};elesfn$t.renderer=function(){return this._private.cy.renderer()};elesfn$t.element=function(){return this[0]};elesfn$t.collection=function(){if(collection(this)){return this}else{return new Collection(this._private.cy,[this])}};elesfn$t.unique=function(){return new Collection(this._private.cy,this,{unique:true})};elesfn$t.hasElementWithId=function(id){id=""+id;return this._private.map.has(id)};elesfn$t.getElementById=function(id){id=""+id;var cy=this._private.cy;var entry=this._private.map.get(id);return entry?entry.ele:new Collection(cy)};elesfn$t.$id=elesfn$t.getElementById;elesfn$t.poolIndex=function(){var cy=this._private.cy;var eles=cy._private.elements;var id=this[0]._private.data.id;return eles._private.map.get(id).index};elesfn$t.indexOf=function(ele){var id=ele[0]._private.data.id;return this._private.map.get(id).index};elesfn$t.indexOfId=function(id){id=""+id;return this._private.map.get(id).index};elesfn$t.json=function(obj){var ele=this.element();var cy=this.cy();if(ele==null&&obj){return this}if(ele==null){return undefined}var p=ele._private;if(plainObject(obj)){cy.startBatch();if(obj.data){ele.data(obj.data);var _data2=p.data;if(ele.isEdge()){var move=false;var spec={};var src=obj.data.source;var tgt=obj.data.target;if(src!=null&&src!=_data2.source){spec.source=""+src;move=true}if(tgt!=null&&tgt!=_data2.target){spec.target=""+tgt;move=true}if(move){ele=ele.move(spec)}}else{var parent=obj.data.parent;if((parent!=null||_data2.parent!=null)&&parent!=_data2.parent){if(parent===undefined){parent=null}if(parent!=null){parent=""+parent}ele=ele.move({parent:parent})}}}if(obj.position){ele.position(obj.position)}var checkSwitch=function checkSwitch(k,trueFnName,falseFnName){var obj_k=obj[k];if(obj_k!=null&&obj_k!==p[k]){if(obj_k){ele[trueFnName]()}else{ele[falseFnName]()}}};checkSwitch("removed","remove","restore");checkSwitch("selected","select","unselect");checkSwitch("selectable","selectify","unselectify");checkSwitch("locked","lock","unlock");checkSwitch("grabbable","grabify","ungrabify");checkSwitch("pannable","panify","unpanify");if(obj.classes!=null){ele.classes(obj.classes)}cy.endBatch();return this}else if(obj===undefined){var json={data:copy(p.data),position:copy(p.position),group:p.group,removed:p.removed,selected:p.selected,selectable:p.selectable,locked:p.locked,grabbable:p.grabbable,pannable:p.pannable,classes:null};json.classes="";var i=0;p.classes.forEach((function(cls){return json.classes+=i++===0?cls:" "+cls}));return json}};elesfn$t.jsons=function(){var jsons=[];for(var i=0;i<this.length;i++){var ele=this[i];var json=ele.json();jsons.push(json)}return jsons};elesfn$t.clone=function(){var cy=this.cy();var elesArr=[];for(var i=0;i<this.length;i++){var ele=this[i];var json=ele.json();var clone=new Element(cy,json,false);elesArr.push(clone)}return new Collection(cy,elesArr)};elesfn$t.copy=elesfn$t.clone;elesfn$t.restore=function(){var notifyRenderer=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var addToPool=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var self=this;var cy=self.cy();var cy_p=cy._private;var nodes=[];var edges=[];var elements;for(var _i2=0,l=self.length;_i2<l;_i2++){var ele=self[_i2];if(addToPool&&!ele.removed()){continue}if(ele.isNode()){nodes.push(ele)}else{edges.push(ele)}}elements=nodes.concat(edges);var i;var removeFromElements=function removeFromElements(){elements.splice(i,1);i--};for(i=0;i<elements.length;i++){var _ele=elements[i];var _private=_ele._private;var _data3=_private.data;_ele.clearTraversalCache();if(!addToPool&&!_private.removed);else if(_data3.id===undefined){_data3.id=idFactory.generate(cy,_ele)}else if(number(_data3.id)){_data3.id=""+_data3.id}else if(emptyString(_data3.id)||!string(_data3.id)){error("Can not create element with invalid string ID `"+_data3.id+"`");removeFromElements();continue}else if(cy.hasElementWithId(_data3.id)){error("Can not create second element with ID `"+_data3.id+"`");removeFromElements();continue}var id=_data3.id;if(_ele.isNode()){var pos=_private.position;if(pos.x==null){pos.x=0}if(pos.y==null){pos.y=0}}if(_ele.isEdge()){var edge=_ele;var fields=["source","target"];var fieldsLength=fields.length;var badSourceOrTarget=false;for(var j=0;j<fieldsLength;j++){var field=fields[j];var val=_data3[field];if(number(val)){val=_data3[field]=""+_data3[field]}if(val==null||val===""){error("Can not create edge `"+id+"` with unspecified "+field);badSourceOrTarget=true}else if(!cy.hasElementWithId(val)){error("Can not create edge `"+id+"` with nonexistant "+field+" `"+val+"`");badSourceOrTarget=true}}if(badSourceOrTarget){removeFromElements();continue}var src=cy.getElementById(_data3.source);var tgt=cy.getElementById(_data3.target);if(src.same(tgt)){src._private.edges.push(edge)}else{src._private.edges.push(edge);tgt._private.edges.push(edge)}edge._private.source=src;edge._private.target=tgt}_private.map=new Map$1;_private.map.set(id,{ele:_ele,index:0});_private.removed=false;if(addToPool){cy.addToPool(_ele)}}for(var _i3=0;_i3<nodes.length;_i3++){var node=nodes[_i3];var _data4=node._private.data;if(number(_data4.parent)){_data4.parent=""+_data4.parent}var parentId=_data4.parent;var specifiedParent=parentId!=null;if(specifiedParent){var parent=cy.getElementById(parentId);if(parent.empty()){_data4.parent=undefined}else{var selfAsParent=false;var ancestor=parent;while(!ancestor.empty()){if(node.same(ancestor)){selfAsParent=true;_data4.parent=undefined;break}ancestor=ancestor.parent()}if(!selfAsParent){parent[0]._private.children.push(node);node._private.parent=parent[0];cy_p.hasCompoundNodes=true}}}}if(elements.length>0){var restored=new Collection(cy,elements);for(var _i4=0;_i4<restored.length;_i4++){var _ele2=restored[_i4];if(_ele2.isNode()){continue}_ele2.parallelEdges().clearTraversalCache();_ele2.source().clearTraversalCache();_ele2.target().clearTraversalCache()}var toUpdateStyle;if(cy_p.hasCompoundNodes){toUpdateStyle=cy.collection().merge(restored).merge(restored.connectedNodes()).merge(restored.parent())}else{toUpdateStyle=restored}toUpdateStyle.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(notifyRenderer);if(notifyRenderer){restored.emitAndNotify("add")}else if(addToPool){restored.emit("add")}}return self};elesfn$t.removed=function(){var ele=this[0];return ele&&ele._private.removed};elesfn$t.inside=function(){var ele=this[0];return ele&&!ele._private.removed};elesfn$t.remove=function(){var notifyRenderer=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var removeFromPool=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var self=this;var elesToRemove=[];var elesToRemoveIds={};var cy=self._private.cy;function addConnectedEdges(node){var edges=node._private.edges;for(var i=0;i<edges.length;i++){add(edges[i])}}function addChildren(node){var children=node._private.children;for(var i=0;i<children.length;i++){add(children[i])}}function add(ele){var alreadyAdded=elesToRemoveIds[ele.id()];if(removeFromPool&&ele.removed()||alreadyAdded){return}else{elesToRemoveIds[ele.id()]=true}if(ele.isNode()){elesToRemove.push(ele);addConnectedEdges(ele);addChildren(ele)}else{elesToRemove.unshift(ele)}}for(var i=0,l=self.length;i<l;i++){var ele=self[i];add(ele)}function removeEdgeRef(node,edge){var connectedEdges=node._private.edges;removeFromArray(connectedEdges,edge);node.clearTraversalCache()}function removeParallelRef(pllEdge){pllEdge.clearTraversalCache()}var alteredParents=[];alteredParents.ids={};function removeChildRef(parent,ele){ele=ele[0];parent=parent[0];var children=parent._private.children;var pid=parent.id();removeFromArray(children,ele);ele._private.parent=null;if(!alteredParents.ids[pid]){alteredParents.ids[pid]=true;alteredParents.push(parent)}}self.dirtyCompoundBoundsCache();if(removeFromPool){cy.removeFromPool(elesToRemove)}for(var _i5=0;_i5<elesToRemove.length;_i5++){var _ele3=elesToRemove[_i5];if(_ele3.isEdge()){var src=_ele3.source()[0];var tgt=_ele3.target()[0];removeEdgeRef(src,_ele3);removeEdgeRef(tgt,_ele3);var pllEdges=_ele3.parallelEdges();for(var j=0;j<pllEdges.length;j++){var pllEdge=pllEdges[j];removeParallelRef(pllEdge);if(pllEdge.isBundledBezier()){pllEdge.dirtyBoundingBoxCache()}}}else{var parent=_ele3.parent();if(parent.length!==0){removeChildRef(parent,_ele3)}}if(removeFromPool){_ele3._private.removed=true}}var elesStillInside=cy._private.elements;cy._private.hasCompoundNodes=false;for(var _i6=0;_i6<elesStillInside.length;_i6++){var _ele4=elesStillInside[_i6];if(_ele4.isParent()){cy._private.hasCompoundNodes=true;break}}var removedElements=new Collection(this.cy(),elesToRemove);if(removedElements.size()>0){if(notifyRenderer){removedElements.emitAndNotify("remove")}else if(removeFromPool){removedElements.emit("remove")}}for(var _i7=0;_i7<alteredParents.length;_i7++){var _ele5=alteredParents[_i7];if(!removeFromPool||!_ele5.removed()){_ele5.updateStyle()}}return removedElements};elesfn$t.move=function(struct){var cy=this._private.cy;var eles=this;var notifyRenderer=false;var modifyPool=false;var toString=function toString(id){return id==null?id:""+id};if(struct.source!==undefined||struct.target!==undefined){var srcId=toString(struct.source);var tgtId=toString(struct.target);var srcExists=srcId!=null&&cy.hasElementWithId(srcId);var tgtExists=tgtId!=null&&cy.hasElementWithId(tgtId);if(srcExists||tgtExists){cy.batch((function(){eles.remove(notifyRenderer,modifyPool);eles.emitAndNotify("moveout");for(var i=0;i<eles.length;i++){var ele=eles[i];var _data5=ele._private.data;if(ele.isEdge()){if(srcExists){_data5.source=srcId}if(tgtExists){_data5.target=tgtId}}}eles.restore(notifyRenderer,modifyPool)}));eles.emitAndNotify("move")}}else if(struct.parent!==undefined){var parentId=toString(struct.parent);var parentExists=parentId===null||cy.hasElementWithId(parentId);if(parentExists){var pidToAssign=parentId===null?undefined:parentId;cy.batch((function(){var updated=eles.remove(notifyRenderer,modifyPool);updated.emitAndNotify("moveout");for(var i=0;i<eles.length;i++){var ele=eles[i];var _data6=ele._private.data;if(ele.isNode()){_data6.parent=pidToAssign}}updated.restore(notifyRenderer,modifyPool)}));eles.emitAndNotify("move")}}return this};[elesfn$b,elesfn$c,elesfn$d,elesfn$e,elesfn$f,data$1,elesfn$h,dimensions,elesfn$l,elesfn$m,elesfn$n,elesfn$o,elesfn$p,elesfn$q,elesfn$r,elesfn$s].forEach((function(props){extend(elesfn$t,props)}));var corefn={add:function add(opts){var elements;var cy=this;if(elementOrCollection(opts)){var eles=opts;if(eles._private.cy===cy){elements=eles.restore()}else{var jsons=[];for(var i=0;i<eles.length;i++){var ele=eles[i];jsons.push(ele.json())}elements=new Collection(cy,jsons)}}else if(array(opts)){var _jsons=opts;elements=new Collection(cy,_jsons)}else if(plainObject(opts)&&(array(opts.nodes)||array(opts.edges))){var elesByGroup=opts;var _jsons2=[];var grs=["nodes","edges"];for(var _i=0,il=grs.length;_i<il;_i++){var group=grs[_i];var elesArray=elesByGroup[group];if(array(elesArray)){for(var j=0,jl=elesArray.length;j<jl;j++){var json=extend({group:group},elesArray[j]);_jsons2.push(json)}}}elements=new Collection(cy,_jsons2)}else{var _json=opts;elements=new Element(cy,_json).collection()}return elements},remove:function remove(collection){if(elementOrCollection(collection));else if(string(collection)){var selector=collection;collection=this.$(selector)}return collection.remove()}};
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function generateCubicBezier(mX1,mY1,mX2,mY2){var NEWTON_ITERATIONS=4,NEWTON_MIN_SLOPE=.001,SUBDIVISION_PRECISION=1e-7,SUBDIVISION_MAX_ITERATIONS=10,kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1),float32ArraySupported=typeof Float32Array!=="undefined";if(arguments.length!==4){return false}for(var i=0;i<4;++i){if(typeof arguments[i]!=="number"||isNaN(arguments[i])||!isFinite(arguments[i])){return false}}mX1=Math.min(mX1,1);mX2=Math.min(mX2,1);mX1=Math.max(mX1,0);mX2=Math.max(mX2,0);var mSampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize);function A(aA1,aA2){return 1-3*aA2+3*aA1}function B(aA1,aA2){return 3*aA2-6*aA1}function C(aA1){return 3*aA1}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT}function getSlope(aT,aA1,aA2){return 3*A(aA1,aA2)*aT*aT+2*B(aA1,aA2)*aT+C(aA1)}function newtonRaphsonIterate(aX,aGuessT){for(var _i=0;_i<NEWTON_ITERATIONS;++_i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0){return aGuessT}var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope}return aGuessT}function calcSampleValues(){for(var _i2=0;_i2<kSplineTableSize;++_i2){mSampleValues[_i2]=calcBezier(_i2*kSampleStepSize,mX1,mX2)}}function binarySubdivide(aX,aA,aB){var currentX,currentT,i=0;do{currentT=aA+(aB-aA)/2;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0){aB=currentT}else{aA=currentT}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT}function getTForX(aX){var intervalStart=0,currentSample=1,lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&mSampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize}--currentSample;var dist=(aX-mSampleValues[currentSample])/(mSampleValues[currentSample+1]-mSampleValues[currentSample]),guessForT=intervalStart+dist*kSampleStepSize,initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT)}else if(initialSlope===0){return guessForT}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize)}}var _precomputed=false;function precompute(){_precomputed=true;if(mX1!==mY1||mX2!==mY2){calcSampleValues()}}var f=function f(aX){if(!_precomputed){precompute()}if(mX1===mY1&&mX2===mY2){return aX}if(aX===0){return 0}if(aX===1){return 1}return calcBezier(getTForX(aX),mY1,mY2)};f.getControlPoints=function(){return[{x:mX1,y:mY1},{x:mX2,y:mY2}]};var str="generateBezier("+[mX1,mY1,mX2,mY2]+")";f.toString=function(){return str};return f}
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var generateSpringRK4=function(){function springAccelerationForState(state){return-state.tension*state.x-state.friction*state.v}function springEvaluateStateWithDerivative(initialState,dt,derivative){var state={x:initialState.x+derivative.dx*dt,v:initialState.v+derivative.dv*dt,tension:initialState.tension,friction:initialState.friction};return{dx:state.v,dv:springAccelerationForState(state)}}function springIntegrateState(state,dt){var a={dx:state.v,dv:springAccelerationForState(state)},b=springEvaluateStateWithDerivative(state,dt*.5,a),c=springEvaluateStateWithDerivative(state,dt*.5,b),d=springEvaluateStateWithDerivative(state,dt,c),dxdt=1/6*(a.dx+2*(b.dx+c.dx)+d.dx),dvdt=1/6*(a.dv+2*(b.dv+c.dv)+d.dv);state.x=state.x+dxdt*dt;state.v=state.v+dvdt*dt;return state}return function springRK4Factory(tension,friction,duration){var initState={x:-1,v:0,tension:null,friction:null},path=[0],time_lapsed=0,tolerance=1/1e4,DT=16/1e3,have_duration,dt,last_state;tension=parseFloat(tension)||500;friction=parseFloat(friction)||20;duration=duration||null;initState.tension=tension;initState.friction=friction;have_duration=duration!==null;if(have_duration){time_lapsed=springRK4Factory(tension,friction);dt=time_lapsed/duration*DT}else{dt=DT}for(;;){last_state=springIntegrateState(last_state||initState,dt);path.push(1+last_state.x);time_lapsed+=16;if(!(Math.abs(last_state.x)>tolerance&&Math.abs(last_state.v)>tolerance)){break}}return!have_duration?time_lapsed:function(percentComplete){return path[percentComplete*(path.length-1)|0]}}}();var cubicBezier=function cubicBezier(t1,p1,t2,p2){var bezier=generateCubicBezier(t1,p1,t2,p2);return function(start,end,percent){return start+(end-start)*bezier(percent)}};var easings={linear:function linear(start,end,percent){return start+(end-start)*percent},ease:cubicBezier(.25,.1,.25,1),"ease-in":cubicBezier(.42,0,1,1),"ease-out":cubicBezier(0,0,.58,1),"ease-in-out":cubicBezier(.42,0,.58,1),"ease-in-sine":cubicBezier(.47,0,.745,.715),"ease-out-sine":cubicBezier(.39,.575,.565,1),"ease-in-out-sine":cubicBezier(.445,.05,.55,.95),"ease-in-quad":cubicBezier(.55,.085,.68,.53),"ease-out-quad":cubicBezier(.25,.46,.45,.94),"ease-in-out-quad":cubicBezier(.455,.03,.515,.955),"ease-in-cubic":cubicBezier(.55,.055,.675,.19),"ease-out-cubic":cubicBezier(.215,.61,.355,1),"ease-in-out-cubic":cubicBezier(.645,.045,.355,1),"ease-in-quart":cubicBezier(.895,.03,.685,.22),"ease-out-quart":cubicBezier(.165,.84,.44,1),"ease-in-out-quart":cubicBezier(.77,0,.175,1),"ease-in-quint":cubicBezier(.755,.05,.855,.06),"ease-out-quint":cubicBezier(.23,1,.32,1),"ease-in-out-quint":cubicBezier(.86,0,.07,1),"ease-in-expo":cubicBezier(.95,.05,.795,.035),"ease-out-expo":cubicBezier(.19,1,.22,1),"ease-in-out-expo":cubicBezier(1,0,0,1),"ease-in-circ":cubicBezier(.6,.04,.98,.335),"ease-out-circ":cubicBezier(.075,.82,.165,1),"ease-in-out-circ":cubicBezier(.785,.135,.15,.86),spring:function spring(tension,friction,duration){if(duration===0){return easings.linear}var spring=generateSpringRK4(tension,friction,duration);return function(start,end,percent){return start+(end-start)*spring(percent)}},"cubic-bezier":cubicBezier};function getEasedValue(type,start,end,percent,easingFn){if(percent===1){return end}var val=easingFn(start,end,percent);if(type==null){return val}if(type.roundValue||type.color){val=Math.round(val)}if(type.min!==undefined){val=Math.max(val,type.min)}if(type.max!==undefined){val=Math.min(val,type.max)}return val}function getValue(prop,spec){if(prop.pfValue!=null||prop.value!=null){if(prop.pfValue!=null&&(spec==null||spec.type.units!=="%")){return prop.pfValue}else{return prop.value}}else{return prop}}function ease(startProp,endProp,percent,easingFn,propSpec){var type=propSpec!=null?propSpec.type:null;if(percent<0){percent=0}else if(percent>1){percent=1}var start=getValue(startProp,propSpec);var end=getValue(endProp,propSpec);if(number(start)&&number(end)){return getEasedValue(type,start,end,percent,easingFn)}else if(array(start)&&array(end)){var easedArr=[];for(var i=0;i<end.length;i++){var si=start[i];var ei=end[i];if(si!=null&&ei!=null){var val=getEasedValue(type,si,ei,percent,easingFn);easedArr.push(val)}else{easedArr.push(ei)}}return easedArr}return undefined}function step(self,ani,now,isCore){var isEles=!isCore;var _p=self._private;var ani_p=ani._private;var pEasing=ani_p.easing;var startTime=ani_p.startTime;var cy=isCore?self:self.cy();var style=cy.style();if(!ani_p.easingImpl){if(pEasing==null){ani_p.easingImpl=easings["linear"]}else{var easingVals;if(string(pEasing)){var easingProp=style.parse("transition-timing-function",pEasing);easingVals=easingProp.value}else{easingVals=pEasing}var name,args;if(string(easingVals)){name=easingVals;args=[]}else{name=easingVals[1];args=easingVals.slice(2).map((function(n){return+n}))}if(args.length>0){if(name==="spring"){args.push(ani_p.duration)}ani_p.easingImpl=easings[name].apply(null,args)}else{ani_p.easingImpl=easings[name]}}}var easing=ani_p.easingImpl;var percent;if(ani_p.duration===0){percent=1}else{percent=(now-startTime)/ani_p.duration}if(ani_p.applying){percent=ani_p.progress}if(percent<0){percent=0}else if(percent>1){percent=1}if(ani_p.delay==null){var startPos=ani_p.startPosition;var endPos=ani_p.position;if(endPos&&isEles&&!self.locked()){var newPos={};if(valid(startPos.x,endPos.x)){newPos.x=ease(startPos.x,endPos.x,percent,easing)}if(valid(startPos.y,endPos.y)){newPos.y=ease(startPos.y,endPos.y,percent,easing)}self.position(newPos)}var startPan=ani_p.startPan;var endPan=ani_p.pan;var pan=_p.pan;var animatingPan=endPan!=null&&isCore;if(animatingPan){if(valid(startPan.x,endPan.x)){pan.x=ease(startPan.x,endPan.x,percent,easing)}if(valid(startPan.y,endPan.y)){pan.y=ease(startPan.y,endPan.y,percent,easing)}self.emit("pan")}var startZoom=ani_p.startZoom;var endZoom=ani_p.zoom;var animatingZoom=endZoom!=null&&isCore;if(animatingZoom){if(valid(startZoom,endZoom)){_p.zoom=bound(_p.minZoom,ease(startZoom,endZoom,percent,easing),_p.maxZoom)}self.emit("zoom")}if(animatingPan||animatingZoom){self.emit("viewport")}var props=ani_p.style;if(props&&props.length>0&&isEles){for(var i=0;i<props.length;i++){var prop=props[i];var _name=prop.name;var end=prop;var start=ani_p.startStyle[_name];var propSpec=style.properties[start.name];var easedVal=ease(start,end,percent,easing,propSpec);style.overrideBypass(self,_name,easedVal)}self.emit("style")}}ani_p.progress=percent;return percent}function valid(start,end){if(start==null||end==null){return false}if(number(start)&&number(end)){return true}else if(start&&end){return true}return false}function startAnimation(self,ani,now,isCore){var ani_p=ani._private;ani_p.started=true;ani_p.startTime=now-ani_p.progress*ani_p.duration}function stepAll(now,cy){var eles=cy._private.aniEles;var doneEles=[];function stepOne(ele,isCore){var _p=ele._private;var current=_p.animation.current;var queue=_p.animation.queue;var ranAnis=false;if(!isCore&&ele.pstyle("display").value==="none"){current=current.splice(0,current.length).concat(queue.splice(0,queue.length));for(var i=0;i<current.length;i++){current[i].stop()}}if(current.length===0){var next=queue.shift();if(next){current.push(next)}}var callbacks=function callbacks(_callbacks){for(var j=_callbacks.length-1;j>=0;j--){var cb=_callbacks[j];cb()}_callbacks.splice(0,_callbacks.length)};for(var _i=current.length-1;_i>=0;_i--){var ani=current[_i];var ani_p=ani._private;if(ani_p.stopped){current.splice(_i,1);ani_p.hooked=false;ani_p.playing=false;ani_p.started=false;callbacks(ani_p.frames);continue}if(!ani_p.playing&&!ani_p.applying){continue}if(ani_p.playing&&ani_p.applying){ani_p.applying=false}if(!ani_p.started){startAnimation(ele,ani,now)}step(ele,ani,now,isCore);if(ani_p.applying){ani_p.applying=false}callbacks(ani_p.frames);if(ani_p.step!=null){ani_p.step(now)}if(ani.completed()){current.splice(_i,1);ani_p.hooked=false;ani_p.playing=false;ani_p.started=false;callbacks(ani_p.completes)}ranAnis=true}if(!isCore&&current.length===0&&queue.length===0){doneEles.push(ele)}return ranAnis}var ranEleAni=false;for(var e=0;e<eles.length;e++){var ele=eles[e];var handledThisEle=stepOne(ele);ranEleAni=ranEleAni||handledThisEle}var ranCoreAni=stepOne(cy,true);if(ranEleAni||ranCoreAni){if(eles.length>0){cy.notify("draw",eles)}else{cy.notify("draw")}}eles.unmerge(doneEles);cy.emit("step")}var corefn$1={animate:define$3.animate(),animation:define$3.animation(),animated:define$3.animated(),clearQueue:define$3.clearQueue(),delay:define$3.delay(),delayAnimation:define$3.delayAnimation(),stop:define$3.stop(),addToAnimationPool:function addToAnimationPool(eles){var cy=this;if(!cy.styleEnabled()){return}cy._private.aniEles.merge(eles)},stopAnimationLoop:function stopAnimationLoop(){this._private.animationsRunning=false},startAnimationLoop:function startAnimationLoop(){var cy=this;cy._private.animationsRunning=true;if(!cy.styleEnabled()){return}function headlessStep(){if(!cy._private.animationsRunning){return}requestAnimationFrame((function animationStep(now){stepAll(now,cy);headlessStep()}))}var renderer=cy.renderer();if(renderer&&renderer.beforeRender){renderer.beforeRender((function rendererAnimationStep(willDraw,now){stepAll(now,cy)}),renderer.beforeRenderPriorities.animations)}else{headlessStep()}}};var emitterOptions$1={qualifierCompare:function qualifierCompare(selector1,selector2){if(selector1==null||selector2==null){return selector1==null&&selector2==null}else{return selector1.sameText(selector2)}},eventMatches:function eventMatches(cy,listener,eventObj){var selector=listener.qualifier;if(selector!=null){return cy!==eventObj.target&&element(eventObj.target)&&selector.matches(eventObj.target)}return true},addEventFields:function addEventFields(cy,evt){evt.cy=cy;evt.target=cy},callbackContext:function callbackContext(cy,listener,eventObj){return listener.qualifier!=null?eventObj.target:cy}};var argSelector$1=function argSelector(arg){if(string(arg)){return new Selector(arg)}else{return arg}};var elesfn$u={createEmitter:function createEmitter(){var _p=this._private;if(!_p.emitter){_p.emitter=new Emitter(emitterOptions$1,this)}return this},emitter:function emitter(){return this._private.emitter},on:function on(events,selector,callback){this.emitter().on(events,argSelector$1(selector),callback);return this},removeListener:function removeListener(events,selector,callback){this.emitter().removeListener(events,argSelector$1(selector),callback);return this},removeAllListeners:function removeAllListeners(){this.emitter().removeAllListeners();return this},one:function one(events,selector,callback){this.emitter().one(events,argSelector$1(selector),callback);return this},once:function once(events,selector,callback){this.emitter().one(events,argSelector$1(selector),callback);return this},emit:function emit(events,extraParams){this.emitter().emit(events,extraParams);return this},emitAndNotify:function emitAndNotify(event,eles){this.emit(event);this.notify(event,eles);return this}};define$3.eventAliasesOn(elesfn$u);var corefn$2={png:function png(options){var renderer=this._private.renderer;options=options||{};return renderer.png(options)},jpg:function jpg(options){var renderer=this._private.renderer;options=options||{};options.bg=options.bg||"#fff";return renderer.jpg(options)}};corefn$2.jpeg=corefn$2.jpg;var corefn$3={layout:function layout(options){var cy=this;if(options==null){error("Layout options must be specified to make a layout");return}if(options.name==null){error("A `name` must be specified to make a layout");return}var name=options.name;var Layout=cy.extension("layout",name);if(Layout==null){error("No such layout `"+name+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var eles;if(string(options.eles)){eles=cy.$(options.eles)}else{eles=options.eles!=null?options.eles:cy.$()}var layout=new Layout(extend({},options,{cy:cy,eles:eles}));return layout}};corefn$3.createLayout=corefn$3.makeLayout=corefn$3.layout;var corefn$4={notify:function notify(eventName,eventEles){var _p=this._private;if(this.batching()){_p.batchNotifications=_p.batchNotifications||{};var eles=_p.batchNotifications[eventName]=_p.batchNotifications[eventName]||this.collection();if(eventEles!=null){eles.merge(eventEles)}return}if(!_p.notificationsEnabled){return}var renderer=this.renderer();if(this.destroyed()||!renderer){return}renderer.notify(eventName,eventEles)},notifications:function notifications(bool){var p=this._private;if(bool===undefined){return p.notificationsEnabled}else{p.notificationsEnabled=bool?true:false}return this},noNotifications:function noNotifications(callback){this.notifications(false);callback();this.notifications(true)},batching:function batching(){return this._private.batchCount>0},startBatch:function startBatch(){var _p=this._private;if(_p.batchCount==null){_p.batchCount=0}if(_p.batchCount===0){_p.batchStyleEles=this.collection();_p.batchNotifications={}}_p.batchCount++;return this},endBatch:function endBatch(){var _p=this._private;if(_p.batchCount===0){return this}_p.batchCount--;if(_p.batchCount===0){_p.batchStyleEles.updateStyle();var renderer=this.renderer();Object.keys(_p.batchNotifications).forEach((function(eventName){var eles=_p.batchNotifications[eventName];if(eles.empty()){renderer.notify(eventName)}else{renderer.notify(eventName,eles)}}))}return this},batch:function batch(callback){this.startBatch();callback();this.endBatch();return this},batchData:function batchData(map){var cy=this;return this.batch((function(){var ids=Object.keys(map);for(var i=0;i<ids.length;i++){var id=ids[i];var data=map[id];var ele=cy.getElementById(id);ele.data(data)}}))}};var rendererDefaults=defaults({hideEdgesOnViewport:false,textureOnViewport:false,motionBlur:false,motionBlurOpacity:.05,pixelRatio:undefined,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:false,showFps:false});var corefn$5={renderTo:function renderTo(context,zoom,pan,pxRatio){var r=this._private.renderer;r.renderTo(context,zoom,pan,pxRatio);return this},renderer:function renderer(){return this._private.renderer},forceRender:function forceRender(){this.notify("draw");return this},resize:function resize(){this.invalidateSize();this.emitAndNotify("resize");return this},initRenderer:function initRenderer(options){var cy=this;var RendererProto=cy.extension("renderer",options.name);if(RendererProto==null){error("Can not initialise: No such renderer `".concat(options.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}if(options.wheelSensitivity!==undefined){warn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.")}var rOpts=rendererDefaults(options);rOpts.cy=cy;cy._private.renderer=new RendererProto(rOpts);this.notify("init")},destroyRenderer:function destroyRenderer(){var cy=this;cy.notify("destroy");var domEle=cy.container();if(domEle){domEle._cyreg=null;while(domEle.childNodes.length>0){domEle.removeChild(domEle.childNodes[0])}}cy._private.renderer=null;cy.mutableElements().forEach((function(ele){var _p=ele._private;_p.rscratch={};_p.rstyle={};_p.animation.current=[];_p.animation.queue=[]}))},onRender:function onRender(fn){return this.on("render",fn)},offRender:function offRender(fn){return this.off("render",fn)}};corefn$5.invalidateDimensions=corefn$5.resize;var corefn$6={collection:function collection(eles,opts){if(string(eles)){return this.$(eles)}else if(elementOrCollection(eles)){return eles.collection()}else if(array(eles)){return new Collection(this,eles,opts)}return new Collection(this)},nodes:function nodes(selector){var nodes=this.$((function(ele){return ele.isNode()}));if(selector){return nodes.filter(selector)}return nodes},edges:function edges(selector){var edges=this.$((function(ele){return ele.isEdge()}));if(selector){return edges.filter(selector)}return edges},$:function $(selector){var eles=this._private.elements;if(selector){return eles.filter(selector)}else{return eles.spawnSelf()}},mutableElements:function mutableElements(){return this._private.elements}};corefn$6.elements=corefn$6.filter=corefn$6.$;var styfn={};var TRUE="t";var FALSE="f";styfn.apply=function(eles){var self=this;var _p=self._private;var cy=_p.cy;var updatedEles=cy.collection();if(_p.newStyle){_p.contextStyles={};_p.propDiffs={};self.cleanElements(eles,true)}for(var ie=0;ie<eles.length;ie++){var ele=eles[ie];var cxtMeta=self.getContextMeta(ele);if(cxtMeta.empty){continue}var cxtStyle=self.getContextStyle(cxtMeta);var app=self.applyContextStyle(cxtMeta,cxtStyle,ele);if(!_p.newStyle){self.updateTransitions(ele,app.diffProps)}var hintsDiff=self.updateStyleHints(ele);if(hintsDiff){updatedEles.merge(ele)}}_p.newStyle=false;return updatedEles};styfn.getPropertiesDiff=function(oldCxtKey,newCxtKey){var self=this;var cache=self._private.propDiffs=self._private.propDiffs||{};var dualCxtKey=oldCxtKey+"-"+newCxtKey;var cachedVal=cache[dualCxtKey];if(cachedVal){return cachedVal}var diffProps=[];var addedProp={};for(var i=0;i<self.length;i++){var cxt=self[i];var oldHasCxt=oldCxtKey[i]===TRUE;var newHasCxt=newCxtKey[i]===TRUE;var cxtHasDiffed=oldHasCxt!==newHasCxt;var cxtHasMappedProps=cxt.mappedProperties.length>0;if(cxtHasDiffed||newHasCxt&&cxtHasMappedProps){var props=void 0;if(cxtHasDiffed&&cxtHasMappedProps){props=cxt.properties}else if(cxtHasDiffed){props=cxt.properties}else if(cxtHasMappedProps){props=cxt.mappedProperties}for(var j=0;j<props.length;j++){var prop=props[j];var name=prop.name;var laterCxtOverrides=false;for(var k=i+1;k<self.length;k++){var laterCxt=self[k];var hasLaterCxt=newCxtKey[k]===TRUE;if(!hasLaterCxt){continue}laterCxtOverrides=laterCxt.properties[prop.name]!=null;if(laterCxtOverrides){break}}if(!addedProp[name]&&!laterCxtOverrides){addedProp[name]=true;diffProps.push(name)}}}}cache[dualCxtKey]=diffProps;return diffProps};styfn.getContextMeta=function(ele){var self=this;var cxtKey="";var diffProps;var prevKey=ele._private.styleCxtKey||"";if(self._private.newStyle){prevKey=""}for(var i=0;i<self.length;i++){var context=self[i];var contextSelectorMatches=context.selector&&context.selector.matches(ele);if(contextSelectorMatches){cxtKey+=TRUE}else{cxtKey+=FALSE}}diffProps=self.getPropertiesDiff(prevKey,cxtKey);ele._private.styleCxtKey=cxtKey;return{key:cxtKey,diffPropNames:diffProps,empty:diffProps.length===0}};styfn.getContextStyle=function(cxtMeta){var cxtKey=cxtMeta.key;var self=this;var cxtStyles=this._private.contextStyles=this._private.contextStyles||{};if(cxtStyles[cxtKey]){return cxtStyles[cxtKey]}var style={_private:{key:cxtKey}};for(var i=0;i<self.length;i++){var cxt=self[i];var hasCxt=cxtKey[i]===TRUE;if(!hasCxt){continue}for(var j=0;j<cxt.properties.length;j++){var prop=cxt.properties[j];style[prop.name]=prop}}cxtStyles[cxtKey]=style;return style};styfn.applyContextStyle=function(cxtMeta,cxtStyle,ele){var self=this;var diffProps=cxtMeta.diffPropNames;var retDiffProps={};var types=self.types;for(var i=0;i<diffProps.length;i++){var diffPropName=diffProps[i];var cxtProp=cxtStyle[diffPropName];var eleProp=ele.pstyle(diffPropName);if(!cxtProp){if(!eleProp){continue}else if(eleProp.bypass){cxtProp={name:diffPropName,deleteBypassed:true}}else{cxtProp={name:diffPropName,delete:true}}}if(eleProp===cxtProp){continue}if(cxtProp.mapped===types.fn&&eleProp!=null&&eleProp.mapping!=null&&eleProp.mapping.value===cxtProp.value){var mapping=eleProp.mapping;var fnValue=mapping.fnValue=cxtProp.value(ele);if(fnValue===mapping.prevFnValue){continue}}var retDiffProp=retDiffProps[diffPropName]={prev:eleProp};self.applyParsedProperty(ele,cxtProp);retDiffProp.next=ele.pstyle(diffPropName);if(retDiffProp.next&&retDiffProp.next.bypass){retDiffProp.next=retDiffProp.next.bypassed}}return{diffProps:retDiffProps}};styfn.updateStyleHints=function(ele){var _p=ele._private;var self=this;var propNames=self.propertyGroupNames;var propGrKeys=self.propertyGroupKeys;var propHash=function propHash(ele,propNames,seedKey){return self.getPropertiesHash(ele,propNames,seedKey)};var oldStyleKey=_p.styleKey;if(ele.removed()){return false}var isNode=_p.group==="nodes";var overriddenStyles=ele._private.style;propNames=Object.keys(overriddenStyles);for(var i=0;i<propGrKeys.length;i++){var grKey=propGrKeys[i];_p.styleKeys[grKey]=0}var updateGrKey=function updateGrKey(val,grKey){return _p.styleKeys[grKey]=hashInt(val,_p.styleKeys[grKey])};var updateGrKeyWStr=function updateGrKeyWStr(strVal,grKey){for(var j=0;j<strVal.length;j++){updateGrKey(strVal.charCodeAt(j),grKey)}};var N=2e9;var cleanNum=function cleanNum(val){return-128<val&&val<128&&Math.floor(val)!==val?N-(val*1024|0):val};for(var _i=0;_i<propNames.length;_i++){var name=propNames[_i];var parsedProp=overriddenStyles[name];if(parsedProp==null){continue}var propInfo=this.properties[name];var type=propInfo.type;var _grKey=propInfo.groupKey;var normalizedNumberVal=void 0;if(propInfo.hashOverride!=null){normalizedNumberVal=propInfo.hashOverride(ele,parsedProp)}else if(parsedProp.pfValue!=null){normalizedNumberVal=parsedProp.pfValue}var numberVal=propInfo.enums==null?parsedProp.value:null;var haveNormNum=normalizedNumberVal!=null;var haveUnitedNum=numberVal!=null;var haveNum=haveNormNum||haveUnitedNum;var units=parsedProp.units;if(type.number&&haveNum){var v=haveNormNum?normalizedNumberVal:numberVal;if(type.multiple){for(var _i2=0;_i2<v.length;_i2++){updateGrKey(cleanNum(v[_i2]),_grKey)}}else{updateGrKey(cleanNum(v),_grKey)}if(!haveNormNum&&units!=null){updateGrKeyWStr(units,_grKey)}}else{updateGrKeyWStr(parsedProp.strValue,_grKey)}}var hash=0;for(var _i3=0;_i3<propGrKeys.length;_i3++){var _grKey2=propGrKeys[_i3];var grHash=_p.styleKeys[_grKey2];hash=hashInt(grHash,hash)}_p.styleKey=hash;var labelDimsKey=_p.labelDimsKey=_p.styleKeys.labelDimensions;_p.labelKey=propHash(ele,["label"],labelDimsKey);_p.labelStyleKey=hashInt(_p.styleKeys.commonLabel,_p.labelKey);if(!isNode){_p.sourceLabelKey=propHash(ele,["source-label"],labelDimsKey);_p.sourceLabelStyleKey=hashInt(_p.styleKeys.commonLabel,_p.sourceLabelKey);_p.targetLabelKey=propHash(ele,["target-label"],labelDimsKey);_p.targetLabelStyleKey=hashInt(_p.styleKeys.commonLabel,_p.targetLabelKey)}if(isNode){var _p$styleKeys=_p.styleKeys,nodeBody=_p$styleKeys.nodeBody,nodeBorder=_p$styleKeys.nodeBorder,backgroundImage=_p$styleKeys.backgroundImage,compound=_p$styleKeys.compound,pie=_p$styleKeys.pie;_p.nodeKey=hashIntsArray([nodeBorder,backgroundImage,compound,pie],nodeBody);_p.hasPie=pie!=0}return oldStyleKey!==_p.styleKey};styfn.clearStyleHints=function(ele){var _p=ele._private;_p.styleKeys={};_p.styleKey=null;_p.labelKey=null;_p.labelStyleKey=null;_p.sourceLabelKey=null;_p.sourceLabelStyleKey=null;_p.targetLabelKey=null;_p.targetLabelStyleKey=null;_p.nodeKey=null;_p.hasPie=null};styfn.applyParsedProperty=function(ele,parsedProp){var self=this;var prop=parsedProp;var style=ele._private.style;var flatProp;var types=self.types;var type=self.properties[prop.name].type;var propIsBypass=prop.bypass;var origProp=style[prop.name];var origPropIsBypass=origProp&&origProp.bypass;var _p=ele._private;var flatPropMapping="mapping";var getVal=function getVal(p){if(p==null){return null}else if(p.pfValue!=null){return p.pfValue}else{return p.value}};var checkTriggers=function checkTriggers(){var fromVal=getVal(origProp);var toVal=getVal(prop);self.checkTriggers(ele,prop.name,fromVal,toVal)};if(parsedProp.name==="curve-style"&&ele.isEdge()&&(parsedProp.value!=="bezier"&&ele.isLoop()||parsedProp.value==="haystack"&&(ele.source().isParent()||ele.target().isParent()))){prop=parsedProp=this.parse(parsedProp.name,"bezier",propIsBypass)}if(prop["delete"]){style[prop.name]=undefined;checkTriggers();return true}if(prop.deleteBypassed){if(!origProp){checkTriggers();return true}else if(origProp.bypass){origProp.bypassed=undefined;checkTriggers();return true}else{return false}}if(prop.deleteBypass){if(!origProp){checkTriggers();return true}else if(origProp.bypass){style[prop.name]=origProp.bypassed;checkTriggers();return true}else{return false}}var printMappingErr=function printMappingErr(){warn("Do not assign mappings to elements without corresponding data (i.e. ele `"+ele.id()+"` has no mapping for property `"+prop.name+"` with data field `"+prop.field+"`); try a `["+prop.field+"]` selector to limit scope to elements with `"+prop.field+"` defined")};switch(prop.mapped){case types.mapData:{var fields=prop.field.split(".");var fieldVal=_p.data;for(var i=0;i<fields.length&&fieldVal;i++){var field=fields[i];fieldVal=fieldVal[field]}if(fieldVal==null){printMappingErr();return false}var percent;if(!number(fieldVal)){warn("Do not use continuous mappers without specifying numeric data (i.e. `"+prop.field+": "+fieldVal+"` for `"+ele.id()+"` is non-numeric)");return false}else{var fieldWidth=prop.fieldMax-prop.fieldMin;if(fieldWidth===0){percent=0}else{percent=(fieldVal-prop.fieldMin)/fieldWidth}}if(percent<0){percent=0}else if(percent>1){percent=1}if(type.color){var r1=prop.valueMin[0];var r2=prop.valueMax[0];var g1=prop.valueMin[1];var g2=prop.valueMax[1];var b1=prop.valueMin[2];var b2=prop.valueMax[2];var a1=prop.valueMin[3]==null?1:prop.valueMin[3];var a2=prop.valueMax[3]==null?1:prop.valueMax[3];var clr=[Math.round(r1+(r2-r1)*percent),Math.round(g1+(g2-g1)*percent),Math.round(b1+(b2-b1)*percent),Math.round(a1+(a2-a1)*percent)];flatProp={bypass:prop.bypass,name:prop.name,value:clr,strValue:"rgb("+clr[0]+", "+clr[1]+", "+clr[2]+")"}}else if(type.number){var calcValue=prop.valueMin+(prop.valueMax-prop.valueMin)*percent;flatProp=this.parse(prop.name,calcValue,prop.bypass,flatPropMapping)}else{return false}if(!flatProp){printMappingErr();return false}flatProp.mapping=prop;prop=flatProp;break}case types.data:{var _fields=prop.field.split(".");var _fieldVal=_p.data;for(var _i4=0;_i4<_fields.length&&_fieldVal;_i4++){var _field=_fields[_i4];_fieldVal=_fieldVal[_field]}if(_fieldVal!=null){flatProp=this.parse(prop.name,_fieldVal,prop.bypass,flatPropMapping)}if(!flatProp){printMappingErr();return false}flatProp.mapping=prop;prop=flatProp;break}case types.fn:{var fn=prop.value;var fnRetVal=prop.fnValue!=null?prop.fnValue:fn(ele);prop.prevFnValue=fnRetVal;if(fnRetVal==null){warn("Custom function mappers may not return null (i.e. `"+prop.name+"` for ele `"+ele.id()+"` is null)");return false}flatProp=this.parse(prop.name,fnRetVal,prop.bypass,flatPropMapping);if(!flatProp){warn("Custom function mappers may not return invalid values for the property type (i.e. `"+prop.name+"` for ele `"+ele.id()+"` is invalid)");return false}flatProp.mapping=copy(prop);prop=flatProp;break}case undefined:break;default:return false}if(propIsBypass){if(origPropIsBypass){prop.bypassed=origProp.bypassed}else{prop.bypassed=origProp}style[prop.name]=prop}else{if(origPropIsBypass){origProp.bypassed=prop}else{style[prop.name]=prop}}checkTriggers();return true};styfn.cleanElements=function(eles,keepBypasses){for(var i=0;i<eles.length;i++){var ele=eles[i];this.clearStyleHints(ele);ele.dirtyCompoundBoundsCache();ele.dirtyBoundingBoxCache();if(!keepBypasses){ele._private.style={}}else{var style=ele._private.style;var propNames=Object.keys(style);for(var j=0;j<propNames.length;j++){var propName=propNames[j];var eleProp=style[propName];if(eleProp!=null){if(eleProp.bypass){eleProp.bypassed=null}else{style[propName]=null}}}}}};styfn.update=function(){var cy=this._private.cy;var eles=cy.mutableElements();eles.updateStyle()};styfn.updateTransitions=function(ele,diffProps){var self=this;var _p=ele._private;var props=ele.pstyle("transition-property").value;var duration=ele.pstyle("transition-duration").pfValue;var delay=ele.pstyle("transition-delay").pfValue;if(props.length>0&&duration>0){var style={};var anyPrev=false;for(var i=0;i<props.length;i++){var prop=props[i];var styProp=ele.pstyle(prop);var diffProp=diffProps[prop];if(!diffProp){continue}var prevProp=diffProp.prev;var fromProp=prevProp;var toProp=diffProp.next!=null?diffProp.next:styProp;var diff=false;var initVal=void 0;var initDt=1e-6;if(!fromProp){continue}if(number(fromProp.pfValue)&&number(toProp.pfValue)){diff=toProp.pfValue-fromProp.pfValue;initVal=fromProp.pfValue+initDt*diff}else if(number(fromProp.value)&&number(toProp.value)){diff=toProp.value-fromProp.value;initVal=fromProp.value+initDt*diff}else if(array(fromProp.value)&&array(toProp.value)){diff=fromProp.value[0]!==toProp.value[0]||fromProp.value[1]!==toProp.value[1]||fromProp.value[2]!==toProp.value[2];initVal=fromProp.strValue}if(diff){style[prop]=toProp.strValue;this.applyBypass(ele,prop,initVal);anyPrev=true}}if(!anyPrev){return}_p.transitioning=true;new Promise$1((function(resolve){if(delay>0){ele.delayAnimation(delay).play().promise().then(resolve)}else{resolve()}})).then((function(){return ele.animation({style:style,duration:duration,easing:ele.pstyle("transition-timing-function").value,queue:false}).play().promise()})).then((function(){self.removeBypasses(ele,props);ele.emitAndNotify("style");_p.transitioning=false}))}else if(_p.transitioning){this.removeBypasses(ele,props);ele.emitAndNotify("style");_p.transitioning=false}};styfn.checkTrigger=function(ele,name,fromValue,toValue,getTrigger,onTrigger){var prop=this.properties[name];var triggerCheck=getTrigger(prop);if(triggerCheck!=null&&triggerCheck(fromValue,toValue)){onTrigger(prop)}};styfn.checkZOrderTrigger=function(ele,name,fromValue,toValue){var _this=this;this.checkTrigger(ele,name,fromValue,toValue,(function(prop){return prop.triggersZOrder}),(function(){_this._private.cy.notify("zorder",ele)}))};styfn.checkBoundsTrigger=function(ele,name,fromValue,toValue){this.checkTrigger(ele,name,fromValue,toValue,(function(prop){return prop.triggersBounds}),(function(prop){ele.dirtyCompoundBoundsCache();ele.dirtyBoundingBoxCache();if((ele.pstyle("curve-style").value==="bezier"||name==="curve-style"&&(fromValue==="bezier"||toValue==="bezier"))&&prop.triggersBoundsOfParallelBeziers){ele.parallelEdges().forEach((function(pllEdge){if(pllEdge.isBundledBezier()){pllEdge.dirtyBoundingBoxCache()}}))}}))};styfn.checkTriggers=function(ele,name,fromValue,toValue){ele.dirtyStyleCache();this.checkZOrderTrigger(ele,name,fromValue,toValue);this.checkBoundsTrigger(ele,name,fromValue,toValue)};var styfn$1={};styfn$1.applyBypass=function(eles,name,value,updateTransitions){var self=this;var props=[];var isBypass=true;if(name==="*"||name==="**"){if(value!==undefined){for(var i=0;i<self.properties.length;i++){var prop=self.properties[i];var _name=prop.name;var parsedProp=this.parse(_name,value,true);if(parsedProp){props.push(parsedProp)}}}}else if(string(name)){var _parsedProp=this.parse(name,value,true);if(_parsedProp){props.push(_parsedProp)}}else if(plainObject(name)){var specifiedProps=name;updateTransitions=value;var names=Object.keys(specifiedProps);for(var _i=0;_i<names.length;_i++){var _name2=names[_i];var _value=specifiedProps[_name2];if(_value===undefined){_value=specifiedProps[dash2camel(_name2)]}if(_value!==undefined){var _parsedProp2=this.parse(_name2,_value,true);if(_parsedProp2){props.push(_parsedProp2)}}}}else{return false}if(props.length===0){return false}var ret=false;for(var _i2=0;_i2<eles.length;_i2++){var ele=eles[_i2];var diffProps={};var diffProp=void 0;for(var j=0;j<props.length;j++){var _prop=props[j];if(updateTransitions){var prevProp=ele.pstyle(_prop.name);diffProp=diffProps[_prop.name]={prev:prevProp}}ret=this.applyParsedProperty(ele,_prop)||ret;if(updateTransitions){diffProp.next=ele.pstyle(_prop.name)}}if(ret){this.updateStyleHints(ele)}if(updateTransitions){this.updateTransitions(ele,diffProps,isBypass)}}return ret};styfn$1.overrideBypass=function(eles,name,value){name=camel2dash(name);for(var i=0;i<eles.length;i++){var ele=eles[i];var prop=ele._private.style[name];var type=this.properties[name].type;var isColor=type.color;var isMulti=type.mutiple;var oldValue=!prop?null:prop.pfValue!=null?prop.pfValue:prop.value;if(!prop||!prop.bypass){this.applyBypass(ele,name,value)}else{prop.value=value;if(prop.pfValue!=null){prop.pfValue=value}if(isColor){prop.strValue="rgb("+value.join(",")+")"}else if(isMulti){prop.strValue=value.join(" ")}else{prop.strValue=""+value}this.updateStyleHints(ele)}this.checkTriggers(ele,name,oldValue,value)}};styfn$1.removeAllBypasses=function(eles,updateTransitions){return this.removeBypasses(eles,this.propertyNames,updateTransitions)};styfn$1.removeBypasses=function(eles,props,updateTransitions){var isBypass=true;for(var j=0;j<eles.length;j++){var ele=eles[j];var diffProps={};for(var i=0;i<props.length;i++){var name=props[i];var prop=this.properties[name];var prevProp=ele.pstyle(prop.name);if(!prevProp||!prevProp.bypass){continue}var value="";var parsedProp=this.parse(name,value,true);var diffProp=diffProps[prop.name]={prev:prevProp};this.applyParsedProperty(ele,parsedProp);diffProp.next=ele.pstyle(prop.name)}this.updateStyleHints(ele);if(updateTransitions){this.updateTransitions(ele,diffProps,isBypass)}}};var styfn$2={};styfn$2.getEmSizeInPixels=function(){var px=this.containerCss("font-size");if(px!=null){return parseFloat(px)}else{return 1}};styfn$2.containerCss=function(propName){var cy=this._private.cy;var domElement=cy.container();if(window$1&&domElement&&window$1.getComputedStyle){return window$1.getComputedStyle(domElement).getPropertyValue(propName)}};var styfn$3={};styfn$3.getRenderedStyle=function(ele,prop){if(prop){return this.getStylePropertyValue(ele,prop,true)}else{return this.getRawStyle(ele,true)}};styfn$3.getRawStyle=function(ele,isRenderedVal){var self=this;ele=ele[0];if(ele){var rstyle={};for(var i=0;i<self.properties.length;i++){var prop=self.properties[i];var val=self.getStylePropertyValue(ele,prop.name,isRenderedVal);if(val!=null){rstyle[prop.name]=val;rstyle[dash2camel(prop.name)]=val}}return rstyle}};styfn$3.getIndexedStyle=function(ele,property,subproperty,index){var pstyle=ele.pstyle(property)[subproperty][index];return pstyle!=null?pstyle:ele.cy().style().getDefaultProperty(property)[subproperty][0]};styfn$3.getStylePropertyValue=function(ele,propName,isRenderedVal){var self=this;ele=ele[0];if(ele){var prop=self.properties[propName];if(prop.alias){prop=prop.pointsTo}var type=prop.type;var styleProp=ele.pstyle(prop.name);if(styleProp){var value=styleProp.value,units=styleProp.units,strValue=styleProp.strValue;if(isRenderedVal&&type.number&&value!=null&&number(value)){var zoom=ele.cy().zoom();var getRenderedValue=function getRenderedValue(val){return val*zoom};var getValueStringWithUnits=function getValueStringWithUnits(val,units){return getRenderedValue(val)+units};var isArrayValue=array(value);var haveUnits=isArrayValue?units.every((function(u){return u!=null})):units!=null;if(haveUnits){if(isArrayValue){return value.map((function(v,i){return getValueStringWithUnits(v,units[i])})).join(" ")}else{return getValueStringWithUnits(value,units)}}else{if(isArrayValue){return value.map((function(v){return string(v)?v:""+getRenderedValue(v)})).join(" ")}else{return""+getRenderedValue(value)}}}else if(strValue!=null){return strValue}}return null}};styfn$3.getAnimationStartStyle=function(ele,aniProps){var rstyle={};for(var i=0;i<aniProps.length;i++){var aniProp=aniProps[i];var name=aniProp.name;var styleProp=ele.pstyle(name);if(styleProp!==undefined){if(plainObject(styleProp)){styleProp=this.parse(name,styleProp.strValue)}else{styleProp=this.parse(name,styleProp)}}if(styleProp){rstyle[name]=styleProp}}return rstyle};styfn$3.getPropsList=function(propsObj){var self=this;var rstyle=[];var style=propsObj;var props=self.properties;if(style){var names=Object.keys(style);for(var i=0;i<names.length;i++){var name=names[i];var val=style[name];var prop=props[name]||props[camel2dash(name)];var styleProp=this.parse(prop.name,val);if(styleProp){rstyle.push(styleProp)}}}return rstyle};styfn$3.getNonDefaultPropertiesHash=function(ele,propNames,seed){var hash=seed;var name,val,strVal,chVal;var i,j;for(i=0;i<propNames.length;i++){name=propNames[i];val=ele.pstyle(name,false);if(val==null){continue}else if(val.pfValue!=null){hash=hashInt(chVal,hash)}else{strVal=val.strValue;for(j=0;j<strVal.length;j++){chVal=strVal.charCodeAt(j);hash=hashInt(chVal,hash)}}}return hash};styfn$3.getPropertiesHash=styfn$3.getNonDefaultPropertiesHash;var styfn$4={};styfn$4.appendFromJson=function(json){var style=this;for(var i=0;i<json.length;i++){var context=json[i];var selector=context.selector;var props=context.style||context.css;var names=Object.keys(props);style.selector(selector);for(var j=0;j<names.length;j++){var name=names[j];var value=props[name];style.css(name,value)}}return style};styfn$4.fromJson=function(json){var style=this;style.resetToDefault();style.appendFromJson(json);return style};styfn$4.json=function(){var json=[];for(var i=this.defaultLength;i<this.length;i++){var cxt=this[i];var selector=cxt.selector;var props=cxt.properties;var css={};for(var j=0;j<props.length;j++){var prop=props[j];css[prop.name]=prop.strValue}json.push({selector:!selector?"core":selector.toString(),style:css})}return json};var styfn$5={};styfn$5.appendFromString=function(string){var self=this;var style=this;var remaining=""+string;var selAndBlockStr;var blockRem;var propAndValStr;remaining=remaining.replace(/[/][*](\s|.)+?[*][/]/g,"");function removeSelAndBlockFromRemaining(){if(remaining.length>selAndBlockStr.length){remaining=remaining.substr(selAndBlockStr.length)}else{remaining=""}}function removePropAndValFromRem(){if(blockRem.length>propAndValStr.length){blockRem=blockRem.substr(propAndValStr.length)}else{blockRem=""}}for(;;){var nothingLeftToParse=remaining.match(/^\s*$/);if(nothingLeftToParse){break}var selAndBlock=remaining.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!selAndBlock){warn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+remaining);break}selAndBlockStr=selAndBlock[0];var selectorStr=selAndBlock[1];if(selectorStr!=="core"){var selector=new Selector(selectorStr);if(selector.invalid){warn("Skipping parsing of block: Invalid selector found in string stylesheet: "+selectorStr);removeSelAndBlockFromRemaining();continue}}var blockStr=selAndBlock[2];var invalidBlock=false;blockRem=blockStr;var props=[];for(;;){var _nothingLeftToParse=blockRem.match(/^\s*$/);if(_nothingLeftToParse){break}var propAndVal=blockRem.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!propAndVal){warn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+blockStr);invalidBlock=true;break}propAndValStr=propAndVal[0];var propStr=propAndVal[1];var valStr=propAndVal[2];var prop=self.properties[propStr];if(!prop){warn("Skipping property: Invalid property name in: "+propAndValStr);removePropAndValFromRem();continue}var parsedProp=style.parse(propStr,valStr);if(!parsedProp){warn("Skipping property: Invalid property definition in: "+propAndValStr);removePropAndValFromRem();continue}props.push({name:propStr,val:valStr});removePropAndValFromRem()}if(invalidBlock){removeSelAndBlockFromRemaining();break}style.selector(selectorStr);for(var i=0;i<props.length;i++){var _prop=props[i];style.css(_prop.name,_prop.val)}removeSelAndBlockFromRemaining()}return style};styfn$5.fromString=function(string){var style=this;style.resetToDefault();style.appendFromString(string);return style};var styfn$6={};(function(){var number=number$1;var rgba=rgbaNoBackRefs;var hsla=hslaNoBackRefs;var hex3$1=hex3;var hex6$1=hex6;var data=function data(prefix){return"^"+prefix+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"};var mapData=function mapData(prefix){var mapArg=number+"|\\w+|"+rgba+"|"+hsla+"|"+hex3$1+"|"+hex6$1;return"^"+prefix+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+number+")\\s*\\,\\s*("+number+")\\s*,\\s*("+mapArg+")\\s*\\,\\s*("+mapArg+")\\)$"};var urlRegexes=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];styfn$6.types={time:{number:true,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:true,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:true,min:0,max:100,units:"%",implicitUnits:"%",multiple:true},zeroOneNumber:{number:true,min:0,max:1,unitless:true},zeroOneNumbers:{number:true,min:0,max:1,unitless:true,multiple:true},nOneOneNumber:{number:true,min:-1,max:1,unitless:true},nonNegativeInt:{number:true,min:0,integer:true,unitless:true},position:{enums:["parent","origin"]},nodeSize:{number:true,min:0,enums:["label"]},number:{number:true,unitless:true},numbers:{number:true,unitless:true,multiple:true},positiveNumber:{number:true,unitless:true,min:0,strictMin:true},size:{number:true,min:0},bidirectionalSize:{number:true},bidirectionalSizes:{number:true,multiple:true},sizeMaybePercent:{number:true,min:0,allowPercent:true},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:true,min:0,allowPercent:true,enums:["auto"],multiple:true},bgPos:{number:true,allowPercent:true,multiple:true},bgRelativeTo:{enums:["inner","include-padding"],multiple:true},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:true},bgFit:{enums:["none","contain","cover"],multiple:true},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:true},bgClip:{enums:["none","node"],multiple:true},color:{color:true},colors:{color:true,multiple:true},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:true},data:{mapping:true,regex:data("data")},layoutData:{mapping:true,regex:data("layoutData")},scratch:{mapping:true,regex:data("scratch")},mapData:{mapping:true,regex:mapData("mapData")},mapLayoutData:{mapping:true,regex:mapData("mapLayoutData")},mapScratch:{mapping:true,regex:mapData("mapScratch")},fn:{mapping:true,fn:true},url:{regexes:urlRegexes,singleRegexMatchValue:true},urls:{regexes:urlRegexes,singleRegexMatchValue:true,multiple:true},propList:{propList:true},angle:{number:true,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:true,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:true,multiple:true,evenMultiple:true,min:-1,max:1,unitless:true},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:true,multiple:true,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:true,validate:function validate(valArr,unitsArr){switch(valArr.length){case 2:return unitsArr[0]!=="deg"&&unitsArr[0]!=="rad"&&unitsArr[1]!=="deg"&&unitsArr[1]!=="rad";case 1:return string(valArr[0])||unitsArr[0]==="deg"||unitsArr[0]==="rad";default:return false}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+number+")\\s*,\\s*("+number+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+number+")\\s*,\\s*("+number+")\\s*,\\s*("+number+")\\s*,\\s*("+number+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:true,multiple:true,min:0,validate:function validate(valArr){var length=valArr.length;return length===1||length===2||length===4}}};var diff={zeroNonZero:function zeroNonZero(val1,val2){if((val1==null||val2==null)&&val1!==val2){return true}if(val1==0&&val2!=0){return true}else if(val1!=0&&val2==0){return true}else{return false}},any:function any(val1,val2){return val1!=val2}};var t=styfn$6.types;var mainLabel=[{name:"label",type:t.text,triggersBounds:diff.any},{name:"text-rotation",type:t.textRotation,triggersBounds:diff.any},{name:"text-margin-x",type:t.bidirectionalSize,triggersBounds:diff.any},{name:"text-margin-y",type:t.bidirectionalSize,triggersBounds:diff.any}];var sourceLabel=[{name:"source-label",type:t.text,triggersBounds:diff.any},{name:"source-text-rotation",type:t.textRotation,triggersBounds:diff.any},{name:"source-text-margin-x",type:t.bidirectionalSize,triggersBounds:diff.any},{name:"source-text-margin-y",type:t.bidirectionalSize,triggersBounds:diff.any},{name:"source-text-offset",type:t.size,triggersBounds:diff.any}];var targetLabel=[{name:"target-label",type:t.text,triggersBounds:diff.any},{name:"target-text-rotation",type:t.textRotation,triggersBounds:diff.any},{name:"target-text-margin-x",type:t.bidirectionalSize,triggersBounds:diff.any},{name:"target-text-margin-y",type:t.bidirectionalSize,triggersBounds:diff.any},{name:"target-text-offset",type:t.size,triggersBounds:diff.any}];var labelDimensions=[{name:"font-family",type:t.fontFamily,triggersBounds:diff.any},{name:"font-style",type:t.fontStyle,triggersBounds:diff.any},{name:"font-weight",type:t.fontWeight,triggersBounds:diff.any},{name:"font-size",type:t.size,triggersBounds:diff.any},{name:"text-transform",type:t.textTransform,triggersBounds:diff.any},{name:"text-wrap",type:t.textWrap,triggersBounds:diff.any},{name:"text-overflow-wrap",type:t.textOverflowWrap,triggersBounds:diff.any},{name:"text-max-width",type:t.size,triggersBounds:diff.any},{name:"text-outline-width",type:t.size,triggersBounds:diff.any},{name:"line-height",type:t.positiveNumber,triggersBounds:diff.any}];var commonLabel=[{name:"text-valign",type:t.valign,triggersBounds:diff.any},{name:"text-halign",type:t.halign,triggersBounds:diff.any},{name:"color",type:t.color},{name:"text-outline-color",type:t.color},{name:"text-outline-opacity",type:t.zeroOneNumber},{name:"text-background-color",type:t.color},{name:"text-background-opacity",type:t.zeroOneNumber},{name:"text-background-padding",type:t.size,triggersBounds:diff.any},{name:"text-border-opacity",type:t.zeroOneNumber},{name:"text-border-color",type:t.color},{name:"text-border-width",type:t.size,triggersBounds:diff.any},{name:"text-border-style",type:t.borderStyle,triggersBounds:diff.any},{name:"text-background-shape",type:t.textBackgroundShape,triggersBounds:diff.any},{name:"text-justification",type:t.justification}];var behavior=[{name:"events",type:t.bool},{name:"text-events",type:t.bool}];var visibility=[{name:"display",type:t.display,triggersZOrder:diff.any,triggersBounds:diff.any,triggersBoundsOfParallelBeziers:true},{name:"visibility",type:t.visibility,triggersZOrder:diff.any},{name:"opacity",type:t.zeroOneNumber,triggersZOrder:diff.zeroNonZero},{name:"text-opacity",type:t.zeroOneNumber},{name:"min-zoomed-font-size",type:t.size},{name:"z-compound-depth",type:t.zCompoundDepth,triggersZOrder:diff.any},{name:"z-index-compare",type:t.zIndexCompare,triggersZOrder:diff.any},{name:"z-index",type:t.nonNegativeInt,triggersZOrder:diff.any}];var overlay=[{name:"overlay-padding",type:t.size,triggersBounds:diff.any},{name:"overlay-color",type:t.color},{name:"overlay-opacity",type:t.zeroOneNumber,triggersBounds:diff.zeroNonZero}];var transition=[{name:"transition-property",type:t.propList},{name:"transition-duration",type:t.time},{name:"transition-delay",type:t.time},{name:"transition-timing-function",type:t.easing}];var nodeSizeHashOverride=function nodeSizeHashOverride(ele,parsedProp){if(parsedProp.value==="label"){return-ele.poolIndex()}else{return parsedProp.pfValue}};var nodeBody=[{name:"height",type:t.nodeSize,triggersBounds:diff.any,hashOverride:nodeSizeHashOverride},{name:"width",type:t.nodeSize,triggersBounds:diff.any,hashOverride:nodeSizeHashOverride},{name:"shape",type:t.nodeShape,triggersBounds:diff.any},{name:"shape-polygon-points",type:t.polygonPointList,triggersBounds:diff.any},{name:"background-color",type:t.color},{name:"background-fill",type:t.fill},{name:"background-opacity",type:t.zeroOneNumber},{name:"background-blacken",type:t.nOneOneNumber},{name:"background-gradient-stop-colors",type:t.colors},{name:"background-gradient-stop-positions",type:t.percentages},{name:"background-gradient-direction",type:t.gradientDirection},{name:"padding",type:t.sizeMaybePercent,triggersBounds:diff.any},{name:"padding-relative-to",type:t.paddingRelativeTo,triggersBounds:diff.any},{name:"bounds-expansion",type:t.boundsExpansion,triggersBounds:diff.any}];var nodeBorder=[{name:"border-color",type:t.color},{name:"border-opacity",type:t.zeroOneNumber},{name:"border-width",type:t.size,triggersBounds:diff.any},{name:"border-style",type:t.borderStyle}];var backgroundImage=[{name:"background-image",type:t.urls},{name:"background-image-crossorigin",type:t.bgCrossOrigin},{name:"background-image-opacity",type:t.zeroOneNumbers},{name:"background-position-x",type:t.bgPos},{name:"background-position-y",type:t.bgPos},{name:"background-width-relative-to",type:t.bgRelativeTo},{name:"background-height-relative-to",type:t.bgRelativeTo},{name:"background-repeat",type:t.bgRepeat},{name:"background-fit",type:t.bgFit},{name:"background-clip",type:t.bgClip},{name:"background-width",type:t.bgWH},{name:"background-height",type:t.bgWH},{name:"background-offset-x",type:t.bgPos},{name:"background-offset-y",type:t.bgPos}];var compound=[{name:"position",type:t.position,triggersBounds:diff.any},{name:"compound-sizing-wrt-labels",type:t.compoundIncludeLabels,triggersBounds:diff.any},{name:"min-width",type:t.size,triggersBounds:diff.any},{name:"min-width-bias-left",type:t.sizeMaybePercent,triggersBounds:diff.any},{name:"min-width-bias-right",type:t.sizeMaybePercent,triggersBounds:diff.any},{name:"min-height",type:t.size,triggersBounds:diff.any},{name:"min-height-bias-top",type:t.sizeMaybePercent,triggersBounds:diff.any},{name:"min-height-bias-bottom",type:t.sizeMaybePercent,triggersBounds:diff.any}];var edgeLine=[{name:"line-style",type:t.lineStyle},{name:"line-color",type:t.color},{name:"line-fill",type:t.fill},{name:"line-cap",type:t.lineCap},{name:"line-dash-pattern",type:t.numbers},{name:"line-dash-offset",type:t.number},{name:"line-gradient-stop-colors",type:t.colors},{name:"line-gradient-stop-positions",type:t.percentages},{name:"curve-style",type:t.curveStyle,triggersBounds:diff.any,triggersBoundsOfParallelBeziers:true},{name:"haystack-radius",type:t.zeroOneNumber,triggersBounds:diff.any},{name:"source-endpoint",type:t.edgeEndpoint,triggersBounds:diff.any},{name:"target-endpoint",type:t.edgeEndpoint,triggersBounds:diff.any},{name:"control-point-step-size",type:t.size,triggersBounds:diff.any},{name:"control-point-distances",type:t.bidirectionalSizes,triggersBounds:diff.any},{name:"control-point-weights",type:t.numbers,triggersBounds:diff.any},{name:"segment-distances",type:t.bidirectionalSizes,triggersBounds:diff.any},{name:"segment-weights",type:t.numbers,triggersBounds:diff.any},{name:"taxi-turn",type:t.sizeMaybePercent,triggersBounds:diff.any},{name:"taxi-turn-min-distance",type:t.size,triggersBounds:diff.any},{name:"taxi-direction",type:t.axisDirection,triggersBounds:diff.any},{name:"edge-distances",type:t.edgeDistances,triggersBounds:diff.any},{name:"arrow-scale",type:t.positiveNumber,triggersBounds:diff.any},{name:"loop-direction",type:t.angle,triggersBounds:diff.any},{name:"loop-sweep",type:t.angle,triggersBounds:diff.any},{name:"source-distance-from-node",type:t.size,triggersBounds:diff.any},{name:"target-distance-from-node",type:t.size,triggersBounds:diff.any}];var ghost=[{name:"ghost",type:t.bool,triggersBounds:diff.any},{name:"ghost-offset-x",type:t.bidirectionalSize,triggersBounds:diff.any},{name:"ghost-offset-y",type:t.bidirectionalSize,triggersBounds:diff.any},{name:"ghost-opacity",type:t.zeroOneNumber}];var core=[{name:"selection-box-color",type:t.color},{name:"selection-box-opacity",type:t.zeroOneNumber},{name:"selection-box-border-color",type:t.color},{name:"selection-box-border-width",type:t.size},{name:"active-bg-color",type:t.color},{name:"active-bg-opacity",type:t.zeroOneNumber},{name:"active-bg-size",type:t.size},{name:"outside-texture-bg-color",type:t.color},{name:"outside-texture-bg-opacity",type:t.zeroOneNumber}];var pie=[];styfn$6.pieBackgroundN=16;pie.push({name:"pie-size",type:t.sizeMaybePercent});for(var i=1;i<=styfn$6.pieBackgroundN;i++){pie.push({name:"pie-"+i+"-background-color",type:t.color});pie.push({name:"pie-"+i+"-background-size",type:t.percent});pie.push({name:"pie-"+i+"-background-opacity",type:t.zeroOneNumber})}var edgeArrow=[];var arrowPrefixes=styfn$6.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:t.arrowShape,triggersBounds:diff.any},{name:"arrow-color",type:t.color},{name:"arrow-fill",type:t.arrowFill}].forEach((function(prop){arrowPrefixes.forEach((function(prefix){var name=prefix+"-"+prop.name;var type=prop.type,triggersBounds=prop.triggersBounds;edgeArrow.push({name:name,type:type,triggersBounds:triggersBounds})}))}),{});var props=styfn$6.properties=[].concat(behavior,transition,visibility,overlay,ghost,commonLabel,labelDimensions,mainLabel,sourceLabel,targetLabel,nodeBody,nodeBorder,backgroundImage,pie,compound,edgeLine,edgeArrow,core);var propGroups=styfn$6.propertyGroups={behavior:behavior,transition:transition,visibility:visibility,overlay:overlay,ghost:ghost,commonLabel:commonLabel,labelDimensions:labelDimensions,mainLabel:mainLabel,sourceLabel:sourceLabel,targetLabel:targetLabel,nodeBody:nodeBody,nodeBorder:nodeBorder,backgroundImage:backgroundImage,pie:pie,compound:compound,edgeLine:edgeLine,edgeArrow:edgeArrow,core:core};var propGroupNames=styfn$6.propertyGroupNames={};var propGroupKeys=styfn$6.propertyGroupKeys=Object.keys(propGroups);propGroupKeys.forEach((function(key){propGroupNames[key]=propGroups[key].map((function(prop){return prop.name}));propGroups[key].forEach((function(prop){return prop.groupKey=key}))}));var aliases=styfn$6.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];styfn$6.propertyNames=props.map((function(p){return p.name}));for(var _i=0;_i<props.length;_i++){var prop=props[_i];props[prop.name]=prop}for(var _i2=0;_i2<aliases.length;_i2++){var alias=aliases[_i2];var pointsToProp=props[alias.pointsTo];var aliasProp={name:alias.name,alias:true,pointsTo:pointsToProp};props.push(aliasProp);props[alias.name]=aliasProp}})();styfn$6.getDefaultProperty=function(name){return this.getDefaultProperties()[name]};styfn$6.getDefaultProperties=function(){var _p=this._private;if(_p.defaultProperties!=null){return _p.defaultProperties}var rawProps=extend({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(css,prop){for(var i=1;i<=styfn$6.pieBackgroundN;i++){var name=prop.name.replace("{{i}}",i);var val=prop.value;css[name]=val}return css}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(css,prop){styfn$6.arrowPrefixes.forEach((function(prefix){var name=prefix+"-"+prop.name;var val=prop.value;css[name]=val}));return css}),{}));var parsedProps={};for(var i=0;i<this.properties.length;i++){var prop=this.properties[i];if(prop.pointsTo){continue}var name=prop.name;var val=rawProps[name];var parsedProp=this.parse(name,val);parsedProps[name]=parsedProp}_p.defaultProperties=parsedProps;return _p.defaultProperties};styfn$6.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25});this.defaultLength=this.length};var styfn$7={};styfn$7.parse=function(name,value,propIsBypass,propIsFlat){var self=this;if(fn(value)){return self.parseImplWarn(name,value,propIsBypass,propIsFlat)}var flatKey=propIsFlat==="mapping"||propIsFlat===true||propIsFlat===false||propIsFlat==null?"dontcare":propIsFlat;var bypassKey=propIsBypass?"t":"f";var valueKey=""+value;var argHash=hashStrings(name,valueKey,bypassKey,flatKey);var propCache=self.propCache=self.propCache||[];var ret;if(!(ret=propCache[argHash])){ret=propCache[argHash]=self.parseImplWarn(name,value,propIsBypass,propIsFlat)}if(propIsBypass||propIsFlat==="mapping"){ret=copy(ret);if(ret){ret.value=copy(ret.value)}}return ret};styfn$7.parseImplWarn=function(name,value,propIsBypass,propIsFlat){var prop=this.parseImpl(name,value,propIsBypass,propIsFlat);if(!prop&&value!=null){warn("The style property `".concat(name,": ").concat(value,"` is invalid"))}return prop};styfn$7.parseImpl=function(name,value,propIsBypass,propIsFlat){var self=this;name=camel2dash(name);var property=self.properties[name];var passedValue=value;var types=self.types;if(!property){return null}if(value===undefined){return null}if(property.alias){property=property.pointsTo;name=property.name}var valueIsString=string(value);if(valueIsString){value=value.trim()}var type=property.type;if(!type){return null}if(propIsBypass&&(value===""||value===null)){return{name:name,value:value,bypass:true,deleteBypass:true}}if(fn(value)){return{name:name,value:value,strValue:"fn",mapped:types.fn,bypass:propIsBypass}}var data,mapData;if(!valueIsString||propIsFlat||value.length<7||value[1]!=="a");else if(value.length>=7&&value[0]==="d"&&(data=new RegExp(types.data.regex).exec(value))){if(propIsBypass){return false}var mapped=types.data;return{name:name,value:data,strValue:""+value,mapped:mapped,field:data[1],bypass:propIsBypass}}else if(value.length>=10&&value[0]==="m"&&(mapData=new RegExp(types.mapData.regex).exec(value))){if(propIsBypass){return false}if(type.multiple){return false}var _mapped=types.mapData;if(!(type.color||type.number)){return false}var valueMin=this.parse(name,mapData[4]);if(!valueMin||valueMin.mapped){return false}var valueMax=this.parse(name,mapData[5]);if(!valueMax||valueMax.mapped){return false}if(valueMin.pfValue===valueMax.pfValue||valueMin.strValue===valueMax.strValue){warn("`"+name+": "+value+"` is not a valid mapper because the output range is zero; converting to `"+name+": "+valueMin.strValue+"`");return this.parse(name,valueMin.strValue)}else if(type.color){var c1=valueMin.value;var c2=valueMax.value;var same=c1[0]===c2[0]&&c1[1]===c2[1]&&c1[2]===c2[2]&&(c1[3]===c2[3]||(c1[3]==null||c1[3]===1)&&(c2[3]==null||c2[3]===1));if(same){return false}}return{name:name,value:mapData,strValue:""+value,mapped:_mapped,field:mapData[1],fieldMin:parseFloat(mapData[2]),fieldMax:parseFloat(mapData[3]),valueMin:valueMin.value,valueMax:valueMax.value,bypass:propIsBypass}}if(type.multiple&&propIsFlat!=="multiple"){var vals;if(valueIsString){vals=value.split(/\s+/)}else if(array(value)){vals=value}else{vals=[value]}if(type.evenMultiple&&vals.length%2!==0){return null}var valArr=[];var unitsArr=[];var pfValArr=[];var strVal="";var hasEnum=false;for(var i=0;i<vals.length;i++){var p=self.parse(name,vals[i],propIsBypass,"multiple");hasEnum=hasEnum||string(p.value);valArr.push(p.value);pfValArr.push(p.pfValue!=null?p.pfValue:p.value);unitsArr.push(p.units);strVal+=(i>0?" ":"")+p.strValue}if(type.validate&&!type.validate(valArr,unitsArr)){return null}if(type.singleEnum&&hasEnum){if(valArr.length===1&&string(valArr[0])){return{name:name,value:valArr[0],strValue:valArr[0],bypass:propIsBypass}}else{return null}}return{name:name,value:valArr,pfValue:pfValArr,strValue:strVal,bypass:propIsBypass,units:unitsArr}}var checkEnums=function checkEnums(){for(var _i=0;_i<type.enums.length;_i++){var en=type.enums[_i];if(en===value){return{name:name,value:value,strValue:""+value,bypass:propIsBypass}}}return null};if(type.number){var units;var implicitUnits="px";if(type.units){units=type.units}if(type.implicitUnits){implicitUnits=type.implicitUnits}if(!type.unitless){if(valueIsString){var unitsRegex="px|em"+(type.allowPercent?"|\\%":"");if(units){unitsRegex=units}var match=value.match("^("+number$1+")("+unitsRegex+")?"+"$");if(match){value=match[1];units=match[2]||implicitUnits}}else if(!units||type.implicitUnits){units=implicitUnits}}value=parseFloat(value);if(isNaN(value)&&type.enums===undefined){return null}if(isNaN(value)&&type.enums!==undefined){value=passedValue;return checkEnums()}if(type.integer&&!integer(value)){return null}if(type.min!==undefined&&(value<type.min||type.strictMin&&value===type.min)||type.max!==undefined&&(value>type.max||type.strictMax&&value===type.max)){return null}var ret={name:name,value:value,strValue:""+value+(units?units:""),units:units,bypass:propIsBypass};if(type.unitless||units!=="px"&&units!=="em"){ret.pfValue=value}else{ret.pfValue=units==="px"||!units?value:this.getEmSizeInPixels()*value}if(units==="ms"||units==="s"){ret.pfValue=units==="ms"?value:1e3*value}if(units==="deg"||units==="rad"){ret.pfValue=units==="rad"?value:deg2rad(value)}if(units==="%"){ret.pfValue=value/100}return ret}else if(type.propList){var props=[];var propsStr=""+value;if(propsStr==="none");else{var propsSplit=propsStr.split(/\s*,\s*|\s+/);for(var _i2=0;_i2<propsSplit.length;_i2++){var propName=propsSplit[_i2].trim();if(self.properties[propName]){props.push(propName)}else{warn("`"+propName+"` is not a valid property name")}}if(props.length===0){return null}}return{name:name,value:props,strValue:props.length===0?"none":props.join(" "),bypass:propIsBypass}}else if(type.color){var tuple=color2tuple(value);if(!tuple){return null}return{name:name,value:tuple,pfValue:tuple,strValue:"rgb("+tuple[0]+","+tuple[1]+","+tuple[2]+")",bypass:propIsBypass}}else if(type.regex||type.regexes){if(type.enums){var enumProp=checkEnums();if(enumProp){return enumProp}}var regexes=type.regexes?type.regexes:[type.regex];for(var _i3=0;_i3<regexes.length;_i3++){var regex=new RegExp(regexes[_i3]);var m=regex.exec(value);if(m){return{name:name,value:type.singleRegexMatchValue?m[1]:m,strValue:""+value,bypass:propIsBypass}}}return null}else if(type.string){return{name:name,value:""+value,strValue:""+value,bypass:propIsBypass}}else if(type.enums){return checkEnums()}else{return null}};var Style=function Style(cy){if(!(this instanceof Style)){return new Style(cy)}if(!core(cy)){error("A style must have a core reference");return}this._private={cy:cy,coreStyle:{}};this.length=0;this.resetToDefault()};var styfn$8=Style.prototype;styfn$8.instanceString=function(){return"style"};styfn$8.clear=function(){for(var i=0;i<this.length;i++){this[i]=undefined}this.length=0;var _p=this._private;_p.newStyle=true;return this};styfn$8.resetToDefault=function(){this.clear();this.addDefaultStylesheet();return this};styfn$8.core=function(propName){return this._private.coreStyle[propName]||this.getDefaultProperty(propName)};styfn$8.selector=function(selectorStr){var selector=selectorStr==="core"?null:new Selector(selectorStr);var i=this.length++;this[i]={selector:selector,properties:[],mappedProperties:[],index:i};return this};styfn$8.css=function(){var self=this;var args=arguments;if(args.length===1){var map=args[0];for(var i=0;i<self.properties.length;i++){var prop=self.properties[i];var mapVal=map[prop.name];if(mapVal===undefined){mapVal=map[dash2camel(prop.name)]}if(mapVal!==undefined){this.cssRule(prop.name,mapVal)}}}else if(args.length===2){this.cssRule(args[0],args[1])}return this};styfn$8.style=styfn$8.css;styfn$8.cssRule=function(name,value){var property=this.parse(name,value);if(property){var i=this.length-1;this[i].properties.push(property);this[i].properties[property.name]=property;if(property.name.match(/pie-(\d+)-background-size/)&&property.value){this._private.hasPie=true}if(property.mapped){this[i].mappedProperties.push(property)}var currentSelectorIsCore=!this[i].selector;if(currentSelectorIsCore){this._private.coreStyle[property.name]=property}}return this};styfn$8.append=function(style){if(stylesheet(style)){style.appendToStyle(this)}else if(array(style)){this.appendFromJson(style)}else if(string(style)){this.appendFromString(style)}return this};Style.fromJson=function(cy,json){var style=new Style(cy);style.fromJson(json);return style};Style.fromString=function(cy,string){return new Style(cy).fromString(string)};[styfn,styfn$1,styfn$2,styfn$3,styfn$4,styfn$5,styfn$6,styfn$7].forEach((function(props){extend(styfn$8,props)}));Style.types=styfn$8.types;Style.properties=styfn$8.properties;Style.propertyGroups=styfn$8.propertyGroups;Style.propertyGroupNames=styfn$8.propertyGroupNames;Style.propertyGroupKeys=styfn$8.propertyGroupKeys;var corefn$7={style:function style(newStyle){if(newStyle){var s=this.setStyle(newStyle);s.update()}return this._private.style},setStyle:function setStyle(style){var _p=this._private;if(stylesheet(style)){_p.style=style.generateStyle(this)}else if(array(style)){_p.style=Style.fromJson(this,style)}else if(string(style)){_p.style=Style.fromString(this,style)}else{_p.style=Style(this)}return _p.style}};var defaultSelectionType="single";var corefn$8={autolock:function autolock(bool){if(bool!==undefined){this._private.autolock=bool?true:false}else{return this._private.autolock}return this},autoungrabify:function autoungrabify(bool){if(bool!==undefined){this._private.autoungrabify=bool?true:false}else{return this._private.autoungrabify}return this},autounselectify:function autounselectify(bool){if(bool!==undefined){this._private.autounselectify=bool?true:false}else{return this._private.autounselectify}return this},selectionType:function selectionType(selType){var _p=this._private;if(_p.selectionType==null){_p.selectionType=defaultSelectionType}if(selType!==undefined){if(selType==="additive"||selType==="single"){_p.selectionType=selType}}else{return _p.selectionType}return this},panningEnabled:function panningEnabled(bool){if(bool!==undefined){this._private.panningEnabled=bool?true:false}else{return this._private.panningEnabled}return this},userPanningEnabled:function userPanningEnabled(bool){if(bool!==undefined){this._private.userPanningEnabled=bool?true:false}else{return this._private.userPanningEnabled}return this},zoomingEnabled:function zoomingEnabled(bool){if(bool!==undefined){this._private.zoomingEnabled=bool?true:false}else{return this._private.zoomingEnabled}return this},userZoomingEnabled:function userZoomingEnabled(bool){if(bool!==undefined){this._private.userZoomingEnabled=bool?true:false}else{return this._private.userZoomingEnabled}return this},boxSelectionEnabled:function boxSelectionEnabled(bool){if(bool!==undefined){this._private.boxSelectionEnabled=bool?true:false}else{return this._private.boxSelectionEnabled}return this},pan:function pan(){var args=arguments;var pan=this._private.pan;var dim,val,dims,x,y;switch(args.length){case 0:return pan;case 1:if(string(args[0])){dim=args[0];return pan[dim]}else if(plainObject(args[0])){if(!this._private.panningEnabled){return this}dims=args[0];x=dims.x;y=dims.y;if(number(x)){pan.x=x}if(number(y)){pan.y=y}this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled){return this}dim=args[0];val=args[1];if((dim==="x"||dim==="y")&&number(val)){pan[dim]=val}this.emit("pan viewport");break;default:break}this.notify("viewport");return this},panBy:function panBy(arg0,arg1){var args=arguments;var pan=this._private.pan;var dim,val,dims,x,y;if(!this._private.panningEnabled){return this}switch(args.length){case 1:if(plainObject(arg0)){dims=args[0];x=dims.x;y=dims.y;if(number(x)){pan.x+=x}if(number(y)){pan.y+=y}this.emit("pan viewport")}break;case 2:dim=arg0;val=arg1;if((dim==="x"||dim==="y")&&number(val)){pan[dim]+=val}this.emit("pan viewport");break;default:break}this.notify("viewport");return this},fit:function fit(elements,padding){var viewportState=this.getFitViewport(elements,padding);if(viewportState){var _p=this._private;_p.zoom=viewportState.zoom;_p.pan=viewportState.pan;this.emit("pan zoom viewport");this.notify("viewport")}return this},getFitViewport:function getFitViewport(elements,padding){if(number(elements)&&padding===undefined){padding=elements;elements=undefined}if(!this._private.panningEnabled||!this._private.zoomingEnabled){return}var bb;if(string(elements)){var sel=elements;elements=this.$(sel)}else if(boundingBox(elements)){var bbe=elements;bb={x1:bbe.x1,y1:bbe.y1,x2:bbe.x2,y2:bbe.y2};bb.w=bb.x2-bb.x1;bb.h=bb.y2-bb.y1}else if(!elementOrCollection(elements)){elements=this.mutableElements()}if(elementOrCollection(elements)&&elements.empty()){return}bb=bb||elements.boundingBox();var w=this.width();var h=this.height();var zoom;padding=number(padding)?padding:0;if(!isNaN(w)&&!isNaN(h)&&w>0&&h>0&&!isNaN(bb.w)&&!isNaN(bb.h)&&bb.w>0&&bb.h>0){zoom=Math.min((w-2*padding)/bb.w,(h-2*padding)/bb.h);zoom=zoom>this._private.maxZoom?this._private.maxZoom:zoom;zoom=zoom<this._private.minZoom?this._private.minZoom:zoom;var pan={x:(w-zoom*(bb.x1+bb.x2))/2,y:(h-zoom*(bb.y1+bb.y2))/2};return{zoom:zoom,pan:pan}}return},zoomRange:function zoomRange(min,max){var _p=this._private;if(max==null){var opts=min;min=opts.min;max=opts.max}if(number(min)&&number(max)&&min<=max){_p.minZoom=min;_p.maxZoom=max}else if(number(min)&&max===undefined&&min<=_p.maxZoom){_p.minZoom=min}else if(number(max)&&min===undefined&&max>=_p.minZoom){_p.maxZoom=max}return this},minZoom:function minZoom(zoom){if(zoom===undefined){return this._private.minZoom}else{return this.zoomRange({min:zoom})}},maxZoom:function maxZoom(zoom){if(zoom===undefined){return this._private.maxZoom}else{return this.zoomRange({max:zoom})}},getZoomedViewport:function getZoomedViewport(params){var _p=this._private;var currentPan=_p.pan;var currentZoom=_p.zoom;var pos;var zoom;var bail=false;if(!_p.zoomingEnabled){bail=true}if(number(params)){zoom=params}else if(plainObject(params)){zoom=params.level;if(params.position!=null){pos=modelToRenderedPosition(params.position,currentZoom,currentPan)}else if(params.renderedPosition!=null){pos=params.renderedPosition}if(pos!=null&&!_p.panningEnabled){bail=true}}zoom=zoom>_p.maxZoom?_p.maxZoom:zoom;zoom=zoom<_p.minZoom?_p.minZoom:zoom;if(bail||!number(zoom)||zoom===currentZoom||pos!=null&&(!number(pos.x)||!number(pos.y))){return null}if(pos!=null){var pan1=currentPan;var zoom1=currentZoom;var zoom2=zoom;var pan2={x:-zoom2/zoom1*(pos.x-pan1.x)+pos.x,y:-zoom2/zoom1*(pos.y-pan1.y)+pos.y};return{zoomed:true,panned:true,zoom:zoom2,pan:pan2}}else{return{zoomed:true,panned:false,zoom:zoom,pan:currentPan}}},zoom:function zoom(params){if(params===undefined){return this._private.zoom}else{var vp=this.getZoomedViewport(params);var _p=this._private;if(vp==null||!vp.zoomed){return this}_p.zoom=vp.zoom;if(vp.panned){_p.pan.x=vp.pan.x;_p.pan.y=vp.pan.y}this.emit("zoom"+(vp.panned?" pan":"")+" viewport");this.notify("viewport");return this}},viewport:function viewport(opts){var _p=this._private;var zoomDefd=true;var panDefd=true;var events=[];var zoomFailed=false;var panFailed=false;if(!opts){return this}if(!number(opts.zoom)){zoomDefd=false}if(!plainObject(opts.pan)){panDefd=false}if(!zoomDefd&&!panDefd){return this}if(zoomDefd){var z=opts.zoom;if(z<_p.minZoom||z>_p.maxZoom||!_p.zoomingEnabled){zoomFailed=true}else{_p.zoom=z;events.push("zoom")}}if(panDefd&&(!zoomFailed||!opts.cancelOnFailedZoom)&&_p.panningEnabled){var p=opts.pan;if(number(p.x)){_p.pan.x=p.x;panFailed=false}if(number(p.y)){_p.pan.y=p.y;panFailed=false}if(!panFailed){events.push("pan")}}if(events.length>0){events.push("viewport");this.emit(events.join(" "));this.notify("viewport")}return this},center:function center(elements){var pan=this.getCenterPan(elements);if(pan){this._private.pan=pan;this.emit("pan viewport");this.notify("viewport")}return this},getCenterPan:function getCenterPan(elements,zoom){if(!this._private.panningEnabled){return}if(string(elements)){var selector=elements;elements=this.mutableElements().filter(selector)}else if(!elementOrCollection(elements)){elements=this.mutableElements()}if(elements.length===0){return}var bb=elements.boundingBox();var w=this.width();var h=this.height();zoom=zoom===undefined?this._private.zoom:zoom;var pan={x:(w-zoom*(bb.x1+bb.x2))/2,y:(h-zoom*(bb.y1+bb.y2))/2};return pan},reset:function reset(){if(!this._private.panningEnabled||!this._private.zoomingEnabled){return this}this.viewport({pan:{x:0,y:0},zoom:1});return this},invalidateSize:function invalidateSize(){this._private.sizeCache=null},size:function size(){var _p=this._private;var container=_p.container;return _p.sizeCache=_p.sizeCache||(container?function(){var style=window$1.getComputedStyle(container);var val=function val(name){return parseFloat(style.getPropertyValue(name))};return{width:container.clientWidth-val("padding-left")-val("padding-right"),height:container.clientHeight-val("padding-top")-val("padding-bottom")}}():{width:1,height:1})},width:function width(){return this.size().width},height:function height(){return this.size().height},extent:function extent(){var pan=this._private.pan;var zoom=this._private.zoom;var rb=this.renderedExtent();var b={x1:(rb.x1-pan.x)/zoom,x2:(rb.x2-pan.x)/zoom,y1:(rb.y1-pan.y)/zoom,y2:(rb.y2-pan.y)/zoom};b.w=b.x2-b.x1;b.h=b.y2-b.y1;return b},renderedExtent:function renderedExtent(){var width=this.width();var height=this.height();return{x1:0,y1:0,x2:width,y2:height,w:width,h:height}}};corefn$8.centre=corefn$8.center;corefn$8.autolockNodes=corefn$8.autolock;corefn$8.autoungrabifyNodes=corefn$8.autoungrabify;var fn$6={data:define$3.data({field:"data",bindingEvent:"data",allowBinding:true,allowSetting:true,settingEvent:"data",settingTriggersEvent:true,triggerFnName:"trigger",allowGetting:true}),removeData:define$3.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:true}),scratch:define$3.data({field:"scratch",bindingEvent:"scratch",allowBinding:true,allowSetting:true,settingEvent:"scratch",settingTriggersEvent:true,triggerFnName:"trigger",allowGetting:true}),removeScratch:define$3.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:true})};fn$6.attr=fn$6.data;fn$6.removeAttr=fn$6.removeData;var Core=function Core(opts){var cy=this;opts=extend({},opts);var container=opts.container;if(container&&!htmlElement(container)&&htmlElement(container[0])){container=container[0]}var reg=container?container._cyreg:null;reg=reg||{};if(reg&&reg.cy){reg.cy.destroy();reg={}}var readies=reg.readies=reg.readies||[];if(container){container._cyreg=reg}reg.cy=cy;var head=window$1!==undefined&&container!==undefined&&!opts.headless;var options=opts;options.layout=extend({name:head?"grid":"null"},options.layout);options.renderer=extend({name:head?"canvas":"null"},options.renderer);var defVal=function defVal(def,val,altVal){if(val!==undefined){return val}else if(altVal!==undefined){return altVal}else{return def}};var _p=this._private={container:container,ready:false,options:options,elements:new Collection(this),listeners:[],aniEles:new Collection(this),data:{},scratch:{},layout:null,renderer:null,destroyed:false,notificationsEnabled:true,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:defVal(true,options.zoomingEnabled),userZoomingEnabled:defVal(true,options.userZoomingEnabled),panningEnabled:defVal(true,options.panningEnabled),userPanningEnabled:defVal(true,options.userPanningEnabled),boxSelectionEnabled:defVal(true,options.boxSelectionEnabled),autolock:defVal(false,options.autolock,options.autolockNodes),autoungrabify:defVal(false,options.autoungrabify,options.autoungrabifyNodes),autounselectify:defVal(false,options.autounselectify),styleEnabled:options.styleEnabled===undefined?head:options.styleEnabled,zoom:number(options.zoom)?options.zoom:1,pan:{x:plainObject(options.pan)&&number(options.pan.x)?options.pan.x:0,y:plainObject(options.pan)&&number(options.pan.y)?options.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:false};this.createEmitter();this.selectionType(options.selectionType);this.zoomRange({min:options.minZoom,max:options.maxZoom});var loadExtData=function loadExtData(extData,next){var anyIsPromise=extData.some(promise);if(anyIsPromise){return Promise$1.all(extData).then(next)}else{next(extData)}};if(_p.styleEnabled){cy.setStyle([])}var rendererOptions=extend({},options,options.renderer);cy.initRenderer(rendererOptions);var setElesAndLayout=function setElesAndLayout(elements,onload,ondone){cy.notifications(false);var oldEles=cy.mutableElements();if(oldEles.length>0){oldEles.remove()}if(elements!=null){if(plainObject(elements)||array(elements)){cy.add(elements)}}cy.one("layoutready",(function(e){cy.notifications(true);cy.emit(e);cy.one("load",onload);cy.emitAndNotify("load")})).one("layoutstop",(function(){cy.one("done",ondone);cy.emit("done")}));var layoutOpts=extend({},cy._private.options.layout);layoutOpts.eles=cy.elements();cy.layout(layoutOpts).run()};loadExtData([options.style,options.elements],(function(thens){var initStyle=thens[0];var initEles=thens[1];if(_p.styleEnabled){cy.style().append(initStyle)}setElesAndLayout(initEles,(function(){cy.startAnimationLoop();_p.ready=true;if(fn(options.ready)){cy.on("ready",options.ready)}for(var i=0;i<readies.length;i++){var fn$1=readies[i];cy.on("ready",fn$1)}if(reg){reg.readies=[]}cy.emit("ready")}),options.done)}))};var corefn$9=Core.prototype;extend(corefn$9,{instanceString:function instanceString(){return"core"},isReady:function isReady(){return this._private.ready},destroyed:function destroyed(){return this._private.destroyed},ready:function ready(fn){if(this.isReady()){this.emitter().emit("ready",[],fn)}else{this.on("ready",fn)}return this},destroy:function destroy(){var cy=this;if(cy.destroyed())return;cy.stopAnimationLoop();cy.destroyRenderer();this.emit("destroy");cy._private.destroyed=true;return cy},hasElementWithId:function hasElementWithId(id){return this._private.elements.hasElementWithId(id)},getElementById:function getElementById(id){return this._private.elements.getElementById(id)},hasCompoundNodes:function hasCompoundNodes(){return this._private.hasCompoundNodes},headless:function headless(){return this._private.renderer.isHeadless()},styleEnabled:function styleEnabled(){return this._private.styleEnabled},addToPool:function addToPool(eles){this._private.elements.merge(eles);return this},removeFromPool:function removeFromPool(eles){this._private.elements.unmerge(eles);return this},container:function container(){return this._private.container||null},mount:function mount(container){if(container==null){return}var cy=this;var _p=cy._private;var options=_p.options;if(!htmlElement(container)&&htmlElement(container[0])){container=container[0]}cy.stopAnimationLoop();cy.destroyRenderer();_p.container=container;_p.styleEnabled=true;cy.invalidateSize();cy.initRenderer(extend({},options,options.renderer,{name:options.renderer.name==="null"?"canvas":options.renderer.name}));cy.startAnimationLoop();cy.style(options.style);cy.emit("mount");return cy},unmount:function unmount(){var cy=this;cy.stopAnimationLoop();cy.destroyRenderer();cy.initRenderer({name:"null"});cy.emit("unmount");return cy},options:function options(){return copy(this._private.options)},json:function json(obj){var cy=this;var _p=cy._private;var eles=cy.mutableElements();var getFreshRef=function getFreshRef(ele){return cy.getElementById(ele.id())};if(plainObject(obj)){cy.startBatch();if(obj.elements){var idInJson={};var updateEles=function updateEles(jsons,gr){var toAdd=[];var toMod=[];for(var i=0;i<jsons.length;i++){var json=jsons[i];var id=""+json.data.id;var ele=cy.getElementById(id);idInJson[id]=true;if(ele.length!==0){toMod.push({ele:ele,json:json})}else{if(gr){json.group=gr;toAdd.push(json)}else{toAdd.push(json)}}}cy.add(toAdd);for(var _i=0;_i<toMod.length;_i++){var _toMod$_i=toMod[_i],_ele=_toMod$_i.ele,_json=_toMod$_i.json;_ele.json(_json)}};if(array(obj.elements)){updateEles(obj.elements)}else{var grs=["nodes","edges"];for(var i=0;i<grs.length;i++){var gr=grs[i];var elements=obj.elements[gr];if(array(elements)){updateEles(elements,gr)}}}var parentsToRemove=cy.collection();eles.filter((function(ele){return!idInJson[ele.id()]})).forEach((function(ele){if(ele.isParent()){parentsToRemove.merge(ele)}else{ele.remove()}}));parentsToRemove.forEach((function(ele){return ele.children().move({parent:null})}));parentsToRemove.forEach((function(ele){return getFreshRef(ele).remove()}))}if(obj.style){cy.style(obj.style)}if(obj.zoom!=null&&obj.zoom!==_p.zoom){cy.zoom(obj.zoom)}if(obj.pan){if(obj.pan.x!==_p.pan.x||obj.pan.y!==_p.pan.y){cy.pan(obj.pan)}}if(obj.data){cy.data(obj.data)}var fields=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"];for(var _i2=0;_i2<fields.length;_i2++){var f=fields[_i2];if(obj[f]!=null){cy[f](obj[f])}}cy.endBatch();return this}else{var flat=!!obj;var json={};if(flat){json.elements=this.elements().map((function(ele){return ele.json()}))}else{json.elements={};eles.forEach((function(ele){var group=ele.group();if(!json.elements[group]){json.elements[group]=[]}json.elements[group].push(ele.json())}))}if(this._private.styleEnabled){json.style=cy.style().json()}json.data=copy(cy.data());var options=_p.options;json.zoomingEnabled=_p.zoomingEnabled;json.userZoomingEnabled=_p.userZoomingEnabled;json.zoom=_p.zoom;json.minZoom=_p.minZoom;json.maxZoom=_p.maxZoom;json.panningEnabled=_p.panningEnabled;json.userPanningEnabled=_p.userPanningEnabled;json.pan=copy(_p.pan);json.boxSelectionEnabled=_p.boxSelectionEnabled;json.renderer=copy(options.renderer);json.hideEdgesOnViewport=options.hideEdgesOnViewport;json.textureOnViewport=options.textureOnViewport;json.wheelSensitivity=options.wheelSensitivity;json.motionBlur=options.motionBlur;return json}}});corefn$9.$id=corefn$9.getElementById;[corefn,corefn$1,elesfn$u,corefn$2,corefn$3,corefn$4,corefn$5,corefn$6,corefn$7,corefn$8,fn$6].forEach((function(props){extend(corefn$9,props)}));var defaults$9={fit:true,directed:false,padding:30,circle:false,grid:false,spacingFactor:1.75,boundingBox:undefined,avoidOverlap:true,nodeDimensionsIncludeLabels:false,roots:undefined,maximal:false,animate:false,animationDuration:500,animationEasing:undefined,animateFilter:function animateFilter(node,i){return true},ready:undefined,stop:undefined,transform:function transform(node,position){return position}};var getInfo=function getInfo(ele){return ele.scratch("breadthfirst")};var setInfo=function setInfo(ele,obj){return ele.scratch("breadthfirst",obj)};function BreadthFirstLayout(options){this.options=extend({},defaults$9,options)}BreadthFirstLayout.prototype.run=function(){var params=this.options;var options=params;var cy=params.cy;var eles=options.eles;var nodes=eles.nodes().filter((function(n){return!n.isParent()}));var graph=eles;var directed=options.directed;var maximal=options.maximal||options.maximalAdjustments>0;var bb=makeBoundingBox(options.boundingBox?options.boundingBox:{x1:0,y1:0,w:cy.width(),h:cy.height()});var roots;if(elementOrCollection(options.roots)){roots=options.roots}else if(array(options.roots)){var rootsArray=[];for(var i=0;i<options.roots.length;i++){var id=options.roots[i];var ele=cy.getElementById(id);rootsArray.push(ele)}roots=cy.collection(rootsArray)}else if(string(options.roots)){roots=cy.$(options.roots)}else{if(directed){roots=nodes.roots()}else{var components=eles.components();roots=cy.collection();var _loop=function _loop(_i){var comp=components[_i];var maxDegree=comp.maxDegree(false);var compRoots=comp.filter((function(ele){return ele.degree(false)===maxDegree}));roots=roots.add(compRoots)};for(var _i=0;_i<components.length;_i++){_loop(_i)}}}var depths=[];var foundByBfs={};var addToDepth=function addToDepth(ele,d){if(depths[d]==null){depths[d]=[]}var i=depths[d].length;depths[d].push(ele);setInfo(ele,{index:i,depth:d})};var changeDepth=function changeDepth(ele,newDepth){var _getInfo=getInfo(ele),depth=_getInfo.depth,index=_getInfo.index;depths[depth][index]=null;addToDepth(ele,newDepth)};graph.bfs({roots:roots,directed:options.directed,visit:function visit(node,edge,pNode,i,depth){var ele=node[0];var id=ele.id();addToDepth(ele,depth);foundByBfs[id]=true}});var orphanNodes=[];for(var _i2=0;_i2<nodes.length;_i2++){var _ele=nodes[_i2];if(foundByBfs[_ele.id()]){continue}else{orphanNodes.push(_ele)}}var assignDepthsAt=function assignDepthsAt(i){var eles=depths[i];for(var j=0;j<eles.length;j++){var _ele2=eles[j];if(_ele2==null){eles.splice(j,1);j--;continue}setInfo(_ele2,{depth:i,index:j})}};var assignDepths=function assignDepths(){for(var _i3=0;_i3<depths.length;_i3++){assignDepthsAt(_i3)}};var adjustMaximally=function adjustMaximally(ele,shifted){var eInfo=getInfo(ele);var incomers=ele.incomers().filter((function(el){return el.isNode()&&eles.has(el)}));var maxDepth=-1;var id=ele.id();for(var k=0;k<incomers.length;k++){var incmr=incomers[k];var iInfo=getInfo(incmr);maxDepth=Math.max(maxDepth,iInfo.depth)}if(eInfo.depth<=maxDepth){if(shifted[id]){return null}changeDepth(ele,maxDepth+1);shifted[id]=true;return true}return false};if(directed&&maximal){var Q=[];var shifted={};var enqueue=function enqueue(n){return Q.push(n)};var dequeue=function dequeue(){return Q.shift()};nodes.forEach((function(n){return Q.push(n)}));while(Q.length>0){var _ele3=dequeue();var didShift=adjustMaximally(_ele3,shifted);if(didShift){_ele3.outgoers().filter((function(el){return el.isNode()&&eles.has(el)})).forEach(enqueue)}else if(didShift===null){warn("Detected double maximal shift for node `"+_ele3.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}assignDepths();var minDistance=0;if(options.avoidOverlap){for(var _i4=0;_i4<nodes.length;_i4++){var n=nodes[_i4];var nbb=n.layoutDimensions(options);var w=nbb.w;var h=nbb.h;minDistance=Math.max(minDistance,w,h)}}var cachedWeightedPercent={};var getWeightedPercent=function getWeightedPercent(ele){if(cachedWeightedPercent[ele.id()]){return cachedWeightedPercent[ele.id()]}var eleDepth=getInfo(ele).depth;var neighbors=ele.neighborhood();var percent=0;var samples=0;for(var _i5=0;_i5<neighbors.length;_i5++){var neighbor=neighbors[_i5];if(neighbor.isEdge()||neighbor.isParent()||!nodes.has(neighbor)){continue}var bf=getInfo(neighbor);var index=bf.index;var depth=bf.depth;if(index==null||depth==null){continue}var nDepth=depths[depth].length;if(depth<eleDepth){percent+=index/nDepth;samples++}}samples=Math.max(1,samples);percent=percent/samples;if(samples===0){percent=0}cachedWeightedPercent[ele.id()]=percent;return percent};var sortFn=function sortFn(a,b){var apct=getWeightedPercent(a);var bpct=getWeightedPercent(b);var diff=apct-bpct;if(diff===0){return ascending(a.id(),b.id())}else{return diff}};for(var _i6=0;_i6<depths.length;_i6++){depths[_i6].sort(sortFn);assignDepthsAt(_i6)}var orphanDepth=[];for(var _i7=0;_i7<orphanNodes.length;_i7++){orphanDepth.push(orphanNodes[_i7])}depths.unshift(orphanDepth);assignDepths();var biggestDepthSize=0;for(var _i8=0;_i8<depths.length;_i8++){biggestDepthSize=Math.max(depths[_i8].length,biggestDepthSize)}var center={x:bb.x1+bb.w/2,y:bb.x1+bb.h/2};var maxDepthSize=depths.reduce((function(max,eles){return Math.max(max,eles.length)}),0);var getPosition=function getPosition(ele){var _getInfo2=getInfo(ele),depth=_getInfo2.depth,index=_getInfo2.index;var depthSize=depths[depth].length;var distanceX=Math.max(bb.w/((options.grid?maxDepthSize:depthSize)+1),minDistance);var distanceY=Math.max(bb.h/(depths.length+1),minDistance);var radiusStepSize=Math.min(bb.w/2/depths.length,bb.h/2/depths.length);radiusStepSize=Math.max(radiusStepSize,minDistance);if(!options.circle){var epos={x:center.x+(index+1-(depthSize+1)/2)*distanceX,y:(depth+1)*distanceY};return epos}else{var radius=radiusStepSize*depth+radiusStepSize-(depths.length>0&&depths[0].length<=3?radiusStepSize/2:0);var theta=2*Math.PI/depths[depth].length*index;if(depth===0&&depths[0].length===1){radius=1}return{x:center.x+radius*Math.cos(theta),y:center.y+radius*Math.sin(theta)}}};nodes.layoutPositions(this,options,getPosition);return this};var defaults$a={fit:true,padding:30,boundingBox:undefined,avoidOverlap:true,nodeDimensionsIncludeLabels:false,spacingFactor:undefined,radius:undefined,startAngle:3/2*Math.PI,sweep:undefined,clockwise:true,sort:undefined,animate:false,animationDuration:500,animationEasing:undefined,animateFilter:function animateFilter(node,i){return true},ready:undefined,stop:undefined,transform:function transform(node,position){return position}};function CircleLayout(options){this.options=extend({},defaults$a,options)}CircleLayout.prototype.run=function(){var params=this.options;var options=params;var cy=params.cy;var eles=options.eles;var clockwise=options.counterclockwise!==undefined?!options.counterclockwise:options.clockwise;var nodes=eles.nodes().not(":parent");if(options.sort){nodes=nodes.sort(options.sort)}var bb=makeBoundingBox(options.boundingBox?options.boundingBox:{x1:0,y1:0,w:cy.width(),h:cy.height()});var center={x:bb.x1+bb.w/2,y:bb.y1+bb.h/2};var sweep=options.sweep===undefined?2*Math.PI-2*Math.PI/nodes.length:options.sweep;var dTheta=sweep/Math.max(1,nodes.length-1);var r;var minDistance=0;for(var i=0;i<nodes.length;i++){var n=nodes[i];var nbb=n.layoutDimensions(options);var w=nbb.w;var h=nbb.h;minDistance=Math.max(minDistance,w,h)}if(number(options.radius)){r=options.radius}else if(nodes.length<=1){r=0}else{r=Math.min(bb.h,bb.w)/2-minDistance}if(nodes.length>1&&options.avoidOverlap){minDistance*=1.75;var dcos=Math.cos(dTheta)-Math.cos(0);var dsin=Math.sin(dTheta)-Math.sin(0);var rMin=Math.sqrt(minDistance*minDistance/(dcos*dcos+dsin*dsin));r=Math.max(rMin,r)}var getPos=function getPos(ele,i){var theta=options.startAngle+i*dTheta*(clockwise?1:-1);var rx=r*Math.cos(theta);var ry=r*Math.sin(theta);var pos={x:center.x+rx,y:center.y+ry};return pos};nodes.layoutPositions(this,options,getPos);return this};var defaults$b={fit:true,padding:30,startAngle:3/2*Math.PI,sweep:undefined,clockwise:true,equidistant:false,minNodeSpacing:10,boundingBox:undefined,avoidOverlap:true,nodeDimensionsIncludeLabels:false,height:undefined,width:undefined,spacingFactor:undefined,concentric:function concentric(node){return node.degree()},levelWidth:function levelWidth(nodes){return nodes.maxDegree()/4},animate:false,animationDuration:500,animationEasing:undefined,animateFilter:function animateFilter(node,i){return true},ready:undefined,stop:undefined,transform:function transform(node,position){return position}};function ConcentricLayout(options){this.options=extend({},defaults$b,options)}ConcentricLayout.prototype.run=function(){var params=this.options;var options=params;var clockwise=options.counterclockwise!==undefined?!options.counterclockwise:options.clockwise;var cy=params.cy;var eles=options.eles;var nodes=eles.nodes().not(":parent");var bb=makeBoundingBox(options.boundingBox?options.boundingBox:{x1:0,y1:0,w:cy.width(),h:cy.height()});var center={x:bb.x1+bb.w/2,y:bb.y1+bb.h/2};var nodeValues=[];var maxNodeSize=0;for(var i=0;i<nodes.length;i++){var node=nodes[i];var value=void 0;value=options.concentric(node);nodeValues.push({value:value,node:node});node._private.scratch.concentric=value}nodes.updateStyle();for(var _i=0;_i<nodes.length;_i++){var _node=nodes[_i];var nbb=_node.layoutDimensions(options);maxNodeSize=Math.max(maxNodeSize,nbb.w,nbb.h)}nodeValues.sort((function(a,b){return b.value-a.value}));var levelWidth=options.levelWidth(nodes);var levels=[[]];var currentLevel=levels[0];for(var _i2=0;_i2<nodeValues.length;_i2++){var val=nodeValues[_i2];if(currentLevel.length>0){var diff=Math.abs(currentLevel[0].value-val.value);if(diff>=levelWidth){currentLevel=[];levels.push(currentLevel)}}currentLevel.push(val)}var minDist=maxNodeSize+options.minNodeSpacing;if(!options.avoidOverlap){var firstLvlHasMulti=levels.length>0&&levels[0].length>1;var maxR=Math.min(bb.w,bb.h)/2-minDist;var rStep=maxR/(levels.length+firstLvlHasMulti?1:0);minDist=Math.min(minDist,rStep)}var r=0;for(var _i3=0;_i3<levels.length;_i3++){var level=levels[_i3];var sweep=options.sweep===undefined?2*Math.PI-2*Math.PI/level.length:options.sweep;var dTheta=level.dTheta=sweep/Math.max(1,level.length-1);if(level.length>1&&options.avoidOverlap){var dcos=Math.cos(dTheta)-Math.cos(0);var dsin=Math.sin(dTheta)-Math.sin(0);var rMin=Math.sqrt(minDist*minDist/(dcos*dcos+dsin*dsin));r=Math.max(rMin,r)}level.r=r;r+=minDist}if(options.equidistant){var rDeltaMax=0;var _r=0;for(var _i4=0;_i4<levels.length;_i4++){var _level=levels[_i4];var rDelta=_level.r-_r;rDeltaMax=Math.max(rDeltaMax,rDelta)}_r=0;for(var _i5=0;_i5<levels.length;_i5++){var _level2=levels[_i5];if(_i5===0){_r=_level2.r}_level2.r=_r;_r+=rDeltaMax}}var pos={};for(var _i6=0;_i6<levels.length;_i6++){var _level3=levels[_i6];var _dTheta=_level3.dTheta;var _r2=_level3.r;for(var j=0;j<_level3.length;j++){var _val=_level3[j];var theta=options.startAngle+(clockwise?1:-1)*_dTheta*j;var p={x:center.x+_r2*Math.cos(theta),y:center.y+_r2*Math.sin(theta)};pos[_val.node.id()]=p}}nodes.layoutPositions(this,options,(function(ele){var id=ele.id();return pos[id]}));return this};var DEBUG;var defaults$c={ready:function ready(){},stop:function stop(){},animate:true,animationEasing:undefined,animationDuration:undefined,animateFilter:function animateFilter(node,i){return true},animationThreshold:250,refresh:20,fit:true,padding:30,boundingBox:undefined,nodeDimensionsIncludeLabels:false,randomize:false,componentSpacing:40,nodeRepulsion:function nodeRepulsion(node){return 2048},nodeOverlap:4,idealEdgeLength:function idealEdgeLength(edge){return 32},edgeElasticity:function edgeElasticity(edge){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function CoseLayout(options){this.options=extend({},defaults$c,options);this.options.layout=this}CoseLayout.prototype.run=function(){var options=this.options;var cy=options.cy;var layout=this;layout.stopped=false;if(options.animate===true||options.animate===false){layout.emit({type:"layoutstart",layout:layout})}if(true===options.debug){DEBUG=true}else{DEBUG=false}var layoutInfo=createLayoutInfo(cy,layout,options);if(DEBUG){printLayoutInfo(layoutInfo)}if(options.randomize){randomizePositions(layoutInfo)}var startTime=performanceNow();var refresh=function refresh(){refreshPositions(layoutInfo,cy,options);if(true===options.fit){cy.fit(options.padding)}};var mainLoop=function mainLoop(i){if(layout.stopped||i>=options.numIter){return false}step$1(layoutInfo,options);layoutInfo.temperature=layoutInfo.temperature*options.coolingFactor;if(layoutInfo.temperature<options.minTemp){return false}return true};var done=function done(){if(options.animate===true||options.animate===false){refresh();layout.one("layoutstop",options.stop);layout.emit({type:"layoutstop",layout:layout})}else{var nodes=options.eles.nodes();var getScaledPos=getScaleInBoundsFn(layoutInfo,options,nodes);nodes.layoutPositions(layout,options,getScaledPos)}};var i=0;var loopRet=true;if(options.animate===true){var frame=function frame(){var f=0;while(loopRet&&f<options.refresh){loopRet=mainLoop(i);i++;f++}if(!loopRet){separateComponents(layoutInfo,options);done()}else{var now=performanceNow();if(now-startTime>=options.animationThreshold){refresh()}requestAnimationFrame(frame)}};frame()}else{while(loopRet){loopRet=mainLoop(i);i++}separateComponents(layoutInfo,options);done()}return this};CoseLayout.prototype.stop=function(){this.stopped=true;if(this.thread){this.thread.stop()}this.emit("layoutstop");return this};CoseLayout.prototype.destroy=function(){if(this.thread){this.thread.stop()}return this};var createLayoutInfo=function createLayoutInfo(cy,layout,options){var edges=options.eles.edges();var nodes=options.eles.nodes();var layoutInfo={isCompound:cy.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:nodes.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:edges.size(),temperature:options.initialTemp,clientWidth:cy.width(),clientHeight:cy.width(),boundingBox:makeBoundingBox(options.boundingBox?options.boundingBox:{x1:0,y1:0,w:cy.width(),h:cy.height()})};var components=options.eles.components();var id2cmptId={};for(var i=0;i<components.length;i++){var component=components[i];for(var j=0;j<component.length;j++){var node=component[j];id2cmptId[node.id()]=i}}for(var i=0;i<layoutInfo.nodeSize;i++){var n=nodes[i];var nbb=n.layoutDimensions(options);var tempNode={};tempNode.isLocked=n.locked();tempNode.id=n.data("id");tempNode.parentId=n.data("parent");tempNode.cmptId=id2cmptId[n.id()];tempNode.children=[];tempNode.positionX=n.position("x");tempNode.positionY=n.position("y");tempNode.offsetX=0;tempNode.offsetY=0;tempNode.height=nbb.w;tempNode.width=nbb.h;tempNode.maxX=tempNode.positionX+tempNode.width/2;tempNode.minX=tempNode.positionX-tempNode.width/2;tempNode.maxY=tempNode.positionY+tempNode.height/2;tempNode.minY=tempNode.positionY-tempNode.height/2;tempNode.padLeft=parseFloat(n.style("padding"));tempNode.padRight=parseFloat(n.style("padding"));tempNode.padTop=parseFloat(n.style("padding"));tempNode.padBottom=parseFloat(n.style("padding"));tempNode.nodeRepulsion=fn(options.nodeRepulsion)?options.nodeRepulsion(n):options.nodeRepulsion;layoutInfo.layoutNodes.push(tempNode);layoutInfo.idToIndex[tempNode.id]=i}var queue=[];var start=0;var end=-1;var tempGraph=[];for(var i=0;i<layoutInfo.nodeSize;i++){var n=layoutInfo.layoutNodes[i];var p_id=n.parentId;if(null!=p_id){layoutInfo.layoutNodes[layoutInfo.idToIndex[p_id]].children.push(n.id)}else{queue[++end]=n.id;tempGraph.push(n.id)}}layoutInfo.graphSet.push(tempGraph);while(start<=end){var node_id=queue[start++];var node_ix=layoutInfo.idToIndex[node_id];var node=layoutInfo.layoutNodes[node_ix];var children=node.children;if(children.length>0){layoutInfo.graphSet.push(children);for(var i=0;i<children.length;i++){queue[++end]=children[i]}}}for(var i=0;i<layoutInfo.graphSet.length;i++){var graph=layoutInfo.graphSet[i];for(var j=0;j<graph.length;j++){var index=layoutInfo.idToIndex[graph[j]];layoutInfo.indexToGraph[index]=i}}for(var i=0;i<layoutInfo.edgeSize;i++){var e=edges[i];var tempEdge={};tempEdge.id=e.data("id");tempEdge.sourceId=e.data("source");tempEdge.targetId=e.data("target");var idealLength=fn(options.idealEdgeLength)?options.idealEdgeLength(e):options.idealEdgeLength;var elasticity=fn(options.edgeElasticity)?options.edgeElasticity(e):options.edgeElasticity;var sourceIx=layoutInfo.idToIndex[tempEdge.sourceId];var targetIx=layoutInfo.idToIndex[tempEdge.targetId];var sourceGraph=layoutInfo.indexToGraph[sourceIx];var targetGraph=layoutInfo.indexToGraph[targetIx];if(sourceGraph!=targetGraph){var lca=findLCA(tempEdge.sourceId,tempEdge.targetId,layoutInfo);var lcaGraph=layoutInfo.graphSet[lca];var depth=0;var tempNode=layoutInfo.layoutNodes[sourceIx];while(-1===lcaGraph.indexOf(tempNode.id)){tempNode=layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];depth++}tempNode=layoutInfo.layoutNodes[targetIx];while(-1===lcaGraph.indexOf(tempNode.id)){tempNode=layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];depth++}idealLength*=depth*options.nestingFactor}tempEdge.idealLength=idealLength;tempEdge.elasticity=elasticity;layoutInfo.layoutEdges.push(tempEdge)}return layoutInfo};var findLCA=function findLCA(node1,node2,layoutInfo){var res=findLCA_aux(node1,node2,0,layoutInfo);if(2>res.count){return 0}else{return res.graph}};var findLCA_aux=function findLCA_aux(node1,node2,graphIx,layoutInfo){var graph=layoutInfo.graphSet[graphIx];if(-1<graph.indexOf(node1)&&-1<graph.indexOf(node2)){return{count:2,graph:graphIx}}var c=0;for(var i=0;i<graph.length;i++){var nodeId=graph[i];var nodeIx=layoutInfo.idToIndex[nodeId];var children=layoutInfo.layoutNodes[nodeIx].children;if(0===children.length){continue}var childGraphIx=layoutInfo.indexToGraph[layoutInfo.idToIndex[children[0]]];var result=findLCA_aux(node1,node2,childGraphIx,layoutInfo);if(0===result.count){continue}else if(1===result.count){c++;if(2===c){break}}else{return result}}return{count:c,graph:graphIx}};if(false){var printLayoutInfo}var randomizePositions=function randomizePositions(layoutInfo,cy){var width=layoutInfo.clientWidth;var height=layoutInfo.clientHeight;for(var i=0;i<layoutInfo.nodeSize;i++){var n=layoutInfo.layoutNodes[i];if(0===n.children.length&&!n.isLocked){n.positionX=Math.random()*width;n.positionY=Math.random()*height}}};var getScaleInBoundsFn=function getScaleInBoundsFn(layoutInfo,options,nodes){var bb=layoutInfo.boundingBox;var coseBB={x1:Infinity,x2:-Infinity,y1:Infinity,y2:-Infinity};if(options.boundingBox){nodes.forEach((function(node){var lnode=layoutInfo.layoutNodes[layoutInfo.idToIndex[node.data("id")]];coseBB.x1=Math.min(coseBB.x1,lnode.positionX);coseBB.x2=Math.max(coseBB.x2,lnode.positionX);coseBB.y1=Math.min(coseBB.y1,lnode.positionY);coseBB.y2=Math.max(coseBB.y2,lnode.positionY)}));coseBB.w=coseBB.x2-coseBB.x1;coseBB.h=coseBB.y2-coseBB.y1}return function(ele,i){var lnode=layoutInfo.layoutNodes[layoutInfo.idToIndex[ele.data("id")]];if(options.boundingBox){var pctX=(lnode.positionX-coseBB.x1)/coseBB.w;var pctY=(lnode.positionY-coseBB.y1)/coseBB.h;return{x:bb.x1+pctX*bb.w,y:bb.y1+pctY*bb.h}}else{return{x:lnode.positionX,y:lnode.positionY}}}};var refreshPositions=function refreshPositions(layoutInfo,cy,options){var layout=options.layout;var nodes=options.eles.nodes();var getScaledPos=getScaleInBoundsFn(layoutInfo,options,nodes);nodes.positions(getScaledPos);if(true!==layoutInfo.ready){layoutInfo.ready=true;layout.one("layoutready",options.ready);layout.emit({type:"layoutready",layout:this})}};var step$1=function step(layoutInfo,options,_step){calculateNodeForces(layoutInfo,options);calculateEdgeForces(layoutInfo);calculateGravityForces(layoutInfo,options);propagateForces(layoutInfo);updatePositions(layoutInfo)};var calculateNodeForces=function calculateNodeForces(layoutInfo,options){for(var i=0;i<layoutInfo.graphSet.length;i++){var graph=layoutInfo.graphSet[i];var numNodes=graph.length;for(var j=0;j<numNodes;j++){var node1=layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];for(var k=j+1;k<numNodes;k++){var node2=layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[k]]];nodeRepulsion(node1,node2,layoutInfo,options)}}}};var randomDistance=function randomDistance(max){return-max+2*max*Math.random()};var nodeRepulsion=function nodeRepulsion(node1,node2,layoutInfo,options){var cmptId1=node1.cmptId;var cmptId2=node2.cmptId;if(cmptId1!==cmptId2&&!layoutInfo.isCompound){return}var directionX=node2.positionX-node1.positionX;var directionY=node2.positionY-node1.positionY;var maxRandDist=1;if(0===directionX&&0===directionY){directionX=randomDistance(maxRandDist);directionY=randomDistance(maxRandDist)}var overlap=nodesOverlap(node1,node2,directionX,directionY);if(overlap>0){var force=options.nodeOverlap*overlap;var distance=Math.sqrt(directionX*directionX+directionY*directionY);var forceX=force*directionX/distance;var forceY=force*directionY/distance}else{var point1=findClippingPoint(node1,directionX,directionY);var point2=findClippingPoint(node2,-1*directionX,-1*directionY);var distanceX=point2.x-point1.x;var distanceY=point2.y-point1.y;var distanceSqr=distanceX*distanceX+distanceY*distanceY;var distance=Math.sqrt(distanceSqr);var force=(node1.nodeRepulsion+node2.nodeRepulsion)/distanceSqr;var forceX=force*distanceX/distance;var forceY=force*distanceY/distance}if(!node1.isLocked){node1.offsetX-=forceX;node1.offsetY-=forceY}if(!node2.isLocked){node2.offsetX+=forceX;node2.offsetY+=forceY}return};var nodesOverlap=function nodesOverlap(node1,node2,dX,dY){if(dX>0){var overlapX=node1.maxX-node2.minX}else{var overlapX=node2.maxX-node1.minX}if(dY>0){var overlapY=node1.maxY-node2.minY}else{var overlapY=node2.maxY-node1.minY}if(overlapX>=0&&overlapY>=0){return Math.sqrt(overlapX*overlapX+overlapY*overlapY)}else{return 0}};var findClippingPoint=function findClippingPoint(node,dX,dY){var X=node.positionX;var Y=node.positionY;var H=node.height||1;var W=node.width||1;var dirSlope=dY/dX;var nodeSlope=H/W;var res={};if(0===dX&&0<dY){res.x=X;res.y=Y+H/2;return res}if(0===dX&&0>dY){res.x=X;res.y=Y+H/2;return res}if(0<dX&&-1*nodeSlope<=dirSlope&&dirSlope<=nodeSlope){res.x=X+W/2;res.y=Y+W*dY/2/dX;return res}if(0>dX&&-1*nodeSlope<=dirSlope&&dirSlope<=nodeSlope){res.x=X-W/2;res.y=Y-W*dY/2/dX;return res}if(0<dY&&(dirSlope<=-1*nodeSlope||dirSlope>=nodeSlope)){res.x=X+H*dX/2/dY;res.y=Y+H/2;return res}if(0>dY&&(dirSlope<=-1*nodeSlope||dirSlope>=nodeSlope)){res.x=X-H*dX/2/dY;res.y=Y-H/2;return res}return res};var calculateEdgeForces=function calculateEdgeForces(layoutInfo,options){for(var i=0;i<layoutInfo.edgeSize;i++){var edge=layoutInfo.layoutEdges[i];var sourceIx=layoutInfo.idToIndex[edge.sourceId];var source=layoutInfo.layoutNodes[sourceIx];var targetIx=layoutInfo.idToIndex[edge.targetId];var target=layoutInfo.layoutNodes[targetIx];var directionX=target.positionX-source.positionX;var directionY=target.positionY-source.positionY;if(0===directionX&&0===directionY){continue}var point1=findClippingPoint(source,directionX,directionY);var point2=findClippingPoint(target,-1*directionX,-1*directionY);var lx=point2.x-point1.x;var ly=point2.y-point1.y;var l=Math.sqrt(lx*lx+ly*ly);var force=Math.pow(edge.idealLength-l,2)/edge.elasticity;if(0!==l){var forceX=force*lx/l;var forceY=force*ly/l}else{var forceX=0;var forceY=0}if(!source.isLocked){source.offsetX+=forceX;source.offsetY+=forceY}if(!target.isLocked){target.offsetX-=forceX;target.offsetY-=forceY}}};var calculateGravityForces=function calculateGravityForces(layoutInfo,options){var distThreshold=1;for(var i=0;i<layoutInfo.graphSet.length;i++){var graph=layoutInfo.graphSet[i];var numNodes=graph.length;if(0===i){var centerX=layoutInfo.clientHeight/2;var centerY=layoutInfo.clientWidth/2}else{var temp=layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[0]]];var parent=layoutInfo.layoutNodes[layoutInfo.idToIndex[temp.parentId]];var centerX=parent.positionX;var centerY=parent.positionY}for(var j=0;j<numNodes;j++){var node=layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];if(node.isLocked){continue}var dx=centerX-node.positionX;var dy=centerY-node.positionY;var d=Math.sqrt(dx*dx+dy*dy);if(d>distThreshold){var fx=options.gravity*dx/d;var fy=options.gravity*dy/d;node.offsetX+=fx;node.offsetY+=fy}}}};var propagateForces=function propagateForces(layoutInfo,options){var queue=[];var start=0;var end=-1;queue.push.apply(queue,layoutInfo.graphSet[0]);end+=layoutInfo.graphSet[0].length;while(start<=end){var nodeId=queue[start++];var nodeIndex=layoutInfo.idToIndex[nodeId];var node=layoutInfo.layoutNodes[nodeIndex];var children=node.children;if(0<children.length&&!node.isLocked){var offX=node.offsetX;var offY=node.offsetY;for(var i=0;i<children.length;i++){var childNode=layoutInfo.layoutNodes[layoutInfo.idToIndex[children[i]]];childNode.offsetX+=offX;childNode.offsetY+=offY;queue[++end]=children[i]}node.offsetX=0;node.offsetY=0}}};var updatePositions=function updatePositions(layoutInfo,options){for(var i=0;i<layoutInfo.nodeSize;i++){var n=layoutInfo.layoutNodes[i];if(0<n.children.length){n.maxX=undefined;n.minX=undefined;n.maxY=undefined;n.minY=undefined}}for(var i=0;i<layoutInfo.nodeSize;i++){var n=layoutInfo.layoutNodes[i];if(0<n.children.length||n.isLocked){continue}var tempForce=limitForce(n.offsetX,n.offsetY,layoutInfo.temperature);n.positionX+=tempForce.x;n.positionY+=tempForce.y;n.offsetX=0;n.offsetY=0;n.minX=n.positionX-n.width;n.maxX=n.positionX+n.width;n.minY=n.positionY-n.height;n.maxY=n.positionY+n.height;updateAncestryBoundaries(n,layoutInfo)}for(var i=0;i<layoutInfo.nodeSize;i++){var n=layoutInfo.layoutNodes[i];if(0<n.children.length&&!n.isLocked){n.positionX=(n.maxX+n.minX)/2;n.positionY=(n.maxY+n.minY)/2;n.width=n.maxX-n.minX;n.height=n.maxY-n.minY}}};var limitForce=function limitForce(forceX,forceY,max){var force=Math.sqrt(forceX*forceX+forceY*forceY);if(force>max){var res={x:max*forceX/force,y:max*forceY/force}}else{var res={x:forceX,y:forceY}}return res};var updateAncestryBoundaries=function updateAncestryBoundaries(node,layoutInfo){var parentId=node.parentId;if(null==parentId){return}var p=layoutInfo.layoutNodes[layoutInfo.idToIndex[parentId]];var flag=false;if(null==p.maxX||node.maxX+p.padRight>p.maxX){p.maxX=node.maxX+p.padRight;flag=true}if(null==p.minX||node.minX-p.padLeft<p.minX){p.minX=node.minX-p.padLeft;flag=true}if(null==p.maxY||node.maxY+p.padBottom>p.maxY){p.maxY=node.maxY+p.padBottom;flag=true}if(null==p.minY||node.minY-p.padTop<p.minY){p.minY=node.minY-p.padTop;flag=true}if(flag){return updateAncestryBoundaries(p,layoutInfo)}return};var separateComponents=function separateComponents(layoutInfo,options){var nodes=layoutInfo.layoutNodes;var components=[];for(var i=0;i<nodes.length;i++){var node=nodes[i];var cid=node.cmptId;var component=components[cid]=components[cid]||[];component.push(node)}var totalA=0;for(var i=0;i<components.length;i++){var c=components[i];if(!c){continue}c.x1=Infinity;c.x2=-Infinity;c.y1=Infinity;c.y2=-Infinity;for(var j=0;j<c.length;j++){var n=c[j];c.x1=Math.min(c.x1,n.positionX-n.width/2);c.x2=Math.max(c.x2,n.positionX+n.width/2);c.y1=Math.min(c.y1,n.positionY-n.height/2);c.y2=Math.max(c.y2,n.positionY+n.height/2)}c.w=c.x2-c.x1;c.h=c.y2-c.y1;totalA+=c.w*c.h}components.sort((function(c1,c2){return c2.w*c2.h-c1.w*c1.h}));var x=0;var y=0;var usedW=0;var rowH=0;var maxRowW=Math.sqrt(totalA)*layoutInfo.clientWidth/layoutInfo.clientHeight;for(var i=0;i<components.length;i++){var c=components[i];if(!c){continue}for(var j=0;j<c.length;j++){var n=c[j];if(!n.isLocked){n.positionX+=x-c.x1;n.positionY+=y-c.y1}}x+=c.w+options.componentSpacing;usedW+=c.w+options.componentSpacing;rowH=Math.max(rowH,c.h);if(usedW>maxRowW){y+=rowH+options.componentSpacing;x=0;usedW=0;rowH=0}}};var defaults$d={fit:true,padding:30,boundingBox:undefined,avoidOverlap:true,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:false,spacingFactor:undefined,condense:false,rows:undefined,cols:undefined,position:function position(node){},sort:undefined,animate:false,animationDuration:500,animationEasing:undefined,animateFilter:function animateFilter(node,i){return true},ready:undefined,stop:undefined,transform:function transform(node,position){return position}};function GridLayout(options){this.options=extend({},defaults$d,options)}GridLayout.prototype.run=function(){var params=this.options;var options=params;var cy=params.cy;var eles=options.eles;var nodes=eles.nodes().not(":parent");if(options.sort){nodes=nodes.sort(options.sort)}var bb=makeBoundingBox(options.boundingBox?options.boundingBox:{x1:0,y1:0,w:cy.width(),h:cy.height()});if(bb.h===0||bb.w===0){nodes.layoutPositions(this,options,(function(ele){return{x:bb.x1,y:bb.y1}}))}else{var cells=nodes.size();var splits=Math.sqrt(cells*bb.h/bb.w);var rows=Math.round(splits);var cols=Math.round(bb.w/bb.h*splits);var small=function small(val){if(val==null){return Math.min(rows,cols)}else{var min=Math.min(rows,cols);if(min==rows){rows=val}else{cols=val}}};var large=function large(val){if(val==null){return Math.max(rows,cols)}else{var max=Math.max(rows,cols);if(max==rows){rows=val}else{cols=val}}};var oRows=options.rows;var oCols=options.cols!=null?options.cols:options.columns;if(oRows!=null&&oCols!=null){rows=oRows;cols=oCols}else if(oRows!=null&&oCols==null){rows=oRows;cols=Math.ceil(cells/rows)}else if(oRows==null&&oCols!=null){cols=oCols;rows=Math.ceil(cells/cols)}else if(cols*rows>cells){var sm=small();var lg=large();if((sm-1)*lg>=cells){small(sm-1)}else if((lg-1)*sm>=cells){large(lg-1)}}else{while(cols*rows<cells){var _sm=small();var _lg=large();if((_lg+1)*_sm>=cells){large(_lg+1)}else{small(_sm+1)}}}var cellWidth=bb.w/cols;var cellHeight=bb.h/rows;if(options.condense){cellWidth=0;cellHeight=0}if(options.avoidOverlap){for(var i=0;i<nodes.length;i++){var node=nodes[i];var pos=node._private.position;if(pos.x==null||pos.y==null){pos.x=0;pos.y=0}var nbb=node.layoutDimensions(options);var p=options.avoidOverlapPadding;var w=nbb.w+p;var h=nbb.h+p;cellWidth=Math.max(cellWidth,w);cellHeight=Math.max(cellHeight,h)}}var cellUsed={};var used=function used(row,col){return cellUsed["c-"+row+"-"+col]?true:false};var use=function use(row,col){cellUsed["c-"+row+"-"+col]=true};var row=0;var col=0;var moveToNextCell=function moveToNextCell(){col++;if(col>=cols){col=0;row++}};var id2manPos={};for(var _i=0;_i<nodes.length;_i++){var _node=nodes[_i];var rcPos=options.position(_node);if(rcPos&&(rcPos.row!==undefined||rcPos.col!==undefined)){var _pos={row:rcPos.row,col:rcPos.col};if(_pos.col===undefined){_pos.col=0;while(used(_pos.row,_pos.col)){_pos.col++}}else if(_pos.row===undefined){_pos.row=0;while(used(_pos.row,_pos.col)){_pos.row++}}id2manPos[_node.id()]=_pos;use(_pos.row,_pos.col)}}var getPos=function getPos(element,i){var x,y;if(element.locked()||element.isParent()){return false}var rcPos=id2manPos[element.id()];if(rcPos){x=rcPos.col*cellWidth+cellWidth/2+bb.x1;y=rcPos.row*cellHeight+cellHeight/2+bb.y1}else{while(used(row,col)){moveToNextCell()}x=col*cellWidth+cellWidth/2+bb.x1;y=row*cellHeight+cellHeight/2+bb.y1;use(row,col);moveToNextCell()}return{x:x,y:y}};nodes.layoutPositions(this,options,getPos)}return this};var defaults$e={ready:function ready(){},stop:function stop(){}};function NullLayout(options){this.options=extend({},defaults$e,options)}NullLayout.prototype.run=function(){var options=this.options;var eles=options.eles;var layout=this;var cy=options.cy;layout.emit("layoutstart");eles.nodes().positions((function(){return{x:0,y:0}}));layout.one("layoutready",options.ready);layout.emit("layoutready");layout.one("layoutstop",options.stop);layout.emit("layoutstop");return this};NullLayout.prototype.stop=function(){return this};var defaults$f={positions:undefined,zoom:undefined,pan:undefined,fit:true,padding:30,animate:false,animationDuration:500,animationEasing:undefined,animateFilter:function animateFilter(node,i){return true},ready:undefined,stop:undefined,transform:function transform(node,position){return position}};function PresetLayout(options){this.options=extend({},defaults$f,options)}PresetLayout.prototype.run=function(){var options=this.options;var eles=options.eles;var nodes=eles.nodes();var posIsFn=fn(options.positions);function getPosition(node){if(options.positions==null){return copyPosition(node.position())}if(posIsFn){return options.positions(node)}var pos=options.positions[node._private.data.id];if(pos==null){return null}return pos}nodes.layoutPositions(this,options,(function(node,i){var position=getPosition(node);if(node.locked()||position==null){return false}return position}));return this};var defaults$g={fit:true,padding:30,boundingBox:undefined,animate:false,animationDuration:500,animationEasing:undefined,animateFilter:function animateFilter(node,i){return true},ready:undefined,stop:undefined,transform:function transform(node,position){return position}};function RandomLayout(options){this.options=extend({},defaults$g,options)}RandomLayout.prototype.run=function(){var options=this.options;var cy=options.cy;var eles=options.eles;var nodes=eles.nodes().not(":parent");var bb=makeBoundingBox(options.boundingBox?options.boundingBox:{x1:0,y1:0,w:cy.width(),h:cy.height()});var getPos=function getPos(node,i){return{x:bb.x1+Math.round(Math.random()*bb.w),y:bb.y1+Math.round(Math.random()*bb.h)}};nodes.layoutPositions(this,options,getPos);return this};var layout=[{name:"breadthfirst",impl:BreadthFirstLayout},{name:"circle",impl:CircleLayout},{name:"concentric",impl:ConcentricLayout},{name:"cose",impl:CoseLayout},{name:"grid",impl:GridLayout},{name:"null",impl:NullLayout},{name:"preset",impl:PresetLayout},{name:"random",impl:RandomLayout}];function NullRenderer(options){this.options=options;this.notifications=0}var noop$1=function noop(){};NullRenderer.prototype={recalculateRenderedStyle:noop$1,notify:function notify(){this.notifications++},init:noop$1,isHeadless:function isHeadless(){return true}};var BRp={};BRp.arrowShapeWidth=.3;BRp.registerArrowShapes=function(){var arrowShapes=this.arrowShapes={};var renderer=this;var bbCollide=function bbCollide(x,y,size,angle,translation,edgeWidth,padding){var x1=translation.x-size/2-padding;var x2=translation.x+size/2+padding;var y1=translation.y-size/2-padding;var y2=translation.y+size/2+padding;var inside=x1<=x&&x<=x2&&y1<=y&&y<=y2;return inside};var transform=function transform(x,y,size,angle,translation){var xRotated=x*Math.cos(angle)-y*Math.sin(angle);var yRotated=x*Math.sin(angle)+y*Math.cos(angle);var xScaled=xRotated*size;var yScaled=yRotated*size;var xTranslated=xScaled+translation.x;var yTranslated=yScaled+translation.y;return{x:xTranslated,y:yTranslated}};var transformPoints=function transformPoints(pts,size,angle,translation){var retPts=[];for(var i=0;i<pts.length;i+=2){var x=pts[i];var y=pts[i+1];retPts.push(transform(x,y,size,angle,translation))}return retPts};var pointsToArr=function pointsToArr(pts){var ret=[];for(var i=0;i<pts.length;i++){var p=pts[i];ret.push(p.x,p.y)}return ret};var standardGap=function standardGap(edge){return edge.pstyle("width").pfValue*edge.pstyle("arrow-scale").pfValue*2};var defineArrowShape=function defineArrowShape(name,defn){if(string(defn)){defn=arrowShapes[defn]}arrowShapes[name]=extend({name:name,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function collide(x,y,size,angle,translation,padding){var points=pointsToArr(transformPoints(this.points,size+2*padding,angle,translation));var inside=pointInsidePolygonPoints(x,y,points);return inside},roughCollide:bbCollide,draw:function draw(context,size,angle,translation){var points=transformPoints(this.points,size,angle,translation);renderer.arrowShapeImpl("polygon")(context,points)},spacing:function spacing(edge){return 0},gap:standardGap},defn)};defineArrowShape("none",{collide:falsify,roughCollide:falsify,draw:noop,spacing:zeroify,gap:zeroify});defineArrowShape("triangle",{points:[-.15,-.3,0,0,.15,-.3]});defineArrowShape("arrow","triangle");defineArrowShape("triangle-backcurve",{points:arrowShapes["triangle"].points,controlPoint:[0,-.15],roughCollide:bbCollide,draw:function draw(context,size,angle,translation,edgeWidth){var ptsTrans=transformPoints(this.points,size,angle,translation);var ctrlPt=this.controlPoint;var ctrlPtTrans=transform(ctrlPt[0],ctrlPt[1],size,angle,translation);renderer.arrowShapeImpl(this.name)(context,ptsTrans,ctrlPtTrans)},gap:function gap(edge){return standardGap(edge)*.8}});defineArrowShape("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function collide(x,y,size,angle,translation,edgeWidth,padding){var triPts=pointsToArr(transformPoints(this.points,size+2*padding,angle,translation));var teePts=pointsToArr(transformPoints(this.pointsTee,size+2*padding,angle,translation));var inside=pointInsidePolygonPoints(x,y,triPts)||pointInsidePolygonPoints(x,y,teePts);return inside},draw:function draw(context,size,angle,translation,edgeWidth){var triPts=transformPoints(this.points,size,angle,translation);var teePts=transformPoints(this.pointsTee,size,angle,translation);renderer.arrowShapeImpl(this.name)(context,triPts,teePts)}});defineArrowShape("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function crossLinePts(size,edgeWidth){var p=this.baseCrossLinePts.slice();var shiftFactor=edgeWidth/size;var y0=3;var y1=5;p[y0]=p[y0]-shiftFactor;p[y1]=p[y1]-shiftFactor;return p},collide:function collide(x,y,size,angle,translation,edgeWidth,padding){var triPts=pointsToArr(transformPoints(this.points,size+2*padding,angle,translation));var teePts=pointsToArr(transformPoints(this.crossLinePts(size,edgeWidth),size+2*padding,angle,translation));var inside=pointInsidePolygonPoints(x,y,triPts)||pointInsidePolygonPoints(x,y,teePts);return inside},draw:function draw(context,size,angle,translation,edgeWidth){var triPts=transformPoints(this.points,size,angle,translation);var crossLinePts=transformPoints(this.crossLinePts(size,edgeWidth),size,angle,translation);renderer.arrowShapeImpl(this.name)(context,triPts,crossLinePts)}});defineArrowShape("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function gap(edge){return standardGap(edge)*.525}});defineArrowShape("circle",{radius:.15,collide:function collide(x,y,size,angle,translation,edgeWidth,padding){var t=translation;var inside=Math.pow(t.x-x,2)+Math.pow(t.y-y,2)<=Math.pow((size+2*padding)*this.radius,2);return inside},draw:function draw(context,size,angle,translation,edgeWidth){renderer.arrowShapeImpl(this.name)(context,translation.x,translation.y,this.radius*size)},spacing:function spacing(edge){return renderer.getArrowWidth(edge.pstyle("width").pfValue,edge.pstyle("arrow-scale").value)*this.radius}});defineArrowShape("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function spacing(edge){return 1},gap:function gap(edge){return 1}});defineArrowShape("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]});defineArrowShape("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function gap(edge){return edge.pstyle("width").pfValue*edge.pstyle("arrow-scale").value}});defineArrowShape("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function gap(edge){return.95*edge.pstyle("width").pfValue*edge.pstyle("arrow-scale").value}})};var BRp$1={};BRp$1.projectIntoViewport=function(clientX,clientY){var cy=this.cy;var offsets=this.findContainerClientCoords();var offsetLeft=offsets[0];var offsetTop=offsets[1];var scale=offsets[4];var pan=cy.pan();var zoom=cy.zoom();var x=((clientX-offsetLeft)/scale-pan.x)/zoom;var y=((clientY-offsetTop)/scale-pan.y)/zoom;return[x,y]};BRp$1.findContainerClientCoords=function(){if(this.containerBB){return this.containerBB}var container=this.container;var rect=container.getBoundingClientRect();var style=window$1.getComputedStyle(container);var styleValue=function styleValue(name){return parseFloat(style.getPropertyValue(name))};var padding={left:styleValue("padding-left"),right:styleValue("padding-right"),top:styleValue("padding-top"),bottom:styleValue("padding-bottom")};var border={left:styleValue("border-left-width"),right:styleValue("border-right-width"),top:styleValue("border-top-width"),bottom:styleValue("border-bottom-width")};var clientWidth=container.clientWidth;var clientHeight=container.clientHeight;var paddingHor=padding.left+padding.right;var paddingVer=padding.top+padding.bottom;var borderHor=border.left+border.right;var scale=rect.width/(clientWidth+borderHor);var unscaledW=clientWidth-paddingHor;var unscaledH=clientHeight-paddingVer;var left=rect.left+padding.left+border.left;var top=rect.top+padding.top+border.top;return this.containerBB=[left,top,unscaledW,unscaledH,scale]};BRp$1.invalidateContainerClientCoordsCache=function(){this.containerBB=null};BRp$1.findNearestElement=function(x,y,interactiveElementsOnly,isTouch){return this.findNearestElements(x,y,interactiveElementsOnly,isTouch)[0]};BRp$1.findNearestElements=function(x,y,interactiveElementsOnly,isTouch){var self=this;var r=this;var eles=r.getCachedZSortedEles();var near=[];var zoom=r.cy.zoom();var hasCompounds=r.cy.hasCompoundNodes();var edgeThreshold=(isTouch?24:8)/zoom;var nodeThreshold=(isTouch?8:2)/zoom;var labelThreshold=(isTouch?8:2)/zoom;var minSqDist=Infinity;var nearEdge;var nearNode;if(interactiveElementsOnly){eles=eles.interactive}function addEle(ele,sqDist){if(ele.isNode()){if(nearNode){return}else{nearNode=ele;near.push(ele)}}if(ele.isEdge()&&(sqDist==null||sqDist<minSqDist)){if(nearEdge){if(nearEdge.pstyle("z-compound-depth").value===ele.pstyle("z-compound-depth").value&&nearEdge.pstyle("z-compound-depth").value===ele.pstyle("z-compound-depth").value){for(var i=0;i<near.length;i++){if(near[i].isEdge()){near[i]=ele;nearEdge=ele;minSqDist=sqDist!=null?sqDist:minSqDist;break}}}}else{near.push(ele);nearEdge=ele;minSqDist=sqDist!=null?sqDist:minSqDist}}}function checkNode(node){var width=node.outerWidth()+2*nodeThreshold;var height=node.outerHeight()+2*nodeThreshold;var hw=width/2;var hh=height/2;var pos=node.position();if(pos.x-hw<=x&&x<=pos.x+hw&&pos.y-hh<=y&&y<=pos.y+hh){var shape=r.nodeShapes[self.getNodeShape(node)];if(shape.checkPoint(x,y,0,width,height,pos.x,pos.y)){addEle(node,0);return true}}}function checkEdge(edge){var _p=edge._private;var rs=_p.rscratch;var styleWidth=edge.pstyle("width").pfValue;var scale=edge.pstyle("arrow-scale").value;var width=styleWidth/2+edgeThreshold;var widthSq=width*width;var width2=width*2;var src=_p.source;var tgt=_p.target;var sqDist;if(rs.edgeType==="segments"||rs.edgeType==="straight"||rs.edgeType==="haystack"){var pts=rs.allpts;for(var i=0;i+3<pts.length;i+=2){if(inLineVicinity(x,y,pts[i],pts[i+1],pts[i+2],pts[i+3],width2)&&widthSq>(sqDist=sqdistToFiniteLine(x,y,pts[i],pts[i+1],pts[i+2],pts[i+3]))){addEle(edge,sqDist);return true}}}else if(rs.edgeType==="bezier"||rs.edgeType==="multibezier"||rs.edgeType==="self"||rs.edgeType==="compound"){var pts=rs.allpts;for(var i=0;i+5<rs.allpts.length;i+=4){if(inBezierVicinity(x,y,pts[i],pts[i+1],pts[i+2],pts[i+3],pts[i+4],pts[i+5],width2)&&widthSq>(sqDist=sqdistToQuadraticBezier(x,y,pts[i],pts[i+1],pts[i+2],pts[i+3],pts[i+4],pts[i+5]))){addEle(edge,sqDist);return true}}}var src=src||_p.source;var tgt=tgt||_p.target;var arSize=self.getArrowWidth(styleWidth,scale);var arrows=[{name:"source",x:rs.arrowStartX,y:rs.arrowStartY,angle:rs.srcArrowAngle},{name:"target",x:rs.arrowEndX,y:rs.arrowEndY,angle:rs.tgtArrowAngle},{name:"mid-source",x:rs.midX,y:rs.midY,angle:rs.midsrcArrowAngle},{name:"mid-target",x:rs.midX,y:rs.midY,angle:rs.midtgtArrowAngle}];for(var i=0;i<arrows.length;i++){var ar=arrows[i];var shape=r.arrowShapes[edge.pstyle(ar.name+"-arrow-shape").value];var edgeWidth=edge.pstyle("width").pfValue;if(shape.roughCollide(x,y,arSize,ar.angle,{x:ar.x,y:ar.y},edgeWidth,edgeThreshold)&&shape.collide(x,y,arSize,ar.angle,{x:ar.x,y:ar.y},edgeWidth,edgeThreshold)){addEle(edge);return true}}if(hasCompounds&&near.length>0){checkNode(src);checkNode(tgt)}}function preprop(obj,name,pre){return getPrefixedProperty(obj,name,pre)}function checkLabel(ele,prefix){var _p=ele._private;var th=labelThreshold;var prefixDash;if(prefix){prefixDash=prefix+"-"}else{prefixDash=""}var bb=_p.labelBounds[prefix||"main"];var text=ele.pstyle(prefixDash+"label").value;var eventsEnabled=ele.pstyle("text-events").strValue==="yes";if(!eventsEnabled||!text){return}var rstyle=_p.rstyle;var lx=preprop(rstyle,"labelX",prefix);var ly=preprop(rstyle,"labelY",prefix);var theta=preprop(_p.rscratch,"labelAngle",prefix);var lx1=bb.x1-th;var lx2=bb.x2+th;var ly1=bb.y1-th;var ly2=bb.y2+th;if(theta){var cos=Math.cos(theta);var sin=Math.sin(theta);var rotate=function rotate(x,y){x=x-lx;y=y-ly;return{x:x*cos-y*sin+lx,y:x*sin+y*cos+ly}};var px1y1=rotate(lx1,ly1);var px1y2=rotate(lx1,ly2);var px2y1=rotate(lx2,ly1);var px2y2=rotate(lx2,ly2);var points=[px1y1.x,px1y1.y,px2y1.x,px2y1.y,px2y2.x,px2y2.y,px1y2.x,px1y2.y];if(pointInsidePolygonPoints(x,y,points)){addEle(ele);return true}}else{if(inBoundingBox(bb,x,y)){addEle(ele);return true}}}for(var i=eles.length-1;i>=0;i--){var ele=eles[i];if(ele.isNode()){checkNode(ele)||checkLabel(ele)}else{checkEdge(ele)||checkLabel(ele)||checkLabel(ele,"source")||checkLabel(ele,"target")}}return near};BRp$1.getAllInBox=function(x1,y1,x2,y2){var eles=this.getCachedZSortedEles().interactive;var box=[];var x1c=Math.min(x1,x2);var x2c=Math.max(x1,x2);var y1c=Math.min(y1,y2);var y2c=Math.max(y1,y2);x1=x1c;x2=x2c;y1=y1c;y2=y2c;var boxBb=makeBoundingBox({x1:x1,y1:y1,x2:x2,y2:y2});for(var e=0;e<eles.length;e++){var ele=eles[e];if(ele.isNode()){var node=ele;var nodeBb=node.boundingBox({includeNodes:true,includeEdges:false,includeLabels:false});if(boundingBoxesIntersect(boxBb,nodeBb)&&!boundingBoxInBoundingBox(nodeBb,boxBb)){box.push(node)}}else{var edge=ele;var _p=edge._private;var rs=_p.rscratch;if(rs.startX!=null&&rs.startY!=null&&!inBoundingBox(boxBb,rs.startX,rs.startY)){continue}if(rs.endX!=null&&rs.endY!=null&&!inBoundingBox(boxBb,rs.endX,rs.endY)){continue}if(rs.edgeType==="bezier"||rs.edgeType==="multibezier"||rs.edgeType==="self"||rs.edgeType==="compound"||rs.edgeType==="segments"||rs.edgeType==="haystack"){var pts=_p.rstyle.bezierPts||_p.rstyle.linePts||_p.rstyle.haystackPts;var allInside=true;for(var i=0;i<pts.length;i++){if(!pointInBoundingBox(boxBb,pts[i])){allInside=false;break}}if(allInside){box.push(edge)}}else if(rs.edgeType==="haystack"||rs.edgeType==="straight"){box.push(edge)}}}return box};var BRp$2={};BRp$2.calculateArrowAngles=function(edge){var rs=edge._private.rscratch;var isHaystack=rs.edgeType==="haystack";var isBezier=rs.edgeType==="bezier";var isMultibezier=rs.edgeType==="multibezier";var isSegments=rs.edgeType==="segments";var isCompound=rs.edgeType==="compound";var isSelf=rs.edgeType==="self";var dispX,dispY;var startX,startY,endX,endY,midX,midY;if(isHaystack){startX=rs.haystackPts[0];startY=rs.haystackPts[1];endX=rs.haystackPts[2];endY=rs.haystackPts[3]}else{startX=rs.arrowStartX;startY=rs.arrowStartY;endX=rs.arrowEndX;endY=rs.arrowEndY}midX=rs.midX;midY=rs.midY;if(isSegments){dispX=startX-rs.segpts[0];dispY=startY-rs.segpts[1]}else if(isMultibezier||isCompound||isSelf||isBezier){var pts=rs.allpts;var bX=qbezierAt(pts[0],pts[2],pts[4],.1);var bY=qbezierAt(pts[1],pts[3],pts[5],.1);dispX=startX-bX;dispY=startY-bY}else{dispX=startX-midX;dispY=startY-midY}rs.srcArrowAngle=getAngleFromDisp(dispX,dispY);var midX=rs.midX;var midY=rs.midY;if(isHaystack){midX=(startX+endX)/2;midY=(startY+endY)/2}dispX=endX-startX;dispY=endY-startY;if(isSegments){var pts=rs.allpts;if(pts.length/2%2===0){var i2=pts.length/2;var i1=i2-2;dispX=pts[i2]-pts[i1];dispY=pts[i2+1]-pts[i1+1]}else{var i2=pts.length/2-1;var i1=i2-2;var i3=i2+2;dispX=pts[i2]-pts[i1];dispY=pts[i2+1]-pts[i1+1]}}else if(isMultibezier||isCompound||isSelf){var pts=rs.allpts;var cpts=rs.ctrlpts;var bp0x,bp0y;var bp1x,bp1y;if(cpts.length/2%2===0){var p0=pts.length/2-1;var ic=p0+2;var p1=ic+2;bp0x=qbezierAt(pts[p0],pts[ic],pts[p1],0);bp0y=qbezierAt(pts[p0+1],pts[ic+1],pts[p1+1],0);bp1x=qbezierAt(pts[p0],pts[ic],pts[p1],1e-4);bp1y=qbezierAt(pts[p0+1],pts[ic+1],pts[p1+1],1e-4)}else{var ic=pts.length/2-1;var p0=ic-2;var p1=ic+2;bp0x=qbezierAt(pts[p0],pts[ic],pts[p1],.4999);bp0y=qbezierAt(pts[p0+1],pts[ic+1],pts[p1+1],.4999);bp1x=qbezierAt(pts[p0],pts[ic],pts[p1],.5);bp1y=qbezierAt(pts[p0+1],pts[ic+1],pts[p1+1],.5)}dispX=bp1x-bp0x;dispY=bp1y-bp0y}rs.midtgtArrowAngle=getAngleFromDisp(dispX,dispY);rs.midDispX=dispX;rs.midDispY=dispY;dispX*=-1;dispY*=-1;if(isSegments){var pts=rs.allpts;if(pts.length/2%2===0);else{var i2=pts.length/2-1;var i3=i2+2;dispX=-(pts[i3]-pts[i2]);dispY=-(pts[i3+1]-pts[i2+1])}}rs.midsrcArrowAngle=getAngleFromDisp(dispX,dispY);if(isSegments){dispX=endX-rs.segpts[rs.segpts.length-2];dispY=endY-rs.segpts[rs.segpts.length-1]}else if(isMultibezier||isCompound||isSelf||isBezier){var pts=rs.allpts;var l=pts.length;var bX=qbezierAt(pts[l-6],pts[l-4],pts[l-2],.9);var bY=qbezierAt(pts[l-5],pts[l-3],pts[l-1],.9);dispX=endX-bX;dispY=endY-bY}else{dispX=endX-midX;dispY=endY-midY}rs.tgtArrowAngle=getAngleFromDisp(dispX,dispY)};BRp$2.getArrowWidth=BRp$2.getArrowHeight=function(edgeWidth,scale){var cache=this.arrowWidthCache=this.arrowWidthCache||{};var cachedVal=cache[edgeWidth+", "+scale];if(cachedVal){return cachedVal}cachedVal=Math.max(Math.pow(edgeWidth*13.37,.9),29)*scale;cache[edgeWidth+", "+scale]=cachedVal;return cachedVal};var BRp$3={};BRp$3.findHaystackPoints=function(edges){for(var i=0;i<edges.length;i++){var edge=edges[i];var _p=edge._private;var rs=_p.rscratch;if(!rs.haystack){var angle=Math.random()*2*Math.PI;rs.source={x:Math.cos(angle),y:Math.sin(angle)};angle=Math.random()*2*Math.PI;rs.target={x:Math.cos(angle),y:Math.sin(angle)}}var src=_p.source;var tgt=_p.target;var srcPos=src.position();var tgtPos=tgt.position();var srcW=src.width();var tgtW=tgt.width();var srcH=src.height();var tgtH=tgt.height();var radius=edge.pstyle("haystack-radius").value;var halfRadius=radius/2;rs.haystackPts=rs.allpts=[rs.source.x*srcW*halfRadius+srcPos.x,rs.source.y*srcH*halfRadius+srcPos.y,rs.target.x*tgtW*halfRadius+tgtPos.x,rs.target.y*tgtH*halfRadius+tgtPos.y];rs.midX=(rs.allpts[0]+rs.allpts[2])/2;rs.midY=(rs.allpts[1]+rs.allpts[3])/2;rs.edgeType="haystack";rs.haystack=true;this.storeEdgeProjections(edge);this.calculateArrowAngles(edge);this.recalculateEdgeLabelProjections(edge);this.calculateLabelAngles(edge)}};BRp$3.findSegmentsPoints=function(edge,pairInfo){var rs=edge._private.rscratch;var posPts=pairInfo.posPts,intersectionPts=pairInfo.intersectionPts,vectorNormInverse=pairInfo.vectorNormInverse;var edgeDistances=edge.pstyle("edge-distances").value;var segmentWs=edge.pstyle("segment-weights");var segmentDs=edge.pstyle("segment-distances");var segmentsN=Math.min(segmentWs.pfValue.length,segmentDs.pfValue.length);rs.edgeType="segments";rs.segpts=[];for(var s=0;s<segmentsN;s++){var w=segmentWs.pfValue[s];var d=segmentDs.pfValue[s];var w1=1-w;var w2=w;var midptPts=edgeDistances==="node-position"?posPts:intersectionPts;var adjustedMidpt={x:midptPts.x1*w1+midptPts.x2*w2,y:midptPts.y1*w1+midptPts.y2*w2};rs.segpts.push(adjustedMidpt.x+vectorNormInverse.x*d,adjustedMidpt.y+vectorNormInverse.y*d)}};BRp$3.findLoopPoints=function(edge,pairInfo,i,edgeIsUnbundled){var rs=edge._private.rscratch;var dirCounts=pairInfo.dirCounts,srcPos=pairInfo.srcPos;var ctrlptDists=edge.pstyle("control-point-distances");var ctrlptDist=ctrlptDists?ctrlptDists.pfValue[0]:undefined;var loopDir=edge.pstyle("loop-direction").pfValue;var loopSwp=edge.pstyle("loop-sweep").pfValue;var stepSize=edge.pstyle("control-point-step-size").pfValue;rs.edgeType="self";var j=i;var loopDist=stepSize;if(edgeIsUnbundled){j=0;loopDist=ctrlptDist}var loopAngle=loopDir-Math.PI/2;var outAngle=loopAngle-loopSwp/2;var inAngle=loopAngle+loopSwp/2;var dc=String(loopDir+"_"+loopSwp);j=dirCounts[dc]===undefined?dirCounts[dc]=0:++dirCounts[dc];rs.ctrlpts=[srcPos.x+Math.cos(outAngle)*1.4*loopDist*(j/3+1),srcPos.y+Math.sin(outAngle)*1.4*loopDist*(j/3+1),srcPos.x+Math.cos(inAngle)*1.4*loopDist*(j/3+1),srcPos.y+Math.sin(inAngle)*1.4*loopDist*(j/3+1)]};BRp$3.findCompoundLoopPoints=function(edge,pairInfo,i,edgeIsUnbundled){var rs=edge._private.rscratch;rs.edgeType="compound";var srcPos=pairInfo.srcPos,tgtPos=pairInfo.tgtPos,srcW=pairInfo.srcW,srcH=pairInfo.srcH,tgtW=pairInfo.tgtW,tgtH=pairInfo.tgtH;var stepSize=edge.pstyle("control-point-step-size").pfValue;var ctrlptDists=edge.pstyle("control-point-distances");var ctrlptDist=ctrlptDists?ctrlptDists.pfValue[0]:undefined;var j=i;var loopDist=stepSize;if(edgeIsUnbundled){j=0;loopDist=ctrlptDist}var loopW=50;var loopaPos={x:srcPos.x-srcW/2,y:srcPos.y-srcH/2};var loopbPos={x:tgtPos.x-tgtW/2,y:tgtPos.y-tgtH/2};var loopPos={x:Math.min(loopaPos.x,loopbPos.x),y:Math.min(loopaPos.y,loopbPos.y)};var minCompoundStretch=.5;var compoundStretchA=Math.max(minCompoundStretch,Math.log(srcW*.01));var compoundStretchB=Math.max(minCompoundStretch,Math.log(tgtW*.01));rs.ctrlpts=[loopPos.x,loopPos.y-(1+Math.pow(loopW,1.12)/100)*loopDist*(j/3+1)*compoundStretchA,loopPos.x-(1+Math.pow(loopW,1.12)/100)*loopDist*(j/3+1)*compoundStretchB,loopPos.y]};BRp$3.findStraightEdgePoints=function(edge){edge._private.rscratch.edgeType="straight"};BRp$3.findBezierPoints=function(edge,pairInfo,i,edgeIsUnbundled,edgeIsSwapped){var rs=edge._private.rscratch;var vectorNormInverse=pairInfo.vectorNormInverse,posPts=pairInfo.posPts,intersectionPts=pairInfo.intersectionPts;var edgeDistances=edge.pstyle("edge-distances").value;var stepSize=edge.pstyle("control-point-step-size").pfValue;var ctrlptDists=edge.pstyle("control-point-distances");var ctrlptWs=edge.pstyle("control-point-weights");var bezierN=ctrlptDists&&ctrlptWs?Math.min(ctrlptDists.value.length,ctrlptWs.value.length):1;var ctrlptDist=ctrlptDists?ctrlptDists.pfValue[0]:undefined;var ctrlptWeight=ctrlptWs.value[0];var multi=edgeIsUnbundled;rs.edgeType=multi?"multibezier":"bezier";rs.ctrlpts=[];for(var b=0;b<bezierN;b++){var normctrlptDist=(.5-pairInfo.eles.length/2+i)*stepSize*(edgeIsSwapped?-1:1);var manctrlptDist=void 0;var sign=signum(normctrlptDist);if(multi){ctrlptDist=ctrlptDists?ctrlptDists.pfValue[b]:stepSize;ctrlptWeight=ctrlptWs.value[b]}if(edgeIsUnbundled){manctrlptDist=ctrlptDist}else{manctrlptDist=ctrlptDist!==undefined?sign*ctrlptDist:undefined}var distanceFromMidpoint=manctrlptDist!==undefined?manctrlptDist:normctrlptDist;var w1=1-ctrlptWeight;var w2=ctrlptWeight;var midptPts=edgeDistances==="node-position"?posPts:intersectionPts;var adjustedMidpt={x:midptPts.x1*w1+midptPts.x2*w2,y:midptPts.y1*w1+midptPts.y2*w2};rs.ctrlpts.push(adjustedMidpt.x+vectorNormInverse.x*distanceFromMidpoint,adjustedMidpt.y+vectorNormInverse.y*distanceFromMidpoint)}};BRp$3.findTaxiPoints=function(edge,pairInfo){var rs=edge._private.rscratch;rs.edgeType="segments";var VERTICAL="vertical";var HORIZONTAL="horizontal";var LEFTWARD="leftward";var RIGHTWARD="rightward";var DOWNWARD="downward";var UPWARD="upward";var AUTO="auto";var posPts=pairInfo.posPts,srcW=pairInfo.srcW,srcH=pairInfo.srcH,tgtW=pairInfo.tgtW,tgtH=pairInfo.tgtH;var edgeDistances=edge.pstyle("edge-distances").value;var dIncludesNodeBody=edgeDistances!=="node-position";var taxiDir=edge.pstyle("taxi-direction").value;var rawTaxiDir=taxiDir;var taxiTurn=edge.pstyle("taxi-turn");var taxiTurnPfVal=taxiTurn.pfValue;var minD=edge.pstyle("taxi-turn-min-distance").pfValue;var turnIsPercent=taxiTurn.units==="%";var dw=dIncludesNodeBody?(srcW+tgtW)/2:0;var dh=dIncludesNodeBody?(srcH+tgtH)/2:0;var pdx=posPts.x2-posPts.x1;var pdy=posPts.y2-posPts.y1;var subDWH=function subDWH(dxy,dwh){if(dxy>0){return Math.max(dxy-dwh,0)}else{return Math.min(dxy+dwh,0)}};var dx=subDWH(pdx,dw);var dy=subDWH(pdy,dh);var isExplicitDir=false;if(taxiDir===AUTO){taxiDir=Math.abs(dx)>Math.abs(dy)?HORIZONTAL:VERTICAL}else if(taxiDir===UPWARD||taxiDir===DOWNWARD){taxiDir=VERTICAL;isExplicitDir=true}else if(taxiDir===LEFTWARD||taxiDir===RIGHTWARD){taxiDir=HORIZONTAL;isExplicitDir=true}var isVert=taxiDir===VERTICAL;var l=isVert?dy:dx;var pl=isVert?pdy:pdx;var sgnL=signum(pl);var forcedDir=false;if(!(isExplicitDir&&turnIsPercent)&&(rawTaxiDir===DOWNWARD&&pl<0||rawTaxiDir===UPWARD&&pl>0||rawTaxiDir===LEFTWARD&&pl>0||rawTaxiDir===RIGHTWARD&&pl<0)){sgnL*=-1;l=sgnL*Math.abs(l);forcedDir=true}var d=turnIsPercent?taxiTurnPfVal*l:taxiTurnPfVal*sgnL;var getIsTooClose=function getIsTooClose(d){return Math.abs(d)<minD||Math.abs(d)>=Math.abs(l)};var isTooCloseSrc=getIsTooClose(d);var isTooCloseTgt=getIsTooClose(l-d);var isTooClose=isTooCloseSrc||isTooCloseTgt;if(isTooClose&&!forcedDir){if(isVert){var lShapeInsideSrc=Math.abs(pl)<=srcH/2;var lShapeInsideTgt=Math.abs(pdx)<=tgtW/2;if(lShapeInsideSrc){var x=(posPts.x1+posPts.x2)/2;var y1=posPts.y1,y2=posPts.y2;rs.segpts=[x,y1,x,y2]}else if(lShapeInsideTgt){var y=(posPts.y1+posPts.y2)/2;var x1=posPts.x1,x2=posPts.x2;rs.segpts=[x1,y,x2,y]}else{rs.segpts=[posPts.x1,posPts.y2]}}else{var _lShapeInsideSrc=Math.abs(pl)<=srcW/2;var _lShapeInsideTgt=Math.abs(pdy)<=tgtH/2;if(_lShapeInsideSrc){var _y=(posPts.y1+posPts.y2)/2;var _x=posPts.x1,_x2=posPts.x2;rs.segpts=[_x,_y,_x2,_y]}else if(_lShapeInsideTgt){var _x3=(posPts.x1+posPts.x2)/2;var _y2=posPts.y1,_y3=posPts.y2;rs.segpts=[_x3,_y2,_x3,_y3]}else{rs.segpts=[posPts.x2,posPts.y1]}}}else{if(isVert){var _y4=posPts.y1+d+(dIncludesNodeBody?srcH/2*sgnL:0);var _x4=posPts.x1,_x5=posPts.x2;rs.segpts=[_x4,_y4,_x5,_y4]}else{var _x6=posPts.x1+d+(dIncludesNodeBody?srcW/2*sgnL:0);var _y5=posPts.y1,_y6=posPts.y2;rs.segpts=[_x6,_y5,_x6,_y6]}}};BRp$3.tryToCorrectInvalidPoints=function(edge,pairInfo){var rs=edge._private.rscratch;if(rs.edgeType==="bezier"){var srcPos=pairInfo.srcPos,tgtPos=pairInfo.tgtPos,srcW=pairInfo.srcW,srcH=pairInfo.srcH,tgtW=pairInfo.tgtW,tgtH=pairInfo.tgtH,srcShape=pairInfo.srcShape,tgtShape=pairInfo.tgtShape;var badStart=!number(rs.startX)||!number(rs.startY);var badAStart=!number(rs.arrowStartX)||!number(rs.arrowStartY);var badEnd=!number(rs.endX)||!number(rs.endY);var badAEnd=!number(rs.arrowEndX)||!number(rs.arrowEndY);var minCpADistFactor=3;var arrowW=this.getArrowWidth(edge.pstyle("width").pfValue,edge.pstyle("arrow-scale").value)*this.arrowShapeWidth;var minCpADist=minCpADistFactor*arrowW;var startACpDist=dist({x:rs.ctrlpts[0],y:rs.ctrlpts[1]},{x:rs.startX,y:rs.startY});var closeStartACp=startACpDist<minCpADist;var endACpDist=dist({x:rs.ctrlpts[0],y:rs.ctrlpts[1]},{x:rs.endX,y:rs.endY});var closeEndACp=endACpDist<minCpADist;var overlapping=false;if(badStart||badAStart||closeStartACp){overlapping=true;var cpD={x:rs.ctrlpts[0]-srcPos.x,y:rs.ctrlpts[1]-srcPos.y};var cpL=Math.sqrt(cpD.x*cpD.x+cpD.y*cpD.y);var cpM={x:cpD.x/cpL,y:cpD.y/cpL};var radius=Math.max(srcW,srcH);var cpProj={x:rs.ctrlpts[0]+cpM.x*2*radius,y:rs.ctrlpts[1]+cpM.y*2*radius};var srcCtrlPtIntn=srcShape.intersectLine(srcPos.x,srcPos.y,srcW,srcH,cpProj.x,cpProj.y,0);if(closeStartACp){rs.ctrlpts[0]=rs.ctrlpts[0]+cpM.x*(minCpADist-startACpDist);rs.ctrlpts[1]=rs.ctrlpts[1]+cpM.y*(minCpADist-startACpDist)}else{rs.ctrlpts[0]=srcCtrlPtIntn[0]+cpM.x*minCpADist;rs.ctrlpts[1]=srcCtrlPtIntn[1]+cpM.y*minCpADist}}if(badEnd||badAEnd||closeEndACp){overlapping=true;var _cpD={x:rs.ctrlpts[0]-tgtPos.x,y:rs.ctrlpts[1]-tgtPos.y};var _cpL=Math.sqrt(_cpD.x*_cpD.x+_cpD.y*_cpD.y);var _cpM={x:_cpD.x/_cpL,y:_cpD.y/_cpL};var _radius=Math.max(srcW,srcH);var _cpProj={x:rs.ctrlpts[0]+_cpM.x*2*_radius,y:rs.ctrlpts[1]+_cpM.y*2*_radius};var tgtCtrlPtIntn=tgtShape.intersectLine(tgtPos.x,tgtPos.y,tgtW,tgtH,_cpProj.x,_cpProj.y,0);if(closeEndACp){rs.ctrlpts[0]=rs.ctrlpts[0]+_cpM.x*(minCpADist-endACpDist);rs.ctrlpts[1]=rs.ctrlpts[1]+_cpM.y*(minCpADist-endACpDist)}else{rs.ctrlpts[0]=tgtCtrlPtIntn[0]+_cpM.x*minCpADist;rs.ctrlpts[1]=tgtCtrlPtIntn[1]+_cpM.y*minCpADist}}if(overlapping){this.findEndpoints(edge)}}};BRp$3.storeAllpts=function(edge){var rs=edge._private.rscratch;if(rs.edgeType==="multibezier"||rs.edgeType==="bezier"||rs.edgeType==="self"||rs.edgeType==="compound"){rs.allpts=[];rs.allpts.push(rs.startX,rs.startY);for(var b=0;b+1<rs.ctrlpts.length;b+=2){rs.allpts.push(rs.ctrlpts[b],rs.ctrlpts[b+1]);if(b+3<rs.ctrlpts.length){rs.allpts.push((rs.ctrlpts[b]+rs.ctrlpts[b+2])/2,(rs.ctrlpts[b+1]+rs.ctrlpts[b+3])/2)}}rs.allpts.push(rs.endX,rs.endY);var m,mt;if(rs.ctrlpts.length/2%2===0){m=rs.allpts.length/2-1;rs.midX=rs.allpts[m];rs.midY=rs.allpts[m+1]}else{m=rs.allpts.length/2-3;mt=.5;rs.midX=qbezierAt(rs.allpts[m],rs.allpts[m+2],rs.allpts[m+4],mt);rs.midY=qbezierAt(rs.allpts[m+1],rs.allpts[m+3],rs.allpts[m+5],mt)}}else if(rs.edgeType==="straight"){rs.allpts=[rs.startX,rs.startY,rs.endX,rs.endY];rs.midX=(rs.startX+rs.endX+rs.arrowStartX+rs.arrowEndX)/4;rs.midY=(rs.startY+rs.endY+rs.arrowStartY+rs.arrowEndY)/4}else if(rs.edgeType==="segments"){rs.allpts=[];rs.allpts.push(rs.startX,rs.startY);rs.allpts.push.apply(rs.allpts,rs.segpts);rs.allpts.push(rs.endX,rs.endY);if(rs.segpts.length%4===0){var i2=rs.segpts.length/2;var i1=i2-2;rs.midX=(rs.segpts[i1]+rs.segpts[i2])/2;rs.midY=(rs.segpts[i1+1]+rs.segpts[i2+1])/2}else{var _i=rs.segpts.length/2-1;rs.midX=rs.segpts[_i];rs.midY=rs.segpts[_i+1]}}};BRp$3.checkForInvalidEdgeWarning=function(edge){var rs=edge[0]._private.rscratch;if(rs.nodesOverlap||number(rs.startX)&&number(rs.startY)&&number(rs.endX)&&number(rs.endY)){rs.loggedErr=false}else{if(!rs.loggedErr){rs.loggedErr=true;warn("Edge `"+edge.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.")}}};BRp$3.findEdgeControlPoints=function(edges){var _this=this;if(!edges||edges.length===0){return}var r=this;var cy=r.cy;var hasCompounds=cy.hasCompoundNodes();var hashTable={map:new Map$1,get:function get(pairId){var map2=this.map.get(pairId[0]);if(map2!=null){return map2.get(pairId[1])}else{return null}},set:function set(pairId,val){var map2=this.map.get(pairId[0]);if(map2==null){map2=new Map$1;this.map.set(pairId[0],map2)}map2.set(pairId[1],val)}};var pairIds=[];var haystackEdges=[];for(var i=0;i<edges.length;i++){var edge=edges[i];var _p=edge._private;var curveStyle=edge.pstyle("curve-style").value;if(edge.removed()||!edge.takesUpSpace()){continue}if(curveStyle==="haystack"){haystackEdges.push(edge);continue}var edgeIsUnbundled=curveStyle==="unbundled-bezier"||curveStyle==="segments"||curveStyle==="straight"||curveStyle==="taxi";var edgeIsBezier=curveStyle==="unbundled-bezier"||curveStyle==="bezier";var src=_p.source;var tgt=_p.target;var srcIndex=src.poolIndex();var tgtIndex=tgt.poolIndex();var pairId=[srcIndex,tgtIndex].sort();var tableEntry=hashTable.get(pairId);if(tableEntry==null){tableEntry={eles:[]};hashTable.set(pairId,tableEntry);pairIds.push(pairId)}tableEntry.eles.push(edge);if(edgeIsUnbundled){tableEntry.hasUnbundled=true}if(edgeIsBezier){tableEntry.hasBezier=true}}var _loop=function _loop(p){var pairId=pairIds[p];var pairInfo=hashTable.get(pairId);var swappedpairInfo=void 0;if(!pairInfo.hasUnbundled){var pllEdges=pairInfo.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));clearArray(pairInfo.eles);pllEdges.forEach((function(edge){return pairInfo.eles.push(edge)}));pairInfo.eles.sort((function(edge1,edge2){return edge1.poolIndex()-edge2.poolIndex()}))}var firstEdge=pairInfo.eles[0];var src=firstEdge.source();var tgt=firstEdge.target();if(src.poolIndex()>tgt.poolIndex()){var temp=src;src=tgt;tgt=temp}var srcPos=pairInfo.srcPos=src.position();var tgtPos=pairInfo.tgtPos=tgt.position();var srcW=pairInfo.srcW=src.outerWidth();var srcH=pairInfo.srcH=src.outerHeight();var tgtW=pairInfo.tgtW=tgt.outerWidth();var tgtH=pairInfo.tgtH=tgt.outerHeight();var srcShape=pairInfo.srcShape=r.nodeShapes[_this.getNodeShape(src)];var tgtShape=pairInfo.tgtShape=r.nodeShapes[_this.getNodeShape(tgt)];pairInfo.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _i2=0;_i2<pairInfo.eles.length;_i2++){var _edge=pairInfo.eles[_i2];var rs=_edge[0]._private.rscratch;var _curveStyle=_edge.pstyle("curve-style").value;var _edgeIsUnbundled=_curveStyle==="unbundled-bezier"||_curveStyle==="segments"||_curveStyle==="taxi";var edgeIsSwapped=!src.same(_edge.source());if(!pairInfo.calculatedIntersection&&src!==tgt&&(pairInfo.hasBezier||pairInfo.hasUnbundled)){pairInfo.calculatedIntersection=true;var srcOutside=srcShape.intersectLine(srcPos.x,srcPos.y,srcW,srcH,tgtPos.x,tgtPos.y,0);var srcIntn=pairInfo.srcIntn=srcOutside;var tgtOutside=tgtShape.intersectLine(tgtPos.x,tgtPos.y,tgtW,tgtH,srcPos.x,srcPos.y,0);var tgtIntn=pairInfo.tgtIntn=tgtOutside;var intersectionPts=pairInfo.intersectionPts={x1:srcOutside[0],x2:tgtOutside[0],y1:srcOutside[1],y2:tgtOutside[1]};var posPts=pairInfo.posPts={x1:srcPos.x,x2:tgtPos.x,y1:srcPos.y,y2:tgtPos.y};var dy=tgtOutside[1]-srcOutside[1];var dx=tgtOutside[0]-srcOutside[0];var l=Math.sqrt(dx*dx+dy*dy);var vector=pairInfo.vector={x:dx,y:dy};var vectorNorm=pairInfo.vectorNorm={x:vector.x/l,y:vector.y/l};var vectorNormInverse={x:-vectorNorm.y,y:vectorNorm.x};pairInfo.nodesOverlap=!number(l)||tgtShape.checkPoint(srcOutside[0],srcOutside[1],0,tgtW,tgtH,tgtPos.x,tgtPos.y)||srcShape.checkPoint(tgtOutside[0],tgtOutside[1],0,srcW,srcH,srcPos.x,srcPos.y);pairInfo.vectorNormInverse=vectorNormInverse;swappedpairInfo={nodesOverlap:pairInfo.nodesOverlap,dirCounts:pairInfo.dirCounts,calculatedIntersection:true,hasBezier:pairInfo.hasBezier,hasUnbundled:pairInfo.hasUnbundled,eles:pairInfo.eles,srcPos:tgtPos,tgtPos:srcPos,srcW:tgtW,srcH:tgtH,tgtW:srcW,tgtH:srcH,srcIntn:tgtIntn,tgtIntn:srcIntn,srcShape:tgtShape,tgtShape:srcShape,posPts:{x1:posPts.x2,y1:posPts.y2,x2:posPts.x1,y2:posPts.y1},intersectionPts:{x1:intersectionPts.x2,y1:intersectionPts.y2,x2:intersectionPts.x1,y2:intersectionPts.y1},vector:{x:-vector.x,y:-vector.y},vectorNorm:{x:-vectorNorm.x,y:-vectorNorm.y},vectorNormInverse:{x:-vectorNormInverse.x,y:-vectorNormInverse.y}}}var passedPairInfo=edgeIsSwapped?swappedpairInfo:pairInfo;rs.nodesOverlap=passedPairInfo.nodesOverlap;rs.srcIntn=passedPairInfo.srcIntn;rs.tgtIntn=passedPairInfo.tgtIntn;if(hasCompounds&&(src.isParent()||src.isChild()||tgt.isParent()||tgt.isChild())&&(src.parents().anySame(tgt)||tgt.parents().anySame(src)||src.same(tgt)&&src.isParent())){_this.findCompoundLoopPoints(_edge,passedPairInfo,_i2,_edgeIsUnbundled)}else if(src===tgt){_this.findLoopPoints(_edge,passedPairInfo,_i2,_edgeIsUnbundled)}else if(_curveStyle==="segments"){_this.findSegmentsPoints(_edge,passedPairInfo)}else if(_curveStyle==="taxi"){_this.findTaxiPoints(_edge,passedPairInfo)}else if(_curveStyle==="straight"||!_edgeIsUnbundled&&pairInfo.eles.length%2===1&&_i2===Math.floor(pairInfo.eles.length/2)){_this.findStraightEdgePoints(_edge)}else{_this.findBezierPoints(_edge,passedPairInfo,_i2,_edgeIsUnbundled,edgeIsSwapped)}_this.findEndpoints(_edge);_this.tryToCorrectInvalidPoints(_edge,passedPairInfo);_this.checkForInvalidEdgeWarning(_edge);_this.storeAllpts(_edge);_this.storeEdgeProjections(_edge);_this.calculateArrowAngles(_edge);_this.recalculateEdgeLabelProjections(_edge);_this.calculateLabelAngles(_edge)}};for(var p=0;p<pairIds.length;p++){_loop(p)}this.findHaystackPoints(haystackEdges)};function getPts(pts){var retPts=[];if(pts==null){return}for(var i=0;i<pts.length;i+=2){var x=pts[i];var y=pts[i+1];retPts.push({x:x,y:y})}return retPts}BRp$3.getSegmentPoints=function(edge){var rs=edge[0]._private.rscratch;var type=rs.edgeType;if(type==="segments"){this.recalculateRenderedStyle(edge);return getPts(rs.segpts)}};BRp$3.getControlPoints=function(edge){var rs=edge[0]._private.rscratch;var type=rs.edgeType;if(type==="bezier"||type==="multibezier"||type==="self"||type==="compound"){this.recalculateRenderedStyle(edge);return getPts(rs.ctrlpts)}};BRp$3.getEdgeMidpoint=function(edge){var rs=edge[0]._private.rscratch;this.recalculateRenderedStyle(edge);return{x:rs.midX,y:rs.midY}};var BRp$4={};BRp$4.manualEndptToPx=function(node,prop){var r=this;var npos=node.position();var w=node.outerWidth();var h=node.outerHeight();if(prop.value.length===2){var p=[prop.pfValue[0],prop.pfValue[1]];if(prop.units[0]==="%"){p[0]=p[0]*w}if(prop.units[1]==="%"){p[1]=p[1]*h}p[0]+=npos.x;p[1]+=npos.y;return p}else{var angle=prop.pfValue[0];angle=-Math.PI/2+angle;var l=2*Math.max(w,h);var _p=[npos.x+Math.cos(angle)*l,npos.y+Math.sin(angle)*l];return r.nodeShapes[this.getNodeShape(node)].intersectLine(npos.x,npos.y,w,h,_p[0],_p[1],0)}};BRp$4.findEndpoints=function(edge){var r=this;var intersect;var source=edge.source()[0];var target=edge.target()[0];var srcPos=source.position();var tgtPos=target.position();var tgtArShape=edge.pstyle("target-arrow-shape").value;var srcArShape=edge.pstyle("source-arrow-shape").value;var tgtDist=edge.pstyle("target-distance-from-node").pfValue;var srcDist=edge.pstyle("source-distance-from-node").pfValue;var curveStyle=edge.pstyle("curve-style").value;var rs=edge._private.rscratch;var et=rs.edgeType;var taxi=curveStyle==="taxi";var self=et==="self"||et==="compound";var bezier=et==="bezier"||et==="multibezier"||self;var multi=et!=="bezier";var lines=et==="straight"||et==="segments";var segments=et==="segments";var hasEndpts=bezier||multi||lines;var overrideEndpts=self||taxi;var srcManEndpt=edge.pstyle("source-endpoint");var srcManEndptVal=overrideEndpts?"outside-to-node":srcManEndpt.value;var tgtManEndpt=edge.pstyle("target-endpoint");var tgtManEndptVal=overrideEndpts?"outside-to-node":tgtManEndpt.value;rs.srcManEndpt=srcManEndpt;rs.tgtManEndpt=tgtManEndpt;var p1;var p2;var p1_i;var p2_i;if(bezier){var cpStart=[rs.ctrlpts[0],rs.ctrlpts[1]];var cpEnd=multi?[rs.ctrlpts[rs.ctrlpts.length-2],rs.ctrlpts[rs.ctrlpts.length-1]]:cpStart;p1=cpEnd;p2=cpStart}else if(lines){var srcArrowFromPt=!segments?[tgtPos.x,tgtPos.y]:rs.segpts.slice(0,2);var tgtArrowFromPt=!segments?[srcPos.x,srcPos.y]:rs.segpts.slice(rs.segpts.length-2);p1=tgtArrowFromPt;p2=srcArrowFromPt}if(tgtManEndptVal==="inside-to-node"){intersect=[tgtPos.x,tgtPos.y]}else if(tgtManEndpt.units){intersect=this.manualEndptToPx(target,tgtManEndpt)}else if(tgtManEndptVal==="outside-to-line"){intersect=rs.tgtIntn}else{if(tgtManEndptVal==="outside-to-node"||tgtManEndptVal==="outside-to-node-or-label"){p1_i=p1}else if(tgtManEndptVal==="outside-to-line"||tgtManEndptVal==="outside-to-line-or-label"){p1_i=[srcPos.x,srcPos.y]}intersect=r.nodeShapes[this.getNodeShape(target)].intersectLine(tgtPos.x,tgtPos.y,target.outerWidth(),target.outerHeight(),p1_i[0],p1_i[1],0);if(tgtManEndptVal==="outside-to-node-or-label"||tgtManEndptVal==="outside-to-line-or-label"){var trs=target._private.rscratch;var lw=trs.labelWidth;var lh=trs.labelHeight;var lx=trs.labelX;var ly=trs.labelY;var va=target.pstyle("text-valign").value;if(va==="top"){ly-=lh/2}else if(va==="bottom"){ly+=lh/2}var ha=target.pstyle("text-halign").value;if(ha==="left"){lx-=lw/2}else if(ha==="right"){lx+=lw/2}var labelIntersect=r.nodeShapes["rectangle"].intersectLine(lx,ly,lw,lh,p1_i[0],p1_i[1],0);var refPt=srcPos;var intSqdist=sqdist(refPt,array2point(intersect));var labIntSqdist=sqdist(refPt,array2point(labelIntersect));if(labIntSqdist<intSqdist){intersect=labelIntersect}}}var arrowEnd=shortenIntersection(intersect,p1,r.arrowShapes[tgtArShape].spacing(edge)+tgtDist);var edgeEnd=shortenIntersection(intersect,p1,r.arrowShapes[tgtArShape].gap(edge)+tgtDist);rs.endX=edgeEnd[0];rs.endY=edgeEnd[1];rs.arrowEndX=arrowEnd[0];rs.arrowEndY=arrowEnd[1];if(srcManEndptVal==="inside-to-node"){intersect=[srcPos.x,srcPos.y]}else if(srcManEndpt.units){intersect=this.manualEndptToPx(source,srcManEndpt)}else if(srcManEndptVal==="outside-to-line"){intersect=rs.srcIntn}else{if(srcManEndptVal==="outside-to-node"||srcManEndptVal==="outside-to-node-or-label"){p2_i=p2}else if(srcManEndptVal==="outside-to-line"||srcManEndptVal==="outside-to-line-or-label"){p2_i=[tgtPos.x,tgtPos.y]}intersect=r.nodeShapes[this.getNodeShape(source)].intersectLine(srcPos.x,srcPos.y,source.outerWidth(),source.outerHeight(),p2_i[0],p2_i[1],0);if(srcManEndptVal==="outside-to-node-or-label"||srcManEndptVal==="outside-to-line-or-label"){var srs=source._private.rscratch;var _lw=srs.labelWidth;var _lh=srs.labelHeight;var _lx=srs.labelX;var _ly=srs.labelY;var _va=source.pstyle("text-valign").value;if(_va==="top"){_ly-=_lh/2}else if(_va==="bottom"){_ly+=_lh/2}var _ha=source.pstyle("text-halign").value;if(_ha==="left"){_lx-=_lw/2}else if(_ha==="right"){_lx+=_lw/2}var _labelIntersect=r.nodeShapes["rectangle"].intersectLine(_lx,_ly,_lw,_lh,p2_i[0],p2_i[1],0);var _refPt=tgtPos;var _intSqdist=sqdist(_refPt,array2point(intersect));var _labIntSqdist=sqdist(_refPt,array2point(_labelIntersect));if(_labIntSqdist<_intSqdist){intersect=_labelIntersect}}}var arrowStart=shortenIntersection(intersect,p2,r.arrowShapes[srcArShape].spacing(edge)+srcDist);var edgeStart=shortenIntersection(intersect,p2,r.arrowShapes[srcArShape].gap(edge)+srcDist);rs.startX=edgeStart[0];rs.startY=edgeStart[1];rs.arrowStartX=arrowStart[0];rs.arrowStartY=arrowStart[1];if(hasEndpts){if(!number(rs.startX)||!number(rs.startY)||!number(rs.endX)||!number(rs.endY)){rs.badLine=true}else{rs.badLine=false}}};BRp$4.getSourceEndpoint=function(edge){var rs=edge[0]._private.rscratch;this.recalculateRenderedStyle(edge);switch(rs.edgeType){case"haystack":return{x:rs.haystackPts[0],y:rs.haystackPts[1]};default:return{x:rs.arrowStartX,y:rs.arrowStartY}}};BRp$4.getTargetEndpoint=function(edge){var rs=edge[0]._private.rscratch;this.recalculateRenderedStyle(edge);switch(rs.edgeType){case"haystack":return{x:rs.haystackPts[2],y:rs.haystackPts[3]};default:return{x:rs.arrowEndX,y:rs.arrowEndY}}};var BRp$5={};function pushBezierPts(r,edge,pts){var qbezierAt$1=function qbezierAt$1(p1,p2,p3,t){return qbezierAt(p1,p2,p3,t)};var _p=edge._private;var bpts=_p.rstyle.bezierPts;for(var i=0;i<r.bezierProjPcts.length;i++){var p=r.bezierProjPcts[i];bpts.push({x:qbezierAt$1(pts[0],pts[2],pts[4],p),y:qbezierAt$1(pts[1],pts[3],pts[5],p)})}}BRp$5.storeEdgeProjections=function(edge){var _p=edge._private;var rs=_p.rscratch;var et=rs.edgeType;_p.rstyle.bezierPts=null;_p.rstyle.linePts=null;_p.rstyle.haystackPts=null;if(et==="multibezier"||et==="bezier"||et==="self"||et==="compound"){_p.rstyle.bezierPts=[];for(var i=0;i+5<rs.allpts.length;i+=4){pushBezierPts(this,edge,rs.allpts.slice(i,i+6))}}else if(et==="segments"){var lpts=_p.rstyle.linePts=[];for(var i=0;i+1<rs.allpts.length;i+=2){lpts.push({x:rs.allpts[i],y:rs.allpts[i+1]})}}else if(et==="haystack"){var hpts=rs.haystackPts;_p.rstyle.haystackPts=[{x:hpts[0],y:hpts[1]},{x:hpts[2],y:hpts[3]}]}_p.rstyle.arrowWidth=this.getArrowWidth(edge.pstyle("width").pfValue,edge.pstyle("arrow-scale").value)*this.arrowShapeWidth};BRp$5.recalculateEdgeProjections=function(edges){this.findEdgeControlPoints(edges)};var BRp$6={};BRp$6.recalculateNodeLabelProjection=function(node){var content=node.pstyle("label").strValue;if(emptyString(content)){return}var textX,textY;var _p=node._private;var nodeWidth=node.width();var nodeHeight=node.height();var padding=node.padding();var nodePos=node.position();var textHalign=node.pstyle("text-halign").strValue;var textValign=node.pstyle("text-valign").strValue;var rs=_p.rscratch;var rstyle=_p.rstyle;switch(textHalign){case"left":textX=nodePos.x-nodeWidth/2-padding;break;case"right":textX=nodePos.x+nodeWidth/2+padding;break;default:textX=nodePos.x}switch(textValign){case"top":textY=nodePos.y-nodeHeight/2-padding;break;case"bottom":textY=nodePos.y+nodeHeight/2+padding;break;default:textY=nodePos.y}rs.labelX=textX;rs.labelY=textY;rstyle.labelX=textX;rstyle.labelY=textY;this.applyLabelDimensions(node)};var lineAngleFromDelta=function lineAngleFromDelta(dx,dy){var angle=Math.atan(dy/dx);if(dx===0&&angle<0){angle=angle*-1}return angle};var lineAngle=function lineAngle(p0,p1){var dx=p1.x-p0.x;var dy=p1.y-p0.y;return lineAngleFromDelta(dx,dy)};var bezierAngle=function bezierAngle(p0,p1,p2,t){var t0=bound(0,t-.001,1);var t1=bound(0,t+.001,1);var lp0=qbezierPtAt(p0,p1,p2,t0);var lp1=qbezierPtAt(p0,p1,p2,t1);return lineAngle(lp0,lp1)};BRp$6.recalculateEdgeLabelProjections=function(edge){var p;var _p=edge._private;var rs=_p.rscratch;var r=this;var content={mid:edge.pstyle("label").strValue,source:edge.pstyle("source-label").strValue,target:edge.pstyle("target-label").strValue};if(content.mid||content.source||content.target);else{return}p={x:rs.midX,y:rs.midY};var setRs=function setRs(propName,prefix,value){setPrefixedProperty(_p.rscratch,propName,prefix,value);setPrefixedProperty(_p.rstyle,propName,prefix,value)};setRs("labelX",null,p.x);setRs("labelY",null,p.y);var midAngle=lineAngleFromDelta(rs.midDispX,rs.midDispY);setRs("labelAutoAngle",null,midAngle);var createControlPointInfo=function createControlPointInfo(){if(createControlPointInfo.cache){return createControlPointInfo.cache}var ctrlpts=[];for(var i=0;i+5<rs.allpts.length;i+=4){var p0={x:rs.allpts[i],y:rs.allpts[i+1]};var p1={x:rs.allpts[i+2],y:rs.allpts[i+3]};var p2={x:rs.allpts[i+4],y:rs.allpts[i+5]};ctrlpts.push({p0:p0,p1:p1,p2:p2,startDist:0,length:0,segments:[]})}var bpts=_p.rstyle.bezierPts;var nProjs=r.bezierProjPcts.length;function addSegment(cp,p0,p1,t0,t1){var length=dist(p0,p1);var prevSegment=cp.segments[cp.segments.length-1];var segment={p0:p0,p1:p1,t0:t0,t1:t1,startDist:prevSegment?prevSegment.startDist+prevSegment.length:0,length:length};cp.segments.push(segment);cp.length+=length}for(var _i=0;_i<ctrlpts.length;_i++){var cp=ctrlpts[_i];var prevCp=ctrlpts[_i-1];if(prevCp){cp.startDist=prevCp.startDist+prevCp.length}addSegment(cp,cp.p0,bpts[_i*nProjs],0,r.bezierProjPcts[0]);for(var j=0;j<nProjs-1;j++){addSegment(cp,bpts[_i*nProjs+j],bpts[_i*nProjs+j+1],r.bezierProjPcts[j],r.bezierProjPcts[j+1])}addSegment(cp,bpts[_i*nProjs+nProjs-1],cp.p2,r.bezierProjPcts[nProjs-1],1)}return createControlPointInfo.cache=ctrlpts};var calculateEndProjection=function calculateEndProjection(prefix){var angle;var isSrc=prefix==="source";if(!content[prefix]){return}var offset=edge.pstyle(prefix+"-text-offset").pfValue;switch(rs.edgeType){case"self":case"compound":case"bezier":case"multibezier":{var cps=createControlPointInfo();var selected;var startDist=0;var totalDist=0;for(var i=0;i<cps.length;i++){var _cp=cps[isSrc?i:cps.length-1-i];for(var j=0;j<_cp.segments.length;j++){var _seg=_cp.segments[isSrc?j:_cp.segments.length-1-j];var lastSeg=i===cps.length-1&&j===_cp.segments.length-1;startDist=totalDist;totalDist+=_seg.length;if(totalDist>=offset||lastSeg){selected={cp:_cp,segment:_seg};break}}if(selected){break}}var cp=selected.cp;var seg=selected.segment;var tSegment=(offset-startDist)/seg.length;var segDt=seg.t1-seg.t0;var t=isSrc?seg.t0+segDt*tSegment:seg.t1-segDt*tSegment;t=bound(0,t,1);p=qbezierPtAt(cp.p0,cp.p1,cp.p2,t);angle=bezierAngle(cp.p0,cp.p1,cp.p2,t);break}case"straight":case"segments":case"haystack":{var d=0,di,d0;var p0,p1;var l=rs.allpts.length;for(var _i2=0;_i2+3<l;_i2+=2){if(isSrc){p0={x:rs.allpts[_i2],y:rs.allpts[_i2+1]};p1={x:rs.allpts[_i2+2],y:rs.allpts[_i2+3]}}else{p0={x:rs.allpts[l-2-_i2],y:rs.allpts[l-1-_i2]};p1={x:rs.allpts[l-4-_i2],y:rs.allpts[l-3-_i2]}}di=dist(p0,p1);d0=d;d+=di;if(d>=offset){break}}var pD=offset-d0;var _t=pD/di;_t=bound(0,_t,1);p=lineAt(p0,p1,_t);angle=lineAngle(p0,p1);break}}setRs("labelX",prefix,p.x);setRs("labelY",prefix,p.y);setRs("labelAutoAngle",prefix,angle)};calculateEndProjection("source");calculateEndProjection("target");this.applyLabelDimensions(edge)};BRp$6.applyLabelDimensions=function(ele){this.applyPrefixedLabelDimensions(ele);if(ele.isEdge()){this.applyPrefixedLabelDimensions(ele,"source");this.applyPrefixedLabelDimensions(ele,"target")}};BRp$6.applyPrefixedLabelDimensions=function(ele,prefix){var _p=ele._private;var text=this.getLabelText(ele,prefix);var labelDims=this.calculateLabelDimensions(ele,text);var lineHeight=ele.pstyle("line-height").pfValue;var textWrap=ele.pstyle("text-wrap").strValue;var lines=getPrefixedProperty(_p.rscratch,"labelWrapCachedLines",prefix)||[];var numLines=textWrap!=="wrap"?1:Math.max(lines.length,1);var normPerLineHeight=labelDims.height/numLines;var labelLineHeight=normPerLineHeight*lineHeight;var width=labelDims.width;var height=labelDims.height+(numLines-1)*(lineHeight-1)*normPerLineHeight;setPrefixedProperty(_p.rstyle,"labelWidth",prefix,width);setPrefixedProperty(_p.rscratch,"labelWidth",prefix,width);setPrefixedProperty(_p.rstyle,"labelHeight",prefix,height);setPrefixedProperty(_p.rscratch,"labelHeight",prefix,height);setPrefixedProperty(_p.rscratch,"labelLineHeight",prefix,labelLineHeight)};BRp$6.getLabelText=function(ele,prefix){var _p=ele._private;var pfd=prefix?prefix+"-":"";var text=ele.pstyle(pfd+"label").strValue;var textTransform=ele.pstyle("text-transform").value;var rscratch=function rscratch(propName,value){if(value){setPrefixedProperty(_p.rscratch,propName,prefix,value);return value}else{return getPrefixedProperty(_p.rscratch,propName,prefix)}};if(!text){return""}if(textTransform=="none");else if(textTransform=="uppercase"){text=text.toUpperCase()}else if(textTransform=="lowercase"){text=text.toLowerCase()}var wrapStyle=ele.pstyle("text-wrap").value;if(wrapStyle==="wrap"){var labelKey=rscratch("labelKey");if(labelKey!=null&&rscratch("labelWrapKey")===labelKey){return rscratch("labelWrapCachedText")}var zwsp="​";var lines=text.split("\n");var maxW=ele.pstyle("text-max-width").pfValue;var overflow=ele.pstyle("text-overflow-wrap").value;var overflowAny=overflow==="anywhere";var wrappedLines=[];var wordsRegex=/[\s\u200b]+/;var wordSeparator=overflowAny?"":" ";for(var l=0;l<lines.length;l++){var line=lines[l];var lineDims=this.calculateLabelDimensions(ele,line);var lineW=lineDims.width;if(overflowAny){var processedLine=line.split("").join(zwsp);line=processedLine}if(lineW>maxW){var words=line.split(wordsRegex);var subline="";for(var w=0;w<words.length;w++){var word=words[w];var testLine=subline.length===0?word:subline+wordSeparator+word;var testDims=this.calculateLabelDimensions(ele,testLine);var testW=testDims.width;if(testW<=maxW){subline+=word+wordSeparator}else{wrappedLines.push(subline);subline=word+wordSeparator}}if(!subline.match(/^[\s\u200b]+$/)){wrappedLines.push(subline)}}else{wrappedLines.push(line)}}rscratch("labelWrapCachedLines",wrappedLines);text=rscratch("labelWrapCachedText",wrappedLines.join("\n"));rscratch("labelWrapKey",labelKey)}else if(wrapStyle==="ellipsis"){var _maxW=ele.pstyle("text-max-width").pfValue;var ellipsized="";var ellipsis="…";var incLastCh=false;for(var i=0;i<text.length;i++){var widthWithNextCh=this.calculateLabelDimensions(ele,ellipsized+text[i]+ellipsis).width;if(widthWithNextCh>_maxW){break}ellipsized+=text[i];if(i===text.length-1){incLastCh=true}}if(!incLastCh){ellipsized+=ellipsis}return ellipsized}return text};BRp$6.getLabelJustification=function(ele){var justification=ele.pstyle("text-justification").strValue;var textHalign=ele.pstyle("text-halign").strValue;if(justification==="auto"){if(ele.isNode()){switch(textHalign){case"left":return"right";case"right":return"left";default:return"center"}}else{return"center"}}else{return justification}};BRp$6.calculateLabelDimensions=function(ele,text){var r=this;var cacheKey=hashString(text,ele._private.labelDimsKey);var cache=r.labelDimCache||(r.labelDimCache=[]);var existingVal=cache[cacheKey];if(existingVal!=null){return existingVal}var sizeMult=1;var fStyle=ele.pstyle("font-style").strValue;var size=sizeMult*ele.pstyle("font-size").pfValue+"px";var family=ele.pstyle("font-family").strValue;var weight=ele.pstyle("font-weight").strValue;var div=this.labelCalcDiv;if(!div){div=this.labelCalcDiv=document.createElement("div");document.body.appendChild(div)}var ds=div.style;ds.fontFamily=family;ds.fontStyle=fStyle;ds.fontSize=size;ds.fontWeight=weight;ds.position="absolute";ds.left="-9999px";ds.top="-9999px";ds.zIndex="-1";ds.visibility="hidden";ds.pointerEvents="none";ds.padding="0";ds.lineHeight="1";if(ele.pstyle("text-wrap").value==="wrap"){ds.whiteSpace="pre"}else{ds.whiteSpace="normal"}div.textContent=text;return cache[cacheKey]={width:Math.ceil(div.clientWidth/sizeMult),height:Math.ceil(div.clientHeight/sizeMult)}};BRp$6.calculateLabelAngle=function(ele,prefix){var _p=ele._private;var rs=_p.rscratch;var isEdge=ele.isEdge();var prefixDash=prefix?prefix+"-":"";var rot=ele.pstyle(prefixDash+"text-rotation");var rotStr=rot.strValue;if(rotStr==="none"){return 0}else if(isEdge&&rotStr==="autorotate"){return rs.labelAutoAngle}else if(rotStr==="autorotate"){return 0}else{return rot.pfValue}};BRp$6.calculateLabelAngles=function(ele){var r=this;var isEdge=ele.isEdge();var _p=ele._private;var rs=_p.rscratch;rs.labelAngle=r.calculateLabelAngle(ele);if(isEdge){rs.sourceLabelAngle=r.calculateLabelAngle(ele,"source");rs.targetLabelAngle=r.calculateLabelAngle(ele,"target")}};var BRp$7={};var TOO_SMALL_CUT_RECT=28;var warnedCutRect=false;BRp$7.getNodeShape=function(node){var r=this;var shape=node.pstyle("shape").value;if(shape==="cutrectangle"&&(node.width()<TOO_SMALL_CUT_RECT||node.height()<TOO_SMALL_CUT_RECT)){if(!warnedCutRect){warn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead");warnedCutRect=true}return"rectangle"}if(node.isParent()){if(shape==="rectangle"||shape==="roundrectangle"||shape==="cutrectangle"||shape==="barrel"){return shape}else{return"rectangle"}}if(shape==="polygon"){var points=node.pstyle("shape-polygon-points").value;return r.nodeShapes.makePolygon(points).name}return shape};var BRp$8={};BRp$8.registerCalculationListeners=function(){var cy=this.cy;var elesToUpdate=cy.collection();var r=this;var enqueue=function enqueue(eles){var dirtyStyleCaches=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;elesToUpdate.merge(eles);if(dirtyStyleCaches){for(var i=0;i<eles.length;i++){var ele=eles[i];var _p=ele._private;var rstyle=_p.rstyle;rstyle.clean=false;rstyle.cleanConnected=false}}};r.binder(cy).on("bounds.* dirty.*",(function onDirtyBounds(e){var ele=e.target;enqueue(ele)})).on("style.* background.*",(function onDirtyStyle(e){var ele=e.target;enqueue(ele,false)}));var updateEleCalcs=function updateEleCalcs(willDraw){if(willDraw){var fns=r.onUpdateEleCalcsFns;for(var i=0;i<elesToUpdate.length;i++){var ele=elesToUpdate[i];var rstyle=ele._private.rstyle;if(ele.isNode()&&!rstyle.cleanConnected){enqueue(ele.connectedEdges());rstyle.cleanConnected=true}}if(fns){for(var i=0;i<fns.length;i++){var fn=fns[i];fn(willDraw,elesToUpdate)}}r.recalculateRenderedStyle(elesToUpdate);elesToUpdate=cy.collection()}};r.flushRenderedStyleQueue=function(){updateEleCalcs(true)};r.beforeRender(updateEleCalcs,r.beforeRenderPriorities.eleCalcs)};BRp$8.onUpdateEleCalcs=function(fn){var fns=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];fns.push(fn)};BRp$8.recalculateRenderedStyle=function(eles,useCache){var edges=[];var nodes=[];if(this.destroyed){return}if(useCache===undefined){useCache=true}for(var i=0;i<eles.length;i++){var ele=eles[i];var _p=ele._private;var rstyle=_p.rstyle;if(useCache&&rstyle.clean||ele.removed()){continue}if(ele.pstyle("display").value==="none"){continue}if(_p.group==="nodes"){nodes.push(ele)}else{edges.push(ele)}rstyle.clean=true}for(var i=0;i<nodes.length;i++){var ele=nodes[i];var _p=ele._private;var rstyle=_p.rstyle;var pos=ele.position();this.recalculateNodeLabelProjection(ele);rstyle.nodeX=pos.x;rstyle.nodeY=pos.y;rstyle.nodeW=ele.pstyle("width").pfValue;rstyle.nodeH=ele.pstyle("height").pfValue}this.recalculateEdgeProjections(edges);for(var i=0;i<edges.length;i++){var ele=edges[i];var _p=ele._private;var rstyle=_p.rstyle;var rs=_p.rscratch;rstyle.srcX=rs.arrowStartX;rstyle.srcY=rs.arrowStartY;rstyle.tgtX=rs.arrowEndX;rstyle.tgtY=rs.arrowEndY;rstyle.midX=rs.midX;rstyle.midY=rs.midY;rstyle.labelAngle=rs.labelAngle;rstyle.sourceLabelAngle=rs.sourceLabelAngle;rstyle.targetLabelAngle=rs.targetLabelAngle}};var BRp$9={};BRp$9.updateCachedGrabbedEles=function(){var eles=this.cachedZSortedEles;if(!eles){return}eles.drag=[];eles.nondrag=[];var grabTargets=[];for(var i=0;i<eles.length;i++){var ele=eles[i];var rs=ele._private.rscratch;if(ele.grabbed()&&!ele.isParent()){grabTargets.push(ele)}else if(rs.inDragLayer){eles.drag.push(ele)}else{eles.nondrag.push(ele)}}for(var i=0;i<grabTargets.length;i++){var ele=grabTargets[i];eles.drag.push(ele)}};BRp$9.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};BRp$9.getCachedZSortedEles=function(forceRecalc){if(forceRecalc||!this.cachedZSortedEles){var eles=this.cy.mutableElements().toArray();eles.sort(zIndexSort);eles.interactive=eles.filter((function(ele){return ele.interactive()}));this.cachedZSortedEles=eles;this.updateCachedGrabbedEles()}else{eles=this.cachedZSortedEles}return eles};var BRp$a={};[BRp$1,BRp$2,BRp$3,BRp$4,BRp$5,BRp$6,BRp$7,BRp$8,BRp$9].forEach((function(props){extend(BRp$a,props)}));var BRp$b={};BRp$b.getCachedImage=function(url,crossOrigin,onLoad){var r=this;var imageCache=r.imageCache=r.imageCache||{};var cache=imageCache[url];if(cache){if(!cache.image.complete){cache.image.addEventListener("load",onLoad)}return cache.image}else{cache=imageCache[url]=imageCache[url]||{};var image=cache.image=new Image;image.addEventListener("load",onLoad);image.addEventListener("error",(function(){image.error=true}));var dataUriPrefix="data:";var isDataUri=url.substring(0,dataUriPrefix.length).toLowerCase()===dataUriPrefix;if(!isDataUri){image.crossOrigin=crossOrigin}image.src=url;return image}};var BRp$c={};BRp$c.registerBinding=function(target,event,handler,useCapture){var args=Array.prototype.slice.apply(arguments,[1]);var b=this.binder(target);return b.on.apply(b,args)};BRp$c.binder=function(tgt){var r=this;var tgtIsDom=tgt===window||tgt===document||tgt===document.body||domElement(tgt);if(r.supportsPassiveEvents==null){var supportsPassive=false;try{var opts=Object.defineProperty({},"passive",{get:function get(){supportsPassive=true;return true}});window.addEventListener("test",null,opts)}catch(err){}r.supportsPassiveEvents=supportsPassive}var on=function on(event,handler,useCapture){var args=Array.prototype.slice.call(arguments);if(tgtIsDom&&r.supportsPassiveEvents){args[2]={capture:useCapture!=null?useCapture:false,passive:false,once:false}}r.bindings.push({target:tgt,args:args});(tgt.addEventListener||tgt.on).apply(tgt,args);return this};return{on:on,addEventListener:on,addListener:on,bind:on}};BRp$c.nodeIsDraggable=function(node){return node&&node.isNode()&&!node.locked()&&node.grabbable()};BRp$c.nodeIsGrabbable=function(node){return this.nodeIsDraggable(node)&&node.interactive()};BRp$c.load=function(){var r=this;var isSelected=function isSelected(ele){return ele.selected()};var triggerEvents=function triggerEvents(target,names,e,position){if(target==null){target=r.cy}for(var i=0;i<names.length;i++){var name=names[i];target.emit({originalEvent:e,type:name,position:position})}};var isMultSelKeyDown=function isMultSelKeyDown(e){return e.shiftKey||e.metaKey||e.ctrlKey};var allowPanningPassthrough=function allowPanningPassthrough(down,downs){var allowPassthrough=true;if(r.cy.hasCompoundNodes()&&down&&down.pannable()){for(var i=0;downs&&i<downs.length;i++){var down=downs[i];if(down.isNode()&&down.isParent()){allowPassthrough=false;break}}}else{allowPassthrough=true}return allowPassthrough};var setGrabbed=function setGrabbed(ele){ele[0]._private.grabbed=true};var setFreed=function setFreed(ele){ele[0]._private.grabbed=false};var setInDragLayer=function setInDragLayer(ele){ele[0]._private.rscratch.inDragLayer=true};var setOutDragLayer=function setOutDragLayer(ele){ele[0]._private.rscratch.inDragLayer=false};var setGrabTarget=function setGrabTarget(ele){ele[0]._private.rscratch.isGrabTarget=true};var removeGrabTarget=function removeGrabTarget(ele){ele[0]._private.rscratch.isGrabTarget=false};var addToDragList=function addToDragList(ele,opts){var list=opts.addToList;var listHasEle=list.has(ele);if(!listHasEle){list.merge(ele);setGrabbed(ele)}};var addDescendantsToDrag=function addDescendantsToDrag(node,opts){if(!node.cy().hasCompoundNodes()){return}if(opts.inDragLayer==null&&opts.addToList==null){return}var innerNodes=node.descendants();if(opts.inDragLayer){innerNodes.forEach(setInDragLayer);innerNodes.connectedEdges().forEach(setInDragLayer)}if(opts.addToList){opts.addToList.unmerge(innerNodes)}};var addNodesToDrag=function addNodesToDrag(nodes,opts){opts=opts||{};var hasCompoundNodes=nodes.cy().hasCompoundNodes();if(opts.inDragLayer){nodes.forEach(setInDragLayer);nodes.neighborhood().stdFilter((function(ele){return!hasCompoundNodes||ele.isEdge()})).forEach(setInDragLayer)}if(opts.addToList){nodes.forEach((function(ele){addToDragList(ele,opts)}))}addDescendantsToDrag(nodes,opts);updateAncestorsInDragLayer(nodes,{inDragLayer:opts.inDragLayer});r.updateCachedGrabbedEles()};var addNodeToDrag=addNodesToDrag;var freeDraggedElements=function freeDraggedElements(grabbedEles){if(!grabbedEles){return}r.getCachedZSortedEles().forEach((function(ele){setFreed(ele);setOutDragLayer(ele);removeGrabTarget(ele)}));r.updateCachedGrabbedEles()};var updateAncestorsInDragLayer=function updateAncestorsInDragLayer(node,opts){if(opts.inDragLayer==null&&opts.addToList==null){return}if(!node.cy().hasCompoundNodes()){return}var parent=node.ancestors().orphans();if(parent.same(node)){return}var nodes=parent.descendants().spawnSelf().merge(parent).unmerge(node).unmerge(node.descendants());var edges=nodes.connectedEdges();if(opts.inDragLayer){edges.forEach(setInDragLayer);nodes.forEach(setInDragLayer)}if(opts.addToList){nodes.forEach((function(ele){addToDragList(ele,opts)}))}};var blurActiveDomElement=function blurActiveDomElement(){if(document.activeElement!=null&&document.activeElement.blur!=null){document.activeElement.blur()}};var haveMutationsApi=typeof MutationObserver!=="undefined";var haveResizeObserverApi=typeof ResizeObserver!=="undefined";if(haveMutationsApi){r.removeObserver=new MutationObserver((function(mutns){for(var i=0;i<mutns.length;i++){var mutn=mutns[i];var rNodes=mutn.removedNodes;if(rNodes){for(var j=0;j<rNodes.length;j++){var rNode=rNodes[j];if(rNode===r.container){r.destroy();break}}}}}));if(r.container.parentNode){r.removeObserver.observe(r.container.parentNode,{childList:true})}}else{r.registerBinding(r.container,"DOMNodeRemoved",(function(e){r.destroy()}))}var onResize=util((function(){r.cy.resize()}),100);if(haveMutationsApi){r.styleObserver=new MutationObserver(onResize);r.styleObserver.observe(r.container,{attributes:true})}r.registerBinding(window,"resize",onResize);if(haveResizeObserverApi){r.resizeObserver=new ResizeObserver(onResize);r.resizeObserver.observe(r.container)}var forEachUp=function forEachUp(domEle,fn){while(domEle!=null){fn(domEle);domEle=domEle.parentNode}};var invalidateCoords=function invalidateCoords(){r.invalidateContainerClientCoordsCache()};forEachUp(r.container,(function(domEle){r.registerBinding(domEle,"transitionend",invalidateCoords);r.registerBinding(domEle,"animationend",invalidateCoords);r.registerBinding(domEle,"scroll",invalidateCoords)}));r.registerBinding(r.container,"contextmenu",(function(e){e.preventDefault()}));var inBoxSelection=function inBoxSelection(){return r.selection[4]!==0};var eventInContainer=function eventInContainer(e){var containerPageCoords=r.findContainerClientCoords();var x=containerPageCoords[0];var y=containerPageCoords[1];var width=containerPageCoords[2];var height=containerPageCoords[3];var positions=e.touches?e.touches:[e];var atLeastOnePosInside=false;for(var i=0;i<positions.length;i++){var p=positions[i];if(x<=p.clientX&&p.clientX<=x+width&&y<=p.clientY&&p.clientY<=y+height){atLeastOnePosInside=true;break}}if(!atLeastOnePosInside){return false}var container=r.container;var target=e.target;var tParent=target.parentNode;var containerIsTarget=false;while(tParent){if(tParent===container){containerIsTarget=true;break}tParent=tParent.parentNode}if(!containerIsTarget){return false}return true};r.registerBinding(r.container,"mousedown",(function mousedownHandler(e){if(!eventInContainer(e)){return}e.preventDefault();blurActiveDomElement();r.hoverData.capture=true;r.hoverData.which=e.which;var cy=r.cy;var gpos=[e.clientX,e.clientY];var pos=r.projectIntoViewport(gpos[0],gpos[1]);var select=r.selection;var nears=r.findNearestElements(pos[0],pos[1],true,false);var near=nears[0];var draggedElements=r.dragData.possibleDragElements;r.hoverData.mdownPos=pos;r.hoverData.mdownGPos=gpos;var checkForTaphold=function checkForTaphold(){r.hoverData.tapholdCancelled=false;clearTimeout(r.hoverData.tapholdTimeout);r.hoverData.tapholdTimeout=setTimeout((function(){if(r.hoverData.tapholdCancelled){return}else{var ele=r.hoverData.down;if(ele){ele.emit({originalEvent:e,type:"taphold",position:{x:pos[0],y:pos[1]}})}else{cy.emit({originalEvent:e,type:"taphold",position:{x:pos[0],y:pos[1]}})}}}),r.tapholdDuration)};if(e.which==3){r.hoverData.cxtStarted=true;var cxtEvt={originalEvent:e,type:"cxttapstart",position:{x:pos[0],y:pos[1]}};if(near){near.activate();near.emit(cxtEvt);r.hoverData.down=near}else{cy.emit(cxtEvt)}r.hoverData.downTime=(new Date).getTime();r.hoverData.cxtDragged=false}else if(e.which==1){if(near){near.activate()}{if(near!=null){if(r.nodeIsGrabbable(near)){var makeEvent=function makeEvent(type){return{originalEvent:e,type:type,position:{x:pos[0],y:pos[1]}}};var triggerGrab=function triggerGrab(ele){ele.emit(makeEvent("grab"))};setGrabTarget(near);if(!near.selected()){draggedElements=r.dragData.possibleDragElements=cy.collection();addNodeToDrag(near,{addToList:draggedElements});near.emit(makeEvent("grabon")).emit(makeEvent("grab"))}else{draggedElements=r.dragData.possibleDragElements=cy.collection();var selectedNodes=cy.$((function(ele){return ele.isNode()&&ele.selected()&&r.nodeIsGrabbable(ele)}));addNodesToDrag(selectedNodes,{addToList:draggedElements});near.emit(makeEvent("grabon"));selectedNodes.forEach(triggerGrab)}r.redrawHint("eles",true);r.redrawHint("drag",true)}}r.hoverData.down=near;r.hoverData.downs=nears;r.hoverData.downTime=(new Date).getTime()}triggerEvents(near,["mousedown","tapstart","vmousedown"],e,{x:pos[0],y:pos[1]});if(near==null){select[4]=1;r.data.bgActivePosistion={x:pos[0],y:pos[1]};r.redrawHint("select",true);r.redraw()}else if(near.pannable()){select[4]=1}checkForTaphold()}select[0]=select[2]=pos[0];select[1]=select[3]=pos[1]}),false);r.registerBinding(window,"mousemove",(function mousemoveHandler(e){var capture=r.hoverData.capture;if(!capture&&!eventInContainer(e)){return}var preventDefault=false;var cy=r.cy;var zoom=cy.zoom();var gpos=[e.clientX,e.clientY];var pos=r.projectIntoViewport(gpos[0],gpos[1]);var mdownPos=r.hoverData.mdownPos;var mdownGPos=r.hoverData.mdownGPos;var select=r.selection;var near=null;if(!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting){near=r.findNearestElement(pos[0],pos[1],true,false)}var last=r.hoverData.last;var down=r.hoverData.down;var disp=[pos[0]-select[2],pos[1]-select[3]];var draggedElements=r.dragData.possibleDragElements;var isOverThresholdDrag;if(mdownGPos){var dx=gpos[0]-mdownGPos[0];var dx2=dx*dx;var dy=gpos[1]-mdownGPos[1];var dy2=dy*dy;var dist2=dx2+dy2;r.hoverData.isOverThresholdDrag=isOverThresholdDrag=dist2>=r.desktopTapThreshold2}var multSelKeyDown=isMultSelKeyDown(e);if(isOverThresholdDrag){r.hoverData.tapholdCancelled=true}var updateDragDelta=function updateDragDelta(){var dragDelta=r.hoverData.dragDelta=r.hoverData.dragDelta||[];if(dragDelta.length===0){dragDelta.push(disp[0]);dragDelta.push(disp[1])}else{dragDelta[0]+=disp[0];dragDelta[1]+=disp[1]}};preventDefault=true;triggerEvents(near,["mousemove","vmousemove","tapdrag"],e,{x:pos[0],y:pos[1]});var goIntoBoxMode=function goIntoBoxMode(){r.data.bgActivePosistion=undefined;if(!r.hoverData.selecting){cy.emit({originalEvent:e,type:"boxstart",position:{x:pos[0],y:pos[1]}})}select[4]=1;r.hoverData.selecting=true;r.redrawHint("select",true);r.redraw()};if(r.hoverData.which===3){if(isOverThresholdDrag){var cxtEvt={originalEvent:e,type:"cxtdrag",position:{x:pos[0],y:pos[1]}};if(down){down.emit(cxtEvt)}else{cy.emit(cxtEvt)}r.hoverData.cxtDragged=true;if(!r.hoverData.cxtOver||near!==r.hoverData.cxtOver){if(r.hoverData.cxtOver){r.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:pos[0],y:pos[1]}})}r.hoverData.cxtOver=near;if(near){near.emit({originalEvent:e,type:"cxtdragover",position:{x:pos[0],y:pos[1]}})}}}}else if(r.hoverData.dragging){preventDefault=true;if(cy.panningEnabled()&&cy.userPanningEnabled()){var deltaP;if(r.hoverData.justStartedPan){var mdPos=r.hoverData.mdownPos;deltaP={x:(pos[0]-mdPos[0])*zoom,y:(pos[1]-mdPos[1])*zoom};r.hoverData.justStartedPan=false}else{deltaP={x:disp[0]*zoom,y:disp[1]*zoom}}cy.panBy(deltaP);r.hoverData.dragged=true}pos=r.projectIntoViewport(e.clientX,e.clientY)}else if(select[4]==1&&(down==null||down.pannable())){if(isOverThresholdDrag){if(!r.hoverData.dragging&&cy.boxSelectionEnabled()&&(multSelKeyDown||!cy.panningEnabled()||!cy.userPanningEnabled())){goIntoBoxMode()}else if(!r.hoverData.selecting&&cy.panningEnabled()&&cy.userPanningEnabled()){var allowPassthrough=allowPanningPassthrough(down,r.hoverData.downs);if(allowPassthrough){r.hoverData.dragging=true;r.hoverData.justStartedPan=true;select[4]=0;r.data.bgActivePosistion=array2point(mdownPos);r.redrawHint("select",true);r.redraw()}}if(down&&down.pannable()&&down.active()){down.unactivate()}}}else{if(down&&down.pannable()&&down.active()){down.unactivate()}if((!down||!down.grabbed())&&near!=last){if(last){triggerEvents(last,["mouseout","tapdragout"],e,{x:pos[0],y:pos[1]})}if(near){triggerEvents(near,["mouseover","tapdragover"],e,{x:pos[0],y:pos[1]})}r.hoverData.last=near}if(down){if(isOverThresholdDrag){if(cy.boxSelectionEnabled()&&multSelKeyDown){if(down&&down.grabbed()){freeDraggedElements(draggedElements);down.emit("freeon");draggedElements.emit("free");if(r.dragData.didDrag){down.emit("dragfreeon");draggedElements.emit("dragfree")}}goIntoBoxMode()}else if(down&&down.grabbed()&&r.nodeIsDraggable(down)){var justStartedDrag=!r.dragData.didDrag;if(justStartedDrag){r.redrawHint("eles",true)}r.dragData.didDrag=true;var toTrigger=cy.collection();if(!r.hoverData.draggingEles){addNodesToDrag(draggedElements,{inDragLayer:true})}var totalShift={x:0,y:0};if(number(disp[0])&&number(disp[1])){totalShift.x+=disp[0];totalShift.y+=disp[1];if(justStartedDrag){var dragDelta=r.hoverData.dragDelta;if(dragDelta&&number(dragDelta[0])&&number(dragDelta[1])){totalShift.x+=dragDelta[0];totalShift.y+=dragDelta[1]}}}for(var i=0;i<draggedElements.length;i++){var dEle=draggedElements[i];if(r.nodeIsDraggable(dEle)&&dEle.grabbed()){toTrigger.merge(dEle)}}r.hoverData.draggingEles=true;toTrigger.silentShift(totalShift).emit("position drag");r.redrawHint("drag",true);r.redraw()}}else{updateDragDelta()}}preventDefault=true}select[2]=pos[0];select[3]=pos[1];if(preventDefault){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault();return false}}),false);r.registerBinding(window,"mouseup",(function mouseupHandler(e){var capture=r.hoverData.capture;if(!capture){return}r.hoverData.capture=false;var cy=r.cy;var pos=r.projectIntoViewport(e.clientX,e.clientY);var select=r.selection;var near=r.findNearestElement(pos[0],pos[1],true,false);var draggedElements=r.dragData.possibleDragElements;var down=r.hoverData.down;var multSelKeyDown=isMultSelKeyDown(e);if(r.data.bgActivePosistion){r.redrawHint("select",true);r.redraw()}r.hoverData.tapholdCancelled=true;r.data.bgActivePosistion=undefined;if(down){down.unactivate()}if(r.hoverData.which===3){var cxtEvt={originalEvent:e,type:"cxttapend",position:{x:pos[0],y:pos[1]}};if(down){down.emit(cxtEvt)}else{cy.emit(cxtEvt)}if(!r.hoverData.cxtDragged){var cxtTap={originalEvent:e,type:"cxttap",position:{x:pos[0],y:pos[1]}};if(down){down.emit(cxtTap)}else{cy.emit(cxtTap)}}r.hoverData.cxtDragged=false;r.hoverData.which=null}else if(r.hoverData.which===1){triggerEvents(near,["mouseup","tapend","vmouseup"],e,{x:pos[0],y:pos[1]});if(!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag){triggerEvents(down,["click","tap","vclick"],e,{x:pos[0],y:pos[1]})}if(down==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!isMultSelKeyDown(e)){cy.$(isSelected).unselect(["tapunselect"]);if(draggedElements.length>0){r.redrawHint("eles",true)}r.dragData.possibleDragElements=draggedElements=cy.collection()}if(near==down&&!r.dragData.didDrag&&!r.hoverData.selecting){if(near!=null&&near._private.selectable){if(r.hoverData.dragging);else if(cy.selectionType()==="additive"||multSelKeyDown){if(near.selected()){near.unselect(["tapunselect"])}else{near.select(["tapselect"])}}else{if(!multSelKeyDown){cy.$(isSelected).unmerge(near).unselect(["tapunselect"]);near.select(["tapselect"])}}r.redrawHint("eles",true)}}if(r.hoverData.selecting){var box=cy.collection(r.getAllInBox(select[0],select[1],select[2],select[3]));r.redrawHint("select",true);if(box.length>0){r.redrawHint("eles",true)}cy.emit({type:"boxend",originalEvent:e,position:{x:pos[0],y:pos[1]}});var eleWouldBeSelected=function eleWouldBeSelected(ele){return ele.selectable()&&!ele.selected()};if(cy.selectionType()==="additive"){box.emit("box").stdFilter(eleWouldBeSelected).select().emit("boxselect")}else{if(!multSelKeyDown){cy.$(isSelected).unmerge(box).unselect()}box.emit("box").stdFilter(eleWouldBeSelected).select().emit("boxselect")}r.redraw()}if(r.hoverData.dragging){r.hoverData.dragging=false;r.redrawHint("select",true);r.redrawHint("eles",true);r.redraw()}if(!select[4]){r.redrawHint("drag",true);r.redrawHint("eles",true);var downWasGrabbed=down&&down.grabbed();freeDraggedElements(draggedElements);if(downWasGrabbed){down.emit("freeon");draggedElements.emit("free");if(r.dragData.didDrag){down.emit("dragfreeon");draggedElements.emit("dragfree")}}}}select[4]=0;r.hoverData.down=null;r.hoverData.cxtStarted=false;r.hoverData.draggingEles=false;r.hoverData.selecting=false;r.hoverData.isOverThresholdDrag=false;r.dragData.didDrag=false;r.hoverData.dragged=false;r.hoverData.dragDelta=[];r.hoverData.mdownPos=null;r.hoverData.mdownGPos=null}),false);var wheelHandler=function wheelHandler(e){if(r.scrollingPage){return}var cy=r.cy;var pos=r.projectIntoViewport(e.clientX,e.clientY);var rpos=[pos[0]*cy.zoom()+cy.pan().x,pos[1]*cy.zoom()+cy.pan().y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||inBoxSelection()){e.preventDefault();return}if(cy.panningEnabled()&&cy.userPanningEnabled()&&cy.zoomingEnabled()&&cy.userZoomingEnabled()){e.preventDefault();r.data.wheelZooming=true;clearTimeout(r.data.wheelTimeout);r.data.wheelTimeout=setTimeout((function(){r.data.wheelZooming=false;r.redrawHint("eles",true);r.redraw()}),150);var diff;if(e.deltaY!=null){diff=e.deltaY/-250}else if(e.wheelDeltaY!=null){diff=e.wheelDeltaY/1e3}else{diff=e.wheelDelta/1e3}diff=diff*r.wheelSensitivity;var needsWheelFix=e.deltaMode===1;if(needsWheelFix){diff*=33}cy.zoom({level:cy.zoom()*Math.pow(10,diff),renderedPosition:{x:rpos[0],y:rpos[1]}})}};r.registerBinding(r.container,"wheel",wheelHandler,true);r.registerBinding(window,"scroll",(function scrollHandler(e){r.scrollingPage=true;clearTimeout(r.scrollingPageTimeout);r.scrollingPageTimeout=setTimeout((function(){r.scrollingPage=false}),250)}),true);r.registerBinding(r.container,"mouseout",(function mouseOutHandler(e){var pos=r.projectIntoViewport(e.clientX,e.clientY);r.cy.emit({originalEvent:e,type:"mouseout",position:{x:pos[0],y:pos[1]}})}),false);r.registerBinding(r.container,"mouseover",(function mouseOverHandler(e){var pos=r.projectIntoViewport(e.clientX,e.clientY);r.cy.emit({originalEvent:e,type:"mouseover",position:{x:pos[0],y:pos[1]}})}),false);var f1x1,f1y1,f2x1,f2y1;var distance1,distance1Sq;var center1,modelCenter1;var offsetLeft,offsetTop;var containerWidth,containerHeight;var twoFingersStartInside;var distance=function distance(x1,y1,x2,y2){return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))};var distanceSq=function distanceSq(x1,y1,x2,y2){return(x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)};var touchstartHandler;r.registerBinding(r.container,"touchstart",touchstartHandler=function touchstartHandler(e){if(!eventInContainer(e)){return}blurActiveDomElement();r.touchData.capture=true;r.data.bgActivePosistion=undefined;var cy=r.cy;var now=r.touchData.now;var earlier=r.touchData.earlier;if(e.touches[0]){var pos=r.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);now[0]=pos[0];now[1]=pos[1]}if(e.touches[1]){var pos=r.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);now[2]=pos[0];now[3]=pos[1]}if(e.touches[2]){var pos=r.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);now[4]=pos[0];now[5]=pos[1]}if(e.touches[1]){r.touchData.singleTouchMoved=true;freeDraggedElements(r.dragData.touchDragEles);var offsets=r.findContainerClientCoords();offsetLeft=offsets[0];offsetTop=offsets[1];containerWidth=offsets[2];containerHeight=offsets[3];f1x1=e.touches[0].clientX-offsetLeft;f1y1=e.touches[0].clientY-offsetTop;f2x1=e.touches[1].clientX-offsetLeft;f2y1=e.touches[1].clientY-offsetTop;twoFingersStartInside=0<=f1x1&&f1x1<=containerWidth&&0<=f2x1&&f2x1<=containerWidth&&0<=f1y1&&f1y1<=containerHeight&&0<=f2y1&&f2y1<=containerHeight;var pan=cy.pan();var zoom=cy.zoom();distance1=distance(f1x1,f1y1,f2x1,f2y1);distance1Sq=distanceSq(f1x1,f1y1,f2x1,f2y1);center1=[(f1x1+f2x1)/2,(f1y1+f2y1)/2];modelCenter1=[(center1[0]-pan.x)/zoom,(center1[1]-pan.y)/zoom];var cxtDistThreshold=200;var cxtDistThresholdSq=cxtDistThreshold*cxtDistThreshold;if(distance1Sq<cxtDistThresholdSq&&!e.touches[2]){var near1=r.findNearestElement(now[0],now[1],true,true);var near2=r.findNearestElement(now[2],now[3],true,true);if(near1&&near1.isNode()){near1.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:now[0],y:now[1]}});r.touchData.start=near1}else if(near2&&near2.isNode()){near2.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:now[0],y:now[1]}});r.touchData.start=near2}else{cy.emit({originalEvent:e,type:"cxttapstart",position:{x:now[0],y:now[1]}})}if(r.touchData.start){r.touchData.start._private.grabbed=false}r.touchData.cxt=true;r.touchData.cxtDragged=false;r.data.bgActivePosistion=undefined;r.redraw();return}}if(e.touches[2]){if(cy.boxSelectionEnabled()){e.preventDefault()}}else if(e.touches[1]);else if(e.touches[0]){var nears=r.findNearestElements(now[0],now[1],true,true);var near=nears[0];if(near!=null){near.activate();r.touchData.start=near;r.touchData.starts=nears;if(r.nodeIsGrabbable(near)){var draggedEles=r.dragData.touchDragEles=cy.collection();var selectedNodes=null;r.redrawHint("eles",true);r.redrawHint("drag",true);if(near.selected()){selectedNodes=cy.$((function(ele){return ele.selected()&&r.nodeIsGrabbable(ele)}));addNodesToDrag(selectedNodes,{addToList:draggedEles})}else{addNodeToDrag(near,{addToList:draggedEles})}setGrabTarget(near);var makeEvent=function makeEvent(type){return{originalEvent:e,type:type,position:{x:now[0],y:now[1]}}};near.emit(makeEvent("grabon"));if(selectedNodes){selectedNodes.forEach((function(n){n.emit(makeEvent("grab"))}))}else{near.emit(makeEvent("grab"))}}}triggerEvents(near,["touchstart","tapstart","vmousedown"],e,{x:now[0],y:now[1]});if(near==null){r.data.bgActivePosistion={x:pos[0],y:pos[1]};r.redrawHint("select",true);r.redraw()}r.touchData.singleTouchMoved=false;r.touchData.singleTouchStartTime=+new Date;clearTimeout(r.touchData.tapholdTimeout);r.touchData.tapholdTimeout=setTimeout((function(){if(r.touchData.singleTouchMoved===false&&!r.pinching&&!r.touchData.selecting){triggerEvents(r.touchData.start,["taphold"],e,{x:now[0],y:now[1]})}}),r.tapholdDuration)}if(e.touches.length>=1){var sPos=r.touchData.startPosition=[];for(var i=0;i<now.length;i++){sPos[i]=earlier[i]=now[i]}var touch0=e.touches[0];r.touchData.startGPosition=[touch0.clientX,touch0.clientY]}},false);var touchmoveHandler;r.registerBinding(window,"touchmove",touchmoveHandler=function touchmoveHandler(e){var capture=r.touchData.capture;if(!capture&&!eventInContainer(e)){return}var select=r.selection;var cy=r.cy;var now=r.touchData.now;var earlier=r.touchData.earlier;var zoom=cy.zoom();if(e.touches[0]){var pos=r.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);now[0]=pos[0];now[1]=pos[1]}if(e.touches[1]){var pos=r.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);now[2]=pos[0];now[3]=pos[1]}if(e.touches[2]){var pos=r.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);now[4]=pos[0];now[5]=pos[1]}var startGPos=r.touchData.startGPosition;var isOverThresholdDrag;if(capture&&e.touches[0]&&startGPos){var disp=[];for(var j=0;j<now.length;j++){disp[j]=now[j]-earlier[j]}var dx=e.touches[0].clientX-startGPos[0];var dx2=dx*dx;var dy=e.touches[0].clientY-startGPos[1];var dy2=dy*dy;var dist2=dx2+dy2;isOverThresholdDrag=dist2>=r.touchTapThreshold2}if(capture&&r.touchData.cxt){e.preventDefault();var f1x2=e.touches[0].clientX-offsetLeft,f1y2=e.touches[0].clientY-offsetTop;var f2x2=e.touches[1].clientX-offsetLeft,f2y2=e.touches[1].clientY-offsetTop;var distance2Sq=distanceSq(f1x2,f1y2,f2x2,f2y2);var factorSq=distance2Sq/distance1Sq;var distThreshold=150;var distThresholdSq=distThreshold*distThreshold;var factorThreshold=1.5;var factorThresholdSq=factorThreshold*factorThreshold;if(factorSq>=factorThresholdSq||distance2Sq>=distThresholdSq){r.touchData.cxt=false;r.data.bgActivePosistion=undefined;r.redrawHint("select",true);var cxtEvt={originalEvent:e,type:"cxttapend",position:{x:now[0],y:now[1]}};if(r.touchData.start){r.touchData.start.unactivate().emit(cxtEvt);r.touchData.start=null}else{cy.emit(cxtEvt)}}}if(capture&&r.touchData.cxt){var cxtEvt={originalEvent:e,type:"cxtdrag",position:{x:now[0],y:now[1]}};r.data.bgActivePosistion=undefined;r.redrawHint("select",true);if(r.touchData.start){r.touchData.start.emit(cxtEvt)}else{cy.emit(cxtEvt)}if(r.touchData.start){r.touchData.start._private.grabbed=false}r.touchData.cxtDragged=true;var near=r.findNearestElement(now[0],now[1],true,true);if(!r.touchData.cxtOver||near!==r.touchData.cxtOver){if(r.touchData.cxtOver){r.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:now[0],y:now[1]}})}r.touchData.cxtOver=near;if(near){near.emit({originalEvent:e,type:"cxtdragover",position:{x:now[0],y:now[1]}})}}}else if(capture&&e.touches[2]&&cy.boxSelectionEnabled()){e.preventDefault();r.data.bgActivePosistion=undefined;this.lastThreeTouch=+new Date;if(!r.touchData.selecting){cy.emit({originalEvent:e,type:"boxstart",position:{x:now[0],y:now[1]}})}r.touchData.selecting=true;r.touchData.didSelect=true;select[4]=1;if(!select||select.length===0||select[0]===undefined){select[0]=(now[0]+now[2]+now[4])/3;select[1]=(now[1]+now[3]+now[5])/3;select[2]=(now[0]+now[2]+now[4])/3+1;select[3]=(now[1]+now[3]+now[5])/3+1}else{select[2]=(now[0]+now[2]+now[4])/3;select[3]=(now[1]+now[3]+now[5])/3}r.redrawHint("select",true);r.redraw()}else if(capture&&e.touches[1]&&!r.touchData.didSelect&&cy.zoomingEnabled()&&cy.panningEnabled()&&cy.userZoomingEnabled()&&cy.userPanningEnabled()){e.preventDefault();r.data.bgActivePosistion=undefined;r.redrawHint("select",true);var draggedEles=r.dragData.touchDragEles;if(draggedEles){r.redrawHint("drag",true);for(var i=0;i<draggedEles.length;i++){var de_p=draggedEles[i]._private;de_p.grabbed=false;de_p.rscratch.inDragLayer=false}}var _start=r.touchData.start;var f1x2=e.touches[0].clientX-offsetLeft,f1y2=e.touches[0].clientY-offsetTop;var f2x2=e.touches[1].clientX-offsetLeft,f2y2=e.touches[1].clientY-offsetTop;var distance2=distance(f1x2,f1y2,f2x2,f2y2);var factor=distance2/distance1;if(twoFingersStartInside){var df1x=f1x2-f1x1;var df1y=f1y2-f1y1;var df2x=f2x2-f2x1;var df2y=f2y2-f2y1;var tx=(df1x+df2x)/2;var ty=(df1y+df2y)/2;var zoom1=cy.zoom();var zoom2=zoom1*factor;var pan1=cy.pan();var ctrx=modelCenter1[0]*zoom1+pan1.x;var ctry=modelCenter1[1]*zoom1+pan1.y;var pan2={x:-zoom2/zoom1*(ctrx-pan1.x-tx)+ctrx,y:-zoom2/zoom1*(ctry-pan1.y-ty)+ctry};if(_start&&_start.active()){var draggedEles=r.dragData.touchDragEles;freeDraggedElements(draggedEles);r.redrawHint("drag",true);r.redrawHint("eles",true);_start.unactivate().emit("freeon");draggedEles.emit("free");if(r.dragData.didDrag){_start.emit("dragfreeon");draggedEles.emit("dragfree")}}cy.viewport({zoom:zoom2,pan:pan2,cancelOnFailedZoom:true});distance1=distance2;f1x1=f1x2;f1y1=f1y2;f2x1=f2x2;f2y1=f2y2;r.pinching=true}if(e.touches[0]){var pos=r.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);now[0]=pos[0];now[1]=pos[1]}if(e.touches[1]){var pos=r.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);now[2]=pos[0];now[3]=pos[1]}if(e.touches[2]){var pos=r.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);now[4]=pos[0];now[5]=pos[1]}}else if(e.touches[0]&&!r.touchData.didSelect){var start=r.touchData.start;var last=r.touchData.last;var near;if(!r.hoverData.draggingEles&&!r.swipePanning){near=r.findNearestElement(now[0],now[1],true,true)}if(capture&&start!=null){e.preventDefault()}if(capture&&start!=null&&r.nodeIsDraggable(start)){if(isOverThresholdDrag){var draggedEles=r.dragData.touchDragEles;var justStartedDrag=!r.dragData.didDrag;if(justStartedDrag){addNodesToDrag(draggedEles,{inDragLayer:true})}r.dragData.didDrag=true;var totalShift={x:0,y:0};if(number(disp[0])&&number(disp[1])){totalShift.x+=disp[0];totalShift.y+=disp[1];if(justStartedDrag){r.redrawHint("eles",true);var dragDelta=r.touchData.dragDelta;if(dragDelta&&number(dragDelta[0])&&number(dragDelta[1])){totalShift.x+=dragDelta[0];totalShift.y+=dragDelta[1]}}}r.hoverData.draggingEles=true;draggedEles.silentShift(totalShift).emit("position drag");r.redrawHint("drag",true);if(r.touchData.startPosition[0]==earlier[0]&&r.touchData.startPosition[1]==earlier[1]){r.redrawHint("eles",true)}r.redraw()}else{var dragDelta=r.touchData.dragDelta=r.touchData.dragDelta||[];if(dragDelta.length===0){dragDelta.push(disp[0]);dragDelta.push(disp[1])}else{dragDelta[0]+=disp[0];dragDelta[1]+=disp[1]}}}{triggerEvents(start||near,["touchmove","tapdrag","vmousemove"],e,{x:now[0],y:now[1]});if((!start||!start.grabbed())&&near!=last){if(last){last.emit({originalEvent:e,type:"tapdragout",position:{x:now[0],y:now[1]}})}if(near){near.emit({originalEvent:e,type:"tapdragover",position:{x:now[0],y:now[1]}})}}r.touchData.last=near}if(capture){for(var i=0;i<now.length;i++){if(now[i]&&r.touchData.startPosition[i]&&isOverThresholdDrag){r.touchData.singleTouchMoved=true}}}if(capture&&(start==null||start.pannable())&&cy.panningEnabled()&&cy.userPanningEnabled()){var allowPassthrough=allowPanningPassthrough(start,r.touchData.starts);if(allowPassthrough){e.preventDefault();if(!r.data.bgActivePosistion){r.data.bgActivePosistion=array2point(r.touchData.startPosition)}if(r.swipePanning){cy.panBy({x:disp[0]*zoom,y:disp[1]*zoom})}else if(isOverThresholdDrag){r.swipePanning=true;cy.panBy({x:dx*zoom,y:dy*zoom});if(start){start.unactivate();r.redrawHint("select",true);r.touchData.start=null}}}var pos=r.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);now[0]=pos[0];now[1]=pos[1]}}for(var j=0;j<now.length;j++){earlier[j]=now[j]}if(capture&&e.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null){r.data.bgActivePosistion=undefined;r.redrawHint("select",true);r.redraw()}},false);var touchcancelHandler;r.registerBinding(window,"touchcancel",touchcancelHandler=function touchcancelHandler(e){var start=r.touchData.start;r.touchData.capture=false;if(start){start.unactivate()}});var touchendHandler;r.registerBinding(window,"touchend",touchendHandler=function touchendHandler(e){var start=r.touchData.start;var capture=r.touchData.capture;if(capture){if(e.touches.length===0){r.touchData.capture=false}e.preventDefault()}else{return}var select=r.selection;r.swipePanning=false;r.hoverData.draggingEles=false;var cy=r.cy;var zoom=cy.zoom();var now=r.touchData.now;var earlier=r.touchData.earlier;if(e.touches[0]){var pos=r.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);now[0]=pos[0];now[1]=pos[1]}if(e.touches[1]){var pos=r.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);now[2]=pos[0];now[3]=pos[1]}if(e.touches[2]){var pos=r.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);now[4]=pos[0];now[5]=pos[1]}if(start){start.unactivate()}var ctxTapend;if(r.touchData.cxt){ctxTapend={originalEvent:e,type:"cxttapend",position:{x:now[0],y:now[1]}};if(start){start.emit(ctxTapend)}else{cy.emit(ctxTapend)}if(!r.touchData.cxtDragged){var ctxTap={originalEvent:e,type:"cxttap",position:{x:now[0],y:now[1]}};if(start){start.emit(ctxTap)}else{cy.emit(ctxTap)}}if(r.touchData.start){r.touchData.start._private.grabbed=false}r.touchData.cxt=false;r.touchData.start=null;r.redraw();return}if(!e.touches[2]&&cy.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=false;var box=cy.collection(r.getAllInBox(select[0],select[1],select[2],select[3]));select[0]=undefined;select[1]=undefined;select[2]=undefined;select[3]=undefined;select[4]=0;r.redrawHint("select",true);cy.emit({type:"boxend",originalEvent:e,position:{x:now[0],y:now[1]}});var eleWouldBeSelected=function eleWouldBeSelected(ele){return ele.selectable()&&!ele.selected()};box.emit("box").stdFilter(eleWouldBeSelected).select().emit("boxselect");if(box.nonempty()){r.redrawHint("eles",true)}r.redraw()}if(start!=null){start.unactivate()}if(e.touches[2]){r.data.bgActivePosistion=undefined;r.redrawHint("select",true)}else if(e.touches[1]);else if(e.touches[0]);else if(!e.touches[0]){r.data.bgActivePosistion=undefined;r.redrawHint("select",true);var draggedEles=r.dragData.touchDragEles;if(start!=null){var startWasGrabbed=start._private.grabbed;freeDraggedElements(draggedEles);r.redrawHint("drag",true);r.redrawHint("eles",true);if(startWasGrabbed){start.emit("freeon");draggedEles.emit("free");if(r.dragData.didDrag){start.emit("dragfreeon");draggedEles.emit("dragfree")}}triggerEvents(start,["touchend","tapend","vmouseup","tapdragout"],e,{x:now[0],y:now[1]});start.unactivate();r.touchData.start=null}else{var near=r.findNearestElement(now[0],now[1],true,true);triggerEvents(near,["touchend","tapend","vmouseup","tapdragout"],e,{x:now[0],y:now[1]})}var dx=r.touchData.startPosition[0]-now[0];var dx2=dx*dx;var dy=r.touchData.startPosition[1]-now[1];var dy2=dy*dy;var dist2=dx2+dy2;var rdist2=dist2*zoom*zoom;if(!r.touchData.singleTouchMoved){if(!start){cy.$(":selected").unselect(["tapunselect"])}triggerEvents(start,["tap","vclick"],e,{x:now[0],y:now[1]})}if(start!=null&&!r.dragData.didDrag&&start._private.selectable&&rdist2<r.touchTapThreshold2&&!r.pinching){if(cy.selectionType()==="single"){cy.$(isSelected).unmerge(start).unselect(["tapunselect"]);start.select(["tapselect"])}else{if(start.selected()){start.unselect(["tapunselect"])}else{start.select(["tapselect"])}}r.redrawHint("eles",true)}r.touchData.singleTouchMoved=true}for(var j=0;j<now.length;j++){earlier[j]=now[j]}r.dragData.didDrag=false;if(e.touches.length===0){r.touchData.dragDelta=[];r.touchData.startPosition=null;r.touchData.startGPosition=null;r.touchData.didSelect=false}if(e.touches.length<2){if(e.touches.length===1){r.touchData.startGPosition=[e.touches[0].clientX,e.touches[0].clientY]}r.pinching=false;r.redrawHint("eles",true);r.redraw()}},false);if(typeof TouchEvent==="undefined"){var pointers=[];var makeTouch=function makeTouch(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}};var makePointer=function makePointer(e){return{event:e,touch:makeTouch(e)}};var addPointer=function addPointer(e){pointers.push(makePointer(e))};var removePointer=function removePointer(e){for(var i=0;i<pointers.length;i++){var p=pointers[i];if(p.event.pointerId===e.pointerId){pointers.splice(i,1);return}}};var updatePointer=function updatePointer(e){var p=pointers.filter((function(p){return p.event.pointerId===e.pointerId}))[0];p.event=e;p.touch=makeTouch(e)};var addTouchesToEvent=function addTouchesToEvent(e){e.touches=pointers.map((function(p){return p.touch}))};var pointerIsMouse=function pointerIsMouse(e){return e.pointerType==="mouse"||e.pointerType===4};r.registerBinding(r.container,"pointerdown",(function(e){if(pointerIsMouse(e)){return}e.preventDefault();addPointer(e);addTouchesToEvent(e);touchstartHandler(e)}));r.registerBinding(r.container,"pointerup",(function(e){if(pointerIsMouse(e)){return}removePointer(e);addTouchesToEvent(e);touchendHandler(e)}));r.registerBinding(r.container,"pointercancel",(function(e){if(pointerIsMouse(e)){return}removePointer(e);addTouchesToEvent(e);touchcancelHandler(e)}));r.registerBinding(r.container,"pointermove",(function(e){if(pointerIsMouse(e)){return}e.preventDefault();updatePointer(e);addTouchesToEvent(e);touchmoveHandler(e)}))}};var BRp$d={};BRp$d.generatePolygon=function(name,points){return this.nodeShapes[name]={renderer:this,name:name,points:points,draw:function draw(context,centerX,centerY,width,height){this.renderer.nodeShapeImpl("polygon",context,centerX,centerY,width,height,this.points)},intersectLine:function intersectLine(nodeX,nodeY,width,height,x,y,padding){return polygonIntersectLine(x,y,this.points,nodeX,nodeY,width/2,height/2,padding)},checkPoint:function checkPoint(x,y,padding,width,height,centerX,centerY){return pointInsidePolygon(x,y,this.points,centerX,centerY,width,height,[0,-1],padding)}}};BRp$d.generateEllipse=function(){return this.nodeShapes["ellipse"]={renderer:this,name:"ellipse",draw:function draw(context,centerX,centerY,width,height){this.renderer.nodeShapeImpl(this.name,context,centerX,centerY,width,height)},intersectLine:function intersectLine(nodeX,nodeY,width,height,x,y,padding){return intersectLineEllipse(x,y,nodeX,nodeY,width/2+padding,height/2+padding)},checkPoint:function checkPoint(x,y,padding,width,height,centerX,centerY){return checkInEllipse(x,y,width,height,centerX,centerY,padding)}}};BRp$d.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes["roundrectangle"]={renderer:this,name:"round-rectangle",points:generateUnitNgonPointsFitToSquare(4,0),draw:function draw(context,centerX,centerY,width,height){this.renderer.nodeShapeImpl(this.name,context,centerX,centerY,width,height)},intersectLine:function intersectLine(nodeX,nodeY,width,height,x,y,padding){return roundRectangleIntersectLine(x,y,nodeX,nodeY,width,height,padding)},checkPoint:function checkPoint(x,y,padding,width,height,centerX,centerY){var cornerRadius=getRoundRectangleRadius(width,height);var diam=cornerRadius*2;if(pointInsidePolygon(x,y,this.points,centerX,centerY,width,height-diam,[0,-1],padding)){return true}if(pointInsidePolygon(x,y,this.points,centerX,centerY,width-diam,height,[0,-1],padding)){return true}if(checkInEllipse(x,y,diam,diam,centerX-width/2+cornerRadius,centerY-height/2+cornerRadius,padding)){return true}if(checkInEllipse(x,y,diam,diam,centerX+width/2-cornerRadius,centerY-height/2+cornerRadius,padding)){return true}if(checkInEllipse(x,y,diam,diam,centerX+width/2-cornerRadius,centerY+height/2-cornerRadius,padding)){return true}if(checkInEllipse(x,y,diam,diam,centerX-width/2+cornerRadius,centerY+height/2-cornerRadius,padding)){return true}return false}}};BRp$d.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes["cutrectangle"]={renderer:this,name:"cut-rectangle",cornerLength:getCutRectangleCornerLength(),points:generateUnitNgonPointsFitToSquare(4,0),draw:function draw(context,centerX,centerY,width,height){this.renderer.nodeShapeImpl(this.name,context,centerX,centerY,width,height)},generateCutTrianglePts:function generateCutTrianglePts(width,height,centerX,centerY){var cl=this.cornerLength;var hh=height/2;var hw=width/2;var xBegin=centerX-hw;var xEnd=centerX+hw;var yBegin=centerY-hh;var yEnd=centerY+hh;return{topLeft:[xBegin,yBegin+cl,xBegin+cl,yBegin,xBegin+cl,yBegin+cl],topRight:[xEnd-cl,yBegin,xEnd,yBegin+cl,xEnd-cl,yBegin+cl],bottomRight:[xEnd,yEnd-cl,xEnd-cl,yEnd,xEnd-cl,yEnd-cl],bottomLeft:[xBegin+cl,yEnd,xBegin,yEnd-cl,xBegin+cl,yEnd-cl]}},intersectLine:function intersectLine(nodeX,nodeY,width,height,x,y,padding){var cPts=this.generateCutTrianglePts(width+2*padding,height+2*padding,nodeX,nodeY);var pts=[].concat.apply([],[cPts.topLeft.splice(0,4),cPts.topRight.splice(0,4),cPts.bottomRight.splice(0,4),cPts.bottomLeft.splice(0,4)]);return polygonIntersectLine(x,y,pts,nodeX,nodeY)},checkPoint:function checkPoint(x,y,padding,width,height,centerX,centerY){if(pointInsidePolygon(x,y,this.points,centerX,centerY,width,height-2*this.cornerLength,[0,-1],padding)){return true}if(pointInsidePolygon(x,y,this.points,centerX,centerY,width-2*this.cornerLength,height,[0,-1],padding)){return true}var cutTrianglePts=this.generateCutTrianglePts(width,height,centerX,centerY);return pointInsidePolygonPoints(x,y,cutTrianglePts.topLeft)||pointInsidePolygonPoints(x,y,cutTrianglePts.topRight)||pointInsidePolygonPoints(x,y,cutTrianglePts.bottomRight)||pointInsidePolygonPoints(x,y,cutTrianglePts.bottomLeft)}}};BRp$d.generateBarrel=function(){return this.nodeShapes["barrel"]={renderer:this,name:"barrel",points:generateUnitNgonPointsFitToSquare(4,0),draw:function draw(context,centerX,centerY,width,height){this.renderer.nodeShapeImpl(this.name,context,centerX,centerY,width,height)},intersectLine:function intersectLine(nodeX,nodeY,width,height,x,y,padding){var t0=.15;var t1=.5;var t2=.85;var bPts=this.generateBarrelBezierPts(width+2*padding,height+2*padding,nodeX,nodeY);var approximateBarrelCurvePts=function approximateBarrelCurvePts(pts){var m0=qbezierPtAt({x:pts[0],y:pts[1]},{x:pts[2],y:pts[3]},{x:pts[4],y:pts[5]},t0);var m1=qbezierPtAt({x:pts[0],y:pts[1]},{x:pts[2],y:pts[3]},{x:pts[4],y:pts[5]},t1);var m2=qbezierPtAt({x:pts[0],y:pts[1]},{x:pts[2],y:pts[3]},{x:pts[4],y:pts[5]},t2);return[pts[0],pts[1],m0.x,m0.y,m1.x,m1.y,m2.x,m2.y,pts[4],pts[5]]};var pts=[].concat(approximateBarrelCurvePts(bPts.topLeft),approximateBarrelCurvePts(bPts.topRight),approximateBarrelCurvePts(bPts.bottomRight),approximateBarrelCurvePts(bPts.bottomLeft));return polygonIntersectLine(x,y,pts,nodeX,nodeY)},generateBarrelBezierPts:function generateBarrelBezierPts(width,height,centerX,centerY){var hh=height/2;var hw=width/2;var xBegin=centerX-hw;var xEnd=centerX+hw;var yBegin=centerY-hh;var yEnd=centerY+hh;var curveConstants=getBarrelCurveConstants(width,height);var hOffset=curveConstants.heightOffset;var wOffset=curveConstants.widthOffset;var ctrlPtXOffset=curveConstants.ctrlPtOffsetPct*width;var pts={topLeft:[xBegin,yBegin+hOffset,xBegin+ctrlPtXOffset,yBegin,xBegin+wOffset,yBegin],topRight:[xEnd-wOffset,yBegin,xEnd-ctrlPtXOffset,yBegin,xEnd,yBegin+hOffset],bottomRight:[xEnd,yEnd-hOffset,xEnd-ctrlPtXOffset,yEnd,xEnd-wOffset,yEnd],bottomLeft:[xBegin+wOffset,yEnd,xBegin+ctrlPtXOffset,yEnd,xBegin,yEnd-hOffset]};pts.topLeft.isTop=true;pts.topRight.isTop=true;pts.bottomLeft.isBottom=true;pts.bottomRight.isBottom=true;return pts},checkPoint:function checkPoint(x,y,padding,width,height,centerX,centerY){var curveConstants=getBarrelCurveConstants(width,height);var hOffset=curveConstants.heightOffset;var wOffset=curveConstants.widthOffset;if(pointInsidePolygon(x,y,this.points,centerX,centerY,width,height-2*hOffset,[0,-1],padding)){return true}if(pointInsidePolygon(x,y,this.points,centerX,centerY,width-2*wOffset,height,[0,-1],padding)){return true}var barrelCurvePts=this.generateBarrelBezierPts(width,height,centerX,centerY);var getCurveT=function getCurveT(x,y,curvePts){var x0=curvePts[4];var x1=curvePts[2];var x2=curvePts[0];var y0=curvePts[5];var y2=curvePts[1];var xMin=Math.min(x0,x2);var xMax=Math.max(x0,x2);var yMin=Math.min(y0,y2);var yMax=Math.max(y0,y2);if(xMin<=x&&x<=xMax&&yMin<=y&&y<=yMax){var coeff=bezierPtsToQuadCoeff(x0,x1,x2);var roots=solveQuadratic(coeff[0],coeff[1],coeff[2],x);var validRoots=roots.filter((function(r){return 0<=r&&r<=1}));if(validRoots.length>0){return validRoots[0]}}return null};var curveRegions=Object.keys(barrelCurvePts);for(var i=0;i<curveRegions.length;i++){var corner=curveRegions[i];var cornerPts=barrelCurvePts[corner];var t=getCurveT(x,y,cornerPts);if(t==null){continue}var y0=cornerPts[5];var y1=cornerPts[3];var y2=cornerPts[1];var bezY=qbezierAt(y0,y1,y2,t);if(cornerPts.isTop&&bezY<=y){return true}if(cornerPts.isBottom&&y<=bezY){return true}}return false}}};BRp$d.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes["bottomroundrectangle"]={renderer:this,name:"bottom-round-rectangle",points:generateUnitNgonPointsFitToSquare(4,0),draw:function draw(context,centerX,centerY,width,height){this.renderer.nodeShapeImpl(this.name,context,centerX,centerY,width,height)},intersectLine:function intersectLine(nodeX,nodeY,width,height,x,y,padding){var topStartX=nodeX-(width/2+padding);var topStartY=nodeY-(height/2+padding);var topEndY=topStartY;var topEndX=nodeX+(width/2+padding);var topIntersections=finiteLinesIntersect(x,y,nodeX,nodeY,topStartX,topStartY,topEndX,topEndY,false);if(topIntersections.length>0){return topIntersections}return roundRectangleIntersectLine(x,y,nodeX,nodeY,width,height,padding)},checkPoint:function checkPoint(x,y,padding,width,height,centerX,centerY){var cornerRadius=getRoundRectangleRadius(width,height);var diam=2*cornerRadius;if(pointInsidePolygon(x,y,this.points,centerX,centerY,width,height-diam,[0,-1],padding)){return true}if(pointInsidePolygon(x,y,this.points,centerX,centerY,width-diam,height,[0,-1],padding)){return true}var outerWidth=width/2+2*padding;var outerHeight=height/2+2*padding;var points=[centerX-outerWidth,centerY-outerHeight,centerX-outerWidth,centerY,centerX+outerWidth,centerY,centerX+outerWidth,centerY-outerHeight];if(pointInsidePolygonPoints(x,y,points)){return true}if(checkInEllipse(x,y,diam,diam,centerX+width/2-cornerRadius,centerY+height/2-cornerRadius,padding)){return true}if(checkInEllipse(x,y,diam,diam,centerX-width/2+cornerRadius,centerY+height/2-cornerRadius,padding)){return true}return false}}};BRp$d.registerNodeShapes=function(){var nodeShapes=this.nodeShapes={};var renderer=this;this.generateEllipse();this.generatePolygon("triangle",generateUnitNgonPointsFitToSquare(3,0));this.generatePolygon("rectangle",generateUnitNgonPointsFitToSquare(4,0));nodeShapes["square"]=nodeShapes["rectangle"];this.generateRoundRectangle();this.generateCutRectangle();this.generateBarrel();this.generateBottomRoundrectangle();this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]);this.generatePolygon("pentagon",generateUnitNgonPointsFitToSquare(5,0));this.generatePolygon("hexagon",generateUnitNgonPointsFitToSquare(6,0));this.generatePolygon("heptagon",generateUnitNgonPointsFitToSquare(7,0));this.generatePolygon("octagon",generateUnitNgonPointsFitToSquare(8,0));var star5Points=new Array(20);{var outerPoints=generateUnitNgonPoints(5,0);var innerPoints=generateUnitNgonPoints(5,Math.PI/5);var innerRadius=.5*(3-Math.sqrt(5));innerRadius*=1.57;for(var i=0;i<innerPoints.length/2;i++){innerPoints[i*2]*=innerRadius;innerPoints[i*2+1]*=innerRadius}for(var i=0;i<20/4;i++){star5Points[i*4]=outerPoints[i*2];star5Points[i*4+1]=outerPoints[i*2+1];star5Points[i*4+2]=innerPoints[i*2];star5Points[i*4+3]=innerPoints[i*2+1]}}star5Points=fitPolygonToSquare(star5Points);this.generatePolygon("star",star5Points);this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]);this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]);this.nodeShapes["concavehexagon"]=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]);nodeShapes.makePolygon=function(points){var key=points.join("$");var name="polygon-"+key;var shape;if(shape=this[name]){return shape}return renderer.generatePolygon(name,points)}};var BRp$e={};BRp$e.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};BRp$e.redraw=function(options){options=options||staticEmptyObject();var r=this;if(r.averageRedrawTime===undefined){r.averageRedrawTime=0}if(r.lastRedrawTime===undefined){r.lastRedrawTime=0}if(r.lastDrawTime===undefined){r.lastDrawTime=0}r.requestedFrame=true;r.renderOptions=options};BRp$e.beforeRender=function(fn,priority){if(this.destroyed){return}if(priority==null){error("Priority is not optional for beforeRender")}var cbs=this.beforeRenderCallbacks;cbs.push({fn:fn,priority:priority});cbs.sort((function(a,b){return b.priority-a.priority}))};var beforeRenderCallbacks=function beforeRenderCallbacks(r,willDraw,startTime){var cbs=r.beforeRenderCallbacks;for(var i=0;i<cbs.length;i++){cbs[i].fn(willDraw,startTime)}};BRp$e.startRenderLoop=function(){var r=this;var cy=r.cy;if(r.renderLoopStarted){return}else{r.renderLoopStarted=true}var renderFn=function renderFn(requestTime){if(r.destroyed){return}if(cy.batching());else if(r.requestedFrame&&!r.skipFrame){beforeRenderCallbacks(r,true,requestTime);var startTime=performanceNow();r.render(r.renderOptions);var endTime=r.lastDrawTime=performanceNow();if(r.averageRedrawTime===undefined){r.averageRedrawTime=endTime-startTime}if(r.redrawCount===undefined){r.redrawCount=0}r.redrawCount++;if(r.redrawTotalTime===undefined){r.redrawTotalTime=0}var duration=endTime-startTime;r.redrawTotalTime+=duration;r.lastRedrawTime=duration;r.averageRedrawTime=r.averageRedrawTime/2+duration/2;r.requestedFrame=false}else{beforeRenderCallbacks(r,false,requestTime)}r.skipFrame=false;requestAnimationFrame(renderFn)};requestAnimationFrame(renderFn)};var BaseRenderer=function BaseRenderer(options){this.init(options)};var BR=BaseRenderer;var BRp$f=BR.prototype;BRp$f.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];BRp$f.init=function(options){var r=this;r.options=options;r.cy=options.cy;var ctr=r.container=options.cy.container();if(window$1){var document=window$1.document;var head=document.head;var stylesheetId="__________cytoscape_stylesheet";var className="__________cytoscape_container";var stylesheetAlreadyExists=document.getElementById(stylesheetId)!=null;if(ctr.className.indexOf(className)<0){ctr.className=(ctr.className||"")+" "+className}if(!stylesheetAlreadyExists){var stylesheet=document.createElement("style");stylesheet.id=stylesheetId;stylesheet.innerHTML="."+className+" { position: relative; }";head.insertBefore(stylesheet,head.children[0])}var computedStyle=window$1.getComputedStyle(ctr);var position=computedStyle.getPropertyValue("position");if(position==="static"){warn("A Cytoscape container has style position:static and so can not use UI extensions properly")}}r.selection=[undefined,undefined,undefined,undefined,0];r.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95];r.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:false,initialPan:[null,null],capture:false};r.dragData={possibleDragElements:[]};r.touchData={start:null,capture:false,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:true,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]};r.redraws=0;r.showFps=options.showFps;r.debug=options.debug;r.hideEdgesOnViewport=options.hideEdgesOnViewport;r.hideLabelsOnViewport=options.hideLabelsOnViewport;r.textureOnViewport=options.textureOnViewport;r.wheelSensitivity=options.wheelSensitivity;r.motionBlurEnabled=options.motionBlur;r.forcedPixelRatio=number(options.pixelRatio)?options.pixelRatio:null;r.motionBlur=options.motionBlur;r.motionBlurOpacity=options.motionBlurOpacity;r.motionBlurTransparency=1-r.motionBlurOpacity;r.motionBlurPxRatio=1;r.mbPxRBlurry=1;r.minMbLowQualFrames=4;r.fullQualityMb=false;r.clearedForMotionBlur=[];r.desktopTapThreshold=options.desktopTapThreshold;r.desktopTapThreshold2=options.desktopTapThreshold*options.desktopTapThreshold;r.touchTapThreshold=options.touchTapThreshold;r.touchTapThreshold2=options.touchTapThreshold*options.touchTapThreshold;r.tapholdDuration=500;r.bindings=[];r.beforeRenderCallbacks=[];r.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100};r.registerNodeShapes();r.registerArrowShapes();r.registerCalculationListeners()};BRp$f.notify=function(eventName,eles){var r=this;var cy=r.cy;if(this.destroyed){return}if(eventName==="init"){r.load();return}if(eventName==="destroy"){r.destroy();return}if(eventName==="add"||eventName==="remove"||eventName==="move"&&cy.hasCompoundNodes()||eventName==="load"||eventName==="zorder"||eventName==="mount"){r.invalidateCachedZSortedEles()}if(eventName==="viewport"){r.redrawHint("select",true)}if(eventName==="load"||eventName==="resize"||eventName==="mount"){r.invalidateContainerClientCoordsCache();r.matchCanvasSize(r.container)}r.redrawHint("eles",true);r.redrawHint("drag",true);this.startRenderLoop();this.redraw()};BRp$f.destroy=function(){var r=this;r.destroyed=true;r.cy.stopAnimationLoop();for(var i=0;i<r.bindings.length;i++){var binding=r.bindings[i];var b=binding;var tgt=b.target;(tgt.off||tgt.removeEventListener).apply(tgt,b.args)}r.bindings=[];r.beforeRenderCallbacks=[];r.onUpdateEleCalcsFns=[];if(r.removeObserver){r.removeObserver.disconnect()}if(r.styleObserver){r.styleObserver.disconnect()}if(r.resizeObserver){r.resizeObserver.disconnect()}if(r.labelCalcDiv){try{document.body.removeChild(r.labelCalcDiv)}catch(e){}}};BRp$f.isHeadless=function(){return false};[BRp,BRp$a,BRp$b,BRp$c,BRp$d,BRp$e].forEach((function(props){extend(BRp$f,props)}));var fullFpsTime=1e3/60;var defs={setupDequeueing:function setupDequeueing(opts){return function setupDequeueingImpl(){var self=this;var r=this.renderer;if(self.dequeueingSetup){return}else{self.dequeueingSetup=true}var queueRedraw=util((function(){r.redrawHint("eles",true);r.redrawHint("drag",true);r.redraw()}),opts.deqRedrawThreshold);var dequeue=function dequeue(willDraw,frameStartTime){var startTime=performanceNow();var avgRenderTime=r.averageRedrawTime;var renderTime=r.lastRedrawTime;var deqd=[];var extent=r.cy.extent();var pixelRatio=r.getPixelRatio();if(!willDraw){r.flushRenderedStyleQueue()}while(true){var now=performanceNow();var duration=now-startTime;var frameDuration=now-frameStartTime;if(renderTime<fullFpsTime){var timeAvailable=fullFpsTime-(willDraw?avgRenderTime:0);if(frameDuration>=opts.deqFastCost*timeAvailable){break}}else{if(willDraw){if(duration>=opts.deqCost*renderTime||duration>=opts.deqAvgCost*avgRenderTime){break}}else if(frameDuration>=opts.deqNoDrawCost*fullFpsTime){break}}var thisDeqd=opts.deq(self,pixelRatio,extent);if(thisDeqd.length>0){for(var i=0;i<thisDeqd.length;i++){deqd.push(thisDeqd[i])}}else{break}}if(deqd.length>0){opts.onDeqd(self,deqd);if(!willDraw&&opts.shouldRedraw(self,deqd,pixelRatio,extent)){queueRedraw()}}};var priority=opts.priority||noop;r.beforeRender(dequeue,priority(self))}}};var ElementTextureCacheLookup=function(){function ElementTextureCacheLookup(getKey){var doesEleInvalidateKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:falsify;_classCallCheck(this,ElementTextureCacheLookup);this.idsByKey=new Map$1;this.keyForId=new Map$1;this.cachesByLvl=new Map$1;this.lvls=[];this.getKey=getKey;this.doesEleInvalidateKey=doesEleInvalidateKey}_createClass(ElementTextureCacheLookup,[{key:"getIdsFor",value:function getIdsFor(key){if(key==null){error("Can not get id list for null key")}var idsByKey=this.idsByKey;var ids=this.idsByKey.get(key);if(!ids){ids=new Set$1;idsByKey.set(key,ids)}return ids}},{key:"addIdForKey",value:function addIdForKey(key,id){if(key!=null){this.getIdsFor(key).add(id)}}},{key:"deleteIdForKey",value:function deleteIdForKey(key,id){if(key!=null){this.getIdsFor(key)["delete"](id)}}},{key:"getNumberOfIdsForKey",value:function getNumberOfIdsForKey(key){if(key==null){return 0}else{return this.getIdsFor(key).size}}},{key:"updateKeyMappingFor",value:function updateKeyMappingFor(ele){var id=ele.id();var prevKey=this.keyForId.get(id);var currKey=this.getKey(ele);this.deleteIdForKey(prevKey,id);this.addIdForKey(currKey,id);this.keyForId.set(id,currKey)}},{key:"deleteKeyMappingFor",value:function deleteKeyMappingFor(ele){var id=ele.id();var prevKey=this.keyForId.get(id);this.deleteIdForKey(prevKey,id);this.keyForId["delete"](id)}},{key:"keyHasChangedFor",value:function keyHasChangedFor(ele){var id=ele.id();var prevKey=this.keyForId.get(id);var newKey=this.getKey(ele);return prevKey!==newKey}},{key:"isInvalid",value:function isInvalid(ele){return this.keyHasChangedFor(ele)||this.doesEleInvalidateKey(ele)}},{key:"getCachesAt",value:function getCachesAt(lvl){var cachesByLvl=this.cachesByLvl,lvls=this.lvls;var caches=cachesByLvl.get(lvl);if(!caches){caches=new Map$1;cachesByLvl.set(lvl,caches);lvls.push(lvl)}return caches}},{key:"getCache",value:function getCache(key,lvl){return this.getCachesAt(lvl).get(key)}},{key:"get",value:function get(ele,lvl){var key=this.getKey(ele);var cache=this.getCache(key,lvl);if(cache!=null){this.updateKeyMappingFor(ele)}return cache}},{key:"getForCachedKey",value:function getForCachedKey(ele,lvl){var key=this.keyForId.get(ele.id());var cache=this.getCache(key,lvl);return cache}},{key:"hasCache",value:function hasCache(key,lvl){return this.getCachesAt(lvl).has(key)}},{key:"has",value:function has(ele,lvl){var key=this.getKey(ele);return this.hasCache(key,lvl)}},{key:"setCache",value:function setCache(key,lvl,cache){cache.key=key;this.getCachesAt(lvl).set(key,cache)}},{key:"set",value:function set(ele,lvl,cache){var key=this.getKey(ele);this.setCache(key,lvl,cache);this.updateKeyMappingFor(ele)}},{key:"deleteCache",value:function deleteCache(key,lvl){this.getCachesAt(lvl)["delete"](key)}},{key:"delete",value:function _delete(ele,lvl){var key=this.getKey(ele);this.deleteCache(key,lvl)}},{key:"invalidateKey",value:function invalidateKey(key){var _this=this;this.lvls.forEach((function(lvl){return _this.deleteCache(key,lvl)}))}},{key:"invalidate",value:function invalidate(ele){var id=ele.id();var key=this.keyForId.get(id);this.deleteKeyMappingFor(ele);var entireKeyInvalidated=this.doesEleInvalidateKey(ele);if(entireKeyInvalidated){this.invalidateKey(key)}return entireKeyInvalidated||this.getNumberOfIdsForKey(key)===0}}]);return ElementTextureCacheLookup}();var minTxrH=25;var txrStepH=50;var minLvl=-4;var maxLvl=3;var maxZoom=7.99;var eleTxrSpacing=8;var defTxrWidth=1024;var maxTxrW=1024;var maxTxrH=1024;var minUtility=.2;var maxFullness=.8;var maxFullnessChecks=10;var deqCost=.15;var deqAvgCost=.1;var deqNoDrawCost=.9;var deqFastCost=.9;var deqRedrawThreshold=100;var maxDeqSize=1;var getTxrReasons={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"};var initDefaults=defaults({getKey:null,doesEleInvalidateKey:falsify,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:trueify,allowEdgeTxrCaching:true,allowParentTxrCaching:true});var ElementTextureCache=function ElementTextureCache(renderer,initOptions){var self=this;self.renderer=renderer;self.onDequeues=[];var opts=initDefaults(initOptions);extend(self,opts);self.lookup=new ElementTextureCacheLookup(opts.getKey,opts.doesEleInvalidateKey);self.setupDequeueing()};var ETCp=ElementTextureCache.prototype;ETCp.reasons=getTxrReasons;ETCp.getTextureQueue=function(txrH){var self=this;self.eleImgCaches=self.eleImgCaches||{};return self.eleImgCaches[txrH]=self.eleImgCaches[txrH]||[]};ETCp.getRetiredTextureQueue=function(txrH){var self=this;var rtxtrQs=self.eleImgCaches.retired=self.eleImgCaches.retired||{};var rtxtrQ=rtxtrQs[txrH]=rtxtrQs[txrH]||[];return rtxtrQ};ETCp.getElementQueue=function(){var self=this;var q=self.eleCacheQueue=self.eleCacheQueue||new Heap((function(a,b){return b.reqs-a.reqs}));return q};ETCp.getElementKeyToQueue=function(){var self=this;var k2q=self.eleKeyToCacheQueue=self.eleKeyToCacheQueue||{};return k2q};ETCp.getElement=function(ele,bb,pxRatio,lvl,reason){var self=this;var r=this.renderer;var zoom=r.cy.zoom();var lookup=this.lookup;if(bb.w===0||bb.h===0||isNaN(bb.w)||isNaN(bb.h)||!ele.visible()){return null}if(!self.allowEdgeTxrCaching&&ele.isEdge()||!self.allowParentTxrCaching&&ele.isParent()){return null}if(lvl==null){lvl=Math.ceil(log2(zoom*pxRatio))}if(lvl<minLvl){lvl=minLvl}else if(zoom>=maxZoom||lvl>maxLvl){return null}var scale=Math.pow(2,lvl);var eleScaledH=bb.h*scale;var eleScaledW=bb.w*scale;var scaledLabelShown=r.eleTextBiggerThanMin(ele,scale);if(!this.isVisible(ele,scaledLabelShown)){return null}var eleCache=lookup.get(ele,lvl);if(eleCache&&eleCache.invalidated){eleCache.invalidated=false;eleCache.texture.invalidatedWidth-=eleCache.width}if(eleCache){return eleCache}var txrH;if(eleScaledH<=minTxrH){txrH=minTxrH}else if(eleScaledH<=txrStepH){txrH=txrStepH}else{txrH=Math.ceil(eleScaledH/txrStepH)*txrStepH}if(eleScaledH>maxTxrH||eleScaledW>maxTxrW){return null}var txrQ=self.getTextureQueue(txrH);var txr=txrQ[txrQ.length-2];var addNewTxr=function addNewTxr(){return self.recycleTexture(txrH,eleScaledW)||self.addTexture(txrH,eleScaledW)};if(!txr){txr=txrQ[txrQ.length-1]}if(!txr){txr=addNewTxr()}if(txr.width-txr.usedWidth<eleScaledW){txr=addNewTxr()}var scalableFrom=function scalableFrom(otherCache){return otherCache&&otherCache.scaledLabelShown===scaledLabelShown};var deqing=reason&&reason===getTxrReasons.dequeue;var highQualityReq=reason&&reason===getTxrReasons.highQuality;var downscaleReq=reason&&reason===getTxrReasons.downscale;var higherCache;for(var l=lvl+1;l<=maxLvl;l++){var c=lookup.get(ele,l);if(c){higherCache=c;break}}var oneUpCache=higherCache&&higherCache.level===lvl+1?higherCache:null;var downscale=function downscale(){txr.context.drawImage(oneUpCache.texture.canvas,oneUpCache.x,0,oneUpCache.width,oneUpCache.height,txr.usedWidth,0,eleScaledW,eleScaledH)};txr.context.setTransform(1,0,0,1,0,0);txr.context.clearRect(txr.usedWidth,0,eleScaledW,txrH);if(scalableFrom(oneUpCache)){downscale()}else if(scalableFrom(higherCache)){if(highQualityReq){for(var _l=higherCache.level;_l>lvl;_l--){oneUpCache=self.getElement(ele,bb,pxRatio,_l,getTxrReasons.downscale)}downscale()}else{self.queueElement(ele,higherCache.level-1);return higherCache}}else{var lowerCache;if(!deqing&&!highQualityReq&&!downscaleReq){for(var _l2=lvl-1;_l2>=minLvl;_l2--){var _c=lookup.get(ele,_l2);if(_c){lowerCache=_c;break}}}if(scalableFrom(lowerCache)){self.queueElement(ele,lvl);return lowerCache}txr.context.translate(txr.usedWidth,0);txr.context.scale(scale,scale);this.drawElement(txr.context,ele,bb,scaledLabelShown,false);txr.context.scale(1/scale,1/scale);txr.context.translate(-txr.usedWidth,0)}eleCache={x:txr.usedWidth,texture:txr,level:lvl,scale:scale,width:eleScaledW,height:eleScaledH,scaledLabelShown:scaledLabelShown};txr.usedWidth+=Math.ceil(eleScaledW+eleTxrSpacing);txr.eleCaches.push(eleCache);lookup.set(ele,lvl,eleCache);self.checkTextureFullness(txr);return eleCache};ETCp.invalidateElements=function(eles){for(var i=0;i<eles.length;i++){this.invalidateElement(eles[i])}};ETCp.invalidateElement=function(ele){var self=this;var lookup=self.lookup;var caches=[];var invalid=lookup.isInvalid(ele);if(!invalid){return}for(var lvl=minLvl;lvl<=maxLvl;lvl++){var cache=lookup.getForCachedKey(ele,lvl);if(cache){caches.push(cache)}}var noOtherElesUseCache=lookup.invalidate(ele);if(noOtherElesUseCache){for(var i=0;i<caches.length;i++){var _cache=caches[i];var txr=_cache.texture;txr.invalidatedWidth+=_cache.width;_cache.invalidated=true;self.checkTextureUtility(txr)}}self.removeFromQueue(ele)};ETCp.checkTextureUtility=function(txr){if(txr.invalidatedWidth>=minUtility*txr.width){this.retireTexture(txr)}};ETCp.checkTextureFullness=function(txr){var self=this;var txrQ=self.getTextureQueue(txr.height);if(txr.usedWidth/txr.width>maxFullness&&txr.fullnessChecks>=maxFullnessChecks){removeFromArray(txrQ,txr)}else{txr.fullnessChecks++}};ETCp.retireTexture=function(txr){var self=this;var txrH=txr.height;var txrQ=self.getTextureQueue(txrH);var lookup=this.lookup;removeFromArray(txrQ,txr);txr.retired=true;var eleCaches=txr.eleCaches;for(var i=0;i<eleCaches.length;i++){var eleCache=eleCaches[i];lookup.deleteCache(eleCache.key,eleCache.level)}clearArray(eleCaches);var rtxtrQ=self.getRetiredTextureQueue(txrH);rtxtrQ.push(txr)};ETCp.addTexture=function(txrH,minW){var self=this;var txrQ=self.getTextureQueue(txrH);var txr={};txrQ.push(txr);txr.eleCaches=[];txr.height=txrH;txr.width=Math.max(defTxrWidth,minW);txr.usedWidth=0;txr.invalidatedWidth=0;txr.fullnessChecks=0;txr.canvas=self.renderer.makeOffscreenCanvas(txr.width,txr.height);txr.context=txr.canvas.getContext("2d");return txr};ETCp.recycleTexture=function(txrH,minW){var self=this;var txrQ=self.getTextureQueue(txrH);var rtxtrQ=self.getRetiredTextureQueue(txrH);for(var i=0;i<rtxtrQ.length;i++){var txr=rtxtrQ[i];if(txr.width>=minW){txr.retired=false;txr.usedWidth=0;txr.invalidatedWidth=0;txr.fullnessChecks=0;clearArray(txr.eleCaches);txr.context.setTransform(1,0,0,1,0,0);txr.context.clearRect(0,0,txr.width,txr.height);removeFromArray(rtxtrQ,txr);txrQ.push(txr);return txr}}};ETCp.queueElement=function(ele,lvl){var self=this;var q=self.getElementQueue();var k2q=self.getElementKeyToQueue();var key=this.getKey(ele);var existingReq=k2q[key];if(existingReq){existingReq.level=Math.max(existingReq.level,lvl);existingReq.eles.merge(ele);existingReq.reqs++;q.updateItem(existingReq)}else{var req={eles:ele.spawn().merge(ele),level:lvl,reqs:1,key:key};q.push(req);k2q[key]=req}};ETCp.dequeue=function(pxRatio){var self=this;var q=self.getElementQueue();var k2q=self.getElementKeyToQueue();var dequeued=[];var lookup=self.lookup;for(var i=0;i<maxDeqSize;i++){if(q.size()>0){var req=q.pop();var key=req.key;var ele=req.eles[0];var cacheExists=lookup.hasCache(ele,req.level);k2q[key]=null;if(cacheExists){continue}dequeued.push(req);var bb=self.getBoundingBox(ele);self.getElement(ele,bb,pxRatio,req.level,getTxrReasons.dequeue)}else{break}}return dequeued};ETCp.removeFromQueue=function(ele){var self=this;var q=self.getElementQueue();var k2q=self.getElementKeyToQueue();var key=this.getKey(ele);var req=k2q[key];if(req!=null){if(req.eles.length===1){req.reqs=MAX_INT;q.updateItem(req);q.pop();k2q[key]=null}else{req.eles.unmerge(ele)}}};ETCp.onDequeue=function(fn){this.onDequeues.push(fn)};ETCp.offDequeue=function(fn){removeFromArray(this.onDequeues,fn)};ETCp.setupDequeueing=defs.setupDequeueing({deqRedrawThreshold:deqRedrawThreshold,deqCost:deqCost,deqAvgCost:deqAvgCost,deqNoDrawCost:deqNoDrawCost,deqFastCost:deqFastCost,deq:function deq(self,pxRatio,extent){return self.dequeue(pxRatio,extent)},onDeqd:function onDeqd(self,deqd){for(var i=0;i<self.onDequeues.length;i++){var fn=self.onDequeues[i];fn(deqd)}},shouldRedraw:function shouldRedraw(self,deqd,pxRatio,extent){for(var i=0;i<deqd.length;i++){var eles=deqd[i].eles;for(var j=0;j<eles.length;j++){var bb=eles[j].boundingBox();if(boundingBoxesIntersect(bb,extent)){return true}}}return false},priority:function priority(self){return self.renderer.beforeRenderPriorities.eleTxrDeq}});var defNumLayers=1;var minLvl$1=-4;var maxLvl$1=2;var maxZoom$1=3.99;var deqRedrawThreshold$1=50;var refineEleDebounceTime=50;var deqCost$1=.15;var deqAvgCost$1=.1;var deqNoDrawCost$1=.9;var deqFastCost$1=.9;var maxDeqSize$1=1;var invalidThreshold=250;var maxLayerArea=4e3*4e3;var useHighQualityEleTxrReqs=true;var LayeredTextureCache=function LayeredTextureCache(renderer){var self=this;var r=self.renderer=renderer;var cy=r.cy;self.layersByLevel={};self.firstGet=true;self.lastInvalidationTime=performanceNow()-2*invalidThreshold;self.skipping=false;self.eleTxrDeqs=cy.collection();self.scheduleElementRefinement=util((function(){self.refineElementTextures(self.eleTxrDeqs);self.eleTxrDeqs.unmerge(self.eleTxrDeqs)}),refineEleDebounceTime);r.beforeRender((function(willDraw,now){if(now-self.lastInvalidationTime<=invalidThreshold){self.skipping=true}else{self.skipping=false}}),r.beforeRenderPriorities.lyrTxrSkip);var qSort=function qSort(a,b){return b.reqs-a.reqs};self.layersQueue=new Heap(qSort);self.setupDequeueing()};var LTCp=LayeredTextureCache.prototype;var layerIdPool=0;var MAX_INT$1=Math.pow(2,53)-1;LTCp.makeLayer=function(bb,lvl){var scale=Math.pow(2,lvl);var w=Math.ceil(bb.w*scale);var h=Math.ceil(bb.h*scale);var canvas=this.renderer.makeOffscreenCanvas(w,h);var layer={id:layerIdPool=++layerIdPool%MAX_INT$1,bb:bb,level:lvl,width:w,height:h,canvas:canvas,context:canvas.getContext("2d"),eles:[],elesQueue:[],reqs:0};var cxt=layer.context;var dx=-layer.bb.x1;var dy=-layer.bb.y1;cxt.scale(scale,scale);cxt.translate(dx,dy);return layer};LTCp.getLayers=function(eles,pxRatio,lvl){var self=this;var r=self.renderer;var cy=r.cy;var zoom=cy.zoom();var firstGet=self.firstGet;self.firstGet=false;if(lvl==null){lvl=Math.ceil(log2(zoom*pxRatio));if(lvl<minLvl$1){lvl=minLvl$1}else if(zoom>=maxZoom$1||lvl>maxLvl$1){return null}}self.validateLayersElesOrdering(lvl,eles);var layersByLvl=self.layersByLevel;var scale=Math.pow(2,lvl);var layers=layersByLvl[lvl]=layersByLvl[lvl]||[];var bb;var lvlComplete=self.levelIsComplete(lvl,eles);var tmpLayers;var checkTempLevels=function checkTempLevels(){var canUseAsTmpLvl=function canUseAsTmpLvl(l){self.validateLayersElesOrdering(l,eles);if(self.levelIsComplete(l,eles)){tmpLayers=layersByLvl[l];return true}};var checkLvls=function checkLvls(dir){if(tmpLayers){return}for(var l=lvl+dir;minLvl$1<=l&&l<=maxLvl$1;l+=dir){if(canUseAsTmpLvl(l)){break}}};checkLvls(+1);checkLvls(-1);for(var i=layers.length-1;i>=0;i--){var layer=layers[i];if(layer.invalid){removeFromArray(layers,layer)}}};if(!lvlComplete){checkTempLevels()}else{return layers}var getBb=function getBb(){if(!bb){bb=makeBoundingBox();for(var i=0;i<eles.length;i++){updateBoundingBox(bb,eles[i].boundingBox())}}return bb};var makeLayer=function makeLayer(opts){opts=opts||{};var after=opts.after;getBb();var area=bb.w*scale*(bb.h*scale);if(area>maxLayerArea){return null}var layer=self.makeLayer(bb,lvl);if(after!=null){var index=layers.indexOf(after)+1;layers.splice(index,0,layer)}else if(opts.insert===undefined||opts.insert){layers.unshift(layer)}return layer};if(self.skipping&&!firstGet){return null}var layer=null;var maxElesPerLayer=eles.length/defNumLayers;var allowLazyQueueing=!firstGet;for(var i=0;i<eles.length;i++){var ele=eles[i];var rs=ele._private.rscratch;var caches=rs.imgLayerCaches=rs.imgLayerCaches||{};var existingLayer=caches[lvl];if(existingLayer){layer=existingLayer;continue}if(!layer||layer.eles.length>=maxElesPerLayer||!boundingBoxInBoundingBox(layer.bb,ele.boundingBox())){layer=makeLayer({insert:true,after:layer});if(!layer){return null}}if(tmpLayers||allowLazyQueueing){self.queueLayer(layer,ele)}else{self.drawEleInLayer(layer,ele,lvl,pxRatio)}layer.eles.push(ele);caches[lvl]=layer}if(tmpLayers){return tmpLayers}if(allowLazyQueueing){return null}return layers};LTCp.getEleLevelForLayerLevel=function(lvl,pxRatio){return lvl};LTCp.drawEleInLayer=function(layer,ele,lvl,pxRatio){var self=this;var r=this.renderer;var context=layer.context;var bb=ele.boundingBox();if(bb.w===0||bb.h===0||!ele.visible()){return}lvl=self.getEleLevelForLayerLevel(lvl,pxRatio);{r.setImgSmoothing(context,false)}{r.drawCachedElement(context,ele,null,null,lvl,useHighQualityEleTxrReqs)}{r.setImgSmoothing(context,true)}};LTCp.levelIsComplete=function(lvl,eles){var self=this;var layers=self.layersByLevel[lvl];if(!layers||layers.length===0){return false}var numElesInLayers=0;for(var i=0;i<layers.length;i++){var layer=layers[i];if(layer.reqs>0){return false}if(layer.invalid){return false}numElesInLayers+=layer.eles.length}if(numElesInLayers!==eles.length){return false}return true};LTCp.validateLayersElesOrdering=function(lvl,eles){var layers=this.layersByLevel[lvl];if(!layers){return}for(var i=0;i<layers.length;i++){var layer=layers[i];var offset=-1;for(var j=0;j<eles.length;j++){if(layer.eles[0]===eles[j]){offset=j;break}}if(offset<0){this.invalidateLayer(layer);continue}var o=offset;for(var j=0;j<layer.eles.length;j++){if(layer.eles[j]!==eles[o+j]){this.invalidateLayer(layer);break}}}};LTCp.updateElementsInLayers=function(eles,update){var self=this;var isEles=element(eles[0]);for(var i=0;i<eles.length;i++){var req=isEles?null:eles[i];var ele=isEles?eles[i]:eles[i].ele;var rs=ele._private.rscratch;var caches=rs.imgLayerCaches=rs.imgLayerCaches||{};for(var l=minLvl$1;l<=maxLvl$1;l++){var layer=caches[l];if(!layer){continue}if(req&&self.getEleLevelForLayerLevel(layer.level)!==req.level){continue}update(layer,ele,req)}}};LTCp.haveLayers=function(){var self=this;var haveLayers=false;for(var l=minLvl$1;l<=maxLvl$1;l++){var layers=self.layersByLevel[l];if(layers&&layers.length>0){haveLayers=true;break}}return haveLayers};LTCp.invalidateElements=function(eles){var self=this;if(eles.length===0){return}self.lastInvalidationTime=performanceNow();if(eles.length===0||!self.haveLayers()){return}self.updateElementsInLayers(eles,(function invalAssocLayers(layer,ele,req){self.invalidateLayer(layer)}))};LTCp.invalidateLayer=function(layer){this.lastInvalidationTime=performanceNow();if(layer.invalid){return}var lvl=layer.level;var eles=layer.eles;var layers=this.layersByLevel[lvl];removeFromArray(layers,layer);layer.elesQueue=[];layer.invalid=true;if(layer.replacement){layer.replacement.invalid=true}for(var i=0;i<eles.length;i++){var caches=eles[i]._private.rscratch.imgLayerCaches;if(caches){caches[lvl]=null}}};LTCp.refineElementTextures=function(eles){var self=this;self.updateElementsInLayers(eles,(function refineEachEle(layer,ele,req){var rLyr=layer.replacement;if(!rLyr){rLyr=layer.replacement=self.makeLayer(layer.bb,layer.level);rLyr.replaces=layer;rLyr.eles=layer.eles}if(!rLyr.reqs){for(var i=0;i<rLyr.eles.length;i++){self.queueLayer(rLyr,rLyr.eles[i])}}}))};LTCp.enqueueElementRefinement=function(ele){this.eleTxrDeqs.merge(ele);this.scheduleElementRefinement()};LTCp.queueLayer=function(layer,ele){var self=this;var q=self.layersQueue;var elesQ=layer.elesQueue;var hasId=elesQ.hasId=elesQ.hasId||{};if(layer.replacement){return}if(ele){if(hasId[ele.id()]){return}elesQ.push(ele);hasId[ele.id()]=true}if(layer.reqs){layer.reqs++;q.updateItem(layer)}else{layer.reqs=1;q.push(layer)}};LTCp.dequeue=function(pxRatio){var self=this;var q=self.layersQueue;var deqd=[];var eleDeqs=0;while(eleDeqs<maxDeqSize$1){if(q.size()===0){break}var layer=q.peek();if(layer.replacement){q.pop();continue}if(layer.replaces&&layer!==layer.replaces.replacement){q.pop();continue}if(layer.invalid){q.pop();continue}var ele=layer.elesQueue.shift();if(ele){self.drawEleInLayer(layer,ele,layer.level,pxRatio);eleDeqs++}if(deqd.length===0){deqd.push(true)}if(layer.elesQueue.length===0){q.pop();layer.reqs=0;if(layer.replaces){self.applyLayerReplacement(layer)}self.requestRedraw()}}return deqd};LTCp.applyLayerReplacement=function(layer){var self=this;var layersInLevel=self.layersByLevel[layer.level];var replaced=layer.replaces;var index=layersInLevel.indexOf(replaced);if(index<0||replaced.invalid){return}layersInLevel[index]=layer;for(var i=0;i<layer.eles.length;i++){var _p=layer.eles[i]._private;var cache=_p.imgLayerCaches=_p.imgLayerCaches||{};if(cache){cache[layer.level]=layer}}self.requestRedraw()};LTCp.requestRedraw=util((function(){var r=this.renderer;r.redrawHint("eles",true);r.redrawHint("drag",true);r.redraw()}),100);LTCp.setupDequeueing=defs.setupDequeueing({deqRedrawThreshold:deqRedrawThreshold$1,deqCost:deqCost$1,deqAvgCost:deqAvgCost$1,deqNoDrawCost:deqNoDrawCost$1,deqFastCost:deqFastCost$1,deq:function deq(self,pxRatio){return self.dequeue(pxRatio)},onDeqd:noop,shouldRedraw:trueify,priority:function priority(self){return self.renderer.beforeRenderPriorities.lyrTxrDeq}});var CRp={};var impl;function polygon(context,points){for(var i=0;i<points.length;i++){var pt=points[i];context.lineTo(pt.x,pt.y)}}function triangleBackcurve(context,points,controlPoint){var firstPt;for(var i=0;i<points.length;i++){var pt=points[i];if(i===0){firstPt=pt}context.lineTo(pt.x,pt.y)}context.quadraticCurveTo(controlPoint.x,controlPoint.y,firstPt.x,firstPt.y)}function triangleTee(context,trianglePoints,teePoints){if(context.beginPath){context.beginPath()}var triPts=trianglePoints;for(var i=0;i<triPts.length;i++){var pt=triPts[i];context.lineTo(pt.x,pt.y)}var teePts=teePoints;var firstTeePt=teePoints[0];context.moveTo(firstTeePt.x,firstTeePt.y);for(var i=1;i<teePts.length;i++){var pt=teePts[i];context.lineTo(pt.x,pt.y)}if(context.closePath){context.closePath()}}function circle(context,rx,ry,r){context.arc(rx,ry,r,0,Math.PI*2,false)}CRp.arrowShapeImpl=function(name){return(impl||(impl={polygon:polygon,"triangle-backcurve":triangleBackcurve,"triangle-tee":triangleTee,"triangle-cross":triangleTee,circle:circle}))[name]};var CRp$1={};CRp$1.drawElement=function(context,ele,shiftToOriginWithBb,showLabel,showOverlay,showOpacity){var r=this;if(ele.isNode()){r.drawNode(context,ele,shiftToOriginWithBb,showLabel,showOverlay,showOpacity)}else{r.drawEdge(context,ele,shiftToOriginWithBb,showLabel,showOverlay,showOpacity)}};CRp$1.drawElementOverlay=function(context,ele){var r=this;if(ele.isNode()){r.drawNodeOverlay(context,ele)}else{r.drawEdgeOverlay(context,ele)}};CRp$1.drawCachedElementPortion=function(context,ele,eleTxrCache,pxRatio,lvl,reason,getRotation,getOpacity){var r=this;var bb=eleTxrCache.getBoundingBox(ele);if(bb.w===0||bb.h===0){return}var eleCache=eleTxrCache.getElement(ele,bb,pxRatio,lvl,reason);if(eleCache!=null){var opacity=getOpacity(r,ele);if(opacity===0){return}var theta=getRotation(r,ele);var x1=bb.x1,y1=bb.y1,w=bb.w,h=bb.h;var x,y,sx,sy,smooth;if(theta!==0){var rotPt=eleTxrCache.getRotationPoint(ele);sx=rotPt.x;sy=rotPt.y;context.translate(sx,sy);context.rotate(theta);smooth=r.getImgSmoothing(context);if(!smooth){r.setImgSmoothing(context,true)}var off=eleTxrCache.getRotationOffset(ele);x=off.x;y=off.y}else{x=x1;y=y1}var oldGlobalAlpha;if(opacity!==1){oldGlobalAlpha=context.globalAlpha;context.globalAlpha=oldGlobalAlpha*opacity}context.drawImage(eleCache.texture.canvas,eleCache.x,0,eleCache.width,eleCache.height,x,y,w,h);if(opacity!==1){context.globalAlpha=oldGlobalAlpha}if(theta!==0){context.rotate(-theta);context.translate(-sx,-sy);if(!smooth){r.setImgSmoothing(context,false)}}}else{eleTxrCache.drawElement(context,ele)}};var getZeroRotation=function getZeroRotation(){return 0};var getLabelRotation=function getLabelRotation(r,ele){return r.getTextAngle(ele,null)};var getSourceLabelRotation=function getSourceLabelRotation(r,ele){return r.getTextAngle(ele,"source")};var getTargetLabelRotation=function getTargetLabelRotation(r,ele){return r.getTextAngle(ele,"target")};var getOpacity=function getOpacity(r,ele){return ele.effectiveOpacity()};var getTextOpacity=function getTextOpacity(e,ele){return ele.pstyle("text-opacity").pfValue*ele.effectiveOpacity()};CRp$1.drawCachedElement=function(context,ele,pxRatio,extent,lvl,requestHighQuality){var r=this;var _r$data=r.data,eleTxrCache=_r$data.eleTxrCache,lblTxrCache=_r$data.lblTxrCache,slbTxrCache=_r$data.slbTxrCache,tlbTxrCache=_r$data.tlbTxrCache;var bb=ele.boundingBox();var reason=requestHighQuality===true?eleTxrCache.reasons.highQuality:null;if(bb.w===0||bb.h===0||!ele.visible()){return}if(!extent||boundingBoxesIntersect(bb,extent)){r.drawCachedElementPortion(context,ele,eleTxrCache,pxRatio,lvl,reason,getZeroRotation,getOpacity);r.drawCachedElementPortion(context,ele,lblTxrCache,pxRatio,lvl,reason,getLabelRotation,getTextOpacity);if(ele.isEdge()){r.drawCachedElementPortion(context,ele,slbTxrCache,pxRatio,lvl,reason,getSourceLabelRotation,getTextOpacity);r.drawCachedElementPortion(context,ele,tlbTxrCache,pxRatio,lvl,reason,getTargetLabelRotation,getTextOpacity)}r.drawElementOverlay(context,ele)}};CRp$1.drawElements=function(context,eles){var r=this;for(var i=0;i<eles.length;i++){var ele=eles[i];r.drawElement(context,ele)}};CRp$1.drawCachedElements=function(context,eles,pxRatio,extent){var r=this;for(var i=0;i<eles.length;i++){var ele=eles[i];r.drawCachedElement(context,ele,pxRatio,extent)}};CRp$1.drawCachedNodes=function(context,eles,pxRatio,extent){var r=this;for(var i=0;i<eles.length;i++){var ele=eles[i];if(!ele.isNode()){continue}r.drawCachedElement(context,ele,pxRatio,extent)}};CRp$1.drawLayeredElements=function(context,eles,pxRatio,extent){var r=this;var layers=r.data.lyrTxrCache.getLayers(eles,pxRatio);if(layers){for(var i=0;i<layers.length;i++){var layer=layers[i];var bb=layer.bb;if(bb.w===0||bb.h===0){continue}context.drawImage(layer.canvas,bb.x1,bb.y1,bb.w,bb.h)}}else{r.drawCachedElements(context,eles,pxRatio,extent)}};var CRp$2={};CRp$2.drawEdge=function(context,edge,shiftToOriginWithBb){var drawLabel=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var shouldDrawOverlay=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var shouldDrawOpacity=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;var r=this;var rs=edge._private.rscratch;if(shouldDrawOpacity&&!edge.visible()){return}if(rs.badLine||rs.allpts==null||isNaN(rs.allpts[0])){return}var bb;if(shiftToOriginWithBb){bb=shiftToOriginWithBb;context.translate(-bb.x1,-bb.y1)}var opacity=shouldDrawOpacity?edge.pstyle("opacity").value:1;var lineStyle=edge.pstyle("line-style").value;var edgeWidth=edge.pstyle("width").pfValue;var lineCap=edge.pstyle("line-cap").value;var drawLine=function drawLine(){var strokeOpacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:opacity;context.lineWidth=edgeWidth;context.lineCap=lineCap;r.eleStrokeStyle(context,edge,strokeOpacity);r.drawEdgePath(edge,context,rs.allpts,lineStyle);context.lineCap="butt"};var drawOverlay=function drawOverlay(){if(!shouldDrawOverlay){return}r.drawEdgeOverlay(context,edge)};var drawArrows=function drawArrows(){var arrowOpacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:opacity;r.drawArrowheads(context,edge,arrowOpacity)};var drawText=function drawText(){r.drawElementText(context,edge,null,drawLabel)};context.lineJoin="round";var ghost=edge.pstyle("ghost").value==="yes";if(ghost){var gx=edge.pstyle("ghost-offset-x").pfValue;var gy=edge.pstyle("ghost-offset-y").pfValue;var ghostOpacity=edge.pstyle("ghost-opacity").value;var effectiveGhostOpacity=opacity*ghostOpacity;context.translate(gx,gy);drawLine(effectiveGhostOpacity);drawArrows(effectiveGhostOpacity);context.translate(-gx,-gy)}drawLine();drawArrows();drawOverlay();drawText();if(shiftToOriginWithBb){context.translate(bb.x1,bb.y1)}};CRp$2.drawEdgeOverlay=function(context,edge){if(!edge.visible()){return}var overlayOpacity=edge.pstyle("overlay-opacity").value;if(overlayOpacity===0){return}var r=this;var usePaths=r.usePaths();var rs=edge._private.rscratch;var overlayPadding=edge.pstyle("overlay-padding").pfValue;var overlayWidth=2*overlayPadding;var overlayColor=edge.pstyle("overlay-color").value;context.lineWidth=overlayWidth;if(rs.edgeType==="self"&&!usePaths){context.lineCap="butt"}else{context.lineCap="round"}r.colorStrokeStyle(context,overlayColor[0],overlayColor[1],overlayColor[2],overlayOpacity);r.drawEdgePath(edge,context,rs.allpts,"solid")};CRp$2.drawEdgePath=function(edge,context,pts,type){var rs=edge._private.rscratch;var canvasCxt=context;var path;var pathCacheHit=false;var usePaths=this.usePaths();var lineDashPattern=edge.pstyle("line-dash-pattern").pfValue;var lineDashOffset=edge.pstyle("line-dash-offset").pfValue;if(usePaths){var pathCacheKey=pts.join("$");var keyMatches=rs.pathCacheKey&&rs.pathCacheKey===pathCacheKey;if(keyMatches){path=context=rs.pathCache;pathCacheHit=true}else{path=context=new Path2D;rs.pathCacheKey=pathCacheKey;rs.pathCache=path}}if(canvasCxt.setLineDash){switch(type){case"dotted":canvasCxt.setLineDash([1,1]);break;case"dashed":canvasCxt.setLineDash(lineDashPattern);canvasCxt.lineDashOffset=lineDashOffset;break;case"solid":canvasCxt.setLineDash([]);break}}if(!pathCacheHit&&!rs.badLine){if(context.beginPath){context.beginPath()}context.moveTo(pts[0],pts[1]);switch(rs.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var i=2;i+3<pts.length;i+=4){context.quadraticCurveTo(pts[i],pts[i+1],pts[i+2],pts[i+3])}break;case"straight":case"segments":case"haystack":for(var _i=2;_i+1<pts.length;_i+=2){context.lineTo(pts[_i],pts[_i+1])}break}}context=canvasCxt;if(usePaths){context.stroke(path)}else{context.stroke()}if(context.setLineDash){context.setLineDash([])}};CRp$2.drawArrowheads=function(context,edge,opacity){var rs=edge._private.rscratch;var isHaystack=rs.edgeType==="haystack";if(!isHaystack){this.drawArrowhead(context,edge,"source",rs.arrowStartX,rs.arrowStartY,rs.srcArrowAngle,opacity)}this.drawArrowhead(context,edge,"mid-target",rs.midX,rs.midY,rs.midtgtArrowAngle,opacity);this.drawArrowhead(context,edge,"mid-source",rs.midX,rs.midY,rs.midsrcArrowAngle,opacity);if(!isHaystack){this.drawArrowhead(context,edge,"target",rs.arrowEndX,rs.arrowEndY,rs.tgtArrowAngle,opacity)}};CRp$2.drawArrowhead=function(context,edge,prefix,x,y,angle,opacity){if(isNaN(x)||x==null||isNaN(y)||y==null||isNaN(angle)||angle==null){return}var self=this;var arrowShape=edge.pstyle(prefix+"-arrow-shape").value;if(arrowShape==="none"){return}var arrowClearFill=edge.pstyle(prefix+"-arrow-fill").value==="hollow"?"both":"filled";var arrowFill=edge.pstyle(prefix+"-arrow-fill").value;var edgeWidth=edge.pstyle("width").pfValue;var edgeOpacity=edge.pstyle("opacity").value;if(opacity===undefined){opacity=edgeOpacity}var gco=context.globalCompositeOperation;if(opacity!==1||arrowFill==="hollow"){context.globalCompositeOperation="destination-out";self.colorFillStyle(context,255,255,255,1);self.colorStrokeStyle(context,255,255,255,1);self.drawArrowShape(edge,context,arrowClearFill,edgeWidth,arrowShape,x,y,angle);context.globalCompositeOperation=gco}var color=edge.pstyle(prefix+"-arrow-color").value;self.colorFillStyle(context,color[0],color[1],color[2],opacity);self.colorStrokeStyle(context,color[0],color[1],color[2],opacity);self.drawArrowShape(edge,context,arrowFill,edgeWidth,arrowShape,x,y,angle)};CRp$2.drawArrowShape=function(edge,context,fill,edgeWidth,shape,x,y,angle){var r=this;var usePaths=this.usePaths()&&shape!=="triangle-cross";var pathCacheHit=false;var path;var canvasContext=context;var translation={x:x,y:y};var scale=edge.pstyle("arrow-scale").value;var size=this.getArrowWidth(edgeWidth,scale);var shapeImpl=r.arrowShapes[shape];if(usePaths){var cache=r.arrowPathCache=r.arrowPathCache||[];var key=hashString(shape);var cachedPath=cache[key];if(cachedPath!=null){path=context=cachedPath;pathCacheHit=true}else{path=context=new Path2D;cache[key]=path}}if(context.beginPath){context.beginPath()}if(!pathCacheHit){if(usePaths){shapeImpl.draw(context,1,0,{x:0,y:0},1)}else{shapeImpl.draw(context,size,angle,translation,edgeWidth)}}if(context.closePath){context.closePath()}context=canvasContext;if(usePaths){context.translate(x,y);context.rotate(angle);context.scale(size,size)}if(fill==="filled"||fill==="both"){if(usePaths){context.fill(path)}else{context.fill()}}if(fill==="hollow"||fill==="both"){context.lineWidth=(shapeImpl.matchEdgeWidth?edgeWidth:1)/(usePaths?size:1);context.lineJoin="miter";if(usePaths){context.stroke(path)}else{context.stroke()}}if(usePaths){context.scale(1/size,1/size);context.rotate(-angle);context.translate(-x,-y)}};var CRp$3={};CRp$3.safeDrawImage=function(context,img,ix,iy,iw,ih,x,y,w,h){if(iw<=0||ih<=0||w<=0||h<=0){return}context.drawImage(img,ix,iy,iw,ih,x,y,w,h)};CRp$3.drawInscribedImage=function(context,img,node,index,nodeOpacity){var r=this;var pos=node.position();var nodeX=pos.x;var nodeY=pos.y;var styleObj=node.cy().style();var getIndexedStyle=styleObj.getIndexedStyle.bind(styleObj);var fit=getIndexedStyle(node,"background-fit","value",index);var repeat=getIndexedStyle(node,"background-repeat","value",index);var nodeW=node.width();var nodeH=node.height();var paddingX2=node.padding()*2;var nodeTW=nodeW+(getIndexedStyle(node,"background-width-relative-to","value",index)==="inner"?0:paddingX2);var nodeTH=nodeH+(getIndexedStyle(node,"background-height-relative-to","value",index)==="inner"?0:paddingX2);var rs=node._private.rscratch;var clip=getIndexedStyle(node,"background-clip","value",index);var shouldClip=clip==="node";var imgOpacity=getIndexedStyle(node,"background-image-opacity","value",index)*nodeOpacity;var imgW=img.width||img.cachedW;var imgH=img.height||img.cachedH;if(null==imgW||null==imgH){document.body.appendChild(img);imgW=img.cachedW=img.width||img.offsetWidth;imgH=img.cachedH=img.height||img.offsetHeight;document.body.removeChild(img)}var w=imgW;var h=imgH;if(getIndexedStyle(node,"background-width","value",index)!=="auto"){if(getIndexedStyle(node,"background-width","units",index)==="%"){w=getIndexedStyle(node,"background-width","pfValue",index)*nodeTW}else{w=getIndexedStyle(node,"background-width","pfValue",index)}}if(getIndexedStyle(node,"background-height","value",index)!=="auto"){if(getIndexedStyle(node,"background-height","units",index)==="%"){h=getIndexedStyle(node,"background-height","pfValue",index)*nodeTH}else{h=getIndexedStyle(node,"background-height","pfValue",index)}}if(w===0||h===0){return}if(fit==="contain"){var scale=Math.min(nodeTW/w,nodeTH/h);w*=scale;h*=scale}else if(fit==="cover"){var scale=Math.max(nodeTW/w,nodeTH/h);w*=scale;h*=scale}var x=nodeX-nodeTW/2;var posXUnits=getIndexedStyle(node,"background-position-x","units",index);var posXPfVal=getIndexedStyle(node,"background-position-x","pfValue",index);if(posXUnits==="%"){x+=(nodeTW-w)*posXPfVal}else{x+=posXPfVal}var offXUnits=getIndexedStyle(node,"background-offset-x","units",index);var offXPfVal=getIndexedStyle(node,"background-offset-x","pfValue",index);if(offXUnits==="%"){x+=(nodeTW-w)*offXPfVal}else{x+=offXPfVal}var y=nodeY-nodeTH/2;var posYUnits=getIndexedStyle(node,"background-position-y","units",index);var posYPfVal=getIndexedStyle(node,"background-position-y","pfValue",index);if(posYUnits==="%"){y+=(nodeTH-h)*posYPfVal}else{y+=posYPfVal}var offYUnits=getIndexedStyle(node,"background-offset-y","units",index);var offYPfVal=getIndexedStyle(node,"background-offset-y","pfValue",index);if(offYUnits==="%"){y+=(nodeTH-h)*offYPfVal}else{y+=offYPfVal}if(rs.pathCache){x-=nodeX;y-=nodeY;nodeX=0;nodeY=0}var gAlpha=context.globalAlpha;context.globalAlpha=imgOpacity;if(repeat==="no-repeat"){if(shouldClip){context.save();if(rs.pathCache){context.clip(rs.pathCache)}else{r.nodeShapes[r.getNodeShape(node)].draw(context,nodeX,nodeY,nodeTW,nodeTH);context.clip()}}r.safeDrawImage(context,img,0,0,imgW,imgH,x,y,w,h);if(shouldClip){context.restore()}}else{var pattern=context.createPattern(img,repeat);context.fillStyle=pattern;r.nodeShapes[r.getNodeShape(node)].draw(context,nodeX,nodeY,nodeTW,nodeTH);context.translate(x,y);context.fill();context.translate(-x,-y)}context.globalAlpha=gAlpha};var CRp$4={};CRp$4.eleTextBiggerThanMin=function(ele,scale){if(!scale){var zoom=ele.cy().zoom();var pxRatio=this.getPixelRatio();var lvl=Math.ceil(log2(zoom*pxRatio));scale=Math.pow(2,lvl)}var computedSize=ele.pstyle("font-size").pfValue*scale;var minSize=ele.pstyle("min-zoomed-font-size").pfValue;if(computedSize<minSize){return false}return true};CRp$4.drawElementText=function(context,ele,shiftToOriginWithBb,force,prefix){var useEleOpacity=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;var r=this;if(force==null){if(useEleOpacity&&!r.eleTextBiggerThanMin(ele)){return}}else if(force===false){return}if(ele.isNode()){var label=ele.pstyle("label");if(!label||!label.value){return}var justification=r.getLabelJustification(ele);context.textAlign=justification;context.textBaseline="bottom"}else{var _label=ele.pstyle("label");var srcLabel=ele.pstyle("source-label");var tgtLabel=ele.pstyle("target-label");if((!_label||!_label.value)&&(!srcLabel||!srcLabel.value)&&(!tgtLabel||!tgtLabel.value)){return}context.textAlign="center";context.textBaseline="bottom"}var applyRotation=!shiftToOriginWithBb;var bb;if(shiftToOriginWithBb){bb=shiftToOriginWithBb;context.translate(-bb.x1,-bb.y1)}if(prefix==null){r.drawText(context,ele,null,applyRotation,useEleOpacity);if(ele.isEdge()){r.drawText(context,ele,"source",applyRotation,useEleOpacity);r.drawText(context,ele,"target",applyRotation,useEleOpacity)}}else{r.drawText(context,ele,prefix,applyRotation,useEleOpacity)}if(shiftToOriginWithBb){context.translate(bb.x1,bb.y1)}};CRp$4.getFontCache=function(context){var cache;this.fontCaches=this.fontCaches||[];for(var i=0;i<this.fontCaches.length;i++){cache=this.fontCaches[i];if(cache.context===context){return cache}}cache={context:context};this.fontCaches.push(cache);return cache};CRp$4.setupTextStyle=function(context,ele){var useEleOpacity=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var labelStyle=ele.pstyle("font-style").strValue;var labelSize=ele.pstyle("font-size").pfValue+"px";var labelFamily=ele.pstyle("font-family").strValue;var labelWeight=ele.pstyle("font-weight").strValue;var opacity=useEleOpacity?ele.effectiveOpacity()*ele.pstyle("text-opacity").value:1;var outlineOpacity=ele.pstyle("text-outline-opacity").value*opacity;var color=ele.pstyle("color").value;var outlineColor=ele.pstyle("text-outline-color").value;context.font=labelStyle+" "+labelWeight+" "+labelSize+" "+labelFamily;context.lineJoin="round";this.colorFillStyle(context,color[0],color[1],color[2],opacity);this.colorStrokeStyle(context,outlineColor[0],outlineColor[1],outlineColor[2],outlineOpacity)};function roundRect(ctx,x,y,width,height){var radius=arguments.length>5&&arguments[5]!==undefined?arguments[5]:5;ctx.beginPath();ctx.moveTo(x+radius,y);ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();ctx.fill()}CRp$4.getTextAngle=function(ele,prefix){var theta;var _p=ele._private;var rscratch=_p.rscratch;var pdash=prefix?prefix+"-":"";var rotation=ele.pstyle(pdash+"text-rotation");var textAngle=getPrefixedProperty(rscratch,"labelAngle",prefix);if(rotation.strValue==="autorotate"){theta=ele.isEdge()?textAngle:0}else if(rotation.strValue==="none"){theta=0}else{theta=rotation.pfValue}return theta};CRp$4.drawText=function(context,ele,prefix){var applyRotation=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var useEleOpacity=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var _p=ele._private;var rscratch=_p.rscratch;var parentOpacity=useEleOpacity?ele.effectiveOpacity():1;if(useEleOpacity&&(parentOpacity===0||ele.pstyle("text-opacity").value===0)){return}if(prefix==="main"){prefix=null}var textX=getPrefixedProperty(rscratch,"labelX",prefix);var textY=getPrefixedProperty(rscratch,"labelY",prefix);var orgTextX,orgTextY;var text=this.getLabelText(ele,prefix);if(text!=null&&text!==""&&!isNaN(textX)&&!isNaN(textY)){this.setupTextStyle(context,ele,useEleOpacity);var pdash=prefix?prefix+"-":"";var textW=getPrefixedProperty(rscratch,"labelWidth",prefix);var textH=getPrefixedProperty(rscratch,"labelHeight",prefix);var marginX=ele.pstyle(pdash+"text-margin-x").pfValue;var marginY=ele.pstyle(pdash+"text-margin-y").pfValue;var isEdge=ele.isEdge();var halign=ele.pstyle("text-halign").value;var valign=ele.pstyle("text-valign").value;if(isEdge){halign="center";valign="center"}textX+=marginX;textY+=marginY;var theta;if(!applyRotation){theta=0}else{theta=this.getTextAngle(ele,prefix)}if(theta!==0){orgTextX=textX;orgTextY=textY;context.translate(orgTextX,orgTextY);context.rotate(theta);textX=0;textY=0}switch(valign){case"top":break;case"center":textY+=textH/2;break;case"bottom":textY+=textH;break}var backgroundOpacity=ele.pstyle("text-background-opacity").value;var borderOpacity=ele.pstyle("text-border-opacity").value;var textBorderWidth=ele.pstyle("text-border-width").pfValue;var backgroundPadding=ele.pstyle("text-background-padding").pfValue;if(backgroundOpacity>0||textBorderWidth>0&&borderOpacity>0){var bgX=textX-backgroundPadding;switch(halign){case"left":bgX-=textW;break;case"center":bgX-=textW/2;break;case"right":break}var bgY=textY-textH-backgroundPadding;var bgW=textW+2*backgroundPadding;var bgH=textH+2*backgroundPadding;if(backgroundOpacity>0){var textFill=context.fillStyle;var textBackgroundColor=ele.pstyle("text-background-color").value;context.fillStyle="rgba("+textBackgroundColor[0]+","+textBackgroundColor[1]+","+textBackgroundColor[2]+","+backgroundOpacity*parentOpacity+")";var styleShape=ele.pstyle("text-background-shape").strValue;if(styleShape=="roundrectangle"){roundRect(context,bgX,bgY,bgW,bgH,2)}else{context.fillRect(bgX,bgY,bgW,bgH)}context.fillStyle=textFill}if(textBorderWidth>0&&borderOpacity>0){var textStroke=context.strokeStyle;var textLineWidth=context.lineWidth;var textBorderColor=ele.pstyle("text-border-color").value;var textBorderStyle=ele.pstyle("text-border-style").value;context.strokeStyle="rgba("+textBorderColor[0]+","+textBorderColor[1]+","+textBorderColor[2]+","+borderOpacity*parentOpacity+")";context.lineWidth=textBorderWidth;if(context.setLineDash){switch(textBorderStyle){case"dotted":context.setLineDash([1,1]);break;case"dashed":context.setLineDash([4,2]);break;case"double":context.lineWidth=textBorderWidth/4;context.setLineDash([]);break;case"solid":context.setLineDash([]);break}}context.strokeRect(bgX,bgY,bgW,bgH);if(textBorderStyle==="double"){var whiteWidth=textBorderWidth/2;context.strokeRect(bgX+whiteWidth,bgY+whiteWidth,bgW-whiteWidth*2,bgH-whiteWidth*2)}if(context.setLineDash){context.setLineDash([])}context.lineWidth=textLineWidth;context.strokeStyle=textStroke}}var lineWidth=2*ele.pstyle("text-outline-width").pfValue;if(lineWidth>0){context.lineWidth=lineWidth}if(ele.pstyle("text-wrap").value==="wrap"){var lines=getPrefixedProperty(rscratch,"labelWrapCachedLines",prefix);var lineHeight=getPrefixedProperty(rscratch,"labelLineHeight",prefix);var halfTextW=textW/2;var justification=this.getLabelJustification(ele);if(justification==="auto");else if(halign==="left"){if(justification==="left"){textX+=-textW}else if(justification==="center"){textX+=-halfTextW}}else if(halign==="center"){if(justification==="left"){textX+=-halfTextW}else if(justification==="right"){textX+=halfTextW}}else if(halign==="right"){if(justification==="center"){textX+=halfTextW}else if(justification==="right"){textX+=textW}}switch(valign){case"top":textY-=(lines.length-1)*lineHeight;break;case"center":case"bottom":textY-=(lines.length-1)*lineHeight;break}for(var l=0;l<lines.length;l++){if(lineWidth>0){context.strokeText(lines[l],textX,textY)}context.fillText(lines[l],textX,textY);textY+=lineHeight}}else{if(lineWidth>0){context.strokeText(text,textX,textY)}context.fillText(text,textX,textY)}if(theta!==0){context.rotate(-theta);context.translate(-orgTextX,-orgTextY)}}};var CRp$5={};CRp$5.drawNode=function(context,node,shiftToOriginWithBb){var drawLabel=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var shouldDrawOverlay=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var shouldDrawOpacity=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;var r=this;var nodeWidth,nodeHeight;var _p=node._private;var rs=_p.rscratch;var pos=node.position();if(!number(pos.x)||!number(pos.y)){return}if(shouldDrawOpacity&&!node.visible()){return}var eleOpacity=shouldDrawOpacity?node.effectiveOpacity():1;var usePaths=r.usePaths();var path;var pathCacheHit=false;var padding=node.padding();nodeWidth=node.width()+2*padding;nodeHeight=node.height()+2*padding;var bb;if(shiftToOriginWithBb){bb=shiftToOriginWithBb;context.translate(-bb.x1,-bb.y1)}var bgImgProp=node.pstyle("background-image");var urls=bgImgProp.value;var urlDefined=new Array(urls.length);var image=new Array(urls.length);var numImages=0;for(var i=0;i<urls.length;i++){var url=urls[i];var defd=urlDefined[i]=url!=null&&url!=="none";if(defd){var bgImgCrossOrigin=node.cy().style().getIndexedStyle(node,"background-image-crossorigin","value",i);numImages++;image[i]=r.getCachedImage(url,bgImgCrossOrigin,(function(){_p.backgroundTimestamp=Date.now();node.emitAndNotify("background")}))}}var darkness=node.pstyle("background-blacken").value;var borderWidth=node.pstyle("border-width").pfValue;var bgOpacity=node.pstyle("background-opacity").value*eleOpacity;var borderColor=node.pstyle("border-color").value;var borderStyle=node.pstyle("border-style").value;var borderOpacity=node.pstyle("border-opacity").value*eleOpacity;context.lineJoin="miter";var setupShapeColor=function setupShapeColor(){var bgOpy=arguments.length>0&&arguments[0]!==undefined?arguments[0]:bgOpacity;r.eleFillStyle(context,node,bgOpy)};var setupBorderColor=function setupBorderColor(){var bdrOpy=arguments.length>0&&arguments[0]!==undefined?arguments[0]:borderOpacity;r.colorStrokeStyle(context,borderColor[0],borderColor[1],borderColor[2],bdrOpy)};var styleShape=node.pstyle("shape").strValue;var shapePts=node.pstyle("shape-polygon-points").pfValue;if(usePaths){context.translate(pos.x,pos.y);var pathCache=r.nodePathCache=r.nodePathCache||[];var key=hashStrings(styleShape==="polygon"?styleShape+","+shapePts.join(","):styleShape,""+nodeHeight,""+nodeWidth);var cachedPath=pathCache[key];if(cachedPath!=null){path=cachedPath;pathCacheHit=true;rs.pathCache=path}else{path=new Path2D;pathCache[key]=rs.pathCache=path}}var drawShape=function drawShape(){if(!pathCacheHit){var npos=pos;if(usePaths){npos={x:0,y:0}}r.nodeShapes[r.getNodeShape(node)].draw(path||context,npos.x,npos.y,nodeWidth,nodeHeight)}if(usePaths){context.fill(path)}else{context.fill()}};var drawImages=function drawImages(){var nodeOpacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:eleOpacity;var prevBging=_p.backgrounding;var totalCompleted=0;for(var _i=0;_i<image.length;_i++){if(urlDefined[_i]&&image[_i].complete&&!image[_i].error){totalCompleted++;r.drawInscribedImage(context,image[_i],node,_i,nodeOpacity)}}_p.backgrounding=!(totalCompleted===numImages);if(prevBging!==_p.backgrounding){node.updateStyle(false)}};var drawPie=function drawPie(){var redrawShape=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var pieOpacity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:eleOpacity;if(r.hasPie(node)){r.drawPie(context,node,pieOpacity);if(redrawShape){if(!usePaths){r.nodeShapes[r.getNodeShape(node)].draw(context,pos.x,pos.y,nodeWidth,nodeHeight)}}}};var darken=function darken(){var darkenOpacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:eleOpacity;var opacity=(darkness>0?darkness:-darkness)*darkenOpacity;var c=darkness>0?0:255;if(darkness!==0){r.colorFillStyle(context,c,c,c,opacity);if(usePaths){context.fill(path)}else{context.fill()}}};var drawBorder=function drawBorder(){if(borderWidth>0){context.lineWidth=borderWidth;context.lineCap="butt";if(context.setLineDash){switch(borderStyle){case"dotted":context.setLineDash([1,1]);break;case"dashed":context.setLineDash([4,2]);break;case"solid":case"double":context.setLineDash([]);break}}if(usePaths){context.stroke(path)}else{context.stroke()}if(borderStyle==="double"){context.lineWidth=borderWidth/3;var gco=context.globalCompositeOperation;context.globalCompositeOperation="destination-out";if(usePaths){context.stroke(path)}else{context.stroke()}context.globalCompositeOperation=gco}if(context.setLineDash){context.setLineDash([])}}};var drawOverlay=function drawOverlay(){if(shouldDrawOverlay){r.drawNodeOverlay(context,node,pos,nodeWidth,nodeHeight)}};var drawText=function drawText(){r.drawElementText(context,node,null,drawLabel)};var ghost=node.pstyle("ghost").value==="yes";if(ghost){var gx=node.pstyle("ghost-offset-x").pfValue;var gy=node.pstyle("ghost-offset-y").pfValue;var ghostOpacity=node.pstyle("ghost-opacity").value;var effGhostOpacity=ghostOpacity*eleOpacity;context.translate(gx,gy);setupShapeColor(ghostOpacity*bgOpacity);drawShape();drawImages(effGhostOpacity);drawPie(darkness!==0||borderWidth!==0);darken(effGhostOpacity);setupBorderColor(ghostOpacity*borderOpacity);drawBorder();context.translate(-gx,-gy)}setupShapeColor();drawShape();drawImages();drawPie(darkness!==0||borderWidth!==0);darken();setupBorderColor();drawBorder();if(usePaths){context.translate(-pos.x,-pos.y)}drawText();drawOverlay();if(shiftToOriginWithBb){context.translate(bb.x1,bb.y1)}};CRp$5.drawNodeOverlay=function(context,node,pos,nodeWidth,nodeHeight){var r=this;if(!node.visible()){return}var overlayPadding=node.pstyle("overlay-padding").pfValue;var overlayOpacity=node.pstyle("overlay-opacity").value;var overlayColor=node.pstyle("overlay-color").value;if(overlayOpacity>0){pos=pos||node.position();if(nodeWidth==null||nodeHeight==null){var padding=node.padding();nodeWidth=node.width()+2*padding;nodeHeight=node.height()+2*padding}r.colorFillStyle(context,overlayColor[0],overlayColor[1],overlayColor[2],overlayOpacity);r.nodeShapes["roundrectangle"].draw(context,pos.x,pos.y,nodeWidth+overlayPadding*2,nodeHeight+overlayPadding*2);context.fill()}};CRp$5.hasPie=function(node){node=node[0];return node._private.hasPie};CRp$5.drawPie=function(context,node,nodeOpacity,pos){node=node[0];pos=pos||node.position();var cyStyle=node.cy().style();var pieSize=node.pstyle("pie-size");var x=pos.x;var y=pos.y;var nodeW=node.width();var nodeH=node.height();var radius=Math.min(nodeW,nodeH)/2;var lastPercent=0;var usePaths=this.usePaths();if(usePaths){x=0;y=0}if(pieSize.units==="%"){radius=radius*pieSize.pfValue}else if(pieSize.pfValue!==undefined){radius=pieSize.pfValue/2}for(var i=1;i<=cyStyle.pieBackgroundN;i++){var size=node.pstyle("pie-"+i+"-background-size").value;var color=node.pstyle("pie-"+i+"-background-color").value;var opacity=node.pstyle("pie-"+i+"-background-opacity").value*nodeOpacity;var percent=size/100;if(percent+lastPercent>1){percent=1-lastPercent}var angleStart=1.5*Math.PI+2*Math.PI*lastPercent;var angleDelta=2*Math.PI*percent;var angleEnd=angleStart+angleDelta;if(size===0||lastPercent>=1||lastPercent+percent>1){continue}context.beginPath();context.moveTo(x,y);context.arc(x,y,radius,angleStart,angleEnd);context.closePath();this.colorFillStyle(context,color[0],color[1],color[2],opacity);context.fill();lastPercent+=percent}};var CRp$6={};var motionBlurDelay=100;CRp$6.getPixelRatio=function(){var context=this.data.contexts[0];if(this.forcedPixelRatio!=null){return this.forcedPixelRatio}var backingStore=context.backingStorePixelRatio||context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/backingStore};CRp$6.paintCache=function(context){var caches=this.paintCaches=this.paintCaches||[];var needToCreateCache=true;var cache;for(var i=0;i<caches.length;i++){cache=caches[i];if(cache.context===context){needToCreateCache=false;break}}if(needToCreateCache){cache={context:context};caches.push(cache)}return cache};CRp$6.createGradientStyleFor=function(context,shapeStyleName,ele,fill,opacity){var gradientStyle;var usePaths=this.usePaths();var colors=ele.pstyle(shapeStyleName+"-gradient-stop-colors").value,positions=ele.pstyle(shapeStyleName+"-gradient-stop-positions").pfValue;if(fill==="radial-gradient"){if(ele.isEdge()){var start=ele.sourceEndpoint(),end=ele.targetEndpoint(),mid=ele.midpoint();var d1=dist(start,mid);var d2=dist(end,mid);gradientStyle=context.createRadialGradient(mid.x,mid.y,0,mid.x,mid.y,Math.max(d1,d2))}else{var pos=usePaths?{x:0,y:0}:ele.position(),width=ele.paddedWidth(),height=ele.paddedHeight();gradientStyle=context.createRadialGradient(pos.x,pos.y,0,pos.x,pos.y,Math.max(width,height))}}else{if(ele.isEdge()){var _start=ele.sourceEndpoint(),_end=ele.targetEndpoint();gradientStyle=context.createLinearGradient(_start.x,_start.y,_end.x,_end.y)}else{var _pos=usePaths?{x:0,y:0}:ele.position(),_width=ele.paddedWidth(),_height=ele.paddedHeight(),halfWidth=_width/2,halfHeight=_height/2;var direction=ele.pstyle("background-gradient-direction").value;switch(direction){case"to-bottom":gradientStyle=context.createLinearGradient(_pos.x,_pos.y-halfHeight,_pos.x,_pos.y+halfHeight);break;case"to-top":gradientStyle=context.createLinearGradient(_pos.x,_pos.y+halfHeight,_pos.x,_pos.y-halfHeight);break;case"to-left":gradientStyle=context.createLinearGradient(_pos.x+halfWidth,_pos.y,_pos.x-halfWidth,_pos.y);break;case"to-right":gradientStyle=context.createLinearGradient(_pos.x-halfWidth,_pos.y,_pos.x+halfWidth,_pos.y);break;case"to-bottom-right":case"to-right-bottom":gradientStyle=context.createLinearGradient(_pos.x-halfWidth,_pos.y-halfHeight,_pos.x+halfWidth,_pos.y+halfHeight);break;case"to-top-right":case"to-right-top":gradientStyle=context.createLinearGradient(_pos.x-halfWidth,_pos.y+halfHeight,_pos.x+halfWidth,_pos.y-halfHeight);break;case"to-bottom-left":case"to-left-bottom":gradientStyle=context.createLinearGradient(_pos.x+halfWidth,_pos.y-halfHeight,_pos.x-halfWidth,_pos.y+halfHeight);break;case"to-top-left":case"to-left-top":gradientStyle=context.createLinearGradient(_pos.x+halfWidth,_pos.y+halfHeight,_pos.x-halfWidth,_pos.y-halfHeight);break}}}if(!gradientStyle)return null;var hasPositions=positions.length===colors.length;var length=colors.length;for(var i=0;i<length;i++){gradientStyle.addColorStop(hasPositions?positions[i]:i/(length-1),"rgba("+colors[i][0]+","+colors[i][1]+","+colors[i][2]+","+opacity+")")}return gradientStyle};CRp$6.gradientFillStyle=function(context,ele,fill,opacity){var gradientStyle=this.createGradientStyleFor(context,"background",ele,fill,opacity);if(!gradientStyle)return null;context.fillStyle=gradientStyle};CRp$6.colorFillStyle=function(context,r,g,b,a){context.fillStyle="rgba("+r+","+g+","+b+","+a+")"};CRp$6.eleFillStyle=function(context,ele,opacity){var backgroundFill=ele.pstyle("background-fill").value;if(backgroundFill==="linear-gradient"||backgroundFill==="radial-gradient"){this.gradientFillStyle(context,ele,backgroundFill,opacity)}else{var backgroundColor=ele.pstyle("background-color").value;this.colorFillStyle(context,backgroundColor[0],backgroundColor[1],backgroundColor[2],opacity)}};CRp$6.gradientStrokeStyle=function(context,ele,fill,opacity){var gradientStyle=this.createGradientStyleFor(context,"line",ele,fill,opacity);if(!gradientStyle)return null;context.strokeStyle=gradientStyle};CRp$6.colorStrokeStyle=function(context,r,g,b,a){context.strokeStyle="rgba("+r+","+g+","+b+","+a+")"};CRp$6.eleStrokeStyle=function(context,ele,opacity){var lineFill=ele.pstyle("line-fill").value;if(lineFill==="linear-gradient"||lineFill==="radial-gradient"){this.gradientStrokeStyle(context,ele,lineFill,opacity)}else{var lineColor=ele.pstyle("line-color").value;this.colorStrokeStyle(context,lineColor[0],lineColor[1],lineColor[2],opacity)}};CRp$6.matchCanvasSize=function(container){var r=this;var data=r.data;var bb=r.findContainerClientCoords();var width=bb[2];var height=bb[3];var pixelRatio=r.getPixelRatio();var mbPxRatio=r.motionBlurPxRatio;if(container===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE]||container===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG]){pixelRatio=mbPxRatio}var canvasWidth=width*pixelRatio;var canvasHeight=height*pixelRatio;var canvas;if(canvasWidth===r.canvasWidth&&canvasHeight===r.canvasHeight){return}r.fontCaches=null;var canvasContainer=data.canvasContainer;canvasContainer.style.width=width+"px";canvasContainer.style.height=height+"px";for(var i=0;i<r.CANVAS_LAYERS;i++){canvas=data.canvases[i];canvas.width=canvasWidth;canvas.height=canvasHeight;canvas.style.width=width+"px";canvas.style.height=height+"px"}for(var i=0;i<r.BUFFER_COUNT;i++){canvas=data.bufferCanvases[i];canvas.width=canvasWidth;canvas.height=canvasHeight;canvas.style.width=width+"px";canvas.style.height=height+"px"}r.textureMult=1;if(pixelRatio<=1){canvas=data.bufferCanvases[r.TEXTURE_BUFFER];r.textureMult=2;canvas.width=canvasWidth*r.textureMult;canvas.height=canvasHeight*r.textureMult}r.canvasWidth=canvasWidth;r.canvasHeight=canvasHeight};CRp$6.renderTo=function(cxt,zoom,pan,pxRatio){this.render({forcedContext:cxt,forcedZoom:zoom,forcedPan:pan,drawAllLayers:true,forcedPxRatio:pxRatio})};CRp$6.render=function(options){options=options||staticEmptyObject();var forcedContext=options.forcedContext;var drawAllLayers=options.drawAllLayers;var drawOnlyNodeLayer=options.drawOnlyNodeLayer;var forcedZoom=options.forcedZoom;var forcedPan=options.forcedPan;var r=this;var pixelRatio=options.forcedPxRatio===undefined?this.getPixelRatio():options.forcedPxRatio;var cy=r.cy;var data=r.data;var needDraw=data.canvasNeedsRedraw;var textureDraw=r.textureOnViewport&&!forcedContext&&(r.pinching||r.hoverData.dragging||r.swipePanning||r.data.wheelZooming);var motionBlur=options.motionBlur!==undefined?options.motionBlur:r.motionBlur;var mbPxRatio=r.motionBlurPxRatio;var hasCompoundNodes=cy.hasCompoundNodes();var inNodeDragGesture=r.hoverData.draggingEles;var inBoxSelection=r.hoverData.selecting||r.touchData.selecting?true:false;motionBlur=motionBlur&&!forcedContext&&r.motionBlurEnabled&&!inBoxSelection;var motionBlurFadeEffect=motionBlur;if(!forcedContext){if(r.prevPxRatio!==pixelRatio){r.invalidateContainerClientCoordsCache();r.matchCanvasSize(r.container);r.redrawHint("eles",true);r.redrawHint("drag",true)}r.prevPxRatio=pixelRatio}if(!forcedContext&&r.motionBlurTimeout){clearTimeout(r.motionBlurTimeout)}if(motionBlur){if(r.mbFrames==null){r.mbFrames=0}r.mbFrames++;if(r.mbFrames<3){motionBlurFadeEffect=false}if(r.mbFrames>r.minMbLowQualFrames){r.motionBlurPxRatio=r.mbPxRBlurry}}if(r.clearingMotionBlur){r.motionBlurPxRatio=1}if(r.textureDrawLastFrame&&!textureDraw){needDraw[r.NODE]=true;needDraw[r.SELECT_BOX]=true}var style=cy.style();var zoom=cy.zoom();var effectiveZoom=forcedZoom!==undefined?forcedZoom:zoom;var pan=cy.pan();var effectivePan={x:pan.x,y:pan.y};var vp={zoom:zoom,pan:{x:pan.x,y:pan.y}};var prevVp=r.prevViewport;var viewportIsDiff=prevVp===undefined||vp.zoom!==prevVp.zoom||vp.pan.x!==prevVp.pan.x||vp.pan.y!==prevVp.pan.y;if(!viewportIsDiff&&!(inNodeDragGesture&&!hasCompoundNodes)){r.motionBlurPxRatio=1}if(forcedPan){effectivePan=forcedPan}effectiveZoom*=pixelRatio;effectivePan.x*=pixelRatio;effectivePan.y*=pixelRatio;var eles=r.getCachedZSortedEles();function mbclear(context,x,y,w,h){var gco=context.globalCompositeOperation;context.globalCompositeOperation="destination-out";r.colorFillStyle(context,255,255,255,r.motionBlurTransparency);context.fillRect(x,y,w,h);context.globalCompositeOperation=gco}function setContextTransform(context,clear){var ePan,eZoom,w,h;if(!r.clearingMotionBlur&&(context===data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]||context===data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG])){ePan={x:pan.x*mbPxRatio,y:pan.y*mbPxRatio};eZoom=zoom*mbPxRatio;w=r.canvasWidth*mbPxRatio;h=r.canvasHeight*mbPxRatio}else{ePan=effectivePan;eZoom=effectiveZoom;w=r.canvasWidth;h=r.canvasHeight}context.setTransform(1,0,0,1,0,0);if(clear==="motionBlur"){mbclear(context,0,0,w,h)}else if(!forcedContext&&(clear===undefined||clear)){context.clearRect(0,0,w,h)}if(!drawAllLayers){context.translate(ePan.x,ePan.y);context.scale(eZoom,eZoom)}if(forcedPan){context.translate(forcedPan.x,forcedPan.y)}if(forcedZoom){context.scale(forcedZoom,forcedZoom)}}if(!textureDraw){r.textureDrawLastFrame=false}if(textureDraw){r.textureDrawLastFrame=true;if(!r.textureCache){r.textureCache={};r.textureCache.bb=cy.mutableElements().boundingBox();r.textureCache.texture=r.data.bufferCanvases[r.TEXTURE_BUFFER];var cxt=r.data.bufferContexts[r.TEXTURE_BUFFER];cxt.setTransform(1,0,0,1,0,0);cxt.clearRect(0,0,r.canvasWidth*r.textureMult,r.canvasHeight*r.textureMult);r.render({forcedContext:cxt,drawOnlyNodeLayer:true,forcedPxRatio:pixelRatio*r.textureMult});var vp=r.textureCache.viewport={zoom:cy.zoom(),pan:cy.pan(),width:r.canvasWidth,height:r.canvasHeight};vp.mpan={x:(0-vp.pan.x)/vp.zoom,y:(0-vp.pan.y)/vp.zoom}}needDraw[r.DRAG]=false;needDraw[r.NODE]=false;var context=data.contexts[r.NODE];var texture=r.textureCache.texture;var vp=r.textureCache.viewport;context.setTransform(1,0,0,1,0,0);if(motionBlur){mbclear(context,0,0,vp.width,vp.height)}else{context.clearRect(0,0,vp.width,vp.height)}var outsideBgColor=style.core("outside-texture-bg-color").value;var outsideBgOpacity=style.core("outside-texture-bg-opacity").value;r.colorFillStyle(context,outsideBgColor[0],outsideBgColor[1],outsideBgColor[2],outsideBgOpacity);context.fillRect(0,0,vp.width,vp.height);var zoom=cy.zoom();setContextTransform(context,false);context.clearRect(vp.mpan.x,vp.mpan.y,vp.width/vp.zoom/pixelRatio,vp.height/vp.zoom/pixelRatio);context.drawImage(texture,vp.mpan.x,vp.mpan.y,vp.width/vp.zoom/pixelRatio,vp.height/vp.zoom/pixelRatio)}else if(r.textureOnViewport&&!forcedContext){r.textureCache=null}var extent=cy.extent();var vpManip=r.pinching||r.hoverData.dragging||r.swipePanning||r.data.wheelZooming||r.hoverData.draggingEles||r.cy.animated();var hideEdges=r.hideEdgesOnViewport&&vpManip;var needMbClear=[];needMbClear[r.NODE]=!needDraw[r.NODE]&&motionBlur&&!r.clearedForMotionBlur[r.NODE]||r.clearingMotionBlur;if(needMbClear[r.NODE]){r.clearedForMotionBlur[r.NODE]=true}needMbClear[r.DRAG]=!needDraw[r.DRAG]&&motionBlur&&!r.clearedForMotionBlur[r.DRAG]||r.clearingMotionBlur;if(needMbClear[r.DRAG]){r.clearedForMotionBlur[r.DRAG]=true}if(needDraw[r.NODE]||drawAllLayers||drawOnlyNodeLayer||needMbClear[r.NODE]){var useBuffer=motionBlur&&!needMbClear[r.NODE]&&mbPxRatio!==1;var context=forcedContext||(useBuffer?r.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]:data.contexts[r.NODE]);var clear=motionBlur&&!useBuffer?"motionBlur":undefined;setContextTransform(context,clear);if(hideEdges){r.drawCachedNodes(context,eles.nondrag,pixelRatio,extent)}else{r.drawLayeredElements(context,eles.nondrag,pixelRatio,extent)}if(r.debug){r.drawDebugPoints(context,eles.nondrag)}if(!drawAllLayers&&!motionBlur){needDraw[r.NODE]=false}}if(!drawOnlyNodeLayer&&(needDraw[r.DRAG]||drawAllLayers||needMbClear[r.DRAG])){var useBuffer=motionBlur&&!needMbClear[r.DRAG]&&mbPxRatio!==1;var context=forcedContext||(useBuffer?r.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]:data.contexts[r.DRAG]);setContextTransform(context,motionBlur&&!useBuffer?"motionBlur":undefined);if(hideEdges){r.drawCachedNodes(context,eles.drag,pixelRatio,extent)}else{r.drawCachedElements(context,eles.drag,pixelRatio,extent)}if(r.debug){r.drawDebugPoints(context,eles.drag)}if(!drawAllLayers&&!motionBlur){needDraw[r.DRAG]=false}}if(r.showFps||!drawOnlyNodeLayer&&needDraw[r.SELECT_BOX]&&!drawAllLayers){var context=forcedContext||data.contexts[r.SELECT_BOX];setContextTransform(context);if(r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var zoom=r.cy.zoom();var borderWidth=style.core("selection-box-border-width").value/zoom;context.lineWidth=borderWidth;context.fillStyle="rgba("+style.core("selection-box-color").value[0]+","+style.core("selection-box-color").value[1]+","+style.core("selection-box-color").value[2]+","+style.core("selection-box-opacity").value+")";context.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]);if(borderWidth>0){context.strokeStyle="rgba("+style.core("selection-box-border-color").value[0]+","+style.core("selection-box-border-color").value[1]+","+style.core("selection-box-border-color").value[2]+","+style.core("selection-box-opacity").value+")";context.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1])}}if(data.bgActivePosistion&&!r.hoverData.selecting){var zoom=r.cy.zoom();var pos=data.bgActivePosistion;context.fillStyle="rgba("+style.core("active-bg-color").value[0]+","+style.core("active-bg-color").value[1]+","+style.core("active-bg-color").value[2]+","+style.core("active-bg-opacity").value+")";context.beginPath();context.arc(pos.x,pos.y,style.core("active-bg-size").pfValue/zoom,0,2*Math.PI);context.fill()}var timeToRender=r.lastRedrawTime;if(r.showFps&&timeToRender){timeToRender=Math.round(timeToRender);var fps=Math.round(1e3/timeToRender);context.setTransform(1,0,0,1,0,0);context.fillStyle="rgba(255, 0, 0, 0.75)";context.strokeStyle="rgba(255, 0, 0, 0.75)";context.lineWidth=1;context.fillText("1 frame = "+timeToRender+" ms = "+fps+" fps",0,20);var maxFps=60;context.strokeRect(0,30,250,20);context.fillRect(0,30,250*Math.min(fps/maxFps,1),20)}if(!drawAllLayers){needDraw[r.SELECT_BOX]=false}}if(motionBlur&&mbPxRatio!==1){var cxtNode=data.contexts[r.NODE];var txtNode=r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE];var cxtDrag=data.contexts[r.DRAG];var txtDrag=r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG];var drawMotionBlur=function drawMotionBlur(cxt,txt,needClear){cxt.setTransform(1,0,0,1,0,0);if(needClear||!motionBlurFadeEffect){cxt.clearRect(0,0,r.canvasWidth,r.canvasHeight)}else{mbclear(cxt,0,0,r.canvasWidth,r.canvasHeight)}var pxr=mbPxRatio;cxt.drawImage(txt,0,0,r.canvasWidth*pxr,r.canvasHeight*pxr,0,0,r.canvasWidth,r.canvasHeight)};if(needDraw[r.NODE]||needMbClear[r.NODE]){drawMotionBlur(cxtNode,txtNode,needMbClear[r.NODE]);needDraw[r.NODE]=false}if(needDraw[r.DRAG]||needMbClear[r.DRAG]){drawMotionBlur(cxtDrag,txtDrag,needMbClear[r.DRAG]);needDraw[r.DRAG]=false}}r.prevViewport=vp;if(r.clearingMotionBlur){r.clearingMotionBlur=false;r.motionBlurCleared=true;r.motionBlur=true}if(motionBlur){r.motionBlurTimeout=setTimeout((function(){r.motionBlurTimeout=null;r.clearedForMotionBlur[r.NODE]=false;r.clearedForMotionBlur[r.DRAG]=false;r.motionBlur=false;r.clearingMotionBlur=!textureDraw;r.mbFrames=0;needDraw[r.NODE]=true;needDraw[r.DRAG]=true;r.redraw()}),motionBlurDelay)}if(!forcedContext){cy.emit("render")}};var CRp$7={};CRp$7.drawPolygonPath=function(context,x,y,width,height,points){var halfW=width/2;var halfH=height/2;if(context.beginPath){context.beginPath()}context.moveTo(x+halfW*points[0],y+halfH*points[1]);for(var i=1;i<points.length/2;i++){context.lineTo(x+halfW*points[i*2],y+halfH*points[i*2+1])}context.closePath()};CRp$7.drawRoundRectanglePath=function(context,x,y,width,height){var halfWidth=width/2;var halfHeight=height/2;var cornerRadius=getRoundRectangleRadius(width,height);if(context.beginPath){context.beginPath()}context.moveTo(x,y-halfHeight);context.arcTo(x+halfWidth,y-halfHeight,x+halfWidth,y,cornerRadius);context.arcTo(x+halfWidth,y+halfHeight,x,y+halfHeight,cornerRadius);context.arcTo(x-halfWidth,y+halfHeight,x-halfWidth,y,cornerRadius);context.arcTo(x-halfWidth,y-halfHeight,x,y-halfHeight,cornerRadius);context.lineTo(x,y-halfHeight);context.closePath()};CRp$7.drawBottomRoundRectanglePath=function(context,x,y,width,height){var halfWidth=width/2;var halfHeight=height/2;var cornerRadius=getRoundRectangleRadius(width,height);if(context.beginPath){context.beginPath()}context.moveTo(x,y-halfHeight);context.lineTo(x+halfWidth,y-halfHeight);context.lineTo(x+halfWidth,y);context.arcTo(x+halfWidth,y+halfHeight,x,y+halfHeight,cornerRadius);context.arcTo(x-halfWidth,y+halfHeight,x-halfWidth,y,cornerRadius);context.lineTo(x-halfWidth,y-halfHeight);context.lineTo(x,y-halfHeight);context.closePath()};CRp$7.drawCutRectanglePath=function(context,x,y,width,height){var halfWidth=width/2;var halfHeight=height/2;var cornerLength=getCutRectangleCornerLength();if(context.beginPath){context.beginPath()}context.moveTo(x-halfWidth+cornerLength,y-halfHeight);context.lineTo(x+halfWidth-cornerLength,y-halfHeight);context.lineTo(x+halfWidth,y-halfHeight+cornerLength);context.lineTo(x+halfWidth,y+halfHeight-cornerLength);context.lineTo(x+halfWidth-cornerLength,y+halfHeight);context.lineTo(x-halfWidth+cornerLength,y+halfHeight);context.lineTo(x-halfWidth,y+halfHeight-cornerLength);context.lineTo(x-halfWidth,y-halfHeight+cornerLength);context.closePath()};CRp$7.drawBarrelPath=function(context,x,y,width,height){var halfWidth=width/2;var halfHeight=height/2;var xBegin=x-halfWidth;var xEnd=x+halfWidth;var yBegin=y-halfHeight;var yEnd=y+halfHeight;var barrelCurveConstants=getBarrelCurveConstants(width,height);var wOffset=barrelCurveConstants.widthOffset;var hOffset=barrelCurveConstants.heightOffset;var ctrlPtXOffset=barrelCurveConstants.ctrlPtOffsetPct*wOffset;if(context.beginPath){context.beginPath()}context.moveTo(xBegin,yBegin+hOffset);context.lineTo(xBegin,yEnd-hOffset);context.quadraticCurveTo(xBegin+ctrlPtXOffset,yEnd,xBegin+wOffset,yEnd);context.lineTo(xEnd-wOffset,yEnd);context.quadraticCurveTo(xEnd-ctrlPtXOffset,yEnd,xEnd,yEnd-hOffset);context.lineTo(xEnd,yBegin+hOffset);context.quadraticCurveTo(xEnd-ctrlPtXOffset,yBegin,xEnd-wOffset,yBegin);context.lineTo(xBegin+wOffset,yBegin);context.quadraticCurveTo(xBegin+ctrlPtXOffset,yBegin,xBegin,yBegin+hOffset);context.closePath()};var sin0=Math.sin(0);var cos0=Math.cos(0);var sin={};var cos={};var ellipseStepSize=Math.PI/40;for(var i=0*Math.PI;i<2*Math.PI;i+=ellipseStepSize){sin[i]=Math.sin(i);cos[i]=Math.cos(i)}CRp$7.drawEllipsePath=function(context,centerX,centerY,width,height){if(context.beginPath){context.beginPath()}if(context.ellipse){context.ellipse(centerX,centerY,width/2,height/2,0,0,2*Math.PI)}else{var xPos,yPos;var rw=width/2;var rh=height/2;for(var i=0*Math.PI;i<2*Math.PI;i+=ellipseStepSize){xPos=centerX-rw*sin[i]*sin0+rw*cos[i]*cos0;yPos=centerY+rh*cos[i]*sin0+rh*sin[i]*cos0;if(i===0){context.moveTo(xPos,yPos)}else{context.lineTo(xPos,yPos)}}}context.closePath()};var CRp$8={};CRp$8.createBuffer=function(w,h){var buffer=document.createElement("canvas");buffer.width=w;buffer.height=h;return[buffer,buffer.getContext("2d")]};CRp$8.bufferCanvasImage=function(options){var cy=this.cy;var eles=cy.mutableElements();var bb=eles.boundingBox();var ctrRect=this.findContainerClientCoords();var width=options.full?Math.ceil(bb.w):ctrRect[2];var height=options.full?Math.ceil(bb.h):ctrRect[3];var specdMaxDims=number(options.maxWidth)||number(options.maxHeight);var pxRatio=this.getPixelRatio();var scale=1;if(options.scale!==undefined){width*=options.scale;height*=options.scale;scale=options.scale}else if(specdMaxDims){var maxScaleW=Infinity;var maxScaleH=Infinity;if(number(options.maxWidth)){maxScaleW=scale*options.maxWidth/width}if(number(options.maxHeight)){maxScaleH=scale*options.maxHeight/height}scale=Math.min(maxScaleW,maxScaleH);width*=scale;height*=scale}if(!specdMaxDims){width*=pxRatio;height*=pxRatio;scale*=pxRatio}var buffCanvas=document.createElement("canvas");buffCanvas.width=width;buffCanvas.height=height;buffCanvas.style.width=width+"px";buffCanvas.style.height=height+"px";var buffCxt=buffCanvas.getContext("2d");if(width>0&&height>0){buffCxt.clearRect(0,0,width,height);buffCxt.globalCompositeOperation="source-over";var zsortedEles=this.getCachedZSortedEles();if(options.full){buffCxt.translate(-bb.x1*scale,-bb.y1*scale);buffCxt.scale(scale,scale);this.drawElements(buffCxt,zsortedEles);buffCxt.scale(1/scale,1/scale);buffCxt.translate(bb.x1*scale,bb.y1*scale)}else{var pan=cy.pan();var translation={x:pan.x*scale,y:pan.y*scale};scale*=cy.zoom();buffCxt.translate(translation.x,translation.y);buffCxt.scale(scale,scale);this.drawElements(buffCxt,zsortedEles);buffCxt.scale(1/scale,1/scale);buffCxt.translate(-translation.x,-translation.y)}if(options.bg){buffCxt.globalCompositeOperation="destination-over";buffCxt.fillStyle=options.bg;buffCxt.rect(0,0,width,height);buffCxt.fill()}}return buffCanvas};function b64ToBlob(b64,mimeType){var bytes=atob(b64);var buff=new ArrayBuffer(bytes.length);var buffUint8=new Uint8Array(buff);for(var i=0;i<bytes.length;i++){buffUint8[i]=bytes.charCodeAt(i)}return new Blob([buff],{type:mimeType})}function b64UriToB64(b64uri){var i=b64uri.indexOf(",");return b64uri.substr(i+1)}function output(options,canvas,mimeType){var getB64Uri=function getB64Uri(){return canvas.toDataURL(mimeType,options.quality)};switch(options.output){case"blob-promise":return new Promise$1((function(resolve,reject){try{canvas.toBlob((function(blob){if(blob!=null){resolve(blob)}else{reject(new Error("`canvas.toBlob()` sent a null value in its callback"))}}),mimeType,options.quality)}catch(err){reject(err)}}));case"blob":return b64ToBlob(b64UriToB64(getB64Uri()),mimeType);case"base64":return b64UriToB64(getB64Uri());case"base64uri":default:return getB64Uri()}}CRp$8.png=function(options){return output(options,this.bufferCanvasImage(options),"image/png")};CRp$8.jpg=function(options){return output(options,this.bufferCanvasImage(options),"image/jpeg")};var CRp$9={};CRp$9.nodeShapeImpl=function(name,context,centerX,centerY,width,height,points){switch(name){case"ellipse":return this.drawEllipsePath(context,centerX,centerY,width,height);case"polygon":return this.drawPolygonPath(context,centerX,centerY,width,height,points);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(context,centerX,centerY,width,height);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(context,centerX,centerY,width,height);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(context,centerX,centerY,width,height);case"barrel":return this.drawBarrelPath(context,centerX,centerY,width,height)}};var CR=CanvasRenderer;var CRp$a=CanvasRenderer.prototype;CRp$a.CANVAS_LAYERS=3;CRp$a.SELECT_BOX=0;CRp$a.DRAG=1;CRp$a.NODE=2;CRp$a.BUFFER_COUNT=3;CRp$a.TEXTURE_BUFFER=0;CRp$a.MOTIONBLUR_BUFFER_NODE=1;CRp$a.MOTIONBLUR_BUFFER_DRAG=2;function CanvasRenderer(options){var r=this;r.data={canvases:new Array(CRp$a.CANVAS_LAYERS),contexts:new Array(CRp$a.CANVAS_LAYERS),canvasNeedsRedraw:new Array(CRp$a.CANVAS_LAYERS),bufferCanvases:new Array(CRp$a.BUFFER_COUNT),bufferContexts:new Array(CRp$a.CANVAS_LAYERS)};var tapHlOffAttr="-webkit-tap-highlight-color";var tapHlOffStyle="rgba(0,0,0,0)";r.data.canvasContainer=document.createElement("div");var containerStyle=r.data.canvasContainer.style;r.data.canvasContainer.style[tapHlOffAttr]=tapHlOffStyle;containerStyle.position="relative";containerStyle.zIndex="0";containerStyle.overflow="hidden";var container=options.cy.container();container.appendChild(r.data.canvasContainer);container.style[tapHlOffAttr]=tapHlOffStyle;var styleMap={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};if(ms()){styleMap["-ms-touch-action"]="none";styleMap["touch-action"]="none"}for(var i=0;i<CRp$a.CANVAS_LAYERS;i++){var canvas=r.data.canvases[i]=document.createElement("canvas");r.data.contexts[i]=canvas.getContext("2d");Object.keys(styleMap).forEach((function(k){canvas.style[k]=styleMap[k]}));canvas.style.position="absolute";canvas.setAttribute("data-id","layer"+i);canvas.style.zIndex=String(CRp$a.CANVAS_LAYERS-i);r.data.canvasContainer.appendChild(canvas);r.data.canvasNeedsRedraw[i]=false}r.data.topCanvas=r.data.canvases[0];r.data.canvases[CRp$a.NODE].setAttribute("data-id","layer"+CRp$a.NODE+"-node");r.data.canvases[CRp$a.SELECT_BOX].setAttribute("data-id","layer"+CRp$a.SELECT_BOX+"-selectbox");r.data.canvases[CRp$a.DRAG].setAttribute("data-id","layer"+CRp$a.DRAG+"-drag");for(var i=0;i<CRp$a.BUFFER_COUNT;i++){r.data.bufferCanvases[i]=document.createElement("canvas");r.data.bufferContexts[i]=r.data.bufferCanvases[i].getContext("2d");r.data.bufferCanvases[i].style.position="absolute";r.data.bufferCanvases[i].setAttribute("data-id","buffer"+i);r.data.bufferCanvases[i].style.zIndex=String(-i-1);r.data.bufferCanvases[i].style.visibility="hidden"}r.pathsEnabled=true;var emptyBb=makeBoundingBox();var getBoxCenter=function getBoxCenter(bb){return{x:(bb.x1+bb.x2)/2,y:(bb.y1+bb.y2)/2}};var getCenterOffset=function getCenterOffset(bb){return{x:-bb.w/2,y:-bb.h/2}};var backgroundTimestampHasChanged=function backgroundTimestampHasChanged(ele){var _p=ele[0]._private;var same=_p.oldBackgroundTimestamp===_p.backgroundTimestamp;return!same};var getStyleKey=function getStyleKey(ele){return ele[0]._private.nodeKey};var getLabelKey=function getLabelKey(ele){return ele[0]._private.labelStyleKey};var getSourceLabelKey=function getSourceLabelKey(ele){return ele[0]._private.sourceLabelStyleKey};var getTargetLabelKey=function getTargetLabelKey(ele){return ele[0]._private.targetLabelStyleKey};var drawElement=function drawElement(context,ele,bb,scaledLabelShown,useEleOpacity){return r.drawElement(context,ele,bb,false,false,useEleOpacity)};var drawLabel=function drawLabel(context,ele,bb,scaledLabelShown,useEleOpacity){return r.drawElementText(context,ele,bb,scaledLabelShown,"main",useEleOpacity)};var drawSourceLabel=function drawSourceLabel(context,ele,bb,scaledLabelShown,useEleOpacity){return r.drawElementText(context,ele,bb,scaledLabelShown,"source",useEleOpacity)};var drawTargetLabel=function drawTargetLabel(context,ele,bb,scaledLabelShown,useEleOpacity){return r.drawElementText(context,ele,bb,scaledLabelShown,"target",useEleOpacity)};var getElementBox=function getElementBox(ele){ele.boundingBox();return ele[0]._private.bodyBounds};var getLabelBox=function getLabelBox(ele){ele.boundingBox();return ele[0]._private.labelBounds.main||emptyBb};var getSourceLabelBox=function getSourceLabelBox(ele){ele.boundingBox();return ele[0]._private.labelBounds.source||emptyBb};var getTargetLabelBox=function getTargetLabelBox(ele){ele.boundingBox();return ele[0]._private.labelBounds.target||emptyBb};var isLabelVisibleAtScale=function isLabelVisibleAtScale(ele,scaledLabelShown){return scaledLabelShown};var getElementRotationPoint=function getElementRotationPoint(ele){return getBoxCenter(getElementBox(ele))};var addTextMargin=function addTextMargin(pt,ele){return{x:pt.x+ele.pstyle("text-margin-x").pfValue,y:pt.y+ele.pstyle("text-margin-y").pfValue}};var getRsPt=function getRsPt(ele,x,y){var rs=ele[0]._private.rscratch;return{x:rs[x],y:rs[y]}};var getLabelRotationPoint=function getLabelRotationPoint(ele){return addTextMargin(getRsPt(ele,"labelX","labelY"),ele)};var getSourceLabelRotationPoint=function getSourceLabelRotationPoint(ele){return addTextMargin(getRsPt(ele,"sourceLabelX","sourceLabelY"),ele)};var getTargetLabelRotationPoint=function getTargetLabelRotationPoint(ele){return addTextMargin(getRsPt(ele,"targetLabelX","targetLabelY"),ele)};var getElementRotationOffset=function getElementRotationOffset(ele){return getCenterOffset(getElementBox(ele))};var getSourceLabelRotationOffset=function getSourceLabelRotationOffset(ele){return getCenterOffset(getSourceLabelBox(ele))};var getTargetLabelRotationOffset=function getTargetLabelRotationOffset(ele){return getCenterOffset(getTargetLabelBox(ele))};var getLabelRotationOffset=function getLabelRotationOffset(ele){var bb=getLabelBox(ele);var p=getCenterOffset(getLabelBox(ele));if(ele.isNode()){switch(ele.pstyle("text-halign").value){case"left":p.x=-bb.w;break;case"right":p.x=0;break}switch(ele.pstyle("text-valign").value){case"top":p.y=-bb.h;break;case"bottom":p.y=0;break}}return p};var eleTxrCache=r.data.eleTxrCache=new ElementTextureCache(r,{getKey:getStyleKey,doesEleInvalidateKey:backgroundTimestampHasChanged,drawElement:drawElement,getBoundingBox:getElementBox,getRotationPoint:getElementRotationPoint,getRotationOffset:getElementRotationOffset,allowEdgeTxrCaching:false,allowParentTxrCaching:false});var lblTxrCache=r.data.lblTxrCache=new ElementTextureCache(r,{getKey:getLabelKey,drawElement:drawLabel,getBoundingBox:getLabelBox,getRotationPoint:getLabelRotationPoint,getRotationOffset:getLabelRotationOffset,isVisible:isLabelVisibleAtScale});var slbTxrCache=r.data.slbTxrCache=new ElementTextureCache(r,{getKey:getSourceLabelKey,drawElement:drawSourceLabel,getBoundingBox:getSourceLabelBox,getRotationPoint:getSourceLabelRotationPoint,getRotationOffset:getSourceLabelRotationOffset,isVisible:isLabelVisibleAtScale});var tlbTxrCache=r.data.tlbTxrCache=new ElementTextureCache(r,{getKey:getTargetLabelKey,drawElement:drawTargetLabel,getBoundingBox:getTargetLabelBox,getRotationPoint:getTargetLabelRotationPoint,getRotationOffset:getTargetLabelRotationOffset,isVisible:isLabelVisibleAtScale});var lyrTxrCache=r.data.lyrTxrCache=new LayeredTextureCache(r);r.onUpdateEleCalcs((function invalidateTextureCaches(willDraw,eles){eleTxrCache.invalidateElements(eles);lblTxrCache.invalidateElements(eles);slbTxrCache.invalidateElements(eles);tlbTxrCache.invalidateElements(eles);lyrTxrCache.invalidateElements(eles);for(var _i=0;_i<eles.length;_i++){var _p=eles[_i]._private;_p.oldBackgroundTimestamp=_p.backgroundTimestamp}}));var refineInLayers=function refineInLayers(reqs){for(var i=0;i<reqs.length;i++){lyrTxrCache.enqueueElementRefinement(reqs[i].ele)}};eleTxrCache.onDequeue(refineInLayers);lblTxrCache.onDequeue(refineInLayers);slbTxrCache.onDequeue(refineInLayers);tlbTxrCache.onDequeue(refineInLayers)}CRp$a.redrawHint=function(group,bool){var r=this;switch(group){case"eles":r.data.canvasNeedsRedraw[CRp$a.NODE]=bool;break;case"drag":r.data.canvasNeedsRedraw[CRp$a.DRAG]=bool;break;case"select":r.data.canvasNeedsRedraw[CRp$a.SELECT_BOX]=bool;break}};var pathsImpld=typeof Path2D!=="undefined";CRp$a.path2dEnabled=function(on){if(on===undefined){return this.pathsEnabled}this.pathsEnabled=on?true:false};CRp$a.usePaths=function(){return pathsImpld&&this.pathsEnabled};CRp$a.setImgSmoothing=function(context,bool){if(context.imageSmoothingEnabled!=null){context.imageSmoothingEnabled=bool}else{context.webkitImageSmoothingEnabled=bool;context.mozImageSmoothingEnabled=bool;context.msImageSmoothingEnabled=bool}};CRp$a.getImgSmoothing=function(context){if(context.imageSmoothingEnabled!=null){return context.imageSmoothingEnabled}else{return context.webkitImageSmoothingEnabled||context.mozImageSmoothingEnabled||context.msImageSmoothingEnabled}};CRp$a.makeOffscreenCanvas=function(width,height){var canvas;if((typeof OffscreenCanvas==="undefined"?"undefined":_typeof(OffscreenCanvas))!=="undefined"){canvas=new OffscreenCanvas(width,height)}else{canvas=document.createElement("canvas");canvas.width=width;canvas.height=height}return canvas};[CRp,CRp$1,CRp$2,CRp$3,CRp$4,CRp$5,CRp$6,CRp$7,CRp$8,CRp$9].forEach((function(props){extend(CRp$a,props)}));var renderer=[{name:"null",impl:NullRenderer},{name:"base",impl:BR},{name:"canvas",impl:CR}];var incExts=[{type:"layout",extensions:layout},{type:"renderer",extensions:renderer}];var extensions={};var modules={};function setExtension(type,name,registrant){var ext=registrant;var overrideErr=function overrideErr(field){error("Can not register `"+name+"` for `"+type+"` since `"+field+"` already exists in the prototype and can not be overridden")};if(type==="core"){if(Core.prototype[name]){return overrideErr(name)}else{Core.prototype[name]=registrant}}else if(type==="collection"){if(Collection.prototype[name]){return overrideErr(name)}else{Collection.prototype[name]=registrant}}else if(type==="layout"){var Layout=function Layout(options){this.options=options;registrant.call(this,options);if(!plainObject(this._private)){this._private={}}this._private.cy=options.cy;this._private.listeners=[];this.createEmitter()};var layoutProto=Layout.prototype=Object.create(registrant.prototype);var optLayoutFns=[];for(var i=0;i<optLayoutFns.length;i++){var fnName=optLayoutFns[i];layoutProto[fnName]=layoutProto[fnName]||function(){return this}}if(layoutProto.start&&!layoutProto.run){layoutProto.run=function(){this.start();return this}}else if(!layoutProto.start&&layoutProto.run){layoutProto.start=function(){this.run();return this}}var regStop=registrant.prototype.stop;layoutProto.stop=function(){var opts=this.options;if(opts&&opts.animate){var anis=this.animations;if(anis){for(var _i=0;_i<anis.length;_i++){anis[_i].stop()}}}if(regStop){regStop.call(this)}else{this.emit("layoutstop")}return this};if(!layoutProto.destroy){layoutProto.destroy=function(){return this}}layoutProto.cy=function(){return this._private.cy};var getCy=function getCy(layout){return layout._private.cy};var emitterOpts={addEventFields:function addEventFields(layout,evt){evt.layout=layout;evt.cy=getCy(layout);evt.target=layout},bubble:function bubble(){return true},parent:function parent(layout){return getCy(layout)}};extend(layoutProto,{createEmitter:function createEmitter(){this._private.emitter=new Emitter(emitterOpts,this);return this},emitter:function emitter(){return this._private.emitter},on:function on(evt,cb){this.emitter().on(evt,cb);return this},one:function one(evt,cb){this.emitter().one(evt,cb);return this},once:function once(evt,cb){this.emitter().one(evt,cb);return this},removeListener:function removeListener(evt,cb){this.emitter().removeListener(evt,cb);return this},removeAllListeners:function removeAllListeners(){this.emitter().removeAllListeners();return this},emit:function emit(evt,params){this.emitter().emit(evt,params);return this}});define$3.eventAliasesOn(layoutProto);ext=Layout}else if(type==="renderer"&&name!=="null"&&name!=="base"){var BaseRenderer=getExtension("renderer","base");var bProto=BaseRenderer.prototype;var RegistrantRenderer=registrant;var rProto=registrant.prototype;var Renderer=function Renderer(){BaseRenderer.apply(this,arguments);RegistrantRenderer.apply(this,arguments)};var proto=Renderer.prototype;for(var pName in bProto){var pVal=bProto[pName];var existsInR=rProto[pName]!=null;if(existsInR){return overrideErr(pName)}proto[pName]=pVal}for(var _pName in rProto){proto[_pName]=rProto[_pName]}bProto.clientFunctions.forEach((function(name){proto[name]=proto[name]||function(){error("Renderer does not implement `renderer."+name+"()` on its prototype")}}));ext=Renderer}return setMap({map:extensions,keys:[type,name],value:ext})}function getExtension(type,name){return getMap({map:extensions,keys:[type,name]})}function setModule(type,name,moduleType,moduleName,registrant){return setMap({map:modules,keys:[type,name,moduleType,moduleName],value:registrant})}function getModule(type,name,moduleType,moduleName){return getMap({map:modules,keys:[type,name,moduleType,moduleName]})}var extension=function extension(){if(arguments.length===2){return getExtension.apply(null,arguments)}else if(arguments.length===3){return setExtension.apply(null,arguments)}else if(arguments.length===4){return getModule.apply(null,arguments)}else if(arguments.length===5){return setModule.apply(null,arguments)}else{error("Invalid extension access syntax")}};Core.prototype.extension=extension;incExts.forEach((function(group){group.extensions.forEach((function(ext){setExtension(group.type,ext.name,ext.impl)}))}));var Stylesheet=function Stylesheet(){if(!(this instanceof Stylesheet)){return new Stylesheet}this.length=0};var sheetfn=Stylesheet.prototype;sheetfn.instanceString=function(){return"stylesheet"};sheetfn.selector=function(selector){var i=this.length++;this[i]={selector:selector,properties:[]};return this};sheetfn.css=function(name,value){var i=this.length-1;if(string(name)){this[i].properties.push({name:name,value:value})}else if(plainObject(name)){var map=name;var propNames=Object.keys(map);for(var j=0;j<propNames.length;j++){var key=propNames[j];var mapVal=map[key];if(mapVal==null){continue}var prop=Style.properties[key]||Style.properties[dash2camel(key)];if(prop==null){continue}var _name=prop.name;var _value=mapVal;this[i].properties.push({name:_name,value:_value})}}return this};sheetfn.style=sheetfn.css;sheetfn.generateStyle=function(cy){var style=new Style(cy);return this.appendToStyle(style)};sheetfn.appendToStyle=function(style){for(var i=0;i<this.length;i++){var context=this[i];var selector=context.selector;var props=context.properties;style.selector(selector);for(var j=0;j<props.length;j++){var prop=props[j];style.css(prop.name,prop.value)}}return style};var version="3.10.0";var cytoscape=function cytoscape(options){if(options===undefined){options={}}if(plainObject(options)){return new Core(options)}else if(string(options)){return extension.apply(extension,arguments)}};cytoscape.use=function(ext){var args=Array.prototype.slice.call(arguments,1);args.unshift(cytoscape);ext.apply(null,args);return this};cytoscape.warnings=function(bool){return warnings(bool)};cytoscape.version=version;cytoscape.stylesheet=cytoscape.Stylesheet=Stylesheet;module.exports=cytoscape}).call(this,__webpack_require__(200).setImmediate)},function(module,exports,__webpack_require__){(function(global){var FUNC_ERROR_TEXT="Expected a function";var NAN=0/0;var symbolTag="[object Symbol]";var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var objectProto=Object.prototype;var objectToString=objectProto.toString;var nativeMax=Math.max,nativeMin=Math.min;var now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=debounce}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){module.exports=__webpack_require__(546)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){var Heap,defaultCmp,floor,heapify,heappop,heappush,heappushpop,heapreplace,insort,min,nlargest,nsmallest,updateItem,_siftdown,_siftup;floor=Math.floor,min=Math.min;defaultCmp=function(x,y){if(x<y){return-1}if(x>y){return 1}return 0};insort=function(a,x,lo,hi,cmp){var mid;if(lo==null){lo=0}if(cmp==null){cmp=defaultCmp}if(lo<0){throw new Error("lo must be non-negative")}if(hi==null){hi=a.length}while(lo<hi){mid=floor((lo+hi)/2);if(cmp(x,a[mid])<0){hi=mid}else{lo=mid+1}}return[].splice.apply(a,[lo,lo-lo].concat(x)),x};heappush=function(array,item,cmp){if(cmp==null){cmp=defaultCmp}array.push(item);return _siftdown(array,0,array.length-1,cmp)};heappop=function(array,cmp){var lastelt,returnitem;if(cmp==null){cmp=defaultCmp}lastelt=array.pop();if(array.length){returnitem=array[0];array[0]=lastelt;_siftup(array,0,cmp)}else{returnitem=lastelt}return returnitem};heapreplace=function(array,item,cmp){var returnitem;if(cmp==null){cmp=defaultCmp}returnitem=array[0];array[0]=item;_siftup(array,0,cmp);return returnitem};heappushpop=function(array,item,cmp){var _ref;if(cmp==null){cmp=defaultCmp}if(array.length&&cmp(array[0],item)<0){_ref=[array[0],item],item=_ref[0],array[0]=_ref[1];_siftup(array,0,cmp)}return item};heapify=function(array,cmp){var i,_i,_j,_len,_ref,_ref1,_results,_results1;if(cmp==null){cmp=defaultCmp}_ref1=function(){_results1=[];for(var _j=0,_ref=floor(array.length/2);0<=_ref?_j<_ref:_j>_ref;0<=_ref?_j++:_j--){_results1.push(_j)}return _results1}.apply(this).reverse();_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){i=_ref1[_i];_results.push(_siftup(array,i,cmp))}return _results};updateItem=function(array,item,cmp){var pos;if(cmp==null){cmp=defaultCmp}pos=array.indexOf(item);if(pos===-1){return}_siftdown(array,0,pos,cmp);return _siftup(array,pos,cmp)};nlargest=function(array,n,cmp){var elem,result,_i,_len,_ref;if(cmp==null){cmp=defaultCmp}result=array.slice(0,n);if(!result.length){return result}heapify(result,cmp);_ref=array.slice(n);for(_i=0,_len=_ref.length;_i<_len;_i++){elem=_ref[_i];heappushpop(result,elem,cmp)}return result.sort(cmp).reverse()};nsmallest=function(array,n,cmp){var elem,i,los,result,_i,_j,_len,_ref,_ref1,_results;if(cmp==null){cmp=defaultCmp}if(n*10<=array.length){result=array.slice(0,n).sort(cmp);if(!result.length){return result}los=result[result.length-1];_ref=array.slice(n);for(_i=0,_len=_ref.length;_i<_len;_i++){elem=_ref[_i];if(cmp(elem,los)<0){insort(result,elem,0,null,cmp);result.pop();los=result[result.length-1]}}return result}heapify(array,cmp);_results=[];for(i=_j=0,_ref1=min(n,array.length);0<=_ref1?_j<_ref1:_j>_ref1;i=0<=_ref1?++_j:--_j){_results.push(heappop(array,cmp))}return _results};_siftdown=function(array,startpos,pos,cmp){var newitem,parent,parentpos;if(cmp==null){cmp=defaultCmp}newitem=array[pos];while(pos>startpos){parentpos=pos-1>>1;parent=array[parentpos];if(cmp(newitem,parent)<0){array[pos]=parent;pos=parentpos;continue}break}return array[pos]=newitem};_siftup=function(array,pos,cmp){var childpos,endpos,newitem,rightpos,startpos;if(cmp==null){cmp=defaultCmp}endpos=array.length;startpos=pos;newitem=array[pos];childpos=2*pos+1;while(childpos<endpos){rightpos=childpos+1;if(rightpos<endpos&&!(cmp(array[childpos],array[rightpos])<0)){childpos=rightpos}array[pos]=array[childpos];pos=childpos;childpos=2*pos+1}array[pos]=newitem;return _siftdown(array,startpos,pos,cmp)};Heap=function(){Heap.push=heappush;Heap.pop=heappop;Heap.replace=heapreplace;Heap.pushpop=heappushpop;Heap.heapify=heapify;Heap.updateItem=updateItem;Heap.nlargest=nlargest;Heap.nsmallest=nsmallest;function Heap(cmp){this.cmp=cmp!=null?cmp:defaultCmp;this.nodes=[]}Heap.prototype.push=function(x){return heappush(this.nodes,x,this.cmp)};Heap.prototype.pop=function(){return heappop(this.nodes,this.cmp)};Heap.prototype.peek=function(){return this.nodes[0]};Heap.prototype.contains=function(x){return this.nodes.indexOf(x)!==-1};Heap.prototype.replace=function(x){return heapreplace(this.nodes,x,this.cmp)};Heap.prototype.pushpop=function(x){return heappushpop(this.nodes,x,this.cmp)};Heap.prototype.heapify=function(){return heapify(this.nodes,this.cmp)};Heap.prototype.updateItem=function(x){return updateItem(this.nodes,x,this.cmp)};Heap.prototype.clear=function(){return this.nodes=[]};Heap.prototype.empty=function(){return this.nodes.length===0};Heap.prototype.size=function(){return this.nodes.length};Heap.prototype.clone=function(){var heap;heap=new Heap;heap.nodes=this.nodes.slice(0);return heap};Heap.prototype.toArray=function(){return this.nodes.slice(0)};Heap.prototype.insert=Heap.prototype.push;Heap.prototype.top=Heap.prototype.peek;Heap.prototype.front=Heap.prototype.peek;Heap.prototype.has=Heap.prototype.contains;Heap.prototype.copy=Heap.prototype.clone;return Heap}();(function(root,factory){if(true){return!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this,(function(){return Heap}))}).call(this)},function(module,exports,__webpack_require__){(function webpackUniversalModuleDefinition(root,factory){if(true)module.exports=factory(__webpack_require__(548));else{}})(this,(function(__WEBPACK_EXTERNAL_MODULE_4__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)}([function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var isFunction=function isFunction(o){return typeof o==="function"};var defaults=__webpack_require__(2);var assign=__webpack_require__(1);var dagre=__webpack_require__(4);function DagreLayout(options){this.options=assign({},defaults,options)}DagreLayout.prototype.run=function(){var options=this.options;var layout=this;var cy=options.cy;var eles=options.eles;var getVal=function getVal(ele,val){return isFunction(val)?val.apply(ele,[ele]):val};var bb=options.boundingBox||{x1:0,y1:0,w:cy.width(),h:cy.height()};if(bb.x2===undefined){bb.x2=bb.x1+bb.w}if(bb.w===undefined){bb.w=bb.x2-bb.x1}if(bb.y2===undefined){bb.y2=bb.y1+bb.h}if(bb.h===undefined){bb.h=bb.y2-bb.y1}var g=new dagre.graphlib.Graph({multigraph:true,compound:true});var gObj={};var setGObj=function setGObj(name,val){if(val!=null){gObj[name]=val}};setGObj("nodesep",options.nodeSep);setGObj("edgesep",options.edgeSep);setGObj("ranksep",options.rankSep);setGObj("rankdir",options.rankDir);setGObj("ranker",options.ranker);g.setGraph(gObj);g.setDefaultEdgeLabel((function(){return{}}));g.setDefaultNodeLabel((function(){return{}}));var nodes=eles.nodes();for(var i=0;i<nodes.length;i++){var node=nodes[i];var nbb=node.layoutDimensions(options);g.setNode(node.id(),{width:nbb.w,height:nbb.h,name:node.id()})}for(var _i=0;_i<nodes.length;_i++){var _node=nodes[_i];if(_node.isChild()){g.setParent(_node.id(),_node.parent().id())}}var edges=eles.edges().stdFilter((function(edge){return!edge.source().isParent()&&!edge.target().isParent()}));for(var _i2=0;_i2<edges.length;_i2++){var edge=edges[_i2];g.setEdge(edge.source().id(),edge.target().id(),{minlen:getVal(edge,options.minLen),weight:getVal(edge,options.edgeWeight),name:edge.id()},edge.id())}dagre.layout(g);var gNodeIds=g.nodes();for(var _i3=0;_i3<gNodeIds.length;_i3++){var id=gNodeIds[_i3];var n=g.node(id);cy.getElementById(id).scratch().dagre=n}var dagreBB=void 0;if(options.boundingBox){dagreBB={x1:Infinity,x2:-Infinity,y1:Infinity,y2:-Infinity};nodes.forEach((function(node){var dModel=node.scratch().dagre;dagreBB.x1=Math.min(dagreBB.x1,dModel.x);dagreBB.x2=Math.max(dagreBB.x2,dModel.x);dagreBB.y1=Math.min(dagreBB.y1,dModel.y);dagreBB.y2=Math.max(dagreBB.y2,dModel.y)}));dagreBB.w=dagreBB.x2-dagreBB.x1;dagreBB.h=dagreBB.y2-dagreBB.y1}else{dagreBB=bb}var constrainPos=function constrainPos(p){if(options.boundingBox){var xPct=dagreBB.w===0?0:(p.x-dagreBB.x1)/dagreBB.w;var yPct=dagreBB.h===0?0:(p.y-dagreBB.y1)/dagreBB.h;return{x:bb.x1+xPct*bb.w,y:bb.y1+yPct*bb.h}}else{return p}};nodes.layoutPositions(layout,options,(function(ele){ele=(typeof ele==="undefined"?"undefined":_typeof(ele))==="object"?ele:this;var dModel=ele.scratch().dagre;return constrainPos({x:dModel.x,y:dModel.y})}));return this};module.exports=DagreLayout},function(module,exports,__webpack_require__){"use strict";module.exports=Object.assign!=null?Object.assign.bind(Object):function(tgt){for(var _len=arguments.length,srcs=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){srcs[_key-1]=arguments[_key]}srcs.forEach((function(src){Object.keys(src).forEach((function(k){return tgt[k]=src[k]}))}));return tgt}},function(module,exports,__webpack_require__){"use strict";var defaults={nodeSep:undefined,edgeSep:undefined,rankSep:undefined,rankDir:undefined,ranker:undefined,minLen:function minLen(edge){return 1},edgeWeight:function edgeWeight(edge){return 1},fit:true,padding:30,spacingFactor:undefined,nodeDimensionsIncludeLabels:false,animate:false,animateFilter:function animateFilter(node,i){return true},animationDuration:500,animationEasing:undefined,boundingBox:undefined,transform:function transform(node,pos){return pos},ready:function ready(){},stop:function stop(){}};module.exports=defaults},function(module,exports,__webpack_require__){"use strict";var impl=__webpack_require__(0);var register=function register(cytoscape){if(!cytoscape){return}cytoscape("layout","dagre",impl)};if(typeof cytoscape!=="undefined"){register(cytoscape)}module.exports=register},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_4__}])}))},function(module,exports,__webpack_require__){module.exports={graphlib:__webpack_require__(68),layout:__webpack_require__(662),debug:__webpack_require__(723),util:{time:__webpack_require__(61).time,notime:__webpack_require__(61).notime},version:__webpack_require__(724)}},function(module,exports,__webpack_require__){var lib=__webpack_require__(550);module.exports={Graph:lib.Graph,json:__webpack_require__(652),alg:__webpack_require__(653),version:lib.version}},function(module,exports,__webpack_require__){module.exports={Graph:__webpack_require__(165),version:__webpack_require__(651)}},function(module,exports,__webpack_require__){var baseClone=__webpack_require__(228);var CLONE_SYMBOLS_FLAG=4;function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}module.exports=clone},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(125);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(125);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(125);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(125);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(124);function stackClear(){this.__data__=new ListCache;this.size=0}module.exports=stackClear},function(module,exports){function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}module.exports=stackDelete},function(module,exports){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},function(module,exports){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(124),Map=__webpack_require__(166),MapCache=__webpack_require__(167);var LARGE_ARRAY_SIZE=200;function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}module.exports=stackSet},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(111),isMasked=__webpack_require__(565),isObject=__webpack_require__(65),toSource=__webpack_require__(230);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(98);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(566);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(69);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var Hash=__webpack_require__(569),ListCache=__webpack_require__(124),Map=__webpack_require__(166);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(570),hashDelete=__webpack_require__(571),hashGet=__webpack_require__(572),hashHas=__webpack_require__(573),hashSet=__webpack_require__(574);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(126);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(126);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(126);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(126);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(127);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(127);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(127);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(127);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(112),keys=__webpack_require__(75);function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}module.exports=baseAssign},function(module,exports){function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}module.exports=baseTimes},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(85),isObjectLike=__webpack_require__(70);var argsTag="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}module.exports=baseIsArguments},function(module,exports){function stubFalse(){return false}module.exports=stubFalse},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(85),isLength=__webpack_require__(169),isObjectLike=__webpack_require__(70);var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}module.exports=baseIsTypedArray},function(module,exports,__webpack_require__){var overArg=__webpack_require__(233);var nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(112),keysIn=__webpack_require__(86);function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}module.exports=baseAssignIn},function(module,exports,__webpack_require__){var isObject=__webpack_require__(65),isPrototype=__webpack_require__(132),nativeKeysIn=__webpack_require__(588);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=baseKeysIn},function(module,exports){function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}module.exports=nativeKeysIn},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(112),getSymbols=__webpack_require__(172);function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}module.exports=copySymbols},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(112),getSymbolsIn=__webpack_require__(238);function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}module.exports=copySymbolsIn},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(240),getSymbolsIn=__webpack_require__(238),keysIn=__webpack_require__(86);function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}module.exports=getAllKeysIn},function(module,exports,__webpack_require__){var getNative=__webpack_require__(84),root=__webpack_require__(69);var DataView=getNative(root,"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var getNative=__webpack_require__(84),root=__webpack_require__(69);var Promise=getNative(root,"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var getNative=__webpack_require__(84),root=__webpack_require__(69);var WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},function(module,exports){var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}module.exports=initCloneArray},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(174),cloneDataView=__webpack_require__(597),cloneRegExp=__webpack_require__(598),cloneSymbol=__webpack_require__(599),cloneTypedArray=__webpack_require__(243);var boolTag="[object Boolean]",dateTag="[object Date]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}module.exports=initCloneByTag},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(174);function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}module.exports=cloneDataView},function(module,exports){var reFlags=/\w*$/;function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}module.exports=cloneRegExp},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(98);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}module.exports=cloneSymbol},function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(601),baseUnary=__webpack_require__(131),nodeUtil=__webpack_require__(170);var nodeIsMap=nodeUtil&&nodeUtil.isMap;var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},function(module,exports,__webpack_require__){var getTag=__webpack_require__(100),isObjectLike=__webpack_require__(70);var mapTag="[object Map]";function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}module.exports=baseIsMap},function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(603),baseUnary=__webpack_require__(131),nodeUtil=__webpack_require__(170);var nodeIsSet=nodeUtil&&nodeUtil.isSet;var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},function(module,exports,__webpack_require__){var getTag=__webpack_require__(100),isObjectLike=__webpack_require__(70);var setTag="[object Set]";function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}module.exports=baseIsSet},function(module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}module.exports=createBaseFor},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(71);function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}module.exports=createBaseEach},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(134);function baseFilter(collection,predicate){var result=[];baseEach(collection,(function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}}));return result}module.exports=baseFilter},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(608),getMatchData=__webpack_require__(616),matchesStrictComparable=__webpack_require__(255);function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}module.exports=baseMatches},function(module,exports,__webpack_require__){var Stack=__webpack_require__(123),baseIsEqual=__webpack_require__(250);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}module.exports=baseIsMatch},function(module,exports,__webpack_require__){var Stack=__webpack_require__(123),equalArrays=__webpack_require__(251),equalByTag=__webpack_require__(613),equalObjects=__webpack_require__(615),getTag=__webpack_require__(100),isArray=__webpack_require__(53),isBuffer=__webpack_require__(99),isTypedArray=__webpack_require__(114);var COMPARE_PARTIAL_FLAG=1;var argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}module.exports=baseIsEqualDeep},function(module,exports){var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}module.exports=setCacheAdd},function(module,exports){function setCacheHas(value){return this.__data__.has(value)}module.exports=setCacheHas},function(module,exports){function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}module.exports=arraySome},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(98),Uint8Array=__webpack_require__(242),eq=__webpack_require__(97),equalArrays=__webpack_require__(251),mapToArray=__webpack_require__(614),setToArray=__webpack_require__(178);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]";var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}module.exports=equalByTag},function(module,exports){function mapToArray(map){var index=-1,result=Array(map.size);map.forEach((function(value,key){result[++index]=[key,value]}));return result}module.exports=mapToArray},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(239);var COMPARE_PARTIAL_FLAG=1;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var objStacked=stack.get(object);var othStacked=stack.get(other);if(objStacked&&othStacked){return objStacked==other&&othStacked==object}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}module.exports=equalObjects},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(254),keys=__webpack_require__(75);function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}module.exports=getMatchData},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(250),get=__webpack_require__(618),hasIn=__webpack_require__(257),isKey=__webpack_require__(179),isStrictComparable=__webpack_require__(254),matchesStrictComparable=__webpack_require__(255),toKey=__webpack_require__(115);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}module.exports=baseMatchesProperty},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(135);function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}module.exports=get},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(620);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped((function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}));return result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(621);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,(function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key}));var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(167);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(98),arrayMap=__webpack_require__(137),isArray=__webpack_require__(53),isSymbol=__webpack_require__(101);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},function(module,exports){function baseHasIn(object,key){return object!=null&&key in Object(object)}module.exports=baseHasIn},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(259),basePropertyDeep=__webpack_require__(625),isKey=__webpack_require__(179),toKey=__webpack_require__(115);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}module.exports=property},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(135);function basePropertyDeep(path){return function(object){return baseGet(object,path)}}module.exports=basePropertyDeep},function(module,exports){var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}module.exports=baseHas},function(module,exports,__webpack_require__){var baseKeys=__webpack_require__(171),getTag=__webpack_require__(100),isArguments=__webpack_require__(113),isArray=__webpack_require__(53),isArrayLike=__webpack_require__(71),isBuffer=__webpack_require__(99),isPrototype=__webpack_require__(132),isTypedArray=__webpack_require__(114);var mapTag="[object Map]",setTag="[object Set]";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}module.exports=isEmpty},function(module,exports){function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}module.exports=arrayReduce},function(module,exports){function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,(function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)}));return accumulator}module.exports=baseReduce},function(module,exports,__webpack_require__){var baseKeys=__webpack_require__(171),getTag=__webpack_require__(100),isArrayLike=__webpack_require__(71),isString=__webpack_require__(631),stringSize=__webpack_require__(632);var mapTag="[object Map]",setTag="[object Set]";function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}module.exports=size},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(85),isArray=__webpack_require__(53),isObjectLike=__webpack_require__(70);var stringTag="[object String]";function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}module.exports=isString},function(module,exports,__webpack_require__){var asciiSize=__webpack_require__(633),hasUnicode=__webpack_require__(634),unicodeSize=__webpack_require__(635);function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}module.exports=stringSize},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(259);var asciiSize=baseProperty("length");module.exports=asciiSize},function(module,exports){var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f";var rsZWJ="\\u200d";var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(string){return reHasUnicode.test(string)}module.exports=hasUnicode},function(module,exports){var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f";var rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d";var reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}module.exports=unicodeSize},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(168),baseCreate=__webpack_require__(245),baseForOwn=__webpack_require__(176),baseIteratee=__webpack_require__(72),getPrototype=__webpack_require__(133),isArray=__webpack_require__(53),isBuffer=__webpack_require__(99),isFunction=__webpack_require__(111),isObject=__webpack_require__(65),isTypedArray=__webpack_require__(114);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=baseIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)}));return accumulator}module.exports=transform},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(180),baseRest=__webpack_require__(138),baseUniq=__webpack_require__(642),isArrayLikeObject=__webpack_require__(268);var union=baseRest((function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))}));module.exports=union},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(98),isArguments=__webpack_require__(113),isArray=__webpack_require__(53);var spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined;function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}module.exports=isFlattenable},function(module,exports){function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}module.exports=apply},function(module,exports,__webpack_require__){var constant=__webpack_require__(175),defineProperty=__webpack_require__(231),identity=__webpack_require__(87);var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};module.exports=baseSetToString},function(module,exports){var HOT_COUNT=800,HOT_SPAN=16;var nativeNow=Date.now;function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}module.exports=shortOut},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(252),arrayIncludes=__webpack_require__(643),arrayIncludesWith=__webpack_require__(647),cacheHas=__webpack_require__(253),createSet=__webpack_require__(648),setToArray=__webpack_require__(178);var LARGE_ARRAY_SIZE=200;function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}module.exports=baseUniq},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(644);function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}module.exports=arrayIncludes},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(267),baseIsNaN=__webpack_require__(645),strictIndexOf=__webpack_require__(646);function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}module.exports=baseIndexOf},function(module,exports){function baseIsNaN(value){return value!==value}module.exports=baseIsNaN},function(module,exports){function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}module.exports=strictIndexOf},function(module,exports){function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}module.exports=arrayIncludesWith},function(module,exports,__webpack_require__){var Set=__webpack_require__(241),noop=__webpack_require__(649),setToArray=__webpack_require__(178);var INFINITY=1/0;var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};module.exports=createSet},function(module,exports){function noop(){}module.exports=noop},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(137);function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}module.exports=baseValues},function(module,exports){module.exports="2.1.8"},function(module,exports,__webpack_require__){var _=__webpack_require__(64);var Graph=__webpack_require__(165);module.exports={write:write,read:read};function write(g){var json={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:writeNodes(g),edges:writeEdges(g)};if(!_.isUndefined(g.graph())){json.value=_.clone(g.graph())}return json}function writeNodes(g){return _.map(g.nodes(),(function(v){var nodeValue=g.node(v);var parent=g.parent(v);var node={v:v};if(!_.isUndefined(nodeValue)){node.value=nodeValue}if(!_.isUndefined(parent)){node.parent=parent}return node}))}function writeEdges(g){return _.map(g.edges(),(function(e){var edgeValue=g.edge(e);var edge={v:e.v,w:e.w};if(!_.isUndefined(e.name)){edge.name=e.name}if(!_.isUndefined(edgeValue)){edge.value=edgeValue}return edge}))}function read(json){var g=new Graph(json.options).setGraph(json.value);_.each(json.nodes,(function(entry){g.setNode(entry.v,entry.value);if(entry.parent){g.setParent(entry.v,entry.parent)}}));_.each(json.edges,(function(entry){g.setEdge({v:entry.v,w:entry.w,name:entry.name},entry.value)}));return g}},function(module,exports,__webpack_require__){module.exports={components:__webpack_require__(654),dijkstra:__webpack_require__(270),dijkstraAll:__webpack_require__(655),findCycles:__webpack_require__(656),floydWarshall:__webpack_require__(657),isAcyclic:__webpack_require__(658),postorder:__webpack_require__(659),preorder:__webpack_require__(660),prim:__webpack_require__(661),tarjan:__webpack_require__(272),topsort:__webpack_require__(273)}},function(module,exports,__webpack_require__){var _=__webpack_require__(64);module.exports=components;function components(g){var visited={};var cmpts=[];var cmpt;function dfs(v){if(_.has(visited,v))return;visited[v]=true;cmpt.push(v);_.each(g.successors(v),dfs);_.each(g.predecessors(v),dfs)}_.each(g.nodes(),(function(v){cmpt=[];dfs(v);if(cmpt.length){cmpts.push(cmpt)}}));return cmpts}},function(module,exports,__webpack_require__){var dijkstra=__webpack_require__(270);var _=__webpack_require__(64);module.exports=dijkstraAll;function dijkstraAll(g,weightFunc,edgeFunc){return _.transform(g.nodes(),(function(acc,v){acc[v]=dijkstra(g,v,weightFunc,edgeFunc)}),{})}},function(module,exports,__webpack_require__){var _=__webpack_require__(64);var tarjan=__webpack_require__(272);module.exports=findCycles;function findCycles(g){return _.filter(tarjan(g),(function(cmpt){return cmpt.length>1||cmpt.length===1&&g.hasEdge(cmpt[0],cmpt[0])}))}},function(module,exports,__webpack_require__){var _=__webpack_require__(64);module.exports=floydWarshall;var DEFAULT_WEIGHT_FUNC=_.constant(1);function floydWarshall(g,weightFn,edgeFn){return runFloydWarshall(g,weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})}function runFloydWarshall(g,weightFn,edgeFn){var results={};var nodes=g.nodes();nodes.forEach((function(v){results[v]={};results[v][v]={distance:0};nodes.forEach((function(w){if(v!==w){results[v][w]={distance:Number.POSITIVE_INFINITY}}}));edgeFn(v).forEach((function(edge){var w=edge.v===v?edge.w:edge.v;var d=weightFn(edge);results[v][w]={distance:d,predecessor:v}}))}));nodes.forEach((function(k){var rowK=results[k];nodes.forEach((function(i){var rowI=results[i];nodes.forEach((function(j){var ik=rowI[k];var kj=rowK[j];var ij=rowI[j];var altDistance=ik.distance+kj.distance;if(altDistance<ij.distance){ij.distance=altDistance;ij.predecessor=kj.predecessor}}))}))}));return results}},function(module,exports,__webpack_require__){var topsort=__webpack_require__(273);module.exports=isAcyclic;function isAcyclic(g){try{topsort(g)}catch(e){if(e instanceof topsort.CycleException){return false}throw e}return true}},function(module,exports,__webpack_require__){var dfs=__webpack_require__(274);module.exports=postorder;function postorder(g,vs){return dfs(g,vs,"post")}},function(module,exports,__webpack_require__){var dfs=__webpack_require__(274);module.exports=preorder;function preorder(g,vs){return dfs(g,vs,"pre")}},function(module,exports,__webpack_require__){var _=__webpack_require__(64);var Graph=__webpack_require__(165);var PriorityQueue=__webpack_require__(271);module.exports=prim;function prim(g,weightFunc){var result=new Graph;var parents={};var pq=new PriorityQueue;var v;function updateNeighbors(edge){var w=edge.v===v?edge.w:edge.v;var pri=pq.priority(w);if(pri!==undefined){var edgeWeight=weightFunc(edge);if(edgeWeight<pri){parents[w]=v;pq.decrease(w,edgeWeight)}}}if(g.nodeCount()===0){return result}_.each(g.nodes(),(function(v){pq.add(v,Number.POSITIVE_INFINITY);result.setNode(v)}));pq.decrease(g.nodes()[0],0);var init=false;while(pq.size()>0){v=pq.removeMin();if(_.has(parents,v)){result.setEdge(v,parents[v])}else if(init){throw new Error("Input graph is not connected: "+g)}else{init=true}g.nodeEdges(v).forEach(updateNeighbors)}return result}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var acyclic=__webpack_require__(702);var normalize=__webpack_require__(705);var rank=__webpack_require__(706);var normalizeRanks=__webpack_require__(61).normalizeRanks;var parentDummyChains=__webpack_require__(708);var removeEmptyRanks=__webpack_require__(61).removeEmptyRanks;var nestingGraph=__webpack_require__(709);var addBorderSegments=__webpack_require__(710);var coordinateSystem=__webpack_require__(711);var order=__webpack_require__(712);var position=__webpack_require__(721);var util=__webpack_require__(61);var Graph=__webpack_require__(68).Graph;module.exports=layout;function layout(g,opts){var time=opts&&opts.debugTiming?util.time:util.notime;time("layout",(function(){var layoutGraph=time("  buildLayoutGraph",(function(){return buildLayoutGraph(g)}));time("  runLayout",(function(){runLayout(layoutGraph,time)}));time("  updateInputGraph",(function(){updateInputGraph(g,layoutGraph)}))}))}function runLayout(g,time){time("    makeSpaceForEdgeLabels",(function(){makeSpaceForEdgeLabels(g)}));time("    removeSelfEdges",(function(){removeSelfEdges(g)}));time("    acyclic",(function(){acyclic.run(g)}));time("    nestingGraph.run",(function(){nestingGraph.run(g)}));time("    rank",(function(){rank(util.asNonCompoundGraph(g))}));time("    injectEdgeLabelProxies",(function(){injectEdgeLabelProxies(g)}));time("    removeEmptyRanks",(function(){removeEmptyRanks(g)}));time("    nestingGraph.cleanup",(function(){nestingGraph.cleanup(g)}));time("    normalizeRanks",(function(){normalizeRanks(g)}));time("    assignRankMinMax",(function(){assignRankMinMax(g)}));time("    removeEdgeLabelProxies",(function(){removeEdgeLabelProxies(g)}));time("    normalize.run",(function(){normalize.run(g)}));time("    parentDummyChains",(function(){parentDummyChains(g)}));time("    addBorderSegments",(function(){addBorderSegments(g)}));time("    order",(function(){order(g)}));time("    insertSelfEdges",(function(){insertSelfEdges(g)}));time("    adjustCoordinateSystem",(function(){coordinateSystem.adjust(g)}));time("    position",(function(){position(g)}));time("    positionSelfEdges",(function(){positionSelfEdges(g)}));time("    removeBorderNodes",(function(){removeBorderNodes(g)}));time("    normalize.undo",(function(){normalize.undo(g)}));time("    fixupEdgeLabelCoords",(function(){fixupEdgeLabelCoords(g)}));time("    undoCoordinateSystem",(function(){coordinateSystem.undo(g)}));time("    translateGraph",(function(){translateGraph(g)}));time("    assignNodeIntersects",(function(){assignNodeIntersects(g)}));time("    reversePoints",(function(){reversePointsForReversedEdges(g)}));time("    acyclic.undo",(function(){acyclic.undo(g)}))}function updateInputGraph(inputGraph,layoutGraph){_.forEach(inputGraph.nodes(),(function(v){var inputLabel=inputGraph.node(v);var layoutLabel=layoutGraph.node(v);if(inputLabel){inputLabel.x=layoutLabel.x;inputLabel.y=layoutLabel.y;if(layoutGraph.children(v).length){inputLabel.width=layoutLabel.width;inputLabel.height=layoutLabel.height}}}));_.forEach(inputGraph.edges(),(function(e){var inputLabel=inputGraph.edge(e);var layoutLabel=layoutGraph.edge(e);inputLabel.points=layoutLabel.points;if(_.has(layoutLabel,"x")){inputLabel.x=layoutLabel.x;inputLabel.y=layoutLabel.y}}));inputGraph.graph().width=layoutGraph.graph().width;inputGraph.graph().height=layoutGraph.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"];var graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"};var graphAttrs=["acyclicer","ranker","rankdir","align"];var nodeNumAttrs=["width","height"];var nodeDefaults={width:0,height:0};var edgeNumAttrs=["minlen","weight","width","height","labeloffset"];var edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"};var edgeAttrs=["labelpos"];function buildLayoutGraph(inputGraph){var g=new Graph({multigraph:true,compound:true});var graph=canonicalize(inputGraph.graph());g.setGraph(_.merge({},graphDefaults,selectNumberAttrs(graph,graphNumAttrs),_.pick(graph,graphAttrs)));_.forEach(inputGraph.nodes(),(function(v){var node=canonicalize(inputGraph.node(v));g.setNode(v,_.defaults(selectNumberAttrs(node,nodeNumAttrs),nodeDefaults));g.setParent(v,inputGraph.parent(v))}));_.forEach(inputGraph.edges(),(function(e){var edge=canonicalize(inputGraph.edge(e));g.setEdge(e,_.merge({},edgeDefaults,selectNumberAttrs(edge,edgeNumAttrs),_.pick(edge,edgeAttrs)))}));return g}function makeSpaceForEdgeLabels(g){var graph=g.graph();graph.ranksep/=2;_.forEach(g.edges(),(function(e){var edge=g.edge(e);edge.minlen*=2;if(edge.labelpos.toLowerCase()!=="c"){if(graph.rankdir==="TB"||graph.rankdir==="BT"){edge.width+=edge.labeloffset}else{edge.height+=edge.labeloffset}}}))}function injectEdgeLabelProxies(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(edge.width&&edge.height){var v=g.node(e.v);var w=g.node(e.w);var label={rank:(w.rank-v.rank)/2+v.rank,e:e};util.addDummyNode(g,"edge-proxy",label,"_ep")}}))}function assignRankMinMax(g){var maxRank=0;_.forEach(g.nodes(),(function(v){var node=g.node(v);if(node.borderTop){node.minRank=g.node(node.borderTop).rank;node.maxRank=g.node(node.borderBottom).rank;maxRank=_.max(maxRank,node.maxRank)}}));g.graph().maxRank=maxRank}function removeEdgeLabelProxies(g){_.forEach(g.nodes(),(function(v){var node=g.node(v);if(node.dummy==="edge-proxy"){g.edge(node.e).labelRank=node.rank;g.removeNode(v)}}))}function translateGraph(g){var minX=Number.POSITIVE_INFINITY;var maxX=0;var minY=Number.POSITIVE_INFINITY;var maxY=0;var graphLabel=g.graph();var marginX=graphLabel.marginx||0;var marginY=graphLabel.marginy||0;function getExtremes(attrs){var x=attrs.x;var y=attrs.y;var w=attrs.width;var h=attrs.height;minX=Math.min(minX,x-w/2);maxX=Math.max(maxX,x+w/2);minY=Math.min(minY,y-h/2);maxY=Math.max(maxY,y+h/2)}_.forEach(g.nodes(),(function(v){getExtremes(g.node(v))}));_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(_.has(edge,"x")){getExtremes(edge)}}));minX-=marginX;minY-=marginY;_.forEach(g.nodes(),(function(v){var node=g.node(v);node.x-=minX;node.y-=minY}));_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,(function(p){p.x-=minX;p.y-=minY}));if(_.has(edge,"x")){edge.x-=minX}if(_.has(edge,"y")){edge.y-=minY}}));graphLabel.width=maxX-minX+marginX;graphLabel.height=maxY-minY+marginY}function assignNodeIntersects(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);var nodeV=g.node(e.v);var nodeW=g.node(e.w);var p1,p2;if(!edge.points){edge.points=[];p1=nodeW;p2=nodeV}else{p1=edge.points[0];p2=edge.points[edge.points.length-1]}edge.points.unshift(util.intersectRect(nodeV,p1));edge.points.push(util.intersectRect(nodeW,p2))}))}function fixupEdgeLabelCoords(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(_.has(edge,"x")){if(edge.labelpos==="l"||edge.labelpos==="r"){edge.width-=edge.labeloffset}switch(edge.labelpos){case"l":edge.x-=edge.width/2+edge.labeloffset;break;case"r":edge.x+=edge.width/2+edge.labeloffset;break}}}))}function reversePointsForReversedEdges(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(edge.reversed){edge.points.reverse()}}))}function removeBorderNodes(g){_.forEach(g.nodes(),(function(v){if(g.children(v).length){var node=g.node(v);var t=g.node(node.borderTop);var b=g.node(node.borderBottom);var l=g.node(_.last(node.borderLeft));var r=g.node(_.last(node.borderRight));node.width=Math.abs(r.x-l.x);node.height=Math.abs(b.y-t.y);node.x=l.x+node.width/2;node.y=t.y+node.height/2}}));_.forEach(g.nodes(),(function(v){if(g.node(v).dummy==="border"){g.removeNode(v)}}))}function removeSelfEdges(g){_.forEach(g.edges(),(function(e){if(e.v===e.w){var node=g.node(e.v);if(!node.selfEdges){node.selfEdges=[]}node.selfEdges.push({e:e,label:g.edge(e)});g.removeEdge(e)}}))}function insertSelfEdges(g){var layers=util.buildLayerMatrix(g);_.forEach(layers,(function(layer){var orderShift=0;_.forEach(layer,(function(v,i){var node=g.node(v);node.order=i+orderShift;_.forEach(node.selfEdges,(function(selfEdge){util.addDummyNode(g,"selfedge",{width:selfEdge.label.width,height:selfEdge.label.height,rank:node.rank,order:i+ ++orderShift,e:selfEdge.e,label:selfEdge.label},"_se")}));delete node.selfEdges}))}))}function positionSelfEdges(g){_.forEach(g.nodes(),(function(v){var node=g.node(v);if(node.dummy==="selfedge"){var selfNode=g.node(node.e.v);var x=selfNode.x+selfNode.width/2;var y=selfNode.y;var dx=node.x-x;var dy=selfNode.height/2;g.setEdge(node.e,node.label);g.removeNode(v);node.label.points=[{x:x+2*dx/3,y:y-dy},{x:x+5*dx/6,y:y-dy},{x:x+dx,y:y},{x:x+5*dx/6,y:y+dy},{x:x+2*dx/3,y:y+dy}];node.label.x=node.x;node.label.y=node.y}}))}function selectNumberAttrs(obj,attrs){return _.mapValues(_.pick(obj,attrs),Number)}function canonicalize(attrs){var newAttrs={};_.forEach(attrs,(function(v,k){newAttrs[k.toLowerCase()]=v}));return newAttrs}},function(module,exports,__webpack_require__){var baseClone=__webpack_require__(228);var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}module.exports=cloneDeep},function(module,exports,__webpack_require__){var baseRest=__webpack_require__(138),eq=__webpack_require__(97),isIterateeCall=__webpack_require__(139),keysIn=__webpack_require__(86);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var defaults=baseRest((function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){length=1}while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key)){object[key]=source[key]}}}return object}));module.exports=defaults},function(module,exports,__webpack_require__){var createFind=__webpack_require__(666),findIndex=__webpack_require__(667);var find=createFind(findIndex);module.exports=find},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(72),isArrayLike=__webpack_require__(71),keys=__webpack_require__(75);function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}module.exports=createFind},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(267),baseIteratee=__webpack_require__(72),toInteger=__webpack_require__(668);var nativeMax=Math.max;function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,baseIteratee(predicate,3),index)}module.exports=findIndex},function(module,exports,__webpack_require__){var toFinite=__webpack_require__(275);function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}module.exports=toInteger},function(module,exports,__webpack_require__){var baseTrim=__webpack_require__(670),isObject=__webpack_require__(65),isSymbol=__webpack_require__(101);var NAN=0/0;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=toNumber},function(module,exports,__webpack_require__){var trimmedEndIndex=__webpack_require__(671);var reTrimStart=/^\s+/;function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}module.exports=baseTrim},function(module,exports){var reWhitespace=/\s/;function trimmedEndIndex(string){var index=string.length;while(index--&&reWhitespace.test(string.charAt(index))){}return index}module.exports=trimmedEndIndex},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(177),castFunction=__webpack_require__(248),keysIn=__webpack_require__(86);function forIn(object,iteratee){return object==null?object:baseFor(object,castFunction(iteratee),keysIn)}module.exports=forIn},function(module,exports){function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}module.exports=last},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(129),baseForOwn=__webpack_require__(176),baseIteratee=__webpack_require__(72);function mapValues(object,iteratee){var result={};iteratee=baseIteratee(iteratee,3);baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}));return result}module.exports=mapValues},function(module,exports,__webpack_require__){var baseExtremum=__webpack_require__(181),baseGt=__webpack_require__(676),identity=__webpack_require__(87);function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}module.exports=max},function(module,exports){function baseGt(value,other){return value>other}module.exports=baseGt},function(module,exports,__webpack_require__){var baseMerge=__webpack_require__(678),createAssigner=__webpack_require__(682);var merge=createAssigner((function(object,source,srcIndex){baseMerge(object,source,srcIndex)}));module.exports=merge},function(module,exports,__webpack_require__){var Stack=__webpack_require__(123),assignMergeValue=__webpack_require__(277),baseFor=__webpack_require__(177),baseMergeDeep=__webpack_require__(679),isObject=__webpack_require__(65),keysIn=__webpack_require__(86),safeGet=__webpack_require__(278);function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,(function(srcValue,key){stack||(stack=new Stack);if(isObject(srcValue)){baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}}),keysIn)}module.exports=baseMerge},function(module,exports,__webpack_require__){var assignMergeValue=__webpack_require__(277),cloneBuffer=__webpack_require__(234),cloneTypedArray=__webpack_require__(243),copyArray=__webpack_require__(235),initCloneObject=__webpack_require__(244),isArguments=__webpack_require__(113),isArray=__webpack_require__(53),isArrayLikeObject=__webpack_require__(268),isBuffer=__webpack_require__(99),isFunction=__webpack_require__(111),isObject=__webpack_require__(65),isPlainObject=__webpack_require__(680),isTypedArray=__webpack_require__(114),safeGet=__webpack_require__(278),toPlainObject=__webpack_require__(681);function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}module.exports=baseMergeDeep},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(85),getPrototype=__webpack_require__(133),isObjectLike=__webpack_require__(70);var objectTag="[object Object]";var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(112),keysIn=__webpack_require__(86);function toPlainObject(value){return copyObject(value,keysIn(value))}module.exports=toPlainObject},function(module,exports,__webpack_require__){var baseRest=__webpack_require__(138),isIterateeCall=__webpack_require__(139);function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object}))}module.exports=createAssigner},function(module,exports,__webpack_require__){var baseExtremum=__webpack_require__(181),baseLt=__webpack_require__(279),identity=__webpack_require__(87);function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}module.exports=min},function(module,exports,__webpack_require__){var baseExtremum=__webpack_require__(181),baseIteratee=__webpack_require__(72),baseLt=__webpack_require__(279);function minBy(array,iteratee){return array&&array.length?baseExtremum(array,baseIteratee(iteratee,2),baseLt):undefined}module.exports=minBy},function(module,exports,__webpack_require__){var root=__webpack_require__(69);var now=function(){return root.Date.now()};module.exports=now},function(module,exports,__webpack_require__){var basePick=__webpack_require__(687),flatRest=__webpack_require__(690);var pick=flatRest((function(object,paths){return object==null?{}:basePick(object,paths)}));module.exports=pick},function(module,exports,__webpack_require__){var basePickBy=__webpack_require__(688),hasIn=__webpack_require__(257);function basePick(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}module.exports=basePick},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(135),baseSet=__webpack_require__(689),castPath=__webpack_require__(136);function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}module.exports=basePickBy},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(128),castPath=__webpack_require__(136),isIndex=__webpack_require__(130),isObject=__webpack_require__(65),toKey=__webpack_require__(115);function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key==="__proto__"||key==="constructor"||key==="prototype"){return object}if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}module.exports=baseSet},function(module,exports,__webpack_require__){var flatten=__webpack_require__(276),overRest=__webpack_require__(265),setToString=__webpack_require__(266);function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}module.exports=flatRest},function(module,exports,__webpack_require__){var createRange=__webpack_require__(692);var range=createRange();module.exports=range},function(module,exports,__webpack_require__){var baseRange=__webpack_require__(693),isIterateeCall=__webpack_require__(139),toFinite=__webpack_require__(275);function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}module.exports=createRange},function(module,exports){var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}module.exports=baseRange},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(180),baseOrderBy=__webpack_require__(695),baseRest=__webpack_require__(138),isIterateeCall=__webpack_require__(139);var sortBy=baseRest((function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])}));module.exports=sortBy},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(137),baseGet=__webpack_require__(135),baseIteratee=__webpack_require__(72),baseMap=__webpack_require__(263),baseSortBy=__webpack_require__(696),baseUnary=__webpack_require__(131),compareMultiple=__webpack_require__(697),identity=__webpack_require__(87),isArray=__webpack_require__(53);function baseOrderBy(collection,iteratees,orders){if(iteratees.length){iteratees=arrayMap(iteratees,(function(iteratee){if(isArray(iteratee)){return function(value){return baseGet(value,iteratee.length===1?iteratee[0]:iteratee)}}return iteratee}))}else{iteratees=[identity]}var index=-1;iteratees=arrayMap(iteratees,baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){var criteria=arrayMap(iteratees,(function(iteratee){return iteratee(value)}));return{criteria:criteria,index:++index,value:value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}module.exports=baseOrderBy},function(module,exports){function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}module.exports=baseSortBy},function(module,exports,__webpack_require__){var compareAscending=__webpack_require__(698);function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}module.exports=compareMultiple},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(101);function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}module.exports=compareAscending},function(module,exports,__webpack_require__){var toString=__webpack_require__(256);var idCounter=0;function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}module.exports=uniqueId},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(128),baseZipObject=__webpack_require__(701);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}module.exports=zipObject},function(module,exports){function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}module.exports=baseZipObject},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var greedyFAS=__webpack_require__(703);module.exports={run:run,undo:undo};function run(g){var fas=g.graph().acyclicer==="greedy"?greedyFAS(g,weightFn(g)):dfsFAS(g);_.forEach(fas,(function(e){var label=g.edge(e);g.removeEdge(e);label.forwardName=e.name;label.reversed=true;g.setEdge(e.w,e.v,label,_.uniqueId("rev"))}));function weightFn(g){return function(e){return g.edge(e).weight}}}function dfsFAS(g){var fas=[];var stack={};var visited={};function dfs(v){if(_.has(visited,v)){return}visited[v]=true;stack[v]=true;_.forEach(g.outEdges(v),(function(e){if(_.has(stack,e.w)){fas.push(e)}else{dfs(e.w)}}));delete stack[v]}_.forEach(g.nodes(),dfs);return fas}function undo(g){_.forEach(g.edges(),(function(e){var label=g.edge(e);if(label.reversed){g.removeEdge(e);var forwardName=label.forwardName;delete label.reversed;delete label.forwardName;g.setEdge(e.w,e.v,label,forwardName)}}))}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);var Graph=__webpack_require__(68).Graph;var List=__webpack_require__(704);module.exports=greedyFAS;var DEFAULT_WEIGHT_FN=_.constant(1);function greedyFAS(g,weightFn){if(g.nodeCount()<=1){return[]}var state=buildState(g,weightFn||DEFAULT_WEIGHT_FN);var results=doGreedyFAS(state.graph,state.buckets,state.zeroIdx);return _.flatten(_.map(results,(function(e){return g.outEdges(e.v,e.w)})),true)}function doGreedyFAS(g,buckets,zeroIdx){var results=[];var sources=buckets[buckets.length-1];var sinks=buckets[0];var entry;while(g.nodeCount()){while(entry=sinks.dequeue()){removeNode(g,buckets,zeroIdx,entry)}while(entry=sources.dequeue()){removeNode(g,buckets,zeroIdx,entry)}if(g.nodeCount()){for(var i=buckets.length-2;i>0;--i){entry=buckets[i].dequeue();if(entry){results=results.concat(removeNode(g,buckets,zeroIdx,entry,true));break}}}}return results}function removeNode(g,buckets,zeroIdx,entry,collectPredecessors){var results=collectPredecessors?[]:undefined;_.forEach(g.inEdges(entry.v),(function(edge){var weight=g.edge(edge);var uEntry=g.node(edge.v);if(collectPredecessors){results.push({v:edge.v,w:edge.w})}uEntry.out-=weight;assignBucket(buckets,zeroIdx,uEntry)}));_.forEach(g.outEdges(entry.v),(function(edge){var weight=g.edge(edge);var w=edge.w;var wEntry=g.node(w);wEntry["in"]-=weight;assignBucket(buckets,zeroIdx,wEntry)}));g.removeNode(entry.v);return results}function buildState(g,weightFn){var fasGraph=new Graph;var maxIn=0;var maxOut=0;_.forEach(g.nodes(),(function(v){fasGraph.setNode(v,{v:v,in:0,out:0})}));_.forEach(g.edges(),(function(e){var prevWeight=fasGraph.edge(e.v,e.w)||0;var weight=weightFn(e);var edgeWeight=prevWeight+weight;fasGraph.setEdge(e.v,e.w,edgeWeight);maxOut=Math.max(maxOut,fasGraph.node(e.v).out+=weight);maxIn=Math.max(maxIn,fasGraph.node(e.w)["in"]+=weight)}));var buckets=_.range(maxOut+maxIn+3).map((function(){return new List}));var zeroIdx=maxIn+1;_.forEach(fasGraph.nodes(),(function(v){assignBucket(buckets,zeroIdx,fasGraph.node(v))}));return{graph:fasGraph,buckets:buckets,zeroIdx:zeroIdx}}function assignBucket(buckets,zeroIdx,entry){if(!entry.out){buckets[0].enqueue(entry)}else if(!entry["in"]){buckets[buckets.length-1].enqueue(entry)}else{buckets[entry.out-entry["in"]+zeroIdx].enqueue(entry)}}},function(module,exports){module.exports=List;function List(){var sentinel={};sentinel._next=sentinel._prev=sentinel;this._sentinel=sentinel}List.prototype.dequeue=function(){var sentinel=this._sentinel;var entry=sentinel._prev;if(entry!==sentinel){unlink(entry);return entry}};List.prototype.enqueue=function(entry){var sentinel=this._sentinel;if(entry._prev&&entry._next){unlink(entry)}entry._next=sentinel._next;sentinel._next._prev=entry;sentinel._next=entry;entry._prev=sentinel};List.prototype.toString=function(){var strs=[];var sentinel=this._sentinel;var curr=sentinel._prev;while(curr!==sentinel){strs.push(JSON.stringify(curr,filterOutLinks));curr=curr._prev}return"["+strs.join(", ")+"]"};function unlink(entry){entry._prev._next=entry._next;entry._next._prev=entry._prev;delete entry._next;delete entry._prev}function filterOutLinks(k,v){if(k!=="_next"&&k!=="_prev"){return v}}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var util=__webpack_require__(61);module.exports={run:run,undo:undo};function run(g){g.graph().dummyChains=[];_.forEach(g.edges(),(function(edge){normalizeEdge(g,edge)}))}function normalizeEdge(g,e){var v=e.v;var vRank=g.node(v).rank;var w=e.w;var wRank=g.node(w).rank;var name=e.name;var edgeLabel=g.edge(e);var labelRank=edgeLabel.labelRank;if(wRank===vRank+1)return;g.removeEdge(e);var dummy,attrs,i;for(i=0,++vRank;vRank<wRank;++i,++vRank){edgeLabel.points=[];attrs={width:0,height:0,edgeLabel:edgeLabel,edgeObj:e,rank:vRank};dummy=util.addDummyNode(g,"edge",attrs,"_d");if(vRank===labelRank){attrs.width=edgeLabel.width;attrs.height=edgeLabel.height;attrs.dummy="edge-label";attrs.labelpos=edgeLabel.labelpos}g.setEdge(v,dummy,{weight:edgeLabel.weight},name);if(i===0){g.graph().dummyChains.push(dummy)}v=dummy}g.setEdge(v,w,{weight:edgeLabel.weight},name)}function undo(g){_.forEach(g.graph().dummyChains,(function(v){var node=g.node(v);var origLabel=node.edgeLabel;var w;g.setEdge(node.edgeObj,origLabel);while(node.dummy){w=g.successors(v)[0];g.removeNode(v);origLabel.points.push({x:node.x,y:node.y});if(node.dummy==="edge-label"){origLabel.x=node.x;origLabel.y=node.y;origLabel.width=node.width;origLabel.height=node.height}v=w;node=g.node(v)}}))}},function(module,exports,__webpack_require__){"use strict";var rankUtil=__webpack_require__(140);var longestPath=rankUtil.longestPath;var feasibleTree=__webpack_require__(280);var networkSimplex=__webpack_require__(707);module.exports=rank;function rank(g){switch(g.graph().ranker){case"network-simplex":networkSimplexRanker(g);break;case"tight-tree":tightTreeRanker(g);break;case"longest-path":longestPathRanker(g);break;default:networkSimplexRanker(g)}}var longestPathRanker=longestPath;function tightTreeRanker(g){longestPath(g);feasibleTree(g)}function networkSimplexRanker(g){networkSimplex(g)}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var feasibleTree=__webpack_require__(280);var slack=__webpack_require__(140).slack;var initRank=__webpack_require__(140).longestPath;var preorder=__webpack_require__(68).alg.preorder;var postorder=__webpack_require__(68).alg.postorder;var simplify=__webpack_require__(61).simplify;module.exports=networkSimplex;networkSimplex.initLowLimValues=initLowLimValues;networkSimplex.initCutValues=initCutValues;networkSimplex.calcCutValue=calcCutValue;networkSimplex.leaveEdge=leaveEdge;networkSimplex.enterEdge=enterEdge;networkSimplex.exchangeEdges=exchangeEdges;function networkSimplex(g){g=simplify(g);initRank(g);var t=feasibleTree(g);initLowLimValues(t);initCutValues(t,g);var e,f;while(e=leaveEdge(t)){f=enterEdge(t,g,e);exchangeEdges(t,g,e,f)}}function initCutValues(t,g){var vs=postorder(t,t.nodes());vs=vs.slice(0,vs.length-1);_.forEach(vs,(function(v){assignCutValue(t,g,v)}))}function assignCutValue(t,g,child){var childLab=t.node(child);var parent=childLab.parent;t.edge(child,parent).cutvalue=calcCutValue(t,g,child)}function calcCutValue(t,g,child){var childLab=t.node(child);var parent=childLab.parent;var childIsTail=true;var graphEdge=g.edge(child,parent);var cutValue=0;if(!graphEdge){childIsTail=false;graphEdge=g.edge(parent,child)}cutValue=graphEdge.weight;_.forEach(g.nodeEdges(child),(function(e){var isOutEdge=e.v===child,other=isOutEdge?e.w:e.v;if(other!==parent){var pointsToHead=isOutEdge===childIsTail,otherWeight=g.edge(e).weight;cutValue+=pointsToHead?otherWeight:-otherWeight;if(isTreeEdge(t,child,other)){var otherCutValue=t.edge(child,other).cutvalue;cutValue+=pointsToHead?-otherCutValue:otherCutValue}}}));return cutValue}function initLowLimValues(tree,root){if(arguments.length<2){root=tree.nodes()[0]}dfsAssignLowLim(tree,{},1,root)}function dfsAssignLowLim(tree,visited,nextLim,v,parent){var low=nextLim;var label=tree.node(v);visited[v]=true;_.forEach(tree.neighbors(v),(function(w){if(!_.has(visited,w)){nextLim=dfsAssignLowLim(tree,visited,nextLim,w,v)}}));label.low=low;label.lim=nextLim++;if(parent){label.parent=parent}else{delete label.parent}return nextLim}function leaveEdge(tree){return _.find(tree.edges(),(function(e){return tree.edge(e).cutvalue<0}))}function enterEdge(t,g,edge){var v=edge.v;var w=edge.w;if(!g.hasEdge(v,w)){v=edge.w;w=edge.v}var vLabel=t.node(v);var wLabel=t.node(w);var tailLabel=vLabel;var flip=false;if(vLabel.lim>wLabel.lim){tailLabel=wLabel;flip=true}var candidates=_.filter(g.edges(),(function(edge){return flip===isDescendant(t,t.node(edge.v),tailLabel)&&flip!==isDescendant(t,t.node(edge.w),tailLabel)}));return _.minBy(candidates,(function(edge){return slack(g,edge)}))}function exchangeEdges(t,g,e,f){var v=e.v;var w=e.w;t.removeEdge(v,w);t.setEdge(f.v,f.w,{});initLowLimValues(t);initCutValues(t,g);updateRanks(t,g)}function updateRanks(t,g){var root=_.find(t.nodes(),(function(v){return!g.node(v).parent}));var vs=preorder(t,root);vs=vs.slice(1);_.forEach(vs,(function(v){var parent=t.node(v).parent,edge=g.edge(v,parent),flipped=false;if(!edge){edge=g.edge(parent,v);flipped=true}g.node(v).rank=g.node(parent).rank+(flipped?edge.minlen:-edge.minlen)}))}function isTreeEdge(tree,u,v){return tree.hasEdge(u,v)}function isDescendant(tree,vLabel,rootLabel){return rootLabel.low<=vLabel.lim&&vLabel.lim<=rootLabel.lim}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);module.exports=parentDummyChains;function parentDummyChains(g){var postorderNums=postorder(g);_.forEach(g.graph().dummyChains,(function(v){var node=g.node(v);var edgeObj=node.edgeObj;var pathData=findPath(g,postorderNums,edgeObj.v,edgeObj.w);var path=pathData.path;var lca=pathData.lca;var pathIdx=0;var pathV=path[pathIdx];var ascending=true;while(v!==edgeObj.w){node=g.node(v);if(ascending){while((pathV=path[pathIdx])!==lca&&g.node(pathV).maxRank<node.rank){pathIdx++}if(pathV===lca){ascending=false}}if(!ascending){while(pathIdx<path.length-1&&g.node(pathV=path[pathIdx+1]).minRank<=node.rank){pathIdx++}pathV=path[pathIdx]}g.setParent(v,pathV);v=g.successors(v)[0]}}))}function findPath(g,postorderNums,v,w){var vPath=[];var wPath=[];var low=Math.min(postorderNums[v].low,postorderNums[w].low);var lim=Math.max(postorderNums[v].lim,postorderNums[w].lim);var parent;var lca;parent=v;do{parent=g.parent(parent);vPath.push(parent)}while(parent&&(postorderNums[parent].low>low||lim>postorderNums[parent].lim));lca=parent;parent=w;while((parent=g.parent(parent))!==lca){wPath.push(parent)}return{path:vPath.concat(wPath.reverse()),lca:lca}}function postorder(g){var result={};var lim=0;function dfs(v){var low=lim;_.forEach(g.children(v),dfs);result[v]={low:low,lim:lim++}}_.forEach(g.children(),dfs);return result}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);var util=__webpack_require__(61);module.exports={run:run,cleanup:cleanup};function run(g){var root=util.addDummyNode(g,"root",{},"_root");var depths=treeDepths(g);var height=_.max(_.values(depths))-1;var nodeSep=2*height+1;g.graph().nestingRoot=root;_.forEach(g.edges(),(function(e){g.edge(e).minlen*=nodeSep}));var weight=sumWeights(g)+1;_.forEach(g.children(),(function(child){dfs(g,root,nodeSep,weight,height,depths,child)}));g.graph().nodeRankFactor=nodeSep}function dfs(g,root,nodeSep,weight,height,depths,v){var children=g.children(v);if(!children.length){if(v!==root){g.setEdge(root,v,{weight:0,minlen:nodeSep})}return}var top=util.addBorderNode(g,"_bt");var bottom=util.addBorderNode(g,"_bb");var label=g.node(v);g.setParent(top,v);label.borderTop=top;g.setParent(bottom,v);label.borderBottom=bottom;_.forEach(children,(function(child){dfs(g,root,nodeSep,weight,height,depths,child);var childNode=g.node(child);var childTop=childNode.borderTop?childNode.borderTop:child;var childBottom=childNode.borderBottom?childNode.borderBottom:child;var thisWeight=childNode.borderTop?weight:2*weight;var minlen=childTop!==childBottom?1:height-depths[v]+1;g.setEdge(top,childTop,{weight:thisWeight,minlen:minlen,nestingEdge:true});g.setEdge(childBottom,bottom,{weight:thisWeight,minlen:minlen,nestingEdge:true})}));if(!g.parent(v)){g.setEdge(root,top,{weight:0,minlen:height+depths[v]})}}function treeDepths(g){var depths={};function dfs(v,depth){var children=g.children(v);if(children&&children.length){_.forEach(children,(function(child){dfs(child,depth+1)}))}depths[v]=depth}_.forEach(g.children(),(function(v){dfs(v,1)}));return depths}function sumWeights(g){return _.reduce(g.edges(),(function(acc,e){return acc+g.edge(e).weight}),0)}function cleanup(g){var graphLabel=g.graph();g.removeNode(graphLabel.nestingRoot);delete graphLabel.nestingRoot;_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(edge.nestingEdge){g.removeEdge(e)}}))}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);var util=__webpack_require__(61);module.exports=addBorderSegments;function addBorderSegments(g){function dfs(v){var children=g.children(v);var node=g.node(v);if(children.length){_.forEach(children,dfs)}if(_.has(node,"minRank")){node.borderLeft=[];node.borderRight=[];for(var rank=node.minRank,maxRank=node.maxRank+1;rank<maxRank;++rank){addBorderNode(g,"borderLeft","_bl",v,node,rank);addBorderNode(g,"borderRight","_br",v,node,rank)}}}_.forEach(g.children(),dfs)}function addBorderNode(g,prop,prefix,sg,sgNode,rank){var label={width:0,height:0,rank:rank,borderType:prop};var prev=sgNode[prop][rank-1];var curr=util.addDummyNode(g,"border",label,prefix);sgNode[prop][rank]=curr;g.setParent(curr,sg);if(prev){g.setEdge(prev,curr,{weight:1})}}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);module.exports={adjust:adjust,undo:undo};function adjust(g){var rankDir=g.graph().rankdir.toLowerCase();if(rankDir==="lr"||rankDir==="rl"){swapWidthHeight(g)}}function undo(g){var rankDir=g.graph().rankdir.toLowerCase();if(rankDir==="bt"||rankDir==="rl"){reverseY(g)}if(rankDir==="lr"||rankDir==="rl"){swapXY(g);swapWidthHeight(g)}}function swapWidthHeight(g){_.forEach(g.nodes(),(function(v){swapWidthHeightOne(g.node(v))}));_.forEach(g.edges(),(function(e){swapWidthHeightOne(g.edge(e))}))}function swapWidthHeightOne(attrs){var w=attrs.width;attrs.width=attrs.height;attrs.height=w}function reverseY(g){_.forEach(g.nodes(),(function(v){reverseYOne(g.node(v))}));_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,reverseYOne);if(_.has(edge,"y")){reverseYOne(edge)}}))}function reverseYOne(attrs){attrs.y=-attrs.y}function swapXY(g){_.forEach(g.nodes(),(function(v){swapXYOne(g.node(v))}));_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,swapXYOne);if(_.has(edge,"x")){swapXYOne(edge)}}))}function swapXYOne(attrs){var x=attrs.x;attrs.x=attrs.y;attrs.y=x}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var initOrder=__webpack_require__(713);var crossCount=__webpack_require__(714);var sortSubgraph=__webpack_require__(715);var buildLayerGraph=__webpack_require__(719);var addSubgraphConstraints=__webpack_require__(720);var Graph=__webpack_require__(68).Graph;var util=__webpack_require__(61);module.exports=order;function order(g){var maxRank=util.maxRank(g),downLayerGraphs=buildLayerGraphs(g,_.range(1,maxRank+1),"inEdges"),upLayerGraphs=buildLayerGraphs(g,_.range(maxRank-1,-1,-1),"outEdges");var layering=initOrder(g);assignOrder(g,layering);var bestCC=Number.POSITIVE_INFINITY,best;for(var i=0,lastBest=0;lastBest<4;++i,++lastBest){sweepLayerGraphs(i%2?downLayerGraphs:upLayerGraphs,i%4>=2);layering=util.buildLayerMatrix(g);var cc=crossCount(g,layering);if(cc<bestCC){lastBest=0;best=_.cloneDeep(layering);bestCC=cc}}assignOrder(g,best)}function buildLayerGraphs(g,ranks,relationship){return _.map(ranks,(function(rank){return buildLayerGraph(g,rank,relationship)}))}function sweepLayerGraphs(layerGraphs,biasRight){var cg=new Graph;_.forEach(layerGraphs,(function(lg){var root=lg.graph().root;var sorted=sortSubgraph(lg,root,cg,biasRight);_.forEach(sorted.vs,(function(v,i){lg.node(v).order=i}));addSubgraphConstraints(lg,cg,sorted.vs)}))}function assignOrder(g,layering){_.forEach(layering,(function(layer){_.forEach(layer,(function(v,i){g.node(v).order=i}))}))}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);module.exports=initOrder;function initOrder(g){var visited={};var simpleNodes=_.filter(g.nodes(),(function(v){return!g.children(v).length}));var maxRank=_.max(_.map(simpleNodes,(function(v){return g.node(v).rank})));var layers=_.map(_.range(maxRank+1),(function(){return[]}));function dfs(v){if(_.has(visited,v))return;visited[v]=true;var node=g.node(v);layers[node.rank].push(v);_.forEach(g.successors(v),dfs)}var orderedVs=_.sortBy(simpleNodes,(function(v){return g.node(v).rank}));_.forEach(orderedVs,dfs);return layers}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);module.exports=crossCount;function crossCount(g,layering){var cc=0;for(var i=1;i<layering.length;++i){cc+=twoLayerCrossCount(g,layering[i-1],layering[i])}return cc}function twoLayerCrossCount(g,northLayer,southLayer){var southPos=_.zipObject(southLayer,_.map(southLayer,(function(v,i){return i})));var southEntries=_.flatten(_.map(northLayer,(function(v){return _.sortBy(_.map(g.outEdges(v),(function(e){return{pos:southPos[e.w],weight:g.edge(e).weight}})),"pos")})),true);var firstIndex=1;while(firstIndex<southLayer.length)firstIndex<<=1;var treeSize=2*firstIndex-1;firstIndex-=1;var tree=_.map(new Array(treeSize),(function(){return 0}));var cc=0;_.forEach(southEntries.forEach((function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;var weightSum=0;while(index>0){if(index%2){weightSum+=tree[index+1]}index=index-1>>1;tree[index]+=entry.weight}cc+=entry.weight*weightSum})));return cc}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);var barycenter=__webpack_require__(716);var resolveConflicts=__webpack_require__(717);var sort=__webpack_require__(718);module.exports=sortSubgraph;function sortSubgraph(g,v,cg,biasRight){var movable=g.children(v);var node=g.node(v);var bl=node?node.borderLeft:undefined;var br=node?node.borderRight:undefined;var subgraphs={};if(bl){movable=_.filter(movable,(function(w){return w!==bl&&w!==br}))}var barycenters=barycenter(g,movable);_.forEach(barycenters,(function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult;if(_.has(subgraphResult,"barycenter")){mergeBarycenters(entry,subgraphResult)}}}));var entries=resolveConflicts(barycenters,cg);expandSubgraphs(entries,subgraphs);var result=sort(entries,biasRight);if(bl){result.vs=_.flatten([bl,result.vs,br],true);if(g.predecessors(bl).length){var blPred=g.node(g.predecessors(bl)[0]),brPred=g.node(g.predecessors(br)[0]);if(!_.has(result,"barycenter")){result.barycenter=0;result.weight=0}result.barycenter=(result.barycenter*result.weight+blPred.order+brPred.order)/(result.weight+2);result.weight+=2}}return result}function expandSubgraphs(entries,subgraphs){_.forEach(entries,(function(entry){entry.vs=_.flatten(entry.vs.map((function(v){if(subgraphs[v]){return subgraphs[v].vs}return v})),true)}))}function mergeBarycenters(target,other){if(!_.isUndefined(target.barycenter)){target.barycenter=(target.barycenter*target.weight+other.barycenter*other.weight)/(target.weight+other.weight);target.weight+=other.weight}else{target.barycenter=other.barycenter;target.weight=other.weight}}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);module.exports=barycenter;function barycenter(g,movable){return _.map(movable,(function(v){var inV=g.inEdges(v);if(!inV.length){return{v:v}}else{var result=_.reduce(inV,(function(acc,e){var edge=g.edge(e),nodeU=g.node(e.v);return{sum:acc.sum+edge.weight*nodeU.order,weight:acc.weight+edge.weight}}),{sum:0,weight:0});return{v:v,barycenter:result.sum/result.weight,weight:result.weight}}}))}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);module.exports=resolveConflicts;function resolveConflicts(entries,cg){var mappedEntries={};_.forEach(entries,(function(entry,i){var tmp=mappedEntries[entry.v]={indegree:0,in:[],out:[],vs:[entry.v],i:i};if(!_.isUndefined(entry.barycenter)){tmp.barycenter=entry.barycenter;tmp.weight=entry.weight}}));_.forEach(cg.edges(),(function(e){var entryV=mappedEntries[e.v];var entryW=mappedEntries[e.w];if(!_.isUndefined(entryV)&&!_.isUndefined(entryW)){entryW.indegree++;entryV.out.push(mappedEntries[e.w])}}));var sourceSet=_.filter(mappedEntries,(function(entry){return!entry.indegree}));return doResolveConflicts(sourceSet)}function doResolveConflicts(sourceSet){var entries=[];function handleIn(vEntry){return function(uEntry){if(uEntry.merged){return}if(_.isUndefined(uEntry.barycenter)||_.isUndefined(vEntry.barycenter)||uEntry.barycenter>=vEntry.barycenter){mergeEntries(vEntry,uEntry)}}}function handleOut(vEntry){return function(wEntry){wEntry["in"].push(vEntry);if(--wEntry.indegree===0){sourceSet.push(wEntry)}}}while(sourceSet.length){var entry=sourceSet.pop();entries.push(entry);_.forEach(entry["in"].reverse(),handleIn(entry));_.forEach(entry.out,handleOut(entry))}return _.map(_.filter(entries,(function(entry){return!entry.merged})),(function(entry){return _.pick(entry,["vs","i","barycenter","weight"])}))}function mergeEntries(target,source){var sum=0;var weight=0;if(target.weight){sum+=target.barycenter*target.weight;weight+=target.weight}if(source.weight){sum+=source.barycenter*source.weight;weight+=source.weight}target.vs=source.vs.concat(target.vs);target.barycenter=sum/weight;target.weight=weight;target.i=Math.min(source.i,target.i);source.merged=true}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);var util=__webpack_require__(61);module.exports=sort;function sort(entries,biasRight){var parts=util.partition(entries,(function(entry){return _.has(entry,"barycenter")}));var sortable=parts.lhs,unsortable=_.sortBy(parts.rhs,(function(entry){return-entry.i})),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(compareWithBias(!!biasRight));vsIndex=consumeUnsortable(vs,unsortable,vsIndex);_.forEach(sortable,(function(entry){vsIndex+=entry.vs.length;vs.push(entry.vs);sum+=entry.barycenter*entry.weight;weight+=entry.weight;vsIndex=consumeUnsortable(vs,unsortable,vsIndex)}));var result={vs:_.flatten(vs,true)};if(weight){result.barycenter=sum/weight;result.weight=weight}return result}function consumeUnsortable(vs,unsortable,index){var last;while(unsortable.length&&(last=_.last(unsortable)).i<=index){unsortable.pop();vs.push(last.vs);index++}return index}function compareWithBias(bias){return function(entryV,entryW){if(entryV.barycenter<entryW.barycenter){return-1}else if(entryV.barycenter>entryW.barycenter){return 1}return!bias?entryV.i-entryW.i:entryW.i-entryV.i}}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);var Graph=__webpack_require__(68).Graph;module.exports=buildLayerGraph;function buildLayerGraph(g,rank,relationship){var root=createRootNode(g),result=new Graph({compound:true}).setGraph({root:root}).setDefaultNodeLabel((function(v){return g.node(v)}));_.forEach(g.nodes(),(function(v){var node=g.node(v),parent=g.parent(v);if(node.rank===rank||node.minRank<=rank&&rank<=node.maxRank){result.setNode(v);result.setParent(v,parent||root);_.forEach(g[relationship](v),(function(e){var u=e.v===v?e.w:e.v,edge=result.edge(u,v),weight=!_.isUndefined(edge)?edge.weight:0;result.setEdge(u,v,{weight:g.edge(e).weight+weight})}));if(_.has(node,"minRank")){result.setNode(v,{borderLeft:node.borderLeft[rank],borderRight:node.borderRight[rank]})}}}));return result}function createRootNode(g){var v;while(g.hasNode(v=_.uniqueId("_root")));return v}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);module.exports=addSubgraphConstraints;function addSubgraphConstraints(g,cg,vs){var prev={},rootPrev;_.forEach(vs,(function(v){var child=g.parent(v),parent,prevChild;while(child){parent=g.parent(child);if(parent){prevChild=prev[parent];prev[parent]=child}else{prevChild=rootPrev;rootPrev=child}if(prevChild&&prevChild!==child){cg.setEdge(prevChild,child);return}child=parent}}))}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var util=__webpack_require__(61);var positionX=__webpack_require__(722).positionX;module.exports=position;function position(g){g=util.asNonCompoundGraph(g);positionY(g);_.forEach(positionX(g),(function(x,v){g.node(v).x=x}))}function positionY(g){var layering=util.buildLayerMatrix(g);var rankSep=g.graph().ranksep;var prevY=0;_.forEach(layering,(function(layer){var maxHeight=_.max(_.map(layer,(function(v){return g.node(v).height})));_.forEach(layer,(function(v){g.node(v).y=prevY+maxHeight/2}));prevY+=maxHeight+rankSep}))}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(50);var Graph=__webpack_require__(68).Graph;var util=__webpack_require__(61);module.exports={positionX:positionX,findType1Conflicts:findType1Conflicts,findType2Conflicts:findType2Conflicts,addConflict:addConflict,hasConflict:hasConflict,verticalAlignment:verticalAlignment,horizontalCompaction:horizontalCompaction,alignCoordinates:alignCoordinates,findSmallestWidthAlignment:findSmallestWidthAlignment,balance:balance};function findType1Conflicts(g,layering){var conflicts={};function visitLayer(prevLayer,layer){var k0=0,scanPos=0,prevLayerLength=prevLayer.length,lastNode=_.last(layer);_.forEach(layer,(function(v,i){var w=findOtherInnerSegmentNode(g,v),k1=w?g.node(w).order:prevLayerLength;if(w||v===lastNode){_.forEach(layer.slice(scanPos,i+1),(function(scanNode){_.forEach(g.predecessors(scanNode),(function(u){var uLabel=g.node(u),uPos=uLabel.order;if((uPos<k0||k1<uPos)&&!(uLabel.dummy&&g.node(scanNode).dummy)){addConflict(conflicts,u,scanNode)}}))}));scanPos=i+1;k0=k1}}));return layer}_.reduce(layering,visitLayer);return conflicts}function findType2Conflicts(g,layering){var conflicts={};function scan(south,southPos,southEnd,prevNorthBorder,nextNorthBorder){var v;_.forEach(_.range(southPos,southEnd),(function(i){v=south[i];if(g.node(v).dummy){_.forEach(g.predecessors(v),(function(u){var uNode=g.node(u);if(uNode.dummy&&(uNode.order<prevNorthBorder||uNode.order>nextNorthBorder)){addConflict(conflicts,u,v)}}))}}))}function visitLayer(north,south){var prevNorthPos=-1,nextNorthPos,southPos=0;_.forEach(south,(function(v,southLookahead){if(g.node(v).dummy==="border"){var predecessors=g.predecessors(v);if(predecessors.length){nextNorthPos=g.node(predecessors[0]).order;scan(south,southPos,southLookahead,prevNorthPos,nextNorthPos);southPos=southLookahead;prevNorthPos=nextNorthPos}}scan(south,southPos,south.length,nextNorthPos,north.length)}));return south}_.reduce(layering,visitLayer);return conflicts}function findOtherInnerSegmentNode(g,v){if(g.node(v).dummy){return _.find(g.predecessors(v),(function(u){return g.node(u).dummy}))}}function addConflict(conflicts,v,w){if(v>w){var tmp=v;v=w;w=tmp}var conflictsV=conflicts[v];if(!conflictsV){conflicts[v]=conflictsV={}}conflictsV[w]=true}function hasConflict(conflicts,v,w){if(v>w){var tmp=v;v=w;w=tmp}return _.has(conflicts[v],w)}function verticalAlignment(g,layering,conflicts,neighborFn){var root={},align={},pos={};_.forEach(layering,(function(layer){_.forEach(layer,(function(v,order){root[v]=v;align[v]=v;pos[v]=order}))}));_.forEach(layering,(function(layer){var prevIdx=-1;_.forEach(layer,(function(v){var ws=neighborFn(v);if(ws.length){ws=_.sortBy(ws,(function(w){return pos[w]}));var mp=(ws.length-1)/2;for(var i=Math.floor(mp),il=Math.ceil(mp);i<=il;++i){var w=ws[i];if(align[v]===v&&prevIdx<pos[w]&&!hasConflict(conflicts,v,w)){align[w]=v;align[v]=root[v]=root[w];prevIdx=pos[w]}}}}))}));return{root:root,align:align}}function horizontalCompaction(g,layering,root,align,reverseSep){var xs={},blockG=buildBlockGraph(g,layering,root,reverseSep),borderType=reverseSep?"borderLeft":"borderRight";function iterate(setXsFunc,nextNodesFunc){var stack=blockG.nodes();var elem=stack.pop();var visited={};while(elem){if(visited[elem]){setXsFunc(elem)}else{visited[elem]=true;stack.push(elem);stack=stack.concat(nextNodesFunc(elem))}elem=stack.pop()}}function pass1(elem){xs[elem]=blockG.inEdges(elem).reduce((function(acc,e){return Math.max(acc,xs[e.v]+blockG.edge(e))}),0)}function pass2(elem){var min=blockG.outEdges(elem).reduce((function(acc,e){return Math.min(acc,xs[e.w]-blockG.edge(e))}),Number.POSITIVE_INFINITY);var node=g.node(elem);if(min!==Number.POSITIVE_INFINITY&&node.borderType!==borderType){xs[elem]=Math.max(xs[elem],min)}}iterate(pass1,blockG.predecessors.bind(blockG));iterate(pass2,blockG.successors.bind(blockG));_.forEach(align,(function(v){xs[v]=xs[root[v]]}));return xs}function buildBlockGraph(g,layering,root,reverseSep){var blockGraph=new Graph,graphLabel=g.graph(),sepFn=sep(graphLabel.nodesep,graphLabel.edgesep,reverseSep);_.forEach(layering,(function(layer){var u;_.forEach(layer,(function(v){var vRoot=root[v];blockGraph.setNode(vRoot);if(u){var uRoot=root[u],prevMax=blockGraph.edge(uRoot,vRoot);blockGraph.setEdge(uRoot,vRoot,Math.max(sepFn(g,v,u),prevMax||0))}u=v}))}));return blockGraph}function findSmallestWidthAlignment(g,xss){return _.minBy(_.values(xss),(function(xs){var max=Number.NEGATIVE_INFINITY;var min=Number.POSITIVE_INFINITY;_.forIn(xs,(function(x,v){var halfWidth=width(g,v)/2;max=Math.max(x+halfWidth,max);min=Math.min(x-halfWidth,min)}));return max-min}))}function alignCoordinates(xss,alignTo){var alignToVals=_.values(alignTo),alignToMin=_.min(alignToVals),alignToMax=_.max(alignToVals);_.forEach(["u","d"],(function(vert){_.forEach(["l","r"],(function(horiz){var alignment=vert+horiz,xs=xss[alignment],delta;if(xs===alignTo)return;var xsVals=_.values(xs);delta=horiz==="l"?alignToMin-_.min(xsVals):alignToMax-_.max(xsVals);if(delta){xss[alignment]=_.mapValues(xs,(function(x){return x+delta}))}}))}))}function balance(xss,align){return _.mapValues(xss.ul,(function(ignore,v){if(align){return xss[align.toLowerCase()][v]}else{var xs=_.sortBy(_.map(xss,v));return(xs[1]+xs[2])/2}}))}function positionX(g){var layering=util.buildLayerMatrix(g);var conflicts=_.merge(findType1Conflicts(g,layering),findType2Conflicts(g,layering));var xss={};var adjustedLayering;_.forEach(["u","d"],(function(vert){adjustedLayering=vert==="u"?layering:_.values(layering).reverse();_.forEach(["l","r"],(function(horiz){if(horiz==="r"){adjustedLayering=_.map(adjustedLayering,(function(inner){return _.values(inner).reverse()}))}var neighborFn=(vert==="u"?g.predecessors:g.successors).bind(g);var align=verticalAlignment(g,adjustedLayering,conflicts,neighborFn);var xs=horizontalCompaction(g,adjustedLayering,align.root,align.align,horiz==="r");if(horiz==="r"){xs=_.mapValues(xs,(function(x){return-x}))}xss[vert+horiz]=xs}))}));var smallestWidth=findSmallestWidthAlignment(g,xss);alignCoordinates(xss,smallestWidth);return balance(xss,g.graph().align)}function sep(nodeSep,edgeSep,reverseSep){return function(g,v,w){var vLabel=g.node(v);var wLabel=g.node(w);var sum=0;var delta;sum+=vLabel.width/2;if(_.has(vLabel,"labelpos")){switch(vLabel.labelpos.toLowerCase()){case"l":delta=-vLabel.width/2;break;case"r":delta=vLabel.width/2;break}}if(delta){sum+=reverseSep?delta:-delta}delta=0;sum+=(vLabel.dummy?edgeSep:nodeSep)/2;sum+=(wLabel.dummy?edgeSep:nodeSep)/2;sum+=wLabel.width/2;if(_.has(wLabel,"labelpos")){switch(wLabel.labelpos.toLowerCase()){case"l":delta=wLabel.width/2;break;case"r":delta=-wLabel.width/2;break}}if(delta){sum+=reverseSep?delta:-delta}delta=0;return sum}}function width(g,v){return g.node(v).width}},function(module,exports,__webpack_require__){var _=__webpack_require__(50);var util=__webpack_require__(61);var Graph=__webpack_require__(68).Graph;module.exports={debugOrdering:debugOrdering};function debugOrdering(g){var layerMatrix=util.buildLayerMatrix(g);var h=new Graph({compound:true,multigraph:true}).setGraph({});_.forEach(g.nodes(),(function(v){h.setNode(v,{label:v});h.setParent(v,"layer"+g.node(v).rank)}));_.forEach(g.edges(),(function(e){h.setEdge(e.v,e.w,{},e.name)}));_.forEach(layerMatrix,(function(layer,i){var layerV="layer"+i;h.setNode(layerV,{rank:"same"});_.reduce(layer,(function(u,v){h.setEdge(u,v,{style:"invis"});return v}))}));return h}},function(module,exports){module.exports="0.8.5"},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuNTA5NDMgNi45MzkzMkM0LjUwOTQzIDcuMTMzODkgNC41MzA3MiA3LjI5MTY1IDQuNTY3OTcgNy40MDczNEM0LjYxMDUzIDcuNTIzMDQgNC42NjM3NCA3LjY0OTI1IDQuNzM4MjQgNy43ODU5N0M0Ljc2NDg0IDcuODI4MDQgNC43NzU0OCA3Ljg3MDExIDQuNzc1NDggNy45MDY5MkM0Ljc3NTQ4IDcuOTU5NTEgNC43NDM1NiA4LjAxMjEgNC42NzQzOSA4LjA2NDY5TDQuMzM5MTYgOC4yODU1NUM0LjI5MTI3IDguMzE3MSA0LjI0MzM5IDguMzMyODggNC4yMDA4MiA4LjMzMjg4QzQuMTQ3NjEgOC4zMzI4OCA0LjA5NDQgOC4zMDY1OSA0LjA0MTE5IDguMjU5MjZDMy45NjY2OSA4LjE4MDM4IDMuOTAyODQgOC4wOTYyNCAzLjg0OTYzIDguMDEyMUMzLjc5NjQyIDcuOTIyNyAzLjc0MzIxIDcuODIyNzggMy42ODQ2OCA3LjcwMTgzQzMuMjY5NjQgOC4xODU2NCAyLjc0ODE4IDguNDI3NTQgMi4xMjAzMSA4LjQyNzU0QzEuNjczMzQgOC40Mjc1NCAxLjMxNjg0IDguMzAxMzMgMS4wNTYxMSA4LjA0ODkxQzAuNzk1Mzc4IDcuNzk2NDkgMC42NjIzNTQgNy40NTk5MyAwLjY2MjM1NCA3LjAzOTIzQzAuNjYyMzU0IDYuNTkyMjQgMC44MjE5ODMgNi4yMjkzOSAxLjE0NjU2IDUuOTU1OTRDMS40NzExNSA1LjY4MjQ4IDEuOTAyMTUgNS41NDU3NiAyLjQ1MDIxIDUuNTQ1NzZDMi42MzExMiA1LjU0NTc2IDIuODE3MzYgNS41NjE1MyAzLjAxNDIzIDUuNTg3ODNDMy4yMTExMSA1LjYxNDEyIDMuNDEzMzEgNS42NTYxOSAzLjYyNjE1IDUuNzAzNTJWNS4zMTk2M0MzLjYyNjE1IDQuOTE5OTcgMy41NDEwMSA0LjY0MTI2IDMuMzc2MDYgNC40NzgyNEMzLjIwNTc5IDQuMzE1MjEgMi45MTg0NiA0LjIzNjMzIDIuNTA4NzQgNC4yMzYzM0MyLjMyMjUgNC4yMzYzMyAyLjEzMDk1IDQuMjU3MzcgMS45MzQwNyA0LjMwNDdDMS43MzcyIDQuMzUyMDMgMS41NDU2NCA0LjQwOTg3IDEuMzU5NCA0LjQ4MzQ5QzEuMjc0MjcgNC41MjAzIDEuMjEwNDIgNC41NDEzNCAxLjE3MzE3IDQuNTUxODZDMS4xMzU5MiA0LjU2MjM3IDEuMTA5MzIgNC41Njc2MyAxLjA4ODAzIDQuNTY3NjNDMS4wMTM1NCA0LjU2NzYzIDAuOTc2MjkyIDQuNTE1MDUgMC45NzYyOTIgNC40MDQ2MVY0LjE0Njk0QzAuOTc2MjkyIDQuMDYyOCAwLjk4NjkzNCAzLjk5OTY5IDEuMDEzNTQgMy45NjI4OEMxLjA0MDE0IDMuOTI2MDcgMS4wODgwMyAzLjg4OTI2IDEuMTYyNTMgMy44NTI0NUMxLjM0ODc2IDMuNzU3NzkgMS41NzIyNCAzLjY3ODkxIDEuODMyOTcgMy42MTU4QzIuMDkzNyAzLjU0NzQ0IDIuMzcwMzkgMy41MTU4OSAyLjY2MzA1IDMuNTE1ODlDMy4yOTYyNSAzLjUxNTg5IDMuNzU5MTcgMy42NTc4NyA0LjA1NzE1IDMuOTQxODVDNC4zNDk4MSA0LjIyNTgyIDQuNDk4NzkgNC42NTcwMyA0LjQ5ODc5IDUuMjM1NDlWNi45MzkzMkg0LjUwOTQzWk0yLjM0OTExIDcuNzM4NjRDMi41MjQ3IDcuNzM4NjQgMi43MDU2MiA3LjcwNzA5IDIuODk3MTcgNy42NDM5OUMzLjA4ODczIDcuNTgwODggMy4yNTkgNy40NjUxOSAzLjQwMjY3IDcuMzA3NDNDMy40ODc4IDcuMjA3NTEgMy41NTE2NiA3LjA5NzA4IDMuNTgzNTggNi45NzA4N0MzLjYxNTUxIDYuODQ0NjYgMy42MzY3OSA2LjY5MjE2IDMuNjM2NzkgNi41MTMzNlY2LjI5MjVDMy40ODI0OCA2LjI1NTY4IDMuMzE3NTMgNi4yMjQxMyAzLjE0NzI2IDYuMjAzMUMyLjk3Njk5IDYuMTgyMDYgMi44MTIwNCA2LjE3MTU0IDIuNjQ3MDkgNi4xNzE1NEMyLjI5MDU4IDYuMTcxNTQgMi4wMjk4NSA2LjIzOTkxIDEuODU0MjYgNi4zODE4OUMxLjY3ODY2IDYuNTIzODggMS41OTM1MyA2LjcyMzcxIDEuNTkzNTMgNi45ODY2NUMxLjU5MzUzIDcuMjMzODEgMS42NTczOCA3LjQxNzg2IDEuNzkwNCA3LjU0NDA3QzEuOTE4MTEgNy42NzU1NCAyLjEwNDM0IDcuNzM4NjQgMi4zNDkxMSA3LjczODY0Wk02LjYyMTg3IDguMzA2NTlDNi41MjYwOSA4LjMwNjU5IDYuNDYyMjQgOC4yOTA4MSA2LjQxOTY3IDguMjU0QzYuMzc3MTEgOC4yMjI0NSA2LjMzOTg2IDguMTQ4ODIgNi4zMDc5MyA4LjA0ODkxTDUuMDU3NSAzLjk4MzkyQzUuMDI1NTcgMy44Nzg3NCA1LjAwOTYxIDMuODEwMzggNS4wMDk2MSAzLjc3MzU3QzUuMDA5NjEgMy42ODk0MyA1LjA1MjE4IDMuNjQyMSA1LjEzNzMxIDMuNjQyMUg1LjY1ODc3QzUuNzU5ODcgMy42NDIxIDUuODI5MDQgMy42NTc4NyA1Ljg2NjI5IDMuNjk0NjlDNS45MDg4NiAzLjcyNjI0IDUuOTQwNzggMy43OTk4NiA1Ljk3MjcxIDMuODk5NzhMNi44NjY2NCA3LjM4MTA1TDcuNjk2NzEgMy44OTk3OEM3LjcyMzMyIDMuNzk0NiA3Ljc1NTI0IDMuNzI2MjQgNy43OTc4MSAzLjY5NDY5QzcuODQwMzggMy42NjMxMyA3LjkxNDg3IDMuNjQyMSA4LjAxMDY1IDMuNjQyMUg4LjQzNjMzQzguNTM3NDMgMy42NDIxIDguNjA2NiAzLjY1Nzg3IDguNjQ5MTcgMy42OTQ2OUM4LjY5MTc0IDMuNzI2MjQgOC43Mjg5OSAzLjc5OTg2IDguNzUwMjcgMy44OTk3OEw5LjU5MDk5IDcuNDIzMTJMMTAuNTExNSAzLjg5OTc4QzEwLjU0MzQgMy43OTQ2IDEwLjU4MDcgMy43MjYyNCAxMC42MTc5IDMuNjk0NjlDMTAuNjYwNSAzLjY2MzEzIDEwLjcyOTcgMy42NDIxIDEwLjgyNTUgMy42NDIxSDExLjMyMDNDMTEuNDA1NCAzLjY0MjEgMTEuNDUzMyAzLjY4NDE3IDExLjQ1MzMgMy43NzM1N0MxMS40NTMzIDMuNzk5ODYgMTEuNDQ4IDMuODI2MTUgMTEuNDQyNyAzLjg1NzcxQzExLjQzNzQgMy44ODkyNiAxMS40MjY3IDMuOTMxMzMgMTEuNDA1NCAzLjk4OTE3TDEwLjEyMzEgOC4wNTQxN0MxMC4wOTEyIDguMTU5MzQgMTAuMDUzOSA4LjIyNzcxIDEwLjAxMTMgOC4yNTkyNkM5Ljk2ODc4IDguMjkwODEgOS44OTk2MSA4LjMxMTg1IDkuODA5MTUgOC4zMTE4NUg5LjM1MTU0QzkuMjUwNDQgOC4zMTE4NSA5LjE4MTI3IDguMjk2MDcgOS4xMzg3IDguMjU5MjZDOS4wOTYxMyA4LjIyMjQ1IDkuMDU4ODkgOC4xNTQwOCA5LjAzNzYgOC4wNDg5MUw4LjIxMjg1IDQuNjU3MDNMNy4zOTM0MiA4LjA0MzY1QzcuMzY2ODEgOC4xNDg4MyA3LjMzNDg4IDguMjE3MTkgNy4yOTIzMiA4LjI1NEM3LjI0OTc1IDguMjkwODEgNy4xNzUyNSA4LjMwNjU5IDcuMDc5NDggOC4zMDY1OUg2LjYyMTg3Wk0xMy40NTk0IDguNDQ4NTdDMTMuMTgyNyA4LjQ0ODU3IDEyLjkwNiA4LjQxNzAyIDEyLjYzOTkgOC4zNTM5MkMxMi4zNzM5IDguMjkwODEgMTIuMTY2NCA4LjIyMjQ1IDEyLjAyOCA4LjE0MzU3QzExLjk0MjkgOC4wOTYyNCAxMS44ODQzIDguMDQzNjUgMTEuODYzMSA3Ljk5NjMyQzExLjg0MTggNy45NDg5OSAxMS44MzExIDcuODk2NDEgMTEuODMxMSA3Ljg0OTA4VjcuNTgwODhDMTEuODMxMSA3LjQ3MDQ1IDExLjg3MzcgNy40MTc4NiAxMS45NTM1IDcuNDE3ODZDMTEuOTg1NCA3LjQxNzg2IDEyLjAxNzQgNy40MjMxMiAxMi4wNDkzIDcuNDMzNjRDMTIuMDgxMiA3LjQ0NDE2IDEyLjEyOTEgNy40NjUxOSAxMi4xODIzIDcuNDg2MjNDMTIuMzYzMiA3LjU2NTExIDEyLjU2MDEgNy42MjgyMSAxMi43Njc2IDcuNjcwMjhDMTIuOTgwNSA3LjcxMjM1IDEzLjE4OCA3LjczMzM5IDEzLjQwMDggNy43MzMzOUMxMy43MzYgNy43MzMzOSAxMy45OTY4IDcuNjc1NTQgMTQuMTc3NyA3LjU1OTg1QzE0LjM1ODYgNy40NDQxNiAxNC40NTQ0IDcuMjc1ODggMTQuNDU0NCA3LjA2MDI3QzE0LjQ1NDQgNi45MTMwMiAxNC40MDY1IDYuNzkyMDcgMTQuMzEwNyA2LjY5MjE2QzE0LjIxNDkgNi41OTIyNCAxNC4wMzQgNi41MDI4NCAxMy43NzMzIDYuNDE4N0wxMy4wMDE3IDYuMTgyMDZDMTIuNjEzMyA2LjA2MTExIDEyLjMyNiA1Ljg4MjMxIDEyLjE1MDQgNS42NDU2N0MxMS45NzQ4IDUuNDE0MjkgMTEuODg0MyA1LjE1NjYxIDExLjg4NDMgNC44ODMxNkMxMS44ODQzIDQuNjYyMjkgMTEuOTMyMiA0LjQ2NzcyIDEyLjAyOCA0LjI5OTQ0QzEyLjEyMzggNC4xMzExNiAxMi4yNTE1IDMuOTgzOTIgMTIuNDExMSAzLjg2ODIyQzEyLjU3MDcgMy43NDcyNyAxMi43NTE3IDMuNjU3ODcgMTIuOTY0NSAzLjU5NDc3QzEzLjE3NzMgMy41MzE2NiAxMy40MDA4IDMuNTA1MzcgMTMuNjM0OSAzLjUwNTM3QzEzLjc1MiAzLjUwNTM3IDEzLjg3NDQgMy41MTA2MyAxMy45OTE1IDMuNTI2NDFDMTQuMTEzOCAzLjU0MjE4IDE0LjIyNTYgMy41NjMyMiAxNC4zMzczIDMuNTg0MjVDMTQuNDQzNyAzLjYxMDU1IDE0LjU0NDggMy42MzY4NCAxNC42NDA2IDMuNjY4MzlDMTQuNzM2NCAzLjY5OTk0IDE0LjgxMDkgMy43MzE1IDE0Ljg2NDEgMy43NjMwNUMxNC45Mzg2IDMuODA1MTIgMTQuOTkxOCAzLjg0NzE5IDE1LjAyMzcgMy44OTQ1MkMxNS4wNTU3IDMuOTM2NTkgMTUuMDcxNiAzLjk5NDQzIDE1LjA3MTYgNC4wNjgwNVY0LjMxNTIxQzE1LjA3MTYgNC40MjU2NSAxNS4wMjkgNC40ODM0OSAxNC45NDkyIDQuNDgzNDlDMTQuOTA2NyA0LjQ4MzQ5IDE0LjgzNzUgNC40NjI0NiAxNC43NDcgNC40MjAzOUMxNC40NDM3IDQuMjgzNjYgMTQuMTAzMiA0LjIxNTMgMTMuNzI1NCA0LjIxNTNDMTMuNDIyMSA0LjIxNTMgMTMuMTgyNyA0LjI2MjYzIDEzLjAxNzcgNC4zNjI1NEMxMi44NTI4IDQuNDYyNDYgMTIuNzY3NiA0LjYxNDk2IDEyLjc2NzYgNC44MzA1N0MxMi43Njc2IDQuOTc3ODEgMTIuODIwOCA1LjEwNDAyIDEyLjkyNzMgNS4yMDM5NEMxMy4wMzM3IDUuMzAzODUgMTMuMjMwNiA1LjQwMzc3IDEzLjUxMjYgNS40OTMxN0wxNC4yNjgxIDUuNzI5ODFDMTQuNjUxMyA1Ljg1MDc2IDE0LjkyNzkgNi4wMTkwNCAxNS4wOTI5IDYuMjM0NjVDMTUuMjU3OSA2LjQ1MDI2IDE1LjMzNzcgNi42OTc0MiAxNS4zMzc3IDYuOTcwODdDMTUuMzM3NyA3LjE5NyAxNS4yODk4IDcuNDAyMDkgMTUuMTk5MyA3LjU4MDg4QzE1LjEwMzUgNy43NTk2OCAxNC45NzU4IDcuOTE3NDQgMTQuODEwOSA4LjA0MzY1QzE0LjY0NTkgOC4xNzUxMiAxNC40NDkxIDguMjY5NzggMTQuMjIwMyA4LjMzODE0QzEzLjk4MDggOC40MTE3NiAxMy43MzA3IDguNDQ4NTcgMTMuNDU5NCA4LjQ0ODU3WiIgZmlsbD0iIzI1MkYzRSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0LjQ2NSAxMS4wMDQ1QzEyLjcxNDQgMTIuMjgyNCAxMC4xNzEgMTIuOTYwOCA3Ljk4NDA2IDEyLjk2MDhDNC45MTkxNiAxMi45NjA4IDIuMTU3NTYgMTEuODQwNyAwLjA3MTczMTEgOS45NzkwN0MtMC4wOTMyMTk4IDkuODMxODMgMC4wNTU3NjgxIDkuNjMyIDAuMjUyNjQ1IDkuNzQ3NjlDMi41MDg3NSAxMS4wNDEzIDUuMjkxNjMgMTEuODI0OSA4LjE3MDI5IDExLjgyNDlDMTAuMTEyNSAxMS44MjQ5IDEyLjI0NjIgMTEuNDI1MiAxNC4yMDk2IDEwLjYwNDlDMTQuNTAyMyAxMC40NzM0IDE0Ljc1MjQgMTAuNzk0MiAxNC40NjUgMTEuMDA0NVoiIGZpbGw9IiNGRjk5MDAiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS4xOTQxIDEwLjE4NDFDMTQuOTcwNiA5LjkwMDEzIDEzLjcxNDggMTAuMDQ3NCAxMy4xNDU1IDEwLjExNTdDMTIuOTc1MiAxMC4xMzY4IDEyLjk0ODYgOS45ODk1MyAxMy4xMDI5IDkuODc5MUMxNC4xMDMzIDkuMTg0OTUgMTUuNzQ3NCA5LjM4NDc4IDE1LjkzOSA5LjYxNjE2QzE2LjEzMDYgOS44NTI4IDE1Ljg4NTggMTEuNDc3NyAxNC45NDkzIDEyLjI1NkMxNC44MDU2IDEyLjM3NyAxNC42NjczIDEyLjMxMzkgMTQuNzMxMSAxMi4xNTYxQzE0Ljk0NCAxMS42MzU1IDE1LjQxNzUgMTAuNDYyOCAxNS4xOTQxIDEwLjE4NDFaIiBmaWxsPSIjRkY5OTAwIi8+Cjwvc3ZnPgo="},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"0c61e7c8f4d454b2aba11c4e98ff8179.svg"},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNMiwxMiBMMTQsMTIgTDE0LDEwLjAzMDczOSBDMTIuNzc1MTAyOSwxMC42MTE1NDggMTAuNTQ2MzI1MSwxMSA4LDExIEM1LjQ1MzY3NDg2LDExIDMuMjI0ODk3MTUsMTAuNjExNTQ4IDIsMTAuMDMwNzM5IEwyLDEyIFogTTEsMTIgTDEsMyBDMSwxLjg5NTQzMDUgNC4xMzQwMDY3NSwxIDgsMSBDMTEuODY1OTkzMiwxIDE1LDEuODk1NDMwNSAxNSwzIEwxNSwxMiBDMTUsMTMuMTA0NTY5NSAxMS44NjU5OTMyLDE0IDgsMTQgQzQuMTM0MDA2NzUsMTQgMSwxMy4xMDQ1Njk1IDEsMTIgWiBNMiw5IEwxNCw5IEwxNCw3LjAzMDczOTAzIEMxMi43NzUxMDI5LDcuNjExNTQ3OTUgMTAuNTQ2MzI1MSw4IDgsOCBDNS40NTM2NzQ4Niw4IDMuMjI0ODk3MTUsNy42MTE1NDc5NSAyLDcuMDMwNzM5MDMgTDIsOSBaIE0yLDQuMDMwNzM5MDMgTDIsNiBMMTQsNiBMMTQsNC4wMzA3MzkwMyBDMTIuNzc1MTAyOSw0LjYxMTU0Nzk1IDEwLjU0NjMyNTEsNSA4LDUgQzUuNDUzNjc0ODYsNSAzLjIyNDg5NzE1LDQuNjExNTQ3OTUgMiw0LjAzMDczOTAzIFogTTEyLjY3NTAyNjMsMi41NDczMTAzOSBDMTEuNDY2OTI0NCwyLjIwMjEzODQgOS43OTQyNDM0LDIgOCwyIEM2LjIwNTc1NjYsMiA0LjUzMzA3NTYxLDIuMjAyMTM4NCAzLjMyNDk3MzY2LDIuNTQ3MzEwMzkgQzIuODMzMzQ5NTksMi42ODc3NzQ0IDIuNDQ1MTE1NzQsMi44NDUzNjYwNyAyLjE4ODYwMzg0LDMgQzIuNDQ1MTE1NzQsMy4xNTQ2MzM5MyAyLjgzMzM0OTU5LDMuMzEyMjI1NiAzLjMyNDk3MzY2LDMuNDUyNjg5NjEgQzQuNTMzMDc1NjEsMy43OTc4NjE2IDYuMjA1NzU2Niw0IDgsNCBDOS43OTQyNDM0LDQgMTEuNDY2OTI0NCwzLjc5Nzg2MTYgMTIuNjc1MDI2MywzLjQ1MjY4OTYxIEMxMy4xNjY2NTA0LDMuMzEyMjI1NiAxMy41NTQ4ODQzLDMuMTU0NjMzOTMgMTMuODExMzk2MiwzIEMxMy41NTQ4ODQzLDIuODQ1MzY2MDcgMTMuMTY2NjUwNCwyLjY4Nzc3NDQgMTIuNjc1MDI2MywyLjU0NzMxMDM5IFogTTIuMDAwMTIyMDcsNiBDMi4yNTY2MzM5Nyw2LjE1NDYzMzkzIDIuODMzMzQ5NTksNi4zMTIyMjU2IDMuMzI0OTczNjYsNi40NTI2ODk2MSBDNC41MzMwNzU2MSw2Ljc5Nzg2MTYgNi4yMDU3NTY2LDcgOCw3IEM5Ljc5NDI0MzQsNyAxMS40NjY5MjQ0LDYuNzk3ODYxNiAxMi42NzUwMjYzLDYuNDUyNjg5NjEgQzEzLjE2NjY1MDQsNi4zMTIyMjU2IDEzLjc0NTI1ODEsNi4xNTQ2MzM5MyAxNC4wMDE3Nyw2IEMxNC4wMDE3Nyw2IDIuMDAwMTIyMDcsNiAyLjAwMDEyMjA3LDYgWiBNMi4wMDAxMjIwNyw5IEMyLjI1NjYzMzk3LDkuMTU0NjMzOTMgMi44MzMzNDk1OSw5LjMxMjIyNTYgMy4zMjQ5NzM2Niw5LjQ1MjY4OTYxIEM0LjUzMzA3NTYxLDkuNzk3ODYxNiA2LjIwNTc1NjYsMTAgOCwxMCBDOS43OTQyNDM0LDEwIDExLjQ2NjkyNDQsOS43OTc4NjE2IDEyLjY3NTAyNjMsOS40NTI2ODk2MSBDMTMuMTY2NjUwNCw5LjMxMjIyNTYgMTMuNzQ1MjU4MSw5LjE1NDYzMzkzIDE0LjAwMTc3LDkgQzE0LjAwMTc3LDkgMi4wMDAxMjIwNyw5IDIuMDAwMTIyMDcsOSBaIE0yLjAwMDEyMjA3LDEyIEMyLjI1NjYzMzk3LDEyLjE1NDYzMzkgMi44MzMzNDk1OSwxMi4zMTIyMjU2IDMuMzI0OTczNjYsMTIuNDUyNjg5NiBDNC41MzMwNzU2MSwxMi43OTc4NjE2IDYuMjA1NzU2NiwxMyA4LDEzIEM5Ljc5NDI0MzQsMTMgMTEuNDY2OTI0NCwxMi43OTc4NjE2IDEyLjY3NTAyNjMsMTIuNDUyNjg5NiBDMTMuMTY2NjUwNCwxMi4zMTIyMjU2IDEzLjc0NTI1ODEsMTIuMTU0NjMzOSAxNC4wMDE3NywxMiBDMTQuMDAxNzcsMTIgMi4wMDAxMjIwNywxMiAyLjAwMDEyMjA3LDEyIFoiLz4KPC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTE2Ljc1IDYuMTY1YTEuNSAxLjUgMCAwMC0xLjUgMGwtNy4zOTIgNC4yNjhhMS41IDEuNSAwIDAwLS43NSAxLjN2OC41MzVhMS41IDEuNSAwIDAwLjc1IDEuMjk5bDcuMzkyIDQuMjY4YTEuNSAxLjUgMCAwMDEuNSAwbDcuMzkyLTQuMjY4YTEuNSAxLjUgMCAwMC43NS0xLjI5OXYtOC41MzZhMS41IDEuNSAwIDAwLS43NS0xLjI5OUwxNi43NSA2LjE2NXptLjc1LTEuMjk5bDcuMzkyIDQuMjY4YTMgMyAwIDAxMS41IDIuNTk4djguNTM2YTMgMyAwIDAxLTEuNSAyLjU5OEwxNy41IDI3LjEzNGEzIDMgMCAwMS0zIDBsLTcuMzkyLTQuMjY4YTMgMyAwIDAxLTEuNS0yLjU5OHYtOC41MzZhMyAzIDAgMDExLjUtMi41OThMMTQuNSA0Ljg2NmEzIDMgMCAwMTMgMHoiIGZpbGw9IiM5OEEyQjMiLz4KPC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOC44IDBjLjI3NCAwIC41MzcuMTEzLjcyNi4zMTJsMy4yIDMuNDI4Yy4xNzYuMTg2LjI3NC40MzMuMjc0LjY4OVYxM2ExIDEgMCAwMS0xIDFIMmExIDEgMCAwMS0xLTFWMWExIDEgMCAwMTEtMWg2Ljh6TTEyIDVIOC41YS41LjUgMCAwMS0uNS0uNVYxSDJ2MTJoMTBWNXptLTcuNSA2YS41LjUgMCAxMTAtMWg1YS41LjUgMCAxMTAgMWgtNXptMC0zYS41LjUgMCAwMTAtMWg1YS41LjUgMCAxMTAgMWgtNXptMSA4YS41LjUgMCAxMTAtMUgxNFY2LjVhLjUuNSAwIDExMSAwVjE1YTEgMSAwIDAxLTEgMUg1LjV6Ij48L3BhdGg+PC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iZXVpSWNvbiBldWlJY29uLS14TGFyZ2UgZXVpSWNvbi1pc0xvYWRlZCIgZm9jdXNhYmxlPSJmYWxzZSIgcm9sZT0iaW1nIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PGcgZmlsbD0iYmxhY2siIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggY2xhc3M9ImV1aUljb25fX2ZpbGxOZWdhdGl2ZSIgZD0iTTIgMTZjMCAxLjM4NC4xOTQgMi43Mi41MjQgNEgyMmE0IDQgMCAwMDAtOEgyLjUyNEExNS45ODQgMTUuOTg0IDAgMDAyIDE2Ij48L3BhdGg+PHBhdGggZmlsbD0iI0ZFQzUxNCIgZD0iTTI4LjkyNCA3LjY2MkExNS4zODEgMTUuMzgxIDAgMDAzMC40OCA2QzI3LjU0NyAyLjM0NiAyMy4wNSAwIDE4IDAgMTEuNjc5IDAgNi4yMzkgMy42NzggMy42NDQgOUgyNS41MWE1LjAzOSA1LjAzOSAwIDAwMy40MTMtMS4zMzgiPjwvcGF0aD48cGF0aCBmaWxsPSIjMDBCRkIzIiBkPSJNMjUuNTEgMjNIMy42NDVDNi4yNCAyOC4zMjMgMTEuNjc5IDMyIDE4IDMyYzUuMDUgMCA5LjU0Ny0yLjM0NiAxMi40OC02YTE1LjM4MSAxNS4zODEgMCAwMC0xLjU1Ni0xLjY2MkE1LjAzNCA1LjAzNCAwIDAwMjUuNTEgMjMiPjwvcGF0aD48L2c+PC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNMS4wMTg5NDQ4Miw4IEMxLjEwMjU0Njc2LDkuMDk4OTk0MDQgMS40NTk0NDA5LDEwLjEyMTU5NzEgMi4wMjE4MTc5MSwxMSBMNC40MDM2ODg0MSwxMSBDNC4xODAxOTkzMywxMC4wOTQwMTY0IDQuMDQwNzcwMTcsOS4wNzgxMjExMiA0LjAwNzY1NDQsOCBMMS4wMTg5NDQ4Miw4IFogTTEuMDE4OTQ0ODIsNyBMNC4wMDc2NTQ0LDcgQzQuMDQwNzcwMTcsNS45MjE4Nzg4OCA0LjE4MDE5OTMzLDQuOTA1OTgzNTYgNC40MDM2ODg0MSw0IEwyLjAyMTgxNzkxLDQgQzEuNDU5NDQwOSw0Ljg3ODQwMjg1IDEuMTAyNTQ2NzYsNS45MDEwMDU5NiAxLjAxODk0NDgyLDcgWiBNMTMuOTgxMDU1Miw4IEwxMC45OTIzNDU2LDggQzEwLjk1OTIyOTgsOS4wNzgxMjExMiAxMC44MTk4MDA3LDEwLjA5NDAxNjQgMTAuNTk2MzExNiwxMSBMMTIuOTc4MTgyMSwxMSBDMTMuNTQwNTU5MSwxMC4xMjE1OTcxIDEzLjg5NzQ1MzIsOS4wOTg5OTQwNCAxMy45ODEwNTUyLDggWiBNMTMuOTgxMDU1Miw3IEMxMy44OTc0NTMyLDUuOTAxMDA1OTYgMTMuNTQwNTU5MSw0Ljg3ODQwMjg1IDEyLjk3ODE4MjEsNCBMMTAuNTk2MzExNiw0IEMxMC44MTk4MDA3LDQuOTA1OTgzNTYgMTAuOTU5MjI5OCw1LjkyMTg3ODg4IDEwLjk5MjM0NTYsNyBMMTMuOTgxMDU1Miw3IFogTTUuMDA4MzA5MjcsOCBDNS4wNDUxODQ1Miw5LjEwNjc2MDAxIDUuMjAyNjA1OTEsMTAuMTI2ODMyIDUuNDM2NjcxMiwxMSBMOS41NjMzMjg4LDExIEM5Ljc5NzM5NDA5LDEwLjEyNjgzMiA5Ljk1NDgxNTQ4LDkuMTA2NzYwMDEgOS45OTE2OTA3Myw4IEw1LjAwODMwOTI3LDggWiBNNS4wMDgzMDkyNyw3IEw5Ljk5MTY5MDczLDcgQzkuOTU0ODE1NDgsNS44OTMyMzk5OSA5Ljc5NzM5NDA5LDQuODczMTY3OTkgOS41NjMzMjg4LDQgTDUuNDM2NjcxMiw0IEM1LjIwMjYwNTkxLDQuODczMTY3OTkgNS4wNDUxODQ1Miw1Ljg5MzIzOTk5IDUuMDA4MzA5MjcsNyBaIE0wLjAxNjQwMjI3NzQsOCBMMCw4IEwwLDcgTDAuMDE2NDAyMjc3NCw3IEMwLjI3MzY5NTMyLDMuMDkwOTg0MDkgMy41MjU4Nzg2NSwwIDcuNSwwIEMxMS40NzQxMjEzLDAgMTQuNzI2MzA0NywzLjA5MDk4NDA5IDE0Ljk4MzU5NzcsNyBMMTUsNyBMMTUsOCBMMTQuOTgzNTk3Nyw4IEMxNC43MjYzMDQ3LDExLjkwOTAxNTkgMTEuNDc0MTIxMywxNSA3LjUsMTUgQzMuNTI1ODc4NjUsMTUgMC4yNzM2OTUzMiwxMS45MDkwMTU5IDAuMDE2NDAyMjc3NCw4IFogTTIuODA5NTcyMTksMTIgQzMuNTUwOTg5NDUsMTIuNzcyNTkyNiA0LjQ4MTQ0MTM4LDEzLjM2MjM4NDUgNS41MjY1NzQxMywxMy42OTUwMjE4IEM1LjIwOTU4MjgxLDEzLjIzMDQ1NDEgNC45MzAwNjcyLDEyLjY1NzA3OCA0LjY5OTc0MzY3LDEyIEwyLjgwOTU3MjE5LDEyIFogTTEyLjE5MDQyNzgsMTIgTDEwLjMwMDI1NjMsMTIgQzEwLjA2OTkzMjgsMTIuNjU3MDc4IDkuNzkwNDE3MTksMTMuMjMwNDU0MSA5LjQ3MzQyNTg3LDEzLjY5NTAyMTggQzEwLjUxODU1ODYsMTMuMzYyMzg0NSAxMS40NDkwMTA1LDEyLjc3MjU5MjYgMTIuMTkwNDI3OCwxMiBaIE01Ljc2MTg1MDY5LDEyIEM2LjI0NjAwNjA4LDEzLjIzOTY5NjcgNi44OTM2NTc3OSwxNCA3LjUsMTQgQzguMTA2MzQyMjEsMTQgOC43NTM5OTM5MiwxMy4yMzk2OTY3IDkuMjM4MTQ5MzEsMTIgTDUuNzYxODUwNjksMTIgWiBNMi44MDk1NzIxOSwzIEw0LjY5OTc0MzY3LDMgQzQuOTMwMDY3MiwyLjM0MjkyMjA0IDUuMjA5NTgyODEsMS43Njk1NDU5MiA1LjUyNjU3NDEzLDEuMzA0OTc4MTggQzQuNDgxNDQxMzgsMS42Mzc2MTU1MiAzLjU1MDk4OTQ1LDIuMjI3NDA3NCAyLjgwOTU3MjE5LDMgWiBNMTIuMTkwNDI3OCwzIEMxMS40NDkwMTA1LDIuMjI3NDA3NCAxMC41MTg1NTg2LDEuNjM3NjE1NTIgOS40NzM0MjU4NywxLjMwNDk3ODE4IEM5Ljc5MDQxNzE5LDEuNzY5NTQ1OTIgMTAuMDY5OTMyOCwyLjM0MjkyMjA0IDEwLjMwMDI1NjMsMyBMMTIuMTkwNDI3OCwzIFogTTUuNzYxODUwNjksMyBMOS4yMzgxNDkzMSwzIEM4Ljc1Mzk5MzkyLDEuNzYwMzAzMzQgOC4xMDYzNDIyMSwxIDcuNSwxIEM2Ljg5MzY1Nzc5LDEgNi4yNDYwMDYwOCwxLjc2MDMwMzM0IDUuNzYxODUwNjksMyBaIi8+Cjwvc3ZnPgo="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjYxMTA0IDIuOTA1MjhDNy43MzQ0MyAyLjk0MDg5IDcuODY0OSAyLjk1OTk3IDcuOTk5ODggMi45NTk5N0M4LjEzNTMyIDIuOTU5OTcgOC4yNjYyMSAyLjk0MDc2IDguMzg5OTcgMi45MDQ5MkwxMi42MDU3IDEwLjIwNjVDMTIuNTExMyAxMC4yOTY1IDEyLjQyODIgMTAuNDAxMyAxMi4zNiAxMC41MTk5QzEyLjI5MjEgMTAuNjM3OSAxMi4yNDM0IDEwLjc2MTggMTIuMjEyOCAxMC44ODc5SDMuNzg3MjFDMy43NTY2MyAxMC43NjE5IDMuNzA3ODcgMTAuNjM4IDMuNjM5OTcgMTAuNTE5OUMzLjU3MTQ2IDEwLjQwMiAzLjQ4ODQ4IDEwLjI5NzcgMy4zOTQ2IDEwLjIwODJMNy42MTEwNCAyLjkwNTI4Wk02Ljk5NTc5IDIuNTM0NTlDNy4wMDg3NyAyLjU0ODAyIDcuMDIyMDMgMi41NjEyIDcuMDM1NTQgMi41NzQxTDIuODE4OTYgOS44NzcyNUMyLjgwMDczIDkuODcxOTYgMi43ODI0IDkuODY3MDMgMi43NjM5NyA5Ljg2MjQ4VjYuMTM2OTdDMy4xMTkyOCA2LjA0ODY0IDMuNDM5NDIgNS44MjIwMiAzLjYzNTk1IDUuNDgwMTVDMy44MzIyMiA1LjEzODcyIDMuODY4NjEgNC43NDkyMSAzLjc2ODA3IDQuMzk4MTdMNi45OTU3OSAyLjUzNDU5Wk05LjMzODE3IDEuOTYzMTJDOS4zNzU3MiAxLjgzNjY5IDkuMzk1ODggMS43MDI3MiA5LjM5NTg4IDEuNTYzOTdDOS4zOTU4OCAwLjc5MTk2OSA4Ljc3MTg4IDAuMTY3OTY5IDcuOTk5ODggMC4xNjc5NjlDNy4yMjc4OCAwLjE2Nzk2OSA2LjYwMzg4IDAuNzkxOTY5IDYuNjAzODggMS41NjM5N0M2LjYwMzg4IDEuNzAyMDEgNi42MjM4MyAxLjgzNTMxIDYuNjYxMDEgMS45NjExN0wzLjQzOTI5IDMuODIxMjlDMy4zNDg5MiAzLjcyNTg2IDMuMjQzNDggMy42NDE1NyAzLjEyMzk1IDMuNTcyMTVDMi40NTU5NCAzLjE4ODE0IDEuNTk5OTQgMy40MTYxNCAxLjIxNTk0IDQuMDg0MTVDMC44MzE5NDQgNC43NTIxNSAxLjA1OTk0IDUuNjA4MTUgMS43Mjc5NCA1Ljk5MjE1QzEuODQ3MjEgNi4wNjA3MSAxLjk3MjQ4IDYuMTA5NzcgMi4wOTk5OCA2LjE0MDI5VjkuODYwN0MxLjk3Mzk0IDkuODkxMjggMS44NTAwOCA5Ljk0MDA0IDEuNzMxOTcgMTAuMDA3OUMxLjA2Mzk3IDEwLjM5NTkgMC44MzU5NzIgMTEuMjQ3OSAxLjIxOTk3IDExLjkxNTlDMS42MDM5NyAxMi41ODM5IDIuNDU1OTcgMTIuODExOSAzLjEyNzk3IDEyLjQyNzlDMy4yNDYyMiAxMi4zNTkzIDMuMzUwNjggMTIuMjc2IDMuNDQwMzkgMTIuMTgxOUw2LjY2MDM4IDE0LjA0MUM2LjYyMzYxIDE0LjE2NjIgNi42MDM4OCAxNC4yOTg4IDYuNjAzODggMTQuNDM2QzYuNjAzODggMTUuMjA4IDcuMjI3ODggMTUuODMyIDcuOTk5ODggMTUuODMyQzguNzcxODggMTUuODMyIDkuMzk1ODggMTUuMjA0IDkuMzk1ODggMTQuNDM2QzkuMzk1ODggMTQuMjgyMyA5LjM3MTEzIDE0LjEzNDQgOS4zMjUzOCAxMy45OTYxTDEyLjUyNjggMTIuMTQ3N0MxMi42MjM1IDEyLjI1NjQgMTIuNzM5IDEyLjM1MTUgMTIuODcyIDEyLjQyNzlDMTMuNTQgMTIuODExOSAxNC4zOTYgMTIuNTgzOSAxNC43OCAxMS45MTU5QzE1LjE2OCAxMS4yNDc5IDE0Ljk0IDEwLjM5NTkgMTQuMjY4IDEwLjAwNzlDMTQuMTUgOS45NDAwOSAxNC4wMjYxIDkuODkxMzUgMTMuOSA5Ljg2MDc2VjYuMTQwMjlDMTQuMDI3NSA2LjEwOTc3IDE0LjE1MjcgNi4wNjA3MiAxNC4yNzIgNS45OTIxNUMxNC45NCA1LjYwNDE1IDE1LjE2OCA0Ljc1MjE1IDE0Ljc4NCA0LjA4NDE1QzE0LjM5NiAzLjQxNjE0IDEzLjU0NCAzLjE4ODE0IDEyLjg3NiAzLjU3MjE1QzEyLjc1NTggMy42NDE5NSAxMi42NDk5IDMuNzI2NzcgMTIuNTU5MiAzLjgyMjgzTDkuMzM4MTcgMS45NjMxMlpNOC45NjUxNiAyLjU3MzIxQzguOTc3ODYgMi41NjEwNiA4Ljk5MDMzIDIuNTQ4NjcgOS4wMDI1NiAyLjUzNjA1TDEyLjIzMTMgNC40MDAyMkMxMi4xMzE1IDQuNzUwNzMgMTIuMTY4MSA1LjEzOTM4IDEyLjM2NCA1LjQ4MDE1QzEyLjU2MDUgNS44MjIwMSAxMi44ODA3IDYuMDQ4NjMgMTMuMjM2IDYuMTM2OTZWOS44NjIxM0MxMy4yMTc4IDkuODY2NTggMTMuMTk5OCA5Ljg3MTM5IDEzLjE4MTkgOS44NzY1Nkw4Ljk2NTE2IDIuNTczMjFaTTEyLjI0IDExLjY0MzZMOS4wMzIzMSAxMy40OTU2QzguNzc3MTQgMTMuMjE1NiA4LjQwOTMzIDEzLjA0IDcuOTk5ODggMTMuMDRDNy42MDQ1NSAxMy4wNCA3LjI0ODAyIDEzLjIwMzcgNi45OTQyMyAxMy40NjdMMy43NzA5MyAxMS42MDZDMy43NzYxMiAxMS41ODgxIDMuNzgwOTUgMTEuNTcwMSAzLjc4NTQyIDExLjU1MTlIMTIuMjE0MkMxMi4yMjE3IDExLjU4MjggMTIuMjMwNCAxMS42MTMzIDEyLjI0IDExLjY0MzZaIiBmaWxsPSIjRTUzNUFCIi8+Cjwvc3ZnPgo="},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"41fba49a750fa850db4020f584c0692a.svg"},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuODg4NSA2LjAwMDAzQzYuNDQ0NzIgNS45OTc2IDcuMDE1MTMgNi4xNTcxNyA3LjQ0NzQ0IDYuNTE2NzlDNy42Njg5NiA2LjY5NjA5IDcuODQ3OTEgNi45MjEwNyA3Ljk5OTg2IDcuMTYwNTlDOC4yNzMzIDYuNzE4NTggOC42NzI3MyA2LjM0MzA0IDkuMTY1MjYgNi4xNjIwMUM5Ljc2NTQ0IDUuOTM2NjkgMTAuNDQzOCA1Ljk1MjI2IDExLjA0MyA2LjE3MzA5QzExLjU2NjMgNi4zNjQxNSAxMi4wMjM5IDYuNjk3MTIgMTIuNDM4OSA3LjA2MzMyQzEyLjc2MzYgNy4zNDk5MiAxMy4wNjQgNy42NjM1MSAxMy4zOTg0IDcuOTM5MzdDMTMuNTc0NiA4LjA4MjMyIDEzLjc2MzkgOC4yMTYyNyAxMy45ODA2IDguMjkwMzRDMTQuMjY4NSA4LjM4ODY0IDE0LjYwOTEgOC4yOTU4OCAxNC44MTUxIDguMDc0MDFDMTUuMDA1OCA3Ljg2NjM0IDE0Ljk5NCA3LjUwNzQgMTQuNzgzOSA3LjMxNzczQzE0LjY1MDMgNy4yMDI0NyAxNC40MjE5IDcuMjI1NjYgMTQuMzI3NCA3LjM3OTM0QzE0LjI0NDYgNy41MDExNyAxNC4yOTEgNy42NTMxMiAxNC4zNTU4IDcuNzcxMTVDMTQuMTgzNyA3LjY0NTUxIDE0LjAxMTQgNy40NzAzNyAxNC4wMTIxIDcuMjQxOTNDMTMuOTc2NCA2Ljk3NzgzIDE0LjE3MjMgNi43NDQ4OSAxNC40MDcgNi42NTI0N0MxNC44NjQ5IDYuNDY5MzcgMTUuNDM5MSA2LjYyNzIxIDE1LjcyODEgNy4wMzA0NEMxNi4wMDYxIDcuNDA2NjggMTYuMDI4MiA3LjkwMTI5IDE1Ljk3OTggOC4zNDk1M0MxNS45MjEzIDguNzc1MjYgMTUuNjgzMSA5LjE3MjYxIDE1LjMzMDEgOS40MTkwNkMxNC44MzQ0IDkuNzcyOCAxNC4yMDYyIDkuODgyNTIgMTMuNjA4NSA5Ljg3NDlDMTMuMDMzOSA5Ljg1OTMzIDEyLjQ2NTIgOS43Mjk1MyAxMS45MzI5IDkuNTE0OTNDMTEuMDQyNiA5LjE1NzA0IDEwLjIwOTUgOC42NjI0MyA5LjI5MDIxIDguMzc2NTNDOC45ODUyOCA4LjI1ODE1IDguNjYwOTYgOC4xOTQxMiA4LjMzNDkxIDguMTc0MzlDOC4wNzUzMiA4LjE3MjY2IDcuODI5MjIgOC4xNjA1NCA3LjU4NDE2IDguMTc3MTZDNy4yODUxMSA4LjIwNTg5IDYuOTg3NzkgOC4yNjcxNSA2LjcwNzc4IDguMzc2ODdDNS43NzI4OSA4LjY2NzYyIDQuOTI3MzEgOS4xNzQ2OSA0LjAyMDExIDkuNTMzMjhDMy4yNTQxNCA5LjgzMTI5IDIuNDA1NDQgOS45Njk3NCAxLjU5MjM5IDkuODA0MjlDMS4xMzc1OCA5LjcxMjIyIDAuNjg0ODUzIDkuNTExMTIgMC4zNzc4NCA5LjE1Mjg4QzAuMTE1MTMxIDguODQ4MjkgLTAuMDEwODU4NyA4LjQ0MDU2IDAuMDAxNjAxODIgOC4wNDExM0MtMC4wMTI5MzU0IDcuNjY0MiAwLjA2OTc4ODUgNy4yNjM3MyAwLjMxODk5OSA2Ljk3MDIyQzAuNTUwOTAyIDYuNjkxOTMgMC45MjQzNzEgNi41NTA3MSAxLjI4Mjk2IDYuNTgxODZDMS41MTM4MiA2LjU5MjU5IDEuNzQ3OCA2LjY5MzMyIDEuODkwNDEgNi44NzkxOUMyLjAwMjU1IDcuMDI2MjkgMi4wMDk0NyA3LjIyNzczIDEuOTYwMzIgNy4zOTk3NkMxLjkwMDQ0IDcuNTU0NDggMS43NzY4OCA3LjY3NTI3IDEuNjQyNTggNy43NjgwNEMxLjcxMTExIDcuNjUyNDMgMS43NTI2NSA3LjQ5OTc5IDEuNjcxNjYgNy4zNzg5OUMxLjU3MTk3IDcuMjE4MDQgMS4zMjY1NyA3LjIwMTc4IDEuMTk2NzcgNy4zMzRDMS4wMzY4NiA3LjQ5ODQgMS4wMDMyOSA3Ljc2NyAxLjExMDU5IDcuOTY4NDRDMS4yMjY4OCA4LjE3OTU4IDEuNDY3NDQgOC4zMDAwMyAxLjcwMDM4IDguMzI0NjFDMi4wNTI3NCA4LjM1NTA3IDIuMzU4MzcgOC4xMzY2NiAyLjYxNjkyIDcuOTI0ODNDMy4xNTIwMyA3LjQ2NDE0IDMuNjMzODQgNi45MzY5OSA0LjIyNzQ0IDYuNTQ3MjVDNC43MTY4NiA2LjIxOTEyIDUuMjkzNTEgNS45OTcyNiA1Ljg4ODUgNi4wMDAwM1oiIGZpbGw9IiM0MjM0MjYiLz4KPC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjc2NyA4Ljg1NDQ2QzEwLjE0NDUgOC44NTQ0NiA5LjU4NjM4IDkuMTMwMjcgOS4yMDQxOSA5LjU2NDVMOC4yMjQ4NCA4Ljg3MTE5QzguMzI4ODEgOC41ODQ5NiA4LjM4ODUgOC4yNzc2MiA4LjM4ODUgNy45NTU5MkM4LjM4ODUgNy42Mzk4MSA4LjMzMDg4IDcuMzM3NjIgOC4yMzAzNCA3LjA1NTYyTDkuMjA3NSA2LjM2OTY1QzkuNTg5NjUgNi44MDE2OSAxMC4xNDYzIDcuMDc2IDEwLjc2NyA3LjA3NkMxMS45MTYxIDcuMDc2IDEyLjg1MSA2LjE0MTE5IDEyLjg1MSA0Ljk5MkMxMi44NTEgMy44NDI4MSAxMS45MTYxIDIuOTA4IDEwLjc2NyAyLjkwOEM5LjYxOCAyLjkwOCA4LjY4MzA0IDMuODQyODEgOC42ODMwNCA0Ljk5MkM4LjY4MzA0IDUuMTk3NjkgOC43MTQxMSA1LjM5NjA0IDguNzY5ODggNS41ODM4OEw3Ljc5MjA4IDYuMjcwMTlDNy4zODM2MSA1Ljc2MzQ2IDYuNzk1NSA1LjQwOTY1IDYuMTI1NDIgNS4zMDE2NVY0LjEyMzE5QzcuMDY5NDIgMy45MjQ5MiA3Ljc4MDY5IDMuMDg2MTkgNy43ODA2OSAyLjA4NEM3Ljc4MDY5IDAuOTM0ODA4IDYuODQ1NzMgMCA1LjY5NjY5IDBDNC41NDc2NSAwIDMuNjEyNjkgMC45MzQ4MDggMy42MTI2OSAyLjA4NEMzLjYxMjY5IDMuMDcyNzcgNC4zMDU1NCAzLjkwMTE1IDUuMjMwNjUgNC4xMTM1OFY1LjMwNzM1QzMuOTY4MTEgNS41Mjg5NiAzLjAwNDg4IDYuNjMwODEgMy4wMDQ4OCA3Ljk1NTkyQzMuMDA0ODggOS4yODc1IDMuOTc3NjUgMTAuMzkzNCA1LjI0OTMxIDEwLjYwNzVWMTEuODY4QzQuMzE0NzMgMTIuMDczNCAzLjYxMjY5IDEyLjkwNjkgMy42MTI2OSAxMy45MDI0QzMuNjEyNjkgMTUuMDUxNiA0LjU0NzY1IDE1Ljk4NjQgNS42OTY2OSAxNS45ODY0QzYuODQ1NzMgMTUuOTg2NCA3Ljc4MDY5IDE1LjA1MTYgNy43ODA2OSAxMy45MDI0QzcuNzgwNjkgMTIuOTA2OSA3LjA3ODY1IDEyLjA3MzQgNi4xNDQwOCAxMS44NjhWMTAuNjA3NEM2Ljc4NzcyIDEwLjQ5OSA3LjM3MDAzIDEwLjE2MDMgNy43ODI1NCA5LjY1NDVMOC43Njg0MiAxMC4zNTIzQzguNzEzNjkgMTAuNTM4NSA4LjY4MzA0IDEwLjczNDggOC42ODMwNCAxMC45Mzg1QzguNjgzMDQgMTIuMDg3NyA5LjYxOCAxMy4wMjI1IDEwLjc2NyAxMy4wMjI1QzExLjkxNjEgMTMuMDIyNSAxMi44NTEgMTIuMDg3NyAxMi44NTEgMTAuOTM4NUMxMi44NTEgOS43ODkyNyAxMS45MTYxIDguODU0NDYgMTAuNzY3IDguODU0NDZWOC44NTQ0NlpNMTAuNzY3IDMuOTgxNThDMTEuMzI0MiAzLjk4MTU4IDExLjc3NzQgNC40MzQ5NiAxMS43Nzc0IDQuOTkyQzExLjc3NzQgNS41NDkwNCAxMS4zMjQyIDYuMDAyMzggMTAuNzY3IDYuMDAyMzhDMTAuMjA5OCA2LjAwMjM4IDkuNzU2NjUgNS41NDkwNCA5Ljc1NjY1IDQuOTkyQzkuNzU2NjUgNC40MzQ5NiAxMC4yMDk4IDMuOTgxNTggMTAuNzY3IDMuOTgxNThWMy45ODE1OFpNNC42ODYyNyAyLjA4NEM0LjY4NjI3IDEuNTI2OTYgNS4xMzk1IDEuMDczNjIgNS42OTY2OSAxLjA3MzYyQzYuMjUzODggMS4wNzM2MiA2LjcwNzA4IDEuNTI2OTYgNi43MDcwOCAyLjA4NEM2LjcwNzA4IDIuNjQxMDQgNi4yNTM4OCAzLjA5NDM4IDUuNjk2NjkgMy4wOTQzOEM1LjEzOTUgMy4wOTQzOCA0LjY4NjI3IDIuNjQxMDQgNC42ODYyNyAyLjA4NFpNNi43MDcwOCAxMy45MDI0QzYuNzA3MDggMTQuNDU5NCA2LjI1Mzg4IDE0LjkxMjggNS42OTY2OSAxNC45MTI4QzUuMTM5NSAxNC45MTI4IDQuNjg2MjcgMTQuNDU5NCA0LjY4NjI3IDEzLjkwMjRDNC42ODYyNyAxMy4zNDUzIDUuMTM5NSAxMi44OTIgNS42OTY2OSAxMi44OTJDNi4yNTM4OCAxMi44OTIgNi43MDcwOCAxMy4zNDUzIDYuNzA3MDggMTMuOTAyNFpNNS42OTY2MSA5LjM2NTA4QzQuOTE5NSA5LjM2NTA4IDQuMjg3MzEgOC43MzMgNC4yODczMSA3Ljk1NTkyQzQuMjg3MzEgNy4xNzg4MSA0LjkxOTUgNi41NDY2MiA1LjY5NjYxIDYuNTQ2NjJDNi40NzM2OSA2LjU0NjYyIDcuMTA1ODggNy4xNzg4MSA3LjEwNTg4IDcuOTU1OTJDNy4xMDU4OCA4LjczMyA2LjQ3MzY5IDkuMzY1MDggNS42OTY2MSA5LjM2NTA4Wk0xMC43NjcgMTEuOTQ4OUMxMC4yMDk4IDExLjk0ODkgOS43NTY2NSAxMS40OTU1IDkuNzU2NjUgMTAuOTM4NUM5Ljc1NjY1IDEwLjM4MTQgMTAuMjA5OCA5LjkyODA4IDEwLjc2NyA5LjkyODA4QzExLjMyNDIgOS45MjgwOCAxMS43Nzc0IDEwLjM4MTQgMTEuNzc3NCAxMC45Mzg1QzExLjc3NzQgMTEuNDk1NSAxMS4zMjQyIDExLjk0ODkgMTAuNzY3IDExLjk0ODlaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTguNDIyMDEgMTUuOTIzNUw3Ljk5ODc0IDE1Ljc3ODhDNy45OTg3NCAxNS43Nzg4IDguMDUwNDMgMTMuNjIwOSA3LjI3NTk0IDEzLjQ2NjFDNi43NTk4IDEyLjg2NzIgNy4zNTg3NCAtMTEuOTM0IDkuMjE3MiAxMy4zODM0QzkuMjE3MiAxMy4zODM0IDguNTc2OTggMTMuNzAzNCA4LjQ2MzQxIDE0LjI1MDhDOC4zMzk0NCAxNC43ODc3IDguNDIyMDEgMTUuOTIzNSA4LjQyMjAxIDE1LjkyMzVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNOC40MjIwMSAxNS45MjM1TDcuOTk4NzQgMTUuNzc4OEM3Ljk5ODc0IDE1Ljc3ODggOC4wNTA0MyAxMy42MjA5IDcuMjc1OTQgMTMuNDY2MUM2Ljc1OTggMTIuODY3MiA3LjM1ODc0IC0xMS45MzQgOS4yMTcyIDEzLjM4MzRDOS4yMTcyIDEzLjM4MzQgOC41NzY5OCAxMy43MDM0IDguNDYzNDEgMTQuMjUwOEM4LjMzOTQ0IDE0Ljc4NzcgOC40MjIwMSAxNS45MjM1IDguNDIyMDEgMTUuOTIzNVoiIGZpbGw9IiNBNkEzODUiLz4KPHBhdGggZD0iTTguNjQ5MyAxMy44MzhDOC42NDkzIDEzLjgzOCAxMi4zNTYxIDExLjQwMTIgMTEuNDg4NyA2LjMzMTRDMTAuNjUyNCAyLjY0NTQ3IDguNjgwMjkgMS40Mzc0MSA4LjQ2MzQ1IDAuOTcyNzRDOC4yMjYwMiAwLjY0MjMzNSA3Ljk5ODc4IDAuMDY0MjA5IDcuOTk4NzggMC4wNjQyMDlMOC4xNTM3NCAxMC4zMTdDOC4xNTM3NCAxMC4zMjc0IDcuODMzNjMgMTMuNDU1OSA4LjY0OTQxIDEzLjgzODEiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik04LjY0OTMgMTMuODM4QzguNjQ5MyAxMy44MzggMTIuMzU2MSAxMS40MDEyIDExLjQ4ODcgNi4zMzE0QzEwLjY1MjQgMi42NDU0NyA4LjY4MDI5IDEuNDM3NDEgOC40NjM0NSAwLjk3Mjc0QzguMjI2MDIgMC42NDIzMzUgNy45OTg3OCAwLjA2NDIwOSA3Ljk5ODc4IDAuMDY0MjA5TDguMTUzNzQgMTAuMzE3QzguMTUzNzQgMTAuMzI3NCA3LjgzMzYzIDEzLjQ1NTkgOC42NDk0MSAxMy44MzgxIiBmaWxsPSIjNDk5RDRBIi8+CjxwYXRoIGQ9Ik03Ljc4MjAyIDEzLjk3MkM3Ljc4MjAyIDEzLjk3MiA0LjMwMjMgMTEuNTk3MiA0LjUwODg0IDcuNDE1NkM0LjcwNDk4IDMuMjMzODkgNy4xNjIzOCAxLjE3OTE4IDcuNjM3MzUgMC44MDc0ODhDNy45NDcxNyAwLjQ3NzA4MyA3Ljk1NzQ2IDAuMzUzMTExIDcuOTc4MTYgMC4wMjI3MDUxQzguMTk1IDAuNDg3Mzc2IDguMTUzNzEgNi45NzE2MyA4LjE4NDU5IDcuNzM1NkM4LjI3NzQ2IDEwLjY3ODMgOC4wMTk0NSAxMy40MTQ2IDcuNzgyMDIgMTMuOTcyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTcuNzgyMDIgMTMuOTcyQzcuNzgyMDIgMTMuOTcyIDQuMzAyMyAxMS41OTcyIDQuNTA4ODQgNy40MTU2QzQuNzA0OTggMy4yMzM4OSA3LjE2MjM4IDEuMTc5MTggNy42MzczNSAwLjgwNzQ4OEM3Ljk0NzE3IDAuNDc3MDgzIDcuOTU3NDYgMC4zNTMxMTEgNy45NzgxNiAwLjAyMjcwNTFDOC4xOTUgMC40ODczNzYgOC4xNTM3MSA2Ljk3MTYzIDguMTg0NTkgNy43MzU2QzguMjc3NDYgMTAuNjc4MyA4LjAxOTQ1IDEzLjQxNDYgNy43ODIwMiAxMy45NzJaIiBmaWxsPSIjNThBQTUwIi8+Cjwvc3ZnPgo="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0LjcyODEgMTIuMTM4MkMxMy44NTgyIDEyLjExNjUgMTMuMTg0IDEyLjIwMzYgMTIuNjE4NSAxMi40NDI3QzEyLjQ1NTQgMTIuNTA4IDEyLjE5NDQgMTIuNTA4IDEyLjE3MjcgMTIuNzE0NkMxMi4yNTk3IDEyLjgwMTYgMTIuMjcwNiAxMi45NDMgMTIuMzQ2NyAxMy4wNjI2QzEyLjQ3NzMgMTMuMjggMTIuNzA1NSAxMy41NzM2IDEyLjkxMjEgMTMuNzI1OUMxMy4xNDA1IDEzLjg5OTkgMTMuMzY4OSAxNC4wNzM4IDEzLjYwOCAxNC4yMjYxQzE0LjAzMjEgMTQuNDg3MSAxNC41MTA2IDE0LjYzOTMgMTQuOTIzOCAxNC45MDAzQzE1LjE2MzEgMTUuMDUyNCAxNS40MDIyIDE1LjI0ODIgMTUuNjQxNCAxNS40MTEzQzE1Ljc2MTEgMTUuNDk4MiAxNS44MzcxIDE1LjYzOTcgMTUuOTg5NCAxNS42OTRWMTUuNjYxNEMxNS45MTMzIDE1LjU2MzUgMTUuODkxNSAxNS40MjIyIDE1LjgxNTUgMTUuMzEzNEMxNS43MDY4IDE1LjIwNDcgMTUuNTk4IDE1LjEwNjggMTUuNDg5MiAxNC45OTgxQzE1LjE3MzkgMTQuNTc0IDE0Ljc4MjQgMTQuMjA0MyAxNC4zNTgzIDEzLjg5OTlDMTQuMDEwNCAxMy42NjA2IDEzLjI0OTIgMTMuMzM0NCAxMy4xMDc5IDEyLjkzMjFDMTMuMTA3OSAxMi45MzIxIDEzLjA5NjkgMTIuOTIxMiAxMy4wODYxIDEyLjkxMDRDMTMuMzI1MyAxMi44ODg2IDEzLjYwOCAxMi44MDE2IDEzLjgzNjQgMTIuNzM2NEMxNC4yMDYxIDEyLjYzODUgMTQuNTQzMiAxMi42NjAyIDE0LjkyMzggMTIuNTYyNEMxNS4wOTc3IDEyLjUxODkgMTUuMjcxOCAxMi40NjQ1IDE1LjQ0NTcgMTIuNDEwMVYxMi4zMTIzQzE1LjI1MDEgMTIuMTE2NSAxNS4xMDg3IDExLjg1NTYgMTQuOTAyIDExLjY3MDdDMTQuMzQ3NSAxMS4xOTIyIDEzLjczODUgMTAuNzI0NyAxMy4xMDc5IDEwLjMzMzNDMTIuNzcwNyAxMC4xMTU4IDEyLjMzNTggOS45NzQzOCAxMS45NzcgOS43ODk1OUMxMS44NDY1IDkuNzI0MjMgMTEuNjI5IDkuNjkxNyAxMS41NTI5IDkuNTgyOTZDMTEuMzU3MSA5LjM0MzcyIDExLjI0ODQgOS4wMjg0MiAxMS4xMDcxIDguNzQ1NjZDMTAuNzkxOCA4LjE0NzU0IDEwLjQ4NzIgNy40ODQzMyAxMC4yMTU0IDYuODUzNjdDMTAuMDE5OCA2LjQyOTU2IDkuOTAwMSA2LjAwNTQ2IDkuNjYwODYgNS42MTQwM0M4LjU0MDg4IDMuNzY1NDkgNy4zMjMgMi42NDU1MSA1LjQ1MjcgMS41NDcyMkM1LjA1MDM2IDEuMzE4ODkgNC41NzE5NiAxLjIyMSA0LjA2MDg3IDEuMTAxNDJDMy43ODkxIDEuMDkwNSAzLjUxNzE5IDEuMDY4ODEgMy4yNDUzNCAxLjA1NzlDMy4wNzEzOSAwLjk4MTc2NiAyLjg5NzM2IDAuNzc1MjA3IDIuNzQ1MSAwLjY3NzMxNUMyLjEyNTQyIDAuMjg1ODE4IDAuNTI2ODk2IC0wLjU2MjI1NCAwLjA3MDE4NTUgMC41NTc3MzFDLTAuMjIzNDIgMS4yNjQ1MyAwLjUwNTEzNiAxLjk2MDQgMC43NTUyMTYgMi4zMTkyOUMwLjk0MDE1MyAyLjU2OTM4IDEuMTc5MzIgMi44NTIwNyAxLjMwOTgyIDMuMTM0ODNDMS4zODU5NSAzLjMxOTU2IDEuNDA3NjQgMy41MTU0MSAxLjQ4Mzc3IDMuNzExMTJDMS42NTc3OSA0LjE4OTQ2IDEuODIwODMgNC43MjIzNyAyLjA0OTIyIDUuMTY4MjRDMi4xNjg4OCA1LjM5NjU2IDIuMjk5MzEgNS42MzU4IDIuNDUxNTcgNS44NDIzNUMyLjUzODU0IDUuOTYxOTQgMi42OTA3MyA2LjAxNjM4IDIuNzIzNDEgNi4yMTIwOUMyLjU3MTIyIDYuNDI5NTYgMi41NjAzIDYuNzU1NzggMi40NzMyNiA3LjAyNzYyQzIuMDgxODMgOC4yNTYzNCAyLjIzNDA5IDkuNzc4NjggMi43ODg2MiAxMC42ODEyQzIuOTYyNTggMTAuOTUzIDMuMzc1ODMgMTEuNTUxMiAzLjkzMDM3IDExLjMyMjhDNC40MTk2OSAxMS4xMjcgNC4zMTA5NSAxMC41MDcyIDQuNDUyMyA5Ljk2MzU0QzQuNDg0OTggOS44MzI5NyA0LjQ2MzIxIDkuNzQ2MDYgNC41Mjg0MyA5LjY1OTA5QzQuNTI4NDkgOS42Njk5MyA0LjUyODQzIDkuNjgwODUgNC41Mjg0MyA5LjY4MDg1QzQuNjgwNjkgOS45ODUzIDQuODMyODggMTAuMjc4OSA0Ljk3NDIzIDEwLjU4MzRDNS4zMTEzNSAxMS4xMTYxIDUuODk4NSAxMS42NzA3IDYuMzg3ODEgMTIuMDQwNUM2LjY0ODg4IDEyLjIzNjEgNi44NTU0NCAxMi41NzMyIDcuMTgxNjUgMTIuNjkyOVYxMi42NjAySDcuMTU5ODlDNy4wOTQ2MSAxMi41NjIzIDYuOTk2NzkgMTIuNTE4OSA2LjkwOTgxIDEyLjQ0MjdDNi43MTQwOSAxMi4yNDcgNi40OTY1NSAxMi4wMDc4IDYuMzQ0MzYgMTEuNzkwM0M1Ljg4NzcyIDExLjE4MTMgNS40ODUzIDEwLjUwNzIgNS4xMjY0OSA5LjgxMTI4QzQuOTUyNTMgOS40NzQyMiA0LjgwMDI3IDkuMTA0NDggNC42NTg5MyA4Ljc2NzQzQzQuNTkzNjQgOC42MzY4NiA0LjU5MzY0IDguNDQxMjEgNC40ODQ5MSA4LjM3NkM0LjMyMTggOC42MTUxNyA0LjA4MjYzIDguODIxOCAzLjk2Mjk4IDkuMTE1NEMzLjc1NjQ5IDkuNTgyOTYgMy43MzQ2NiAxMC4xNTkzIDMuNjU4NTMgMTAuNzU3M0MzLjYxNTA3IDEwLjc2ODIgMy42MzY3NyAxMC43NTczIDMuNjE1IDEwLjc3OTFDMy4yNjcxIDEwLjY5MiAzLjE0NzQ1IDEwLjMzMzMgMy4wMTY5NCAxMC4wMjg4QzIuNjkwNzMgOS4yNTY3NSAyLjYzNjM2IDguMDE3MTEgMi45MTkxMiA3LjEyNTUxQzIuOTk1MjUgNi44OTcxMiAzLjMyMTQ3IDYuMTc5NDggMy4xOTA5NyA1Ljk2MjAxQzMuMTI1NzUgNS43NTUzOCAyLjkwODIxIDUuNjM1NzkgMi43ODg2MiA1LjQ3MjY5QzIuNjQ3MjggNS4yNjYwNiAyLjQ5NTAyIDUuMDA1MTMgMi4zOTcyIDQuNzc2NzRDMi4xMzYyIDQuMTY3ODQgMi4wMDU3IDMuNDkzNjUgMS43MjMwMSAyLjg4NDY4QzEuNTkyNTEgMi42MDE5MiAxLjM2NDE5IDIuMzA4MzggMS4xNzkzMiAyLjA0NzQ1QzAuOTcyNzYxIDEuNzUzODUgMC43NDQzNyAxLjU0NzIyIDAuNTgxMjYyIDEuMTk5MjRDMC41MjY5NjEgMS4wNzk2NiAwLjQ1MDc2MiAwLjg4Mzk0MyAwLjUzNzczOSAwLjc1MzQ0NEMwLjU1OTUgMC42NjY0NjggMC42MDI5NTQgMC42MzM4NiAwLjY4OTk5OSAwLjYxMjA5OEMwLjgzMTM0NCAwLjQ5MjQ0NiAxLjIzMzY5IDAuNjQ0NzA2IDEuMzc1MDMgMC43MDk5MjFDMS43NzczNyAwLjg3Mjk1OCAyLjExNDQzIDEuMDI1MjkgMi40NTE1NiAxLjI1MzYxQzIuNjAzNzUgMS4zNjIzNSAyLjc2Njg2IDEuNTY4OTggMi45NjI1NyAxLjYyMzM1SDMuMTkwOTZDMy41Mzg5NCAxLjY5OTQxIDMuOTMwMzYgMS42NDUxMSA0LjI1NjU4IDEuNzQyOTNDNC44MzI5NCAxLjkyNzczIDUuMzU0OCAyLjE5OTY0IDUuODIyNDMgMi40OTMyNUM3LjI0NjkzIDMuMzk1NzUgOC40MjEyMiA0LjY3ODkxIDkuMjE1MDYgNi4yMTIwOUM5LjM0NTU2IDYuNDYyMSA5LjM5OTg2IDYuNjkwNTYgOS41MTk1MSA2Ljk1MTQ5QzkuNzQ3OSA3LjQ4NDM0IDEwLjAzMDYgOC4wMjgwMiAxMC4yNTg5IDguNTQ5OTVDMTAuNDg3MiA5LjA2MDk2IDEwLjcwNDcgOS41ODI5NiAxMS4wMzA5IDEwLjAwNzFDMTEuMTk0MSAxMC4yMzUzIDExLjg0NjUgMTAuMzU1IDEyLjE0MDEgMTAuNDc0NkMxMi4zNTc1IDEwLjU3MjQgMTIuNjk0NyAxMC42NTk1IDEyLjg5MDQgMTAuNzc5MUMxMy4yNiAxMS4wMDczIDEzLjYyOTggMTEuMjY4NCAxMy45Nzc4IDExLjUxODVDMTQuMTUxOCAxMS42NDg5IDE0LjY5NTQgMTEuOTIwOCAxNC43MjgxIDEyLjEzODJMMTQuNzI4MSAxMi4xMzgyWiIgZmlsbD0iIzAwNTQ2QiIvPgo8cGF0aCBkPSJNMy42MzY3MSAyLjY4ODk2QzMuNDUxODUgMi42ODg5NiAzLjMyMTQyIDIuNzEwOCAzLjE5MDkyIDIuNzQzNEMzLjE5MDkyIDIuNzQzMzUgMy4xOTA5MiAyLjc1NDMyIDMuMTkwOTIgMi43NjUxNkgzLjIxMjY4QzMuMjk5NzIgMi45MzkxMiAzLjQ1MTg1IDMuMDU4NzcgMy41NjA1OCAzLjIxMDk2QzMuNjQ3NjMgMy4zODQ5MSAzLjcyMzY5IDMuNTU4OTQgMy44MTA3NCAzLjczMjk2QzMuODIxNTggMy43MjIwNCAzLjgzMjQzIDMuNzExMiAzLjgzMjQzIDMuNzExMkMzLjk4NDc2IDMuNjAyMzkgNC4wNjA4MiAzLjQyODQ0IDQuMDYwODIgMy4xNjc1MUMzLjk5NTUzIDMuMDkxMzggMy45ODQ2OSAzLjAxNTI1IDMuOTMwMzIgMi45MzkxMkMzLjg2NTEgMi44MzAzMSAzLjcyMzY5IDIuNzc2MDEgMy42MzY3MSAyLjY4ODk2WiIgZmlsbD0iIzAwNTQ2QiIvPgo8L3N2Zz4K"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"47ce5f5b77f4f3bb5f1cc5d00def711e.svg"},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1LjI5NyAxMS44OTU2QzE0LjQ1MjUgMTIuMzMzMSAxMC4wNzggMTQuMTIxMSA5LjE0NzAyIDE0LjYwMzZDOC4yMTU1MiAxNS4wODY2IDcuNjk4MDIgMTUuMDgxNiA2Ljk2MjAyIDE0LjczMjFDNi4yMjY1MiAxNC4zODI2IDEuNTcxMDIgMTIuNTEzNiAwLjczMjAxOCAxMi4xMTUxQzAuMzEzMDE4IDExLjkxNTYgMC4wOTMwMTc2IDExLjc0NzYgMC4wOTMwMTc2IDExLjU4OTFWOS45OTkxM0MwLjA5MzAxNzYgOS45OTkxMyA2LjE1MzUyIDguNjg3NjMgNy4xMzIwMiA4LjMzOTEzQzguMTEwNTIgNy45ODk2MyA4LjQ1MDAyIDcuOTc3MTMgOS4yODI1MiA4LjI4MDEzQzEwLjExNTUgOC41ODM2MyAxNS4wOTQgOS40NzY2MyAxNS45MTc1IDkuNzc2MTNMMTUuOTE3IDExLjM0MzZDMTUuOTE3IDExLjUwMDYgMTUuNzI3IDExLjY3MzEgMTUuMjk3IDExLjg5NTZWMTEuODk1NloiIGZpbGw9IiNBNDFFMTEiLz4KPHBhdGggZD0iTTE1LjI5NyAxMC4zMDUyQzE0LjQ1MjUgMTAuNzQyNyAxMC4wNzggMTIuNTMwNyA5LjE0NzA0IDEzLjAxMzdDOC4yMTU1NCAxMy40OTYyIDcuNjk4MDQgMTMuNDkxNyA2Ljk2MjA0IDEzLjE0MTdDNi4yMjY1NCAxMi43OTI3IDEuNTcxMDQgMTAuOTIyNyAwLjczMjA0MiAxMC41MjQ3Qy0wLjEwNTk1OCAxMC4xMjYyIC0wLjEyMzk1OCA5Ljg1MjIxIDAuNzAwMDQyIDkuNTMxMjFDMS41MjM1NCA5LjIxMDcxIDYuMTUzNTQgNy40MDUyMSA3LjEzMjA0IDcuMDU2MjFDOC4xMTA1NCA2LjcwNzIxIDguNDUwMDQgNi42OTQ3MSA5LjI4MjU0IDYuOTk3NzFDMTAuMTE1NSA3LjMwMTIxIDE0LjQ2NCA5LjAyMTcxIDE1LjI4NyA5LjMyMTIxQzE2LjExIDkuNjIxMjEgMTYuMTQyIDkuODY3NzEgMTUuMjk3IDEwLjMwNTJWMTAuMzA1MloiIGZpbGw9IiNEODJDMjAiLz4KPHBhdGggZD0iTTE1LjI5NyA5LjMwMzE1QzE0LjQ1MjUgOS43NDA2NSAxMC4wNzggMTEuNTI4MiA5LjE0NzAyIDEyLjAxMTJDOC4yMTU1MiAxMi40OTM3IDcuNjk4MDIgMTIuNDg5MiA2Ljk2MjAyIDEyLjEzOTdDNi4yMjY1MiAxMS43ODk3IDEuNTcxMDIgOS45MjA2NiAwLjczMjAxOCA5LjUyMjE2QzAuMzEzMDE4IDkuMzIzMTYgMC4wOTMwMTc2IDkuMTU1MTUgMC4wOTMwMTc2IDguOTk2NjVWNy40MDY2NUMwLjA5MzAxNzYgNy40MDY2NSA2LjE1MzUyIDYuMDk1MTUgNy4xMzIwMiA1Ljc0NjE1QzguMTEwNTIgNS4zOTcxNSA4LjQ1MDAyIDUuMzg0NjYgOS4yODI1MiA1LjY4NzY2QzEwLjExNTUgNS45OTA2NiAxNS4wOTQgNi44ODM2NiAxNS45MTc1IDcuMTgzMTZMMTUuOTE3IDguNzUwNjVDMTUuOTE3IDguOTA4MTUgMTUuNzI3IDkuMDgwNjUgMTUuMjk3IDkuMzAzMTVWOS4zMDMxNVoiIGZpbGw9IiNBNDFFMTEiLz4KPHBhdGggZD0iTTE1LjI5NyA3LjcxMjY0QzE0LjQ1MjUgOC4xNTAxNCAxMC4wNzggOS45Mzc2NCA5LjE0NzA0IDEwLjQyMDZDOC4yMTU1NCAxMC45MDM2IDcuNjk4MDQgMTAuODk4NiA2Ljk2MjA0IDEwLjU0OTFDNi4yMjY1NCAxMC4xOTk2IDEuNTcxMDQgOC4zMzAxNCAwLjczMjA0MiA3LjkzMTY0Qy0wLjEwNTk1OCA3LjUzMzY0IC0wLjEyMzk1OCA3LjI1OTE0IDAuNzAwMDQyIDYuOTM4NjRDMS41MjM1NCA2LjYxODE0IDYuMTUzNTQgNC44MTIxNCA3LjEzMjA0IDQuNDYzNjRDOC4xMTA1NCA0LjExNDY0IDguNDUwMDQgNC4xMDE2NCA5LjI4MjU0IDQuNDA1MTRDMTAuMTE1NSA0LjcwODE0IDE0LjQ2NCA2LjQyODY0IDE1LjI4NyA2LjcyODE0QzE2LjExIDcuMDI4MTQgMTYuMTQyIDcuMjc1MTQgMTUuMjk3IDcuNzEyNjRWNy43MTI2NFoiIGZpbGw9IiNEODJDMjAiLz4KPHBhdGggZD0iTTE1LjI5NyA2LjYxNDA2QzE0LjQ1MjUgNy4wNTE1NiAxMC4wNzggOC44Mzk1NiA5LjE0NzAxIDkuMzIyNTZDOC4yMTU1MSA5LjgwNTA2IDcuNjk4MDEgOS44MDAwNiA2Ljk2MjAxIDkuNDUwNTZDNi4yMjY1MSA5LjEwMTA2IDEuNTcxMDEgNy4yMzE1NiAwLjczMjAwNiA2LjgzMzU2QzAuMzEzNTA2IDYuNjM0MDYgMC4wOTM1MDU5IDYuNDY2MDYgMC4wOTM1MDU5IDYuMzA3NTZWNC43MTc1NkMwLjA5MzUwNTkgNC43MTc1NiA2LjE1NDAxIDMuNDA2MDYgNy4xMzI1MSAzLjA1NzU2QzguMTExMDEgMi43MDgwNiA4LjQ1MDUxIDIuNjk1NTYgOS4yODMwMSAyLjk5OTA2QzEwLjExNiAzLjMwMjA2IDE1LjA5NDUgNC4xOTQ1NiAxNS45MTggNC40OTQwNkwxNS45MTc1IDYuMDYyMDZDMTUuOTE3NSA2LjIxOTA2IDE1LjcyNzUgNi4zOTE1NiAxNS4yOTc1IDYuNjE0MDZIMTUuMjk3WiIgZmlsbD0iI0E0MUUxMSIvPgo8cGF0aCBkPSJNMTUuMjk3IDUuMDIzNkMxNC40NTI1IDUuNDYxMSAxMC4wNzggNy4yNDkxIDkuMTQ3MDMgNy43MzIxQzguMjE1NTMgOC4yMTQ2IDcuNjk4MDMgOC4yMDk2IDYuOTYyMDMgNy44NjAxQzYuMjI2NTMgNy41MTA2IDEuNTcxMDMgNS42NDE2IDAuNzMyMDM0IDUuMjQzMUMtMC4xMDU0NjYgNC44NDQ2IC0wLjEyMzQ2NiA0LjU3MDEgMC43MDAwMzQgNC4yNDk2QzEuNTIzNTMgMy45MjkxIDYuMTUzNTMgMi4xMjM2IDcuMTMyMDMgMS43NzUxQzguMTEwNTMgMS40MjUxIDguNDUwMDMgMS40MTMxIDkuMjgyNTMgMS43MTYxQzEwLjExNTUgMi4wMTk2IDE0LjQ2NCAzLjc0MDEgMTUuMjg3IDQuMDM5NkMxNi4xMSA0LjMzOTYgMTYuMTQyIDQuNTg2MSAxNS4yOTcgNS4wMjM2VjUuMDIzNloiIGZpbGw9IiNEODJDMjAiLz4KPHBhdGggZD0iTTEwLjA3ODUgMy40OTI0OEw4LjcwNzUyIDMuNjMzOThMOC40MDA1MiA0LjM2Nzk4TDcuOTA0NTIgMy41NDg5OEw2LjMyMTUyIDMuNDA3NDhMNy41MDI1MiAyLjk4Mzk4TDcuMTQ4NTIgMi4zMzM5OEw4LjI1NDUyIDIuNzYzOThMOS4yOTcwMiAyLjQyMzk4TDkuMDE1NTIgMy4wOTY0OEwxMC4wNzg1IDMuNDkyNDhaTTguMzE4NTIgNy4wNTM5OEw1Ljc1OTUyIDUuOTk4OThMOS40MjY1MiA1LjQzOTQ4TDguMzE4NTIgNy4wNTM5OFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik00Ljc3MDU1IDUuNDEwNjNDNS44NTMwMyA1LjQxMDYzIDYuNzMwNTUgNS4wNzI2MSA2LjczMDU1IDQuNjU1NjNDNi43MzA1NSA0LjIzODY2IDUuODUzMDMgMy45MDA2MyA0Ljc3MDU1IDMuOTAwNjNDMy42ODgwNyAzLjkwMDYzIDIuODEwNTUgNC4yMzg2NiAyLjgxMDU1IDQuNjU1NjNDMi44MTA1NSA1LjA3MjYxIDMuNjg4MDcgNS40MTA2MyA0Ljc3MDU1IDUuNDEwNjNaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTEuNjk5MSAzLjY5MzEyTDEzLjg2OTEgNC41NDU2MkwxMS43MDExIDUuMzk3MTJMMTEuNjk5MSAzLjY5MzEyWiIgZmlsbD0iIzdBMEMwMCIvPgo8cGF0aCBkPSJNOS4yOTgxIDQuNjM3MTJMMTEuNjk5MSAzLjY5MzEyTDExLjcwMTEgNS4zOTcxMkwxMS40NjU2IDUuNDg4NjJMOS4yOTgxIDQuNjM3MTJaIiBmaWxsPSIjQUQyMTE1Ii8+Cjwvc3ZnPgo="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjAyNzUgMTEuMDQwM0gxNC4wMTM4VjYuMjcxMjFMMTEuNzc2IDQuMDMzNDFMMTAuMzcxNCA1LjQzNzkzTDEyLjAyNzUgNy4wOTQwMVYxMS4wNDAzWk0xNC4wMTkgMTIuMDM2SDExLjEyNjFINy4wOTA3M0w1LjQzNDY1IDEwLjM4TDYuMTM2OTEgOS42Nzc2OUw3LjUwNDc1IDExLjA0NTVIMTAuMzE5TDcuNTQ2NjggOC4yNjc5M0w4LjI1NDE4IDcuNTYwNDNMMTEuMDI2NSAxMC4zMzI4VjcuNTE4NTFMOS42NjM5NCA2LjE1NTkxTDEwLjM2MSA1LjQ1ODg5TDYuOTE3NzkgMkgzLjUyMTc4SDBMMS45ODEgMy45ODFWMy45ODYyNEgxLjk5MTQ4SDYuMDg5NzVMNy41NDE0MyA1LjQzNzkzTDUuNDE4OTMgNy41NjA0M0wzLjk2NzI1IDYuMTA4NzVWNC45ODE5OEgxLjk4MVY2LjkzMTU0TDUuNDE4OTMgMTAuMzY5NUw0LjAxOTY1IDExLjc2ODhMNi4yNTc0NSAxNC4wMDY2SDkuNjUzNDZIMTZMMTQuMDE5IDEyLjAzNloiIGZpbGw9IiMyMzFGMjAiLz4KPC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTS45MDIgMjEuODU2YS44NjMuODYzIDAgMDEtLjY0LS4yNy44ODcuODg3IDAgMDEtLjI2Mi0uNjQuOS45IDAgMDEuMjYyLS42NDMuODU3Ljg1NyAwIDAxLjY0LS4yNzUuODc1Ljg3NSAwIDAxLjY0LjI3Ni44OTIuODkyIDAgMDEuMjY5LjY0MS44ODEuODgxIDAgMDEtLjI2OS42NDIuODg1Ljg4NSAwIDAxLS42NC4yN3pNMTMuNjE3IDIxLjY5NmgtMS42NzZsLTUuOTk2LTkuMzI5YTMuODU3IDMuODU3IDAgMDEtLjM3LS43MzFoLS4wNTJjLjA1Ny41MzMuMDc4IDEuMDY4LjA2NCAxLjYwNHY4LjQ1Nkg0LjIyNFYxMGgxLjc3Mmw1LjgzNiA5LjE2MmMuMjQzLjM4LjQwMS42NDEuNDc0Ljc4MmguMDMyYTEyLjQwOSAxMi40MDkgMCAwMS0uMDg0LTEuNzJWMTBoMS4zNjN2MTEuNjk2ek0yMi44NDMgMjEuNjk2aC02LjJWMTBoNS45MTJ2MS4yMzhoLTQuNTE3djMuODg4aDQuMjF2MS4yMzJoLTQuMjF2NC4wNTVoNC44MTFsLS4wMDYgMS4yODN6TTMyIDExLjIzOGgtMy4zOTJ2MTAuNDU4aC0xLjM2M1YxMS4yMzhoLTMuMzUzVjEwSDMydjEuMjM4eiIgZmlsbD0iIzYyMUVFNSIvPgo8L3N2Zz4K"},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSIgZmlsbD0iIzAwQUREOCI+CiAgICA8cGF0aCBkPSJNMi40MTQgMTMuMTVjLS4wNjIgMC0uMDc3LS4wMzEtLjA0Ni0uMDc4bC4zMjQtLjQxN2MuMDMxLS4wNDcuMTA5LS4wNzguMTctLjA3OGg1LjUyNWMuMDYyIDAgLjA3Ny4wNDcuMDQ2LjA5M2wtLjI2My40MDJjLS4wMy4wNDctLjEwOC4wOTMtLjE1NS4wOTNsLTUuNjAxLS4wMTV6TS4wNzcgMTQuNTczYy0uMDYxIDAtLjA3Ny0uMDMtLjA0Ni0uMDc3bC4zMjUtLjQxOGMuMDMtLjA0Ni4xMDgtLjA3Ny4xNy0uMDc3aDcuMDU2Yy4wNjIgMCAuMDkzLjA0Ni4wNzguMDkzbC0uMTI0LjM3MWMtLjAxNi4wNjItLjA3OC4wOTMtLjE0LjA5M2wtNy4zMTkuMDE1em0zLjc0NSAxLjQyNGMtLjA2MiAwLS4wNzctLjA0Ni0uMDQ2LS4wOTNsLjIxNi0uMzg3Yy4wMzEtLjA0Ni4wOTMtLjA5My4xNTUtLjA5M2gzLjA5NWMuMDYyIDAgLjA5My4wNDcuMDkzLjEwOWwtLjAzMS4zNzFjMCAuMDYyLS4wNjIuMTA4LS4xMDkuMTA4bC0zLjM3My0uMDE1em0xNi4wNjItMy4xMjZjLS45NzUuMjQ4LTEuNjQuNDMzLTIuNi42ODEtLjIzMi4wNjItLjI0Ny4wNzctLjQ0OC0uMTU1LS4yMzItLjI2My0uNDAzLS40MzMtLjcyOC0uNTg4LS45NzUtLjQ4LTEuOTE4LS4zNC0yLjguMjMyLTEuMDUzLjY4MS0xLjU5NCAxLjY4Ny0xLjU3OSAyLjk0LjAxNiAxLjIzOC44NjcgMi4yNiAyLjA5IDIuNDMgMS4wNTEuMTQgMS45MzMtLjIzMiAyLjYzLTEuMDIxLjEzOS0uMTcuMjYzLS4zNTYuNDE4LS41NzNIMTMuODhjLS4zMjUgMC0uNDAyLS4yMDEtLjI5NC0uNDY0LjIwMS0uNDguNTczLTEuMjg1Ljc5LTEuNjg3YS40MTguNDE4IDAgMDEuMzg2LS4yNDdoNS42MzNjLS4wMzEuNDE3LS4wMzEuODM1LS4wOTMgMS4yNTNhNi41OTggNi41OTggMCAwMS0xLjI3IDMuMDMzYy0xLjExMyAxLjQ3LTIuNTY4IDIuMzgzLTQuNDEgMi42My0xLjUxNi4yMDEtMi45MjQtLjA5My00LjE2Mi0xLjAyLTEuMTQ1LS44NjctMS43OTUtMi4wMTMtMS45NjUtMy40MzYtLjIwMS0xLjY4Ny4yOTQtMy4yMDMgMS4zMTUtNC41MzQgMS4xLTEuNDM5IDIuNTU0LTIuMzUyIDQuMzMzLTIuNjc3IDEuNDU1LS4yNjMgMi44NDctLjA5MyA0LjEuNzU4LjgyLjU0MiAxLjQwOSAxLjI4NSAxLjc5NiAyLjE4Mi4wOTMuMTQuMDMuMjE3LS4xNTUuMjYzeiIvPgogICAgPHBhdGggZD0iTTI1LjAwNiAyMS40MjhjLTEuNDA4LS4wMy0yLjY5My0uNDMzLTMuNzc2LTEuMzYxLS45MTMtLjc5LTEuNDg1LTEuNzk1LTEuNjcxLTIuOTg3LS4yNzktMS43NDguMjAxLTMuMjk2IDEuMjUzLTQuNjczIDEuMTMtMS40ODYgMi40OTItMi4yNiA0LjMzMy0yLjU4NCAxLjU3OC0uMjc5IDMuMDY0LS4xMjQgNC40MS43ODkgMS4yMjMuODM2IDEuOTggMS45NjUgMi4xODIgMy40NS4yNjMgMi4wOS0uMzQgMy43OTItMS43OCA1LjI0Ni0xLjAyIDEuMDM3LTIuMjc0IDEuNjg3LTMuNzEzIDEuOTgxLS40MTguMDc3LS44MzYuMDkzLTEuMjM4LjE0em0zLjY4My02LjI1MWMtLjAxNi0uMjAxLS4wMTYtLjM1Ni0uMDQ3LS41MS0uMjc4LTEuNTMzLTEuNjg2LTIuNC0zLjE1Ny0yLjA1OS0xLjQzOS4zMjUtMi4zNjcgMS4yMzgtMi43MDcgMi42OTMtLjI3OSAxLjIwNy4zMDkgMi40MjkgMS40MjMgMi45MjQuODUxLjM3MSAxLjcwMi4zMjUgMi41MjItLjA5MyAxLjIyMy0uNjM0IDEuODg4LTEuNjI1IDEuOTY2LTIuOTU1eiIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcDAiPgogICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCA5LjMzM2gzMnYxMi4yNzVIMHoiLz4KICAgIDwvY2xpcFBhdGg+CiAgPC9kZWZzPgo8L3N2Zz4K"},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPG1hc2sgaWQ9ImEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjUiIHk9IjQiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyNCI+CiAgICA8cGF0aCBkPSJNMTYuMTAxIDQuMTVhMS4xNTEgMS4xNTEgMCAwMC0xLjEzOSAwTDUuNTYgOS41NzljLS4zNTguMjAxLS41NTkuNTgtLjU1OS45ODN2MTAuODc4YzAgLjQwMi4yMjMuNzgyLjU1OS45ODNsOS40MDMgNS40MjdhMS4xNTIgMS4xNTIgMCAwMDEuMTQgMGw5LjQwMy01LjQyN2MuMzU3LS4yMDEuNTU5LS41ODEuNTU5LS45ODNWMTAuNTZjMC0uNDAyLS4yMjQtLjc4Mi0uNTU5LS45ODNsLTkuNDA0LTUuNDI3eiIgZmlsbD0iI2ZmZiIvPgogIDwvbWFzaz4KICA8ZyBtYXNrPSJ1cmwoI2EpIj4KICAgIDxwYXRoIGQ9Ik0xNi4xMDEgNC4xNWExLjE1MSAxLjE1MSAwIDAwLTEuMTM5IDBMNS41NiA5LjU3OWMtLjM1OC4yMDEtLjU1OS41OC0uNTU5Ljk4M3YxMC44NzhjMCAuNDAyLjIyMy43ODIuNTU5Ljk4M2w5LjQwMyA1LjQyN2ExLjE1MiAxLjE1MiAwIDAwMS4xNCAwbDkuNDAzLTUuNDI3Yy4zNTctLjIwMS41NTktLjU4MS41NTktLjk4M1YxMC41NmMwLS40MDItLjIyNC0uNzgyLS41NTktLjk4M2wtOS40MDQtNS40Mjd6IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXIpIi8+CiAgICA8cGF0aCBkPSJNMjUuNTI3IDkuNTc3TDE2LjA4IDQuMTVhMS41NSAxLjU1IDAgMDAtLjI5LS4xMTJMNS4yIDIyLjE3NWMuMDg4LjEwNy4xOTQuMTk4LjMxMy4yNjhsOS40NDggNS40MjhjLjI2OC4xNTcuNTgxLjIwMS44NzEuMTEyTDI1Ljc3MyA5LjhhMS4xNzMgMS4xNzMgMCAwMC0uMjQ2LS4yMjN6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI1LjU1IDIyLjQyMmMuMjY3LS4xNTcuNDY4LS40MjUuNTU4LS43MTVMMTUuNzQ0IDQuMDE3Yy0uMjY4LS4wNDUtLjU1OS0uMDIzLS44MDQuMTMzTDUuNTU5IDkuNTU2bDEwLjExOCAxOC40NWMuMTQ3LS4wMjQuMjktLjA3LjQyNC0uMTM0bDkuNDQ4LTUuNDV6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXIpIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI1LjU1IDIyLjQyMmwtOS40MjYgNS40MjhhMS4zNDkgMS4zNDkgMCAwMS0uNDI0LjEzNGwuMTc4LjMzNSAxMC40NTMtNi4wNTN2LS4xMzRsLS4yNjgtLjQ0N2MtLjA0NC4zMTMtLjI0NS41OC0uNTE0LjczN3oiIGZpbGw9InVybCgjcGFpbnQzX2xpbmVhcikiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjUuNTUgMjIuNDIybC05LjQyNiA1LjQyOGExLjM0OSAxLjM0OSAwIDAxLS40MjQuMTM0bC4xNzguMzM1IDEwLjQ1My02LjA1M3YtLjEzNGwtLjI2OC0uNDQ3Yy0uMDQ0LjMxMy0uMjQ1LjU4LS41MTQuNzM3eiIgZmlsbD0idXJsKCNwYWludDRfbGluZWFyKSIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9IjE5LjM2MyIgeTE9IjguMTk3IiB4Mj0iOS4wNTYiIHkyPSIyNC4zOTIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzQxODczRiIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4zMjkiIHN0b3AtY29sb3I9IiM0MThCM0QiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNjM1IiBzdG9wLWNvbG9yPSIjNDE5NjM3Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjkzMiIgc3RvcC1jb2xvcj0iIzNGQTkyRCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzRkFFMkEiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXIiIHgxPSIxNC4xMDQiIHkxPSIxNy4yNzMiIHgyPSIzOS45MTgiIHkyPSIzLjI0OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4xMzgiIHN0b3AtY29sb3I9IiM0MTg3M0YiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDAzIiBzdG9wLWNvbG9yPSIjNTRBMDQ0Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjcxNCIgc3RvcC1jb2xvcj0iIzY2Qjg0OCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45MDgiIHN0b3AtY29sb3I9IiM2Q0MwNEEiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50Ml9saW5lYXIiIHgxPSI0LjY1NyIgeTE9IjE2IiB4Mj0iMjYuNDE2IiB5Mj0iMTYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMDkyIiBzdG9wLWNvbG9yPSIjNkNDMDRBIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjI4NiIgc3RvcC1jb2xvcj0iIzY2Qjg0OCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii41OTciIHN0b3AtY29sb3I9IiM1NEEwNDQiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuODYyIiBzdG9wLWNvbG9yPSIjNDE4NzNGIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDNfbGluZWFyIiB4MT0iNC42NTciIHkxPSIyNS4wMiIgeDI9IjI2LjQxNiIgeTI9IjI1LjAyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iLjA5MiIgc3RvcC1jb2xvcj0iIzZDQzA0QSIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4yODYiIHN0b3AtY29sb3I9IiM2NkI4NDgiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNTk3IiBzdG9wLWNvbG9yPSIjNTRBMDQ0Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjg2MiIgc3RvcC1jb2xvcj0iIzQxODczRiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQ0X2xpbmVhciIgeDE9IjI5LjU4NiIgeTE9IjcuNjgzIiB4Mj0iMjQuMDczIiB5Mj0iMzYuNTY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM0MTg3M0YiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMzI5IiBzdG9wLWNvbG9yPSIjNDE4QjNEIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjYzNSIgc3RvcC1jb2xvcj0iIzQxOTYzNyIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45MzIiIHN0b3AtY29sb3I9IiMzRkE5MkQiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjM0ZBRTJBIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcm9sZT0iaW1nIiB2aWV3Qm94PSIwIDAgMTAyNC40MCAxMDI0LjQwIj48c3R5bGU+c3ZnIHtlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEwMDAgMTAwMH08L3N0eWxlPjxwYXRoIGZpbGw9IiNmNWE4MDAiIGQ9Ik01MjguNyA1NDUuOWMtNDIgNDItNDIgMTEwLjEgMCAxNTIuMXMxMTAuMSA0MiAxNTIuMSAwIDQyLTExMC4xIDAtMTUyLjEtMTEwLjEtNDItMTUyLjEgMHptMTEzLjcgMTEzLjhjLTIwLjggMjAuOC01NC41IDIwLjgtNzUuMyAwLTIwLjgtMjAuOC0yMC44LTU0LjUgMC03NS4zIDIwLjgtMjAuOCA1NC41LTIwLjggNzUuMyAwIDIwLjggMjAuNyAyMC44IDU0LjUgMCA3NS4zem0zNi42LTY0M2wtNjUuOSA2NS45Yy0xMi45IDEyLjktMTIuOSAzNC4xIDAgNDdsMjU3LjMgMjU3LjNjMTIuOSAxMi45IDM0LjEgMTIuOSA0NyAwbDY1LjktNjUuOWMxMi45LTEyLjkgMTIuOS0zNC4xIDAtNDdMNzI1LjkgMTYuN2MtMTIuOS0xMi45LTM0LTEyLjktNDYuOSAwek0yMTcuMyA4NTguOGMxMS43LTExLjcgMTEuNy0zMC44IDAtNDIuNWwtMzMuNS0zMy41Yy0xMS43LTExLjctMzAuOC0xMS43LTQyLjUgMEw3Mi4xIDg1MmwtLjEuMS0xOS0xOWMtMTAuNS0xMC41LTI3LjYtMTAuNS0zOCAwLTEwLjUgMTAuNS0xMC41IDI3LjYgMCAzOGwxMTQgMTE0YzEwLjUgMTAuNSAyNy42IDEwLjUgMzggMHMxMC41LTI3LjYgMC0zOGwtMTktMTkgLjEtLjEgNjkuMi02OS4yeiIvPjxwYXRoIGZpbGw9IiM0MjVjYzciIGQ9Ik01NjUuOSAyMDUuOUw0MTkuNSAzNTIuM2MtMTMgMTMtMTMgMzQuNCAwIDQ3LjRsOTAuNCA5MC40YzYzLjktNDYgMTUzLjUtNDAuMyAyMTEgMTcuMmw3My4yLTczLjJjMTMtMTMgMTMtMzQuNCAwLTQ3LjRMNjEzLjMgMjA1LjljLTEzLTEzLjEtMzQuNC0xMy4xLTQ3LjQgMHptLTk0IDMyMi4zbC01My40LTUzLjRjLTEyLjUtMTIuNS0zMy0xMi41LTQ1LjUgMEwxODQuNyA2NjMuMmMtMTIuNSAxMi41LTEyLjUgMzMgMCA0NS41bDEwNi43IDEwNi43YzEyLjUgMTIuNSAzMyAxMi41IDQ1LjUgMEw0NTggNjk0LjFjLTI1LjYtNTIuOS0yMS0xMTYuOCAxMy45LTE2NS45eiIvPjwvc3ZnPgo="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTS40NSAxNS42M2MwIDQuNTE4IDYuOTYyIDguMTggMTUuNTUgOC4xOCA4LjU4OCAwIDE1LjU1LTMuNjYyIDE1LjU1LTguMThTMjQuNTg4IDcuNDUgMTYgNy40NUM3LjQxMiA3LjQ1LjQ1IDExLjExMi40NSAxNS42M3oiIGZpbGw9InVybCgjcGFpbnQwX3JhZGlhbCkiLz4KICA8cGF0aCBkPSJNMTYgMjMuMjAzYzguMjUzIDAgMTQuOTQzLTMuMzkgMTQuOTQzLTcuNTczIDAtNC4xODItNi42OS03LjU3My0xNC45NDMtNy41NzMtOC4yNTIgMC0xNC45NDMgMy4zOS0xNC45NDMgNy41NzMgMCA0LjE4MiA2LjY5IDcuNTczIDE0Ljk0MyA3LjU3M3oiIGZpbGw9IiM3NzdCQjMiLz4KICA8cGF0aCBkPSJNOC44OTggMTYuNTY5Yy42NzkgMCAxLjE4Ni0uMTI1IDEuNTA2LS4zNzIuMzE3LS4yNDQuNTM2LS42NjcuNjUxLTEuMjU3LjEwNy0uNTUyLjA2Ni0uOTM3LS4xMjEtMS4xNDUtLjE5Mi0uMjEyLS42MDYtLjMyLTEuMjMyLS4zMkg4LjYxOGwtLjYwMSAzLjA5NGguODgxem0tMy41NDYgMy44MWEuMTY4LjE2OCAwIDAxLS4xNjYtLjJsMS41OTMtOC4xOThhLjE2OS4xNjkgMCAwMS4xNjYtLjEzN2gzLjQzNGMxLjA3OSAwIDEuODgyLjI5MyAyLjM4Ny44NzEuNTA4LjU4MS42NjQgMS4zOTQuNDY2IDIuNDE0LS4wOC40MTYtLjIyLjgwMi0uNDEzIDEuMTQ4YTMuODQxIDMuODQxIDAgMDEtLjc2Ljk1MmMtLjM3Mi4zNDktLjc5My42MDEtMS4yNS43NS0uNDUuMTQ2LTEuMDI5LjIyLTEuNzE5LjIySDcuN2wtLjM5NyAyLjA0NGEuMTY5LjE2OSAwIDAxLS4xNjYuMTM2SDUuMzUyeiIgZmlsbD0iIzAwMCIvPgogIDxwYXRoIGQ9Ik04Ljc1NyAxMy42NDRoLjk0NmMuNzU0IDAgMS4wMTcuMTY2IDEuMTA2LjI2NC4xNDguMTY0LjE3NS41MS4wOCAxLS4xMDYuNTQ4LS4zMDQuOTM3LS41ODggMS4xNTUtLjI5LjIyNC0uNzYyLjMzNy0xLjQwMy4zMzdoLS42NzZsLjUzNS0yLjc1NnptMS42MjItMS45NjlINi45NDVjLS4xNjIgMC0uMy4xMTUtLjMzMS4yNzRMNS4wMiAyMC4xNDZhLjMzOC4zMzggMCAwMC4zMzIuNDAyaDEuNzg1Yy4xNjIgMCAuMy0uMTE1LjMzMi0uMjczbC4zNy0xLjkwN0g5LjA5Yy43MDggMCAxLjMwNC0uMDc3IDEuNzctLjIyOS40ODEtLjE1Ni45MjMtLjQyIDEuMzE0LS43ODYuMzI0LS4yOTguNTktLjYzMi43OTItLjk5My4yMDItLjM2Mi4zNDctLjc2NS40MzItMS4xOTguMjA5LTEuMDc1LjAzOS0xLjkzNS0uNTA1LTIuNTU4LS41MzgtLjYxNi0xLjM4NC0uOTI4LTIuNTE0LS45Mjh6bS0yLjU2NyA1LjA2MmgxLjA4NmMuNzIgMCAxLjI1Ny0uMTM1IDEuNjA5LS40MDYuMzUzLS4yNzIuNTktLjcyNS43MTQtMS4zNi4xMTgtLjYwOC4wNjQtMS4wMzgtLjE2Mi0xLjI4OS0uMjI2LS4yNS0uNjc4LS4zNzUtMS4zNTYtLjM3NUg4LjQ3OWwtLjY2NyAzLjQzem0yLjU2Ny00LjcyNGMxLjAzMyAwIDEuNzg2LjI3MSAyLjI2LjgxMy40NzQuNTQzLjYxNiAxLjMuNDI3IDIuMjcxLS4wNzguNC0uMjA5Ljc2Ni0uMzk0IDEuMDk4YTMuNjYzIDMuNjYzIDAgMDEtLjcyNy45MSAzLjE1NCAzLjE1NCAwIDAxLTEuMTg5LjcxM2MtLjQzNi4xNDItLjk5LjIxMy0xLjY2Ni4yMTNINy41NmwtLjQyMyAyLjE4SDUuMzUybDEuNTkzLTguMTk4aDMuNDM0IiBmaWxsPSIjZmZmIi8+CiAgPHBhdGggZD0iTTE3LjMyNiAxOC4yYS4xNjguMTY4IDAgMDEtLjE2NS0uMjAxbC43MDUtMy42MjdjLjA2Ny0uMzQ1LjA1LS41OTMtLjA0Ny0uNjk3LS4wNi0uMDY0LS4yMzgtLjE3Mi0uNzY1LS4xNzJoLTEuMjc3bC0uODg2IDQuNTZhLjE2OS4xNjkgMCAwMS0uMTY2LjEzN2gtMS43NzFhLjE2OS4xNjkgMCAwMS0uMTY2LS4yMDFMMTQuMzggOS44YS4xNjkuMTY5IDAgMDEuMTY2LS4xMzZoMS43NzFhLjE2OS4xNjkgMCAwMS4xNjYuMmwtLjM4NCAxLjk4aDEuMzczYzEuMDQ3IDAgMS43NTYuMTg0IDIuMTcuNTYzLjQyLjM4Ny41NTIgMS4wMDcuMzkgMS44NGwtLjc0MSAzLjgxNWEuMTY5LjE2OSAwIDAxLS4xNjYuMTM3aC0xLjh6IiBmaWxsPSIjMDAwIi8+CiAgPHBhdGggZD0iTTE2LjMxOCA5LjQ5NmgtMS43NzFjLS4xNjIgMC0uMy4xMTUtLjMzMi4yNzNsLTEuNTkzIDguMTk4YS4zMzcuMzM3IDAgMDAuMzMxLjQwMWgxLjc3MmMuMTYyIDAgLjMtLjExNC4zMzEtLjI3M2wuODYtNC40MjNoMS4xMzhjLjUyNiAwIC42MzcuMTEzLjY0MS4xMTcuMDMyLjAzNS4wNzQuMTk0LjAwNS41NWwtLjcwNSAzLjYyOGEuMzM3LjMzNyAwIDAwLjMzMS40MDFoMS44Yy4xNjIgMCAuMy0uMTE0LjMzMS0uMjczbC43NDItMy44MTRjLjE3NC0uODk2LjAyNS0xLjU2OC0uNDQzLTEuOTk3LS40NDUtLjQxLTEuMTkyLS42MDktMi4yODMtLjYwOWgtMS4xNjlsLjM0Ni0xLjc3N2EuMzM3LjMzNyAwIDAwLS4zMzItLjQwMnptMCAuMzM4bC0uNDIzIDIuMTc5aDEuNTc4Yy45OTMgMCAxLjY3OC4xNzMgMi4wNTUuNTIuMzc3LjM0Ni40OS45MDcuMzQgMS42ODNsLS43NDIgMy44MTVoLTEuOGwuNzA1LTMuNjI3Yy4wOC0uNDEzLjA1LS42OTQtLjA4OC0uODQ0LS4xNC0uMTUtLjQzNi0uMjI1LS44OS0uMjI1aC0xLjQxNWwtLjkxMyA0LjY5NmgtMS43NzJsMS41OTQtOC4xOTdoMS43NzF6IiBmaWxsPSIjZmZmIi8+CiAgPHBhdGggZD0iTTIyLjgzNiAxNi41NjljLjY3OSAwIDEuMTg1LS4xMjUgMS41MDYtLjM3Mi4zMTctLjI0NC41MzYtLjY2Ny42NS0xLjI1Ny4xMDgtLjU1Mi4wNjctLjkzNy0uMTItMS4xNDUtLjE5Mi0uMjEyLS42MDYtLjMyLTEuMjMyLS4zMmgtMS4wODRsLS42MDEgMy4wOTRoLjg4MXptLTMuNTQ2IDMuODFhLjE2OC4xNjggMCAwMS0uMTY2LS4ybDEuNTkzLTguMTk4YS4xNjkuMTY5IDAgMDEuMTY2LS4xMzdoMy40MzRjMS4wNzkgMCAxLjg4Mi4yOTMgMi4zODcuODcxLjUwOC41ODEuNjY0IDEuMzkzLjQ2NiAyLjQxNC0uMDgxLjQxNi0uMjIuODAyLS40MTMgMS4xNDgtLjE5NC4zNDYtLjQ1LjY2Ny0uNzYuOTUyLS4zNzIuMzQ5LS43OTMuNjAxLTEuMjUuNzUtLjQ1LjE0Ni0xLjAyOS4yMi0xLjcxOS4yMmgtMS4zOWwtLjM5NyAyLjA0NGEuMTY5LjE2OSAwIDAxLS4xNjYuMTM2SDE5LjI5eiIgZmlsbD0iIzAwMCIvPgogIDxwYXRoIGQ9Ik0yMi42OTUgMTMuNjQ0aC45NDVjLjc1NSAwIDEuMDE3LjE2NiAxLjEwNy4yNjQuMTQ3LjE2NC4xNzUuNTEuMDggMS0uMTA3LjU0OC0uMzA0LjkzNy0uNTg4IDEuMTU1LS4yOS4yMjQtLjc2Mi4zMzctMS40MDMuMzM3aC0uNjc2bC41MzUtMi43NTZ6bTEuNjIyLTEuOTY5aC0zLjQzNGMtLjE2MiAwLS4zLjExNS0uMzMxLjI3NGwtMS41OTQgOC4xOTdhLjMzOC4zMzggMCAwMC4zMzIuNDAyaDEuNzg1Yy4xNjIgMCAuMy0uMTE1LjMzMS0uMjczbC4zNy0xLjkwN2gxLjI1MmMuNzA4IDAgMS4zMDQtLjA3NyAxLjc3LS4yMjkuNDgxLS4xNTYuOTIzLS40MiAxLjMxNC0uNzg3LjMyNC0uMjk3LjU5LS42MzEuNzkyLS45OTIuMjAyLS4zNjIuMzQ3LS43NjUuNDMxLTEuMTk4LjIxLTEuMDc1LjA0LTEuOTM2LS41MDQtMi41NTgtLjUzOC0uNjE2LTEuMzg0LS45MjgtMi41MTQtLjkyOHptLTIuNTY3IDUuMDYyaDEuMDg2Yy43MiAwIDEuMjU3LS4xMzUgMS42MDktLjQwNi4zNTItLjI3Mi41OS0uNzI1LjcxMy0xLjM2LjExOS0uNjA4LjA2NS0xLjAzOC0uMTYxLTEuMjg5LS4yMjYtLjI1LS42NzgtLjM3NS0xLjM1Ny0uMzc1aC0xLjIyM2wtLjY2NyAzLjQzem0yLjU2Ny00LjcyNGMxLjAzMyAwIDEuNzg2LjI3MSAyLjI2LjgxMy40NzQuNTQzLjYxNiAxLjMuNDI3IDIuMjcxLS4wNzguNC0uMjEuNzY2LS4zOTQgMS4wOThhMy42NiAzLjY2IDAgMDEtLjcyNy45MSAzLjE1NCAzLjE1NCAwIDAxLTEuMTg5LjcxM2MtLjQzNi4xNDItLjk5LjIxMy0xLjY2Ni4yMTNoLTEuNTNsLS40MjMgMi4xOEgxOS4yOWwxLjU5My04LjE5OGgzLjQzNCIgZmlsbD0iI2ZmZiIvPgogIDxkZWZzPgogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDBfcmFkaWFsIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDkuNzg2IDEwLjMyNikgc2NhbGUoMjAuNDE5NCkiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQUVCMkQ1Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiNBRUIyRDUiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNzUiIHN0b3AtY29sb3I9IiM0ODRDODkiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNDg0Qzg5Ii8+CiAgICA8L3JhZGlhbEdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CiAgICA8cGF0aCBkPSJNMTUuODk3IDQuMDA3Yy02LjA3OCAwLTUuNjk4IDIuNjM1LTUuNjk4IDIuNjM1bC4wMDcgMi43M2g1Ljh2LjgySDcuOTAxcy0zLjg4OS0uNDQtMy44ODkgNS42OTFjMCA2LjEzMyAzLjM5NCA1LjkxNSAzLjM5NCA1LjkxNWgyLjAyNnYtMi44NDVzLS4xMDktMy4zOTUgMy4zNC0zLjM5NWg1Ljc1M3MzLjIzMS4wNTMgMy4yMzEtMy4xMjN2LTUuMjVzLjQ5MS0zLjE3OC01Ljg2LTMuMTc4em0tMy4xOTggMS44MzZhMS4wNDMgMS4wNDMgMCAxMS4wMDIgMi4wODYgMS4wNDMgMS4wNDMgMCAwMS0uMDAyLTIuMDg2eiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTE2LjA3IDI3LjgyMmM2LjA3NyAwIDUuNjk4LTIuNjM1IDUuNjk4LTIuNjM1bC0uMDA3LTIuNzNoLTUuOHYtLjgyaDguMTAzczMuODkuNDQgMy44OS01LjY5MmMwLTYuMTMyLTMuMzk1LTUuOTE1LTMuMzk1LTUuOTE1aC0yLjAyNnYyLjg0NnMuMTEgMy4zOTQtMy4zNCAzLjM5NGgtNS43NTJzLTMuMjMyLS4wNTItMy4yMzIgMy4xMjR2NS4yNXMtLjQ5IDMuMTc4IDUuODYgMy4xNzh6bTMuMTk4LTEuODM2YTEuMDQgMS4wNCAwIDAxLTEuMDQ0LTEuMDQzIDEuMDQxIDEuMDQxIDAgMDExLjQ0My0uOTY1IDEuMDQyIDEuMDQyIDAgMDEwIDEuOTI5IDEuMDQgMS4wNCAwIDAxLS40LjA3OXoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcikiLz4KICA8L2c+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXIiIHgxPSI2LjMxNCIgeTE9IjYuMTQ5IiB4Mj0iMTguMTc4IiB5Mj0iMTcuODk0IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzODdFQjgiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzY2OTk0Ii8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyIiB4MT0iMTMuNTk2IiB5MT0iMTMuNjkxIiB4Mj0iMjYuMzM3IiB5Mj0iMjUuNzM1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkUwNTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkZDMzMxIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGNsaXBQYXRoIGlkPSJjbGlwMCI+CiAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00IDRoMjR2MjMuOTA0SDR6Ii8+CiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KPC9zdmc+Cg=="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CiAgICA8cGF0aCBkPSJNMjIuNTEgMTkuNzI2bC0xMy42NCA4LjEgMTcuNjYyLTEuMTk4IDEuMzYtMTcuODEtNS4zODEgMTAuOTA4eiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTI2LjU2MSAyNi42MTZsLTEuNTE4LTEwLjQ3OC00LjEzNSA1LjQ2IDUuNjUzIDUuMDE4eiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTI2LjU4MiAyNi42MTZsLTExLjEyMi0uODczLTYuNTMyIDIuMDYgMTcuNjU0LTEuMTg3eiIgZmlsbD0idXJsKCNwYWludDJfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTguOTQ0IDI3LjgwNmwyLjc3OS05LjEwMi02LjExNCAxLjMwNyAzLjMzNSA3Ljc5NXoiIGZpbGw9InVybCgjcGFpbnQzX2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0yMC45MDcgMjEuNjI4bC0yLjU1Ni0xMC4wMTQtNy4zMTcgNi44NTggOS44NzMgMy4xNTZ6IiBmaWxsPSJ1cmwoI3BhaW50NF9saW5lYXIpIi8+CiAgICA8cGF0aCBkPSJNMjcuMzEzIDExLjc1NWwtNi45MTYtNS42NDgtMS45MjYgNi4yMjYgOC44NDItLjU3OHoiIGZpbGw9InVybCgjcGFpbnQ1X2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0yNC4wNzggNC4wOTNMMjAuMDExIDYuMzRsLTIuNTY2LTIuMjc4IDYuNjMzLjAzeiIgZmlsbD0idXJsKCNwYWludDZfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTQgMjMuMDY0bDEuNzA0LTMuMTA3LTEuMzc4LTMuNzAyTDQgMjMuMDY1eiIgZmlsbD0idXJsKCNwYWludDdfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTQuMjM0IDE2LjEzOGwxLjM4NyAzLjkzMyA2LjAyNi0xLjM1MiA2Ljg4LTYuMzk0IDEuOTQxLTYuMTY2TDE3LjQxMSA0bC01LjE5OCAxLjk0NWMtMS42MzcgMS41MjMtNC44MTUgNC41MzctNC45MyA0LjU5My0uMTEzLjA1OC0yLjA5OCAzLjgxLTMuMDQ5IDUuNnoiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik05LjEwNCA5LjA3MWMzLjU0OS0zLjUxOSA4LjEyNC01LjU5OCA5Ljg4LTMuODI2IDEuNzU0IDEuNzcxLS4xMDcgNi4wNzYtMy42NTYgOS41OTRzLTguMDY3IDUuNzExLTkuODIyIDMuOTRjLTEuNzU2LTEuNzcuMDQ4LTYuMTkgMy41OTgtOS43MDh6IiBmaWxsPSJ1cmwoI3BhaW50OF9saW5lYXIpIi8+CiAgICA8cGF0aCBkPSJNOC45NDQgMjcuODAybDIuNzU3LTkuMTMgOS4xNTUgMi45NGMtMy4zMSAzLjEwNC02Ljk5MiA1LjcyOS0xMS45MTIgNi4xOXoiIGZpbGw9InVybCgjcGFpbnQ5X2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0xOC41MzkgMTIuMzA4bDIuMzUgOS4zMWMyLjc2NS0yLjkwOCA1LjI0Ny02LjAzNCA2LjQ2Mi05LjlsLTguODEyLjU5eiIgZmlsbD0idXJsKCNwYWludDEwX2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0yNy4zMjcgMTEuNzY1Yy45NC0yLjgzOSAxLjE1OC02LjkxMS0zLjI3OC03LjY2N2wtMy42NCAyLjAxIDYuOTE4IDUuNjU3eiIgZmlsbD0idXJsKCNwYWludDExX2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik00IDIzLjAyM2MuMTMgNC42ODYgMy41MSA0Ljc1NSA0Ljk1IDQuNzk2bC0zLjMyNi03Ljc2N0w0IDIzLjAyM3oiIGZpbGw9IiM5RTEyMDkiLz4KICAgIDxwYXRoIGQ9Ik0xOC41NTIgMTIuMzIyYzIuMTI1IDEuMzA2IDYuNDA3IDMuOTI5IDYuNDk0IDMuOTc3LjEzNS4wNzYgMS44NDYtMi44ODYgMi4yMzQtNC41NmwtOC43MjguNTgzeiIgZmlsbD0idXJsKCNwYWludDEyX3JhZGlhbCkiLz4KICAgIDxwYXRoIGQ9Ik0xMS42OTcgMTguNjcxbDMuNjg2IDcuMTFjMi4xNzktMS4xODIgMy44ODUtMi42MjEgNS40NDgtNC4xNjRsLTkuMTM0LTIuOTQ2eiIgZmlsbD0idXJsKCNwYWludDEzX3JhZGlhbCkiLz4KICAgIDxwYXRoIGQ9Ik01LjYxIDIwLjA2MmwtLjUyMiA2LjIxN2MuOTg1IDEuMzQ2IDIuMzQgMS40NjMgMy43NjIgMS4zNTgtMS4wMjgtMi41Ni0zLjA4My03LjY4LTMuMjQtNy41NzV6IiBmaWxsPSJ1cmwoI3BhaW50MTRfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTIwLjM4OCA2LjEyM2w3LjMyMSAxLjAyOGMtLjM5LTEuNjU2LTEuNTktMi43MjQtMy42MzUtMy4wNThsLTMuNjg2IDIuMDN6IiBmaWxsPSJ1cmwoI3BhaW50MTVfbGluZWFyKSIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9IjI0Ljk5MiIgeTE9IjI5Ljk5MyIgeDI9IjE5Ljk1NyIgeTI9IjIxLjA5MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkI3NjU1Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjQxIiBzdG9wLWNvbG9yPSIjRTQyQjFFIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjOTAwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkwMCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhciIgeDE9IjI3LjUwMyIgeTE9IjIyLjUxOCIgeDI9IjIwLjQyNSIgeTI9IjIxLjEzNSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODcxMTAxIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjOTExMjA5Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkxMTIwOSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhciIgeDE9IjIyLjMwNSIgeTE9IjMwLjI2MyIgeDI9IjIyLjIxNCIgeTI9IjI1Ljc3NCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODcxMTAxIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjOTExMjA5Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkxMTIwOSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQzX2xpbmVhciIgeDE9IjguNjY2IiB5MT0iMTkuMzYyIiB4Mj0iMTAuNzcxIiB5Mj0iMjUuNTMzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMjMiIHN0b3AtY29sb3I9IiNFNTcyNTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDYiIHN0b3AtY29sb3I9IiNERTNCMjAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNBNjAwMDMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQTYwMDAzIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDRfbGluZWFyIiB4MT0iMTUuNTkzIiB5MT0iMTMuMjUxIiB4Mj0iMTUuOTc1IiB5Mj0iMTkuOTMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4yMyIgc3RvcC1jb2xvcj0iI0U0NzE0RSIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii41NiIgc3RvcC1jb2xvcj0iI0JFMUEwRCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iI0E4MEQwMCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNBODBEMDAiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50NV9saW5lYXIiIHgxPSIyMS43MzkiIHkxPSI3LjA3OCIgeDI9IjIyLjI5NyIgeTI9IjExLjkyOCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjE4IiBzdG9wLWNvbG9yPSIjRTQ2MzQyIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjQiIHN0b3AtY29sb3I9IiNDODI0MTAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNBODBEMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQTgwRDAwIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDZfbGluZWFyIiB4MT0iMTguMzQ3IiB5MT0iNS4zOTIiIHgyPSIxOS4xMzQiIHkyPSIyLjA1NSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjU0IiBzdG9wLWNvbG9yPSIjQzgxRjExIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjQkYwOTA1Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0JGMDkwNSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQ3X2xpbmVhciIgeDE9IjQuNDcxIiB5MT0iMTcuNjk0IiB4Mj0iNi41MjkiIHkyPSIxOC45ODQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4zMSIgc3RvcC1jb2xvcj0iI0RFNDAyNCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iI0JGMTkwQiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNCRjE5MEIiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50OF9saW5lYXIiIHgxPSIxLjc2MiIgeTE9IjIyLjcwNCIgeDI9IjIwLjI1NSIgeTI9IjMuNjM1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNCRDAwMTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMDciIHN0b3AtY29sb3I9IiNmZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMTciIHN0b3AtY29sb3I9IiNmZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMjciIHN0b3AtY29sb3I9IiNDODJGMUMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMzMiIHN0b3AtY29sb3I9IiM4MjBDMDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDYiIHN0b3AtY29sb3I9IiNBMzE2MDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNzIiIHN0b3AtY29sb3I9IiNCMzEzMDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNFODI2MDkiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTgyNjA5Ii8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDlfbGluZWFyIiB4MT0iMTUuOTQ4IiB5MT0iMjQuNjI1IiB4Mj0iMTAuNzE0IiB5Mj0iMjIuNDI3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM4QzBDMDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNTQiIHN0b3AtY29sb3I9IiM5OTBDMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNBODBEMEUiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQTgwRDBFIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDEwX2xpbmVhciIgeDE9IjI1LjUyOSIgeTE9IjE3LjkzIiB4Mj0iMjAuMTM4IiB5Mj0iMTQuMTAxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3RTExMEIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiM5RTBDMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOUUwQzAwIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDExX2xpbmVhciIgeDE9IjI3LjM0OSIgeTE9IjkuNzgxIiB4Mj0iMjQuODE0IiB5Mj0iNy4yMDciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzc5MTMwRCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iIzlFMTIwQiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM5RTEyMEIiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MTRfbGluZWFyIiB4MT0iNy4yMTYiIHkxPSIyNy43OTciIHgyPSIyLjY3MSIgeTI9IjI0LjAyNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjOEIyMTE0Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjQzIiBzdG9wLWNvbG9yPSIjOUUxMDBBIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjQjMxMDBDIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0IzMTAwQyIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxNV9saW5lYXIiIHgxPSIyMi42NDgiIHkxPSI1LjE4MSIgeDI9IjIzLjkzOSIgeTI9IjguNDQ1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNCMzEwMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDQiIHN0b3AtY29sb3I9IiM5MTBGMDgiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiM3OTFDMTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzkxQzEyIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDEyX3JhZGlhbCIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg2LjA3Mjc5IDAgMCAzLjE3MzE4IDIxLjM0NSAxMy41NzMpIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E4MEQwMCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iIzdFMEUwOCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM3RTBFMDgiLz4KICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MTNfcmFkaWFsIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDguMDcyODQgMCAwIDYuMjg0MzEgMTIuOTM1IDIxLjU3NikiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTMwQzAwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjODAwRTA4Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzgwMEUwOCIvPgogICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcDAiPgogICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDI0djIzLjkwNEg0eiIvPgogICAgPC9jbGlwUGF0aD4KICA8L2RlZnM+Cjwvc3ZnPgo="},function(module,exports){module.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTUgMjAuMjQ1bDIuNDM4LTEuNDg1Yy40Ny44NC44OTggMS41NSAxLjkyNCAxLjU1Ljk4NCAwIDEuNjA0LS4zODcgMS42MDQtMS44OTRWOC4xNzJoMi45OTRWMTguNDZjMCAzLjEyLTEuODE4IDQuNTQtNC40NyA0LjU0LTIuMzk0IDAtMy43ODQtMS4yNDgtNC40OS0yLjc1NHptMTAuNTg2LS4zMjNsMi40MzgtMS40MmMuNjQyIDEuMDU1IDEuNDc2IDEuODMgMi45NSAxLjgzIDEuMjQxIDAgMi4wMzItLjYyNSAyLjAzMi0xLjQ4NiAwLTEuMDMzLS44MTItMS4zOTgtMi4xOC0ybC0uNzUtLjMyNGMtMi4xNTktLjkyNS0zLjU5Mi0yLjA4Ny0zLjU5Mi00LjU0IDAtMi4yNiAxLjcxMS0zLjk4MiA0LjM4NC0zLjk4MiAxLjkwMyAwIDMuMjcyLjY2NyA0LjI1NSAyLjQxbC0yLjMzIDEuNTA3Yy0uNTE0LS45MjUtMS4wNy0xLjI5MS0xLjkyNS0xLjI5MS0uODc3IDAtMS40MzMuNTYtMS40MzMgMS4yOSAwIC45MDUuNTU2IDEuMjcgMS44NCAxLjgzbC43NDguMzIzQzI0LjU2NyAxNS4xNjcgMjYgMTYuMjg2IDI2IDE4LjgwMyAyNiAyMS41MTUgMjMuODgzIDIzIDIxLjAzOSAyM2MtMi43OCAwLTQuNTc2LTEuMzM0LTUuNDUzLTMuMDc4IiBmaWxsPSIjMDAwIi8+Cjwvc3ZnPgo="},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(30);var react_1=__webpack_require__(2);var useUnmount_1=tslib_1.__importDefault(__webpack_require__(750));var useRafState=function(initialState){var frame=react_1.useRef(0);var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];var setRafState=react_1.useCallback((function(value){cancelAnimationFrame(frame.current);frame.current=requestAnimationFrame((function(){setState(value)}))}),[]);useUnmount_1.default((function(){cancelAnimationFrame(frame.current)}));return[state,setRafState]};exports.default=useRafState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(30);var react_1=__webpack_require__(2);var useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(751));var useUnmount=function(fn){var fnRef=react_1.useRef(fn);fnRef.current=fn;useEffectOnce_1.default((function(){return function(){return fnRef.current()}}))};exports.default=useUnmount},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(2);var useEffectOnce=function(effect){react_1.useEffect(effect,[])};exports.default=useEffectOnce},function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=="object"&&typeof b=="object"){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return false;return true}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(key==="_owner"&&a.$$typeof){continue}if(!equal(a[key],b[key]))return false}return true}return a!==a&&b!==b}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(33);var _reactDom2=_interopRequireDefault(_reactDom);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Sticky=function(_Component){_inherits(Sticky,_Component);function Sticky(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Sticky);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Sticky.__proto__||Object.getPrototypeOf(Sticky)).call.apply(_ref,[this].concat(args))),_this),_this.state={isSticky:false,wasSticky:false,style:{}},_this.handleContainerEvent=function(_ref2){var distanceFromTop=_ref2.distanceFromTop,distanceFromBottom=_ref2.distanceFromBottom,eventSource=_ref2.eventSource;var parent=_this.context.getParent();var preventingStickyStateChanges=false;if(_this.props.relative){preventingStickyStateChanges=eventSource!==parent;distanceFromTop=-(eventSource.scrollTop+eventSource.offsetTop)+_this.placeholder.offsetTop}var placeholderClientRect=_this.placeholder.getBoundingClientRect();var contentClientRect=_this.content.getBoundingClientRect();var calculatedHeight=contentClientRect.height;var bottomDifference=distanceFromBottom-_this.props.bottomOffset-calculatedHeight;var wasSticky=!!_this.state.isSticky;var isSticky=preventingStickyStateChanges?wasSticky:distanceFromTop<=-_this.props.topOffset&&distanceFromBottom>-_this.props.bottomOffset;distanceFromBottom=(_this.props.relative?parent.scrollHeight-parent.scrollTop:distanceFromBottom)-calculatedHeight;var style=!isSticky?{}:{position:"fixed",top:bottomDifference>0?_this.props.relative?parent.offsetTop-parent.offsetParent.scrollTop:0:bottomDifference,left:placeholderClientRect.left,width:placeholderClientRect.width};if(!_this.props.disableHardwareAcceleration){style.transform="translateZ(0)"}_this.setState({isSticky:isSticky,wasSticky:wasSticky,distanceFromTop:distanceFromTop,distanceFromBottom:distanceFromBottom,calculatedHeight:calculatedHeight,style:style})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Sticky,[{key:"componentWillMount",value:function componentWillMount(){if(!this.context.subscribe)throw new TypeError("Expected Sticky to be mounted within StickyContainer");this.context.subscribe(this.handleContainerEvent)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.context.unsubscribe(this.handleContainerEvent)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.placeholder.style.paddingBottom=this.props.disableCompensation?0:(this.state.isSticky?this.state.calculatedHeight:0)+"px"}},{key:"render",value:function render(){var _this2=this;var element=_react2.default.cloneElement(this.props.children({isSticky:this.state.isSticky,wasSticky:this.state.wasSticky,distanceFromTop:this.state.distanceFromTop,distanceFromBottom:this.state.distanceFromBottom,calculatedHeight:this.state.calculatedHeight,style:this.state.style}),{ref:function ref(content){_this2.content=_reactDom2.default.findDOMNode(content)}});return _react2.default.createElement("div",null,_react2.default.createElement("div",{ref:function ref(placeholder){return _this2.placeholder=placeholder}}),element)}}]);return Sticky}(_react.Component);Sticky.propTypes={topOffset:_propTypes2.default.number,bottomOffset:_propTypes2.default.number,relative:_propTypes2.default.bool,children:_propTypes2.default.func.isRequired};Sticky.defaultProps={relative:false,topOffset:0,bottomOffset:0,disableCompensation:false,disableHardwareAcceleration:false};Sticky.contextTypes={subscribe:_propTypes2.default.func,unsubscribe:_propTypes2.default.func,getParent:_propTypes2.default.func};exports.default=Sticky},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(755);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _raf=__webpack_require__(142);var _raf2=_interopRequireDefault(_raf);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Container=function(_PureComponent){_inherits(Container,_PureComponent);function Container(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Container);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Container.__proto__||Object.getPrototypeOf(Container)).call.apply(_ref,[this].concat(args))),_this),_this.events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],_this.subscribers=[],_this.rafHandle=null,_this.subscribe=function(handler){_this.subscribers=_this.subscribers.concat(handler)},_this.unsubscribe=function(handler){_this.subscribers=_this.subscribers.filter((function(current){return current!==handler}))},_this.notifySubscribers=function(evt){if(!_this.framePending){var currentTarget=evt.currentTarget;_this.rafHandle=(0,_raf2.default)((function(){_this.framePending=false;var _this$node$getBoundin=_this.node.getBoundingClientRect(),top=_this$node$getBoundin.top,bottom=_this$node$getBoundin.bottom;_this.subscribers.forEach((function(handler){return handler({distanceFromTop:top,distanceFromBottom:bottom,eventSource:currentTarget===window?document.body:_this.node})}))}));_this.framePending=true}},_this.getParent=function(){return _this.node},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Container,[{key:"getChildContext",value:function getChildContext(){return{subscribe:this.subscribe,unsubscribe:this.unsubscribe,getParent:this.getParent}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.events.forEach((function(event){return window.addEventListener(event,_this2.notifySubscribers)}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _this3=this;if(this.rafHandle){_raf2.default.cancel(this.rafHandle);this.rafHandle=null}this.events.forEach((function(event){return window.removeEventListener(event,_this3.notifySubscribers)}))}},{key:"render",value:function render(){var _this4=this;return _react2.default.createElement("div",_extends({},this.props,{ref:function ref(node){return _this4.node=node},onScroll:this.notifySubscribers,onTouchStart:this.notifySubscribers,onTouchMove:this.notifySubscribers,onTouchEnd:this.notifySubscribers}))}}]);return Container}(_react.PureComponent);Container.childContextTypes={subscribe:_propTypes2.default.func,unsubscribe:_propTypes2.default.func,getParent:_propTypes2.default.func};exports.default=Container},function(module,exports,__webpack_require__){(function(process){(function(){var getNanoSeconds,hrtime,loadTime,moduleLoadTime,nodeLoadTime,upTime;if(typeof performance!=="undefined"&&performance!==null&&performance.now){module.exports=function(){return performance.now()}}else if(typeof process!=="undefined"&&process!==null&&process.hrtime){module.exports=function(){return(getNanoSeconds()-nodeLoadTime)/1e6};hrtime=process.hrtime;getNanoSeconds=function(){var hr;hr=hrtime();return hr[0]*1e9+hr[1]};moduleLoadTime=getNanoSeconds();upTime=process.uptime()*1e9;nodeLoadTime=moduleLoadTime-upTime}else if(Date.now){module.exports=function(){return Date.now()-loadTime};loadTime=Date.now()}else{module.exports=function(){return(new Date).getTime()-loadTime};loadTime=(new Date).getTime()}}).call(this)}).call(this,__webpack_require__(105))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlexibleXYPlot=exports.FlexibleHeightXYPlot=exports.FlexibleWidthXYPlot=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();exports.makeHeightFlexible=makeHeightFlexible;exports.makeVisFlexible=makeVisFlexible;exports.makeWidthFlexible=makeWidthFlexible;var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _window=__webpack_require__(759);var _window2=_interopRequireDefault(_window);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _reactUtils=__webpack_require__(103);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CONTAINER_REF="container";var resizeSubscribers=[];var DEBOUNCE_DURATION=100;var timeoutId=null;function debounceEmitResize(){_window2.default.clearTimeout(timeoutId);timeoutId=_window2.default.setTimeout(emitResize,DEBOUNCE_DURATION)}function emitResize(){resizeSubscribers.forEach((function(cb){return cb()}))}function subscribeToDebouncedResize(cb){resizeSubscribers.push(cb);if(resizeSubscribers.length===1){_window2.default.addEventListener("resize",debounceEmitResize)}return function unsubscribe(){removeSubscriber(cb);if(resizeSubscribers.length===0){_window2.default.clearTimeout(timeoutId);_window2.default.removeEventListener("resize",debounceEmitResize)}}}function removeSubscriber(cb){var index=resizeSubscribers.indexOf(cb);if(index>-1){resizeSubscribers.splice(index,1)}}function getDisplayName(Component){return Component.displayName||Component.name||"Component"}function makeFlexible(Component,isWidthFlexible,isHeightFlexible){var ResultClass=function(_React$Component){_inherits(ResultClass,_React$Component);_createClass(ResultClass,null,[{key:"propTypes",get:function get(){var _Component$propTypes=Component.propTypes,height=_Component$propTypes.height,width=_Component$propTypes.width,otherPropTypes=_objectWithoutProperties(_Component$propTypes,["height","width"]);return otherPropTypes}}]);function ResultClass(props){_classCallCheck(this,ResultClass);var _this=_possibleConstructorReturn(this,(ResultClass.__proto__||Object.getPrototypeOf(ResultClass)).call(this,props));_this.state={height:0,width:0};_this._onResize=_this._onResize.bind(_this);return _this}_createClass(ResultClass,[{key:"_onResize",value:function _onResize(){var containerElement=(0,_reactUtils.getDOMNode)(this.refs[CONTAINER_REF]);var offsetHeight=containerElement.offsetHeight,offsetWidth=containerElement.offsetWidth;var newHeight=this.state.height===offsetHeight?{}:{height:offsetHeight};var newWidth=this.state.width===offsetWidth?{}:{width:offsetWidth};this.setState(_extends({},newHeight,newWidth))}},{key:"componentDidMount",value:function componentDidMount(){this._onResize();this.cancelSubscription=subscribeToDebouncedResize(this._onResize)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){this._onResize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cancelSubscription()}},{key:"render",value:function render(){var _state=this.state,height=_state.height,width=_state.width;var props=_extends({},this.props,{animation:height===0&&width===0?null:this.props.animation});var updatedDimensions=_extends({},isHeightFlexible?{height:height}:{},isWidthFlexible?{width:width}:{});return _react2.default.createElement("div",{ref:CONTAINER_REF,style:{width:"100%",height:"100%"}},_react2.default.createElement(Component,_extends({},updatedDimensions,props)))}}]);return ResultClass}(_react2.default.Component);ResultClass.displayName="Flexible"+getDisplayName(Component);return ResultClass}function makeHeightFlexible(component){return makeFlexible(component,false,true)}function makeVisFlexible(component){return makeFlexible(component,true,true)}function makeWidthFlexible(component){return makeFlexible(component,true,false)}var FlexibleWidthXYPlot=exports.FlexibleWidthXYPlot=makeWidthFlexible(_xyPlot2.default);var FlexibleHeightXYPlot=exports.FlexibleHeightXYPlot=makeHeightFlexible(_xyPlot2.default);var FlexibleXYPlot=exports.FlexibleXYPlot=makeVisFlexible(_xyPlot2.default)},function(module,exports,__webpack_require__){(function(global){var win;if(typeof window!=="undefined"){win=window}else if(typeof global!=="undefined"){win=global}else if(typeof self!=="undefined"){win=self}else{win={}}module.exports=win}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){var objectKeys=__webpack_require__(286);var isArguments=__webpack_require__(762);var is=__webpack_require__(763);var isRegex=__webpack_require__(768);var flags=__webpack_require__(769);var isDate=__webpack_require__(771);var getTime=Date.prototype.getTime;function deepEqual(actual,expected,options){var opts=options||{};if(opts.strict?is(actual,expected):actual===expected){return true}if(!actual||!expected||typeof actual!=="object"&&typeof expected!=="object"){return opts.strict?is(actual,expected):actual==expected}return objEquiv(actual,expected,opts)}function isUndefinedOrNull(value){return value===null||value===undefined}function isBuffer(x){if(!x||typeof x!=="object"||typeof x.length!=="number"){return false}if(typeof x.copy!=="function"||typeof x.slice!=="function"){return false}if(x.length>0&&typeof x[0]!=="number"){return false}return true}function objEquiv(a,b,opts){var i,key;if(typeof a!==typeof b){return false}if(isUndefinedOrNull(a)||isUndefinedOrNull(b)){return false}if(a.prototype!==b.prototype){return false}if(isArguments(a)!==isArguments(b)){return false}var aIsRegex=isRegex(a);var bIsRegex=isRegex(b);if(aIsRegex!==bIsRegex){return false}if(aIsRegex||bIsRegex){return a.source===b.source&&flags(a)===flags(b)}if(isDate(a)&&isDate(b)){return getTime.call(a)===getTime.call(b)}var aIsBuffer=isBuffer(a);var bIsBuffer=isBuffer(b);if(aIsBuffer!==bIsBuffer){return false}if(aIsBuffer||bIsBuffer){if(a.length!==b.length){return false}for(i=0;i<a.length;i++){if(a[i]!==b[i]){return false}}return true}if(typeof a!==typeof b){return false}try{var ka=objectKeys(a);var kb=objectKeys(b)}catch(e){return false}if(ka.length!==kb.length){return false}ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i]){return false}}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!deepEqual(a[key],b[key],opts)){return false}}return true}module.exports=deepEqual},function(module,exports,__webpack_require__){"use strict";var keysShim;if(!Object.keys){var has=Object.prototype.hasOwnProperty;var toStr=Object.prototype.toString;var isArgs=__webpack_require__(287);var isEnumerable=Object.prototype.propertyIsEnumerable;var hasDontEnumBug=!isEnumerable.call({toString:null},"toString");var hasProtoEnumBug=isEnumerable.call((function(){}),"prototype");var dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o};var excludedKeys={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true};var hasAutomationEqualityBug=function(){if(typeof window==="undefined"){return false}for(var k in window){try{if(!excludedKeys["$"+k]&&has.call(window,k)&&window[k]!==null&&typeof window[k]==="object"){try{equalsConstructorPrototype(window[k])}catch(e){return true}}}catch(e){return true}}return false}();var equalsConstructorPrototypeIfNotBuggy=function(o){if(typeof window==="undefined"||!hasAutomationEqualityBug){return equalsConstructorPrototype(o)}try{return equalsConstructorPrototype(o)}catch(e){return false}};keysShim=function keys(object){var isObject=object!==null&&typeof object==="object";var isFunction=toStr.call(object)==="[object Function]";var isArguments=isArgs(object);var isString=isObject&&toStr.call(object)==="[object String]";var theKeys=[];if(!isObject&&!isFunction&&!isArguments){throw new TypeError("Object.keys called on a non-object")}var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0)){for(var i=0;i<object.length;++i){theKeys.push(String(i))}}if(isArguments&&object.length>0){for(var j=0;j<object.length;++j){theKeys.push(String(j))}}else{for(var name in object){if(!(skipProto&&name==="prototype")&&has.call(object,name)){theKeys.push(String(name))}}}if(hasDontEnumBug){var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object);for(var k=0;k<dontEnums.length;++k){if(!(skipConstructor&&dontEnums[k]==="constructor")&&has.call(object,dontEnums[k])){theKeys.push(dontEnums[k])}}}return theKeys}}module.exports=keysShim},function(module,exports,__webpack_require__){"use strict";var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var toStr=Object.prototype.toString;var isStandardArguments=function isArguments(value){if(hasToStringTag&&value&&typeof value==="object"&&Symbol.toStringTag in value){return false}return toStr.call(value)==="[object Arguments]"};var isLegacyArguments=function isArguments(value){if(isStandardArguments(value)){return true}return value!==null&&typeof value==="object"&&typeof value.length==="number"&&value.length>=0&&toStr.call(value)!=="[object Array]"&&toStr.call(value.callee)==="[object Function]"};var supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(118);var callBind=__webpack_require__(288);var implementation=__webpack_require__(291);var getPolyfill=__webpack_require__(292);var shim=__webpack_require__(767);var polyfill=callBind(getPolyfill(),Object);define(polyfill,{getPolyfill:getPolyfill,implementation:implementation,shim:shim});module.exports=polyfill},function(module,exports,__webpack_require__){"use strict";var ERROR_MESSAGE="Function.prototype.bind called on incompatible ";var slice=Array.prototype.slice;var toStr=Object.prototype.toString;var funcType="[object Function]";module.exports=function bind(that){var target=this;if(typeof target!=="function"||toStr.call(target)!==funcType){throw new TypeError(ERROR_MESSAGE+target)}var args=slice.call(arguments,1);var bound;var binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return this}else{return target.apply(that,args.concat(slice.call(arguments)))}};var boundLength=Math.max(0,target.length-args.length);var boundArgs=[];for(var i=0;i<boundLength;i++){boundArgs.push("$"+i)}bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder);if(target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype;bound.prototype=new Empty;Empty.prototype=null}return bound}},function(module,exports,__webpack_require__){"use strict";var undefined;var $TypeError=TypeError;var $gOPD=Object.getOwnPropertyDescriptor;if($gOPD){try{$gOPD({},"")}catch(e){$gOPD=null}}var throwTypeError=function(){throw new $TypeError};var ThrowTypeError=$gOPD?function(){try{arguments.callee;return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError;var hasSymbols=__webpack_require__(290)();var getProto=Object.getPrototypeOf||function(x){return x.__proto__};var generator;var generatorFunction=generator?getProto(generator):undefined;var asyncFn;var asyncFunction=asyncFn?asyncFn.constructor:undefined;var asyncGen;var asyncGenFunction=asyncGen?getProto(asyncGen):undefined;var asyncGenIterator=asyncGen?asyncGen():undefined;var TypedArray=typeof Uint8Array==="undefined"?undefined:getProto(Uint8Array);var INTRINSICS={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?undefined:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer==="undefined"?undefined:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":asyncFunction,"%AsyncFunctionPrototype%":asyncFunction?asyncFunction.prototype:undefined,"%AsyncGenerator%":asyncGen?getProto(asyncGenIterator):undefined,"%AsyncGeneratorFunction%":asyncGenFunction,"%AsyncGeneratorPrototype%":asyncGenFunction?asyncGenFunction.prototype:undefined,"%AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():undefined,"%Atomics%":typeof Atomics==="undefined"?undefined:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView==="undefined"?undefined:DataView,"%DataViewPrototype%":typeof DataView==="undefined"?undefined:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array==="undefined"?undefined:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array==="undefined"?undefined:Float32Array.prototype,"%Float64Array%":typeof Float64Array==="undefined"?undefined:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array==="undefined"?undefined:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":generator?getProto(generator()):undefined,"%GeneratorFunction%":generatorFunction,"%GeneratorPrototype%":generatorFunction?generatorFunction.prototype:undefined,"%Int8Array%":typeof Int8Array==="undefined"?undefined:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array==="undefined"?undefined:Int8Array.prototype,"%Int16Array%":typeof Int16Array==="undefined"?undefined:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array==="undefined"?undefined:Int8Array.prototype,"%Int32Array%":typeof Int32Array==="undefined"?undefined:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array==="undefined"?undefined:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined,"%JSON%":typeof JSON==="object"?JSON:undefined,"%JSONParse%":typeof JSON==="object"?JSON.parse:undefined,"%Map%":typeof Map==="undefined"?undefined:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!hasSymbols?undefined:getProto((new Map)[Symbol.iterator]()),"%MapPrototype%":typeof Map==="undefined"?undefined:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?undefined:Promise,"%PromisePrototype%":typeof Promise==="undefined"?undefined:Promise.prototype,"%PromiseProto_then%":typeof Promise==="undefined"?undefined:Promise.prototype.then,"%Promise_all%":typeof Promise==="undefined"?undefined:Promise.all,"%Promise_reject%":typeof Promise==="undefined"?undefined:Promise.reject,"%Promise_resolve%":typeof Promise==="undefined"?undefined:Promise.resolve,"%Proxy%":typeof Proxy==="undefined"?undefined:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect==="undefined"?undefined:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set==="undefined"?undefined:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!hasSymbols?undefined:getProto((new Set)[Symbol.iterator]()),"%SetPrototype%":typeof Set==="undefined"?undefined:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?undefined:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer==="undefined"?undefined:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined,"%StringPrototype%":String.prototype,"%Symbol%":hasSymbols?Symbol:undefined,"%SymbolPrototype%":hasSymbols?Symbol.prototype:undefined,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypedArrayPrototype%":TypedArray?TypedArray.prototype:undefined,"%TypeError%":$TypeError,"%TypeErrorPrototype%":$TypeError.prototype,"%Uint8Array%":typeof Uint8Array==="undefined"?undefined:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array==="undefined"?undefined:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?undefined:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray==="undefined"?undefined:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array==="undefined"?undefined:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array==="undefined"?undefined:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array==="undefined"?undefined:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array==="undefined"?undefined:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap==="undefined"?undefined:WeakMap,"%WeakMapPrototype%":typeof WeakMap==="undefined"?undefined:WeakMap.prototype,"%WeakSet%":typeof WeakSet==="undefined"?undefined:WeakSet,"%WeakSetPrototype%":typeof WeakSet==="undefined"?undefined:WeakSet.prototype};var bind=__webpack_require__(289);var $replace=bind.call(Function.call,String.prototype.replace);var rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=function stringToPath(string){var result=[];$replace(string,rePropName,(function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}));return result};var getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){if(!(name in INTRINSICS)){throw new SyntaxError("intrinsic "+name+" does not exist!")}if(typeof INTRINSICS[name]==="undefined"&&!allowMissing){throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!")}return INTRINSICS[name]};module.exports=function GetIntrinsic(name,allowMissing){if(typeof name!=="string"||name.length===0){throw new TypeError("intrinsic name must be a non-empty string")}if(arguments.length>1&&typeof allowMissing!=="boolean"){throw new TypeError('"allowMissing" argument must be a boolean')}var parts=stringToPath(name);var value=getBaseIntrinsic("%"+(parts.length>0?parts[0]:"")+"%",allowMissing);for(var i=1;i<parts.length;i+=1){if(value!=null){if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,parts[i]);if(!allowMissing&&!(parts[i]in value)){throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.")}value=desc?desc.get||desc.value:value[parts[i]]}else{value=value[parts[i]]}}}return value}},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function"){return false}if(typeof Symbol.iterator==="symbol"){return true}var obj={};var sym=Symbol("test");var symObj=Object(sym);if(typeof sym==="string"){return false}if(Object.prototype.toString.call(sym)!=="[object Symbol]"){return false}if(Object.prototype.toString.call(symObj)!=="[object Symbol]"){return false}var symVal=42;obj[sym]=symVal;for(sym in obj){return false}if(typeof Object.keys==="function"&&Object.keys(obj).length!==0){return false}if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(obj).length!==0){return false}var syms=Object.getOwnPropertySymbols(obj);if(syms.length!==1||syms[0]!==sym){return false}if(!Object.prototype.propertyIsEnumerable.call(obj,sym)){return false}if(typeof Object.getOwnPropertyDescriptor==="function"){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(descriptor.value!==symVal||descriptor.enumerable!==true){return false}}return true}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(292);var define=__webpack_require__(118);module.exports=function shimObjectIs(){var polyfill=getPolyfill();define(Object,{is:polyfill},{is:function testObjectIs(){return Object.is!==polyfill}});return polyfill}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(290)();var hasToStringTag=hasSymbols&&typeof Symbol.toStringTag==="symbol";var hasOwnProperty;var regexExec;var isRegexMarker;var badStringifier;if(hasToStringTag){hasOwnProperty=Function.call.bind(Object.prototype.hasOwnProperty);regexExec=Function.call.bind(RegExp.prototype.exec);isRegexMarker={};var throwRegexMarker=function(){throw isRegexMarker};badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker};if(typeof Symbol.toPrimitive==="symbol"){badStringifier[Symbol.toPrimitive]=throwRegexMarker}}var toStr=Object.prototype.toString;var gOPD=Object.getOwnPropertyDescriptor;var regexClass="[object RegExp]";module.exports=hasToStringTag?function isRegex(value){if(!value||typeof value!=="object"){return false}var descriptor=gOPD(value,"lastIndex");var hasLastIndexDataProperty=descriptor&&hasOwnProperty(descriptor,"value");if(!hasLastIndexDataProperty){return false}try{regexExec(value,badStringifier)}catch(e){return e===isRegexMarker}}:function isRegex(value){if(!value||typeof value!=="object"&&typeof value!=="function"){return false}return toStr.call(value)===regexClass}},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(118);var callBind=__webpack_require__(288);var implementation=__webpack_require__(293);var getPolyfill=__webpack_require__(294);var shim=__webpack_require__(770);var flagsBound=callBind(implementation);define(flagsBound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim});module.exports=flagsBound},function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__(118).supportsDescriptors;var getPolyfill=__webpack_require__(294);var gOPD=Object.getOwnPropertyDescriptor;var defineProperty=Object.defineProperty;var TypeErr=TypeError;var getProto=Object.getPrototypeOf;var regex=/a/;module.exports=function shimFlags(){if(!supportsDescriptors||!getProto){throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors")}var polyfill=getPolyfill();var proto=getProto(regex);var descriptor=gOPD(proto,"flags");if(!descriptor||descriptor.get!==polyfill){defineProperty(proto,"flags",{configurable:true,enumerable:false,get:polyfill})}return polyfill}},function(module,exports,__webpack_require__){"use strict";var getDay=Date.prototype.getDay;var tryDateObject=function tryDateGetDayCall(value){try{getDay.call(value);return true}catch(e){return false}};var toStr=Object.prototype.toString;var dateClass="[object Date]";var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";module.exports=function isDateObject(value){if(typeof value!=="object"||value===null){return false}return hasToStringTag?tryDateObject(value):toStr.call(value)===dateClass}},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(295)):undefined})(this,(function(exports,d3Time){"use strict";function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);date.setFullYear(d.y);return date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));date.setUTCFullYear(d.y);return date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y:y,m:m,d:d,H:0,M:0,S:0,L:0}}function formatLocale(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;var periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths);var formats={a:formatShortWeekday,A:formatWeekday,b:formatShortMonth,B:formatMonth,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:formatPeriod,q:formatQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent};var utcFormats={a:formatUTCShortWeekday,A:formatUTCWeekday,b:formatUTCShortMonth,B:formatUTCMonth,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:formatUTCPeriod,q:formatUTCQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent};var parses={a:parseShortWeekday,A:parseWeekday,b:parseShortMonth,B:parseMonth,c:parseLocaleDateTime,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:parsePeriod,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:parseLocaleDate,X:parseLocaleTime,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};formats.x=newFormat(locale_date,formats);formats.X=newFormat(locale_time,formats);formats.c=newFormat(locale_dateTime,formats);utcFormats.x=newFormat(locale_date,utcFormats);utcFormats.X=newFormat(locale_time,utcFormats);utcFormats.c=newFormat(locale_dateTime,utcFormats);function newFormat(specifier,formats){return function(date){var string=[],i=-1,j=0,n=specifier.length,c,pad,format;if(!(date instanceof Date))date=new Date(+date);while(++i<n){if(specifier.charCodeAt(i)===37){string.push(specifier.slice(j,i));if((pad=pads[c=specifier.charAt(++i)])!=null)c=specifier.charAt(++i);else pad=c==="e"?" ":"0";if(format=formats[c])c=format(date,pad);string.push(c);j=i+1}}string.push(specifier.slice(j,i));return string.join("")}}function newParse(specifier,Z){return function(string){var d=newDate(1900,undefined,1),i=parseSpecifier(d,specifier,string+="",0),week,day;if(i!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(d.s*1e3+("L"in d?d.L:0));if(Z&&!("Z"in d))d.Z=0;if("p"in d)d.H=d.H%12+d.p*12;if(d.m===undefined)d.m="q"in d?d.q:0;if("V"in d){if(d.V<1||d.V>53)return null;if(!("w"in d))d.w=1;if("Z"in d){week=utcDate(newDate(d.y,0,1)),day=week.getUTCDay();week=day>4||day===0?d3Time.utcMonday.ceil(week):d3Time.utcMonday(week);week=d3Time.utcDay.offset(week,(d.V-1)*7);d.y=week.getUTCFullYear();d.m=week.getUTCMonth();d.d=week.getUTCDate()+(d.w+6)%7}else{week=localDate(newDate(d.y,0,1)),day=week.getDay();week=day>4||day===0?d3Time.timeMonday.ceil(week):d3Time.timeMonday(week);week=d3Time.timeDay.offset(week,(d.V-1)*7);d.y=week.getFullYear();d.m=week.getMonth();d.d=week.getDate()+(d.w+6)%7}}else if("W"in d||"U"in d){if(!("w"in d))d.w="u"in d?d.u%7:"W"in d?1:0;day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay();d.m=0;d.d="W"in d?(d.w+6)%7+d.W*7-(day+5)%7:d.w+d.U*7-(day+6)%7}if("Z"in d){d.H+=d.Z/100|0;d.M+=d.Z%100;return utcDate(d)}return localDate(d)}}function parseSpecifier(d,specifier,string,j){var i=0,n=specifier.length,m=string.length,c,parse;while(i<n){if(j>=m)return-1;c=specifier.charCodeAt(i++);if(c===37){c=specifier.charAt(i++);parse=parses[c in pads?specifier.charAt(i++):c];if(!parse||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++)){return-1}}return j}function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup[n[0].toLowerCase()],i+n[0].length):-1}function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)}function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)}function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)}function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]}function formatWeekday(d){return locale_weekdays[d.getDay()]}function formatShortMonth(d){return locale_shortMonths[d.getMonth()]}function formatMonth(d){return locale_months[d.getMonth()]}function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]}function formatQuarter(d){return 1+~~(d.getMonth()/3)}function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]}function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]}function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]}function formatUTCMonth(d){return locale_months[d.getUTCMonth()]}function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]}function formatUTCQuarter(d){return 1+~~(d.getUTCMonth()/3)}return{format:function(specifier){var f=newFormat(specifier+="",formats);f.toString=function(){return specifier};return f},parse:function(specifier){var p=newParse(specifier+="",false);p.toString=function(){return specifier};return p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);f.toString=function(){return specifier};return f},utcParse:function(specifier){var p=newParse(specifier+="",true);p.toString=function(){return specifier};return p}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){var map={},i=-1,n=names.length;while(++i<n)map[names[i].toLowerCase()]=i;return map}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseQuarter(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.q=n[0]*3-3,i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.s=+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+d3Time.timeDay.count(d3Time.timeYear(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return day===0?7:day}function formatWeekNumberSunday(d,p){return pad(d3Time.timeSunday.count(d3Time.timeYear(d)-1,d),p,2)}function formatWeekNumberISO(d,p){var day=d.getDay();d=day>=4||day===0?d3Time.timeThursday(d):d3Time.timeThursday.ceil(d);return pad(d3Time.timeThursday.count(d3Time.timeYear(d),d)+(d3Time.timeYear(d).getDay()===4),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(d3Time.timeMonday.count(d3Time.timeYear(d)-1,d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+d3Time.utcDay.count(d3Time.utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return dow===0?7:dow}function formatUTCWeekNumberSunday(d,p){return pad(d3Time.utcSunday.count(d3Time.utcYear(d)-1,d),p,2)}function formatUTCWeekNumberISO(d,p){var day=d.getUTCDay();d=day>=4||day===0?d3Time.utcThursday(d):d3Time.utcThursday.ceil(d);return pad(d3Time.utcThursday.count(d3Time.utcYear(d),d)+(d3Time.utcYear(d).getUTCDay()===4),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(d3Time.utcMonday.count(d3Time.utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}var locale;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(definition){locale=formatLocale(definition);exports.timeFormat=locale.format;exports.timeParse=locale.parse;exports.utcFormat=locale.utcFormat;exports.utcParse=locale.utcParse;return locale}var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(date){return date.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:exports.utcFormat(isoSpecifier);function parseIsoNative(string){var date=new Date(string);return isNaN(date)?null:date}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:exports.utcParse(isoSpecifier);exports.isoFormat=formatIso;exports.isoParse=parseIso;exports.timeFormatDefaultLocale=defaultLocale;exports.timeFormatLocale=formatLocale;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUniquePropertyValues=getUniquePropertyValues;exports.addValueToArray=addValueToArray;function getUniquePropertyValues(arr,accessor){var setOfValues=new Set(arr.map(accessor));return Array.from(setOfValues)}function addValueToArray(arr,value){var result=[].concat(arr);if(result[0]>value){result[0]=value}if(result[result.length-1]<value){result[result.length-1]=value}return result}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}var _Motion=__webpack_require__(775);exports.Motion=_interopRequire(_Motion);var _StaggeredMotion=__webpack_require__(780);exports.StaggeredMotion=_interopRequire(_StaggeredMotion);var _TransitionMotion=__webpack_require__(781);exports.TransitionMotion=_interopRequire(_TransitionMotion);var _spring=__webpack_require__(783);exports.spring=_interopRequire(_spring);var _presets=__webpack_require__(297);exports.presets=_interopRequire(_presets);var _stripStyle=__webpack_require__(144);exports.stripStyle=_interopRequire(_stripStyle);var _reorderKeys=__webpack_require__(784);exports.reorderKeys=_interopRequire(_reorderKeys)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _mapToZero=__webpack_require__(185);var _mapToZero2=_interopRequireDefault(_mapToZero);var _stripStyle=__webpack_require__(144);var _stripStyle2=_interopRequireDefault(_stripStyle);var _stepper3=__webpack_require__(186);var _stepper4=_interopRequireDefault(_stepper3);var _performanceNow=__webpack_require__(187);var _performanceNow2=_interopRequireDefault(_performanceNow);var _raf=__webpack_require__(142);var _raf2=_interopRequireDefault(_raf);var _shouldStopAnimation=__webpack_require__(188);var _shouldStopAnimation2=_interopRequireDefault(_shouldStopAnimation);var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _createReactClass=__webpack_require__(189);var _createReactClass2=_interopRequireDefault(_createReactClass);var msPerFrame=1e3/60;var Motion=_createReactClass2["default"]({propTypes:{defaultStyle:_propTypes2["default"].objectOf(_propTypes2["default"].number),style:_propTypes2["default"].objectOf(_propTypes2["default"].oneOfType([_propTypes2["default"].number,_propTypes2["default"].object])).isRequired,children:_propTypes2["default"].func.isRequired,onRest:_propTypes2["default"].func},getInitialState:function getInitialState(){var _props=this.props;var defaultStyle=_props.defaultStyle;var style=_props.style;var currentStyle=defaultStyle||_stripStyle2["default"](style);var currentVelocity=_mapToZero2["default"](currentStyle);return{currentStyle:currentStyle,currentVelocity:currentVelocity,lastIdealStyle:currentStyle,lastIdealVelocity:currentVelocity}},wasAnimating:false,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function clearUnreadPropStyle(destStyle){var dirty=false;var _state=this.state;var currentStyle=_state.currentStyle;var currentVelocity=_state.currentVelocity;var lastIdealStyle=_state.lastIdealStyle;var lastIdealVelocity=_state.lastIdealVelocity;for(var key in destStyle){if(!Object.prototype.hasOwnProperty.call(destStyle,key)){continue}var styleValue=destStyle[key];if(typeof styleValue==="number"){if(!dirty){dirty=true;currentStyle=_extends({},currentStyle);currentVelocity=_extends({},currentVelocity);lastIdealStyle=_extends({},lastIdealStyle);lastIdealVelocity=_extends({},lastIdealVelocity)}currentStyle[key]=styleValue;currentVelocity[key]=0;lastIdealStyle[key]=styleValue;lastIdealVelocity[key]=0}}if(dirty){this.setState({currentStyle:currentStyle,currentVelocity:currentVelocity,lastIdealStyle:lastIdealStyle,lastIdealVelocity:lastIdealVelocity})}},startAnimationIfNecessary:function startAnimationIfNecessary(){var _this=this;this.animationID=_raf2["default"]((function(timestamp){var propsStyle=_this.props.style;if(_shouldStopAnimation2["default"](_this.state.currentStyle,propsStyle,_this.state.currentVelocity)){if(_this.wasAnimating&&_this.props.onRest){_this.props.onRest()}_this.animationID=null;_this.wasAnimating=false;_this.accumulatedTime=0;return}_this.wasAnimating=true;var currentTime=timestamp||_performanceNow2["default"]();var timeDelta=currentTime-_this.prevTime;_this.prevTime=currentTime;_this.accumulatedTime=_this.accumulatedTime+timeDelta;if(_this.accumulatedTime>msPerFrame*10){_this.accumulatedTime=0}if(_this.accumulatedTime===0){_this.animationID=null;_this.startAnimationIfNecessary();return}var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/msPerFrame)*msPerFrame)/msPerFrame;var framesToCatchUp=Math.floor(_this.accumulatedTime/msPerFrame);var newLastIdealStyle={};var newLastIdealVelocity={};var newCurrentStyle={};var newCurrentVelocity={};for(var key in propsStyle){if(!Object.prototype.hasOwnProperty.call(propsStyle,key)){continue}var styleValue=propsStyle[key];if(typeof styleValue==="number"){newCurrentStyle[key]=styleValue;newCurrentVelocity[key]=0;newLastIdealStyle[key]=styleValue;newLastIdealVelocity[key]=0}else{var newLastIdealStyleValue=_this.state.lastIdealStyle[key];var newLastIdealVelocityValue=_this.state.lastIdealVelocity[key];for(var i=0;i<framesToCatchUp;i++){var _stepper=_stepper4["default"](msPerFrame/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);newLastIdealStyleValue=_stepper[0];newLastIdealVelocityValue=_stepper[1]}var _stepper2=_stepper4["default"](msPerFrame/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);var nextIdealX=_stepper2[0];var nextIdealV=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion;newCurrentVelocity[key]=newLastIdealVelocityValue+(nextIdealV-newLastIdealVelocityValue)*currentFrameCompletion;newLastIdealStyle[key]=newLastIdealStyleValue;newLastIdealVelocity[key]=newLastIdealVelocityValue}}_this.animationID=null;_this.accumulatedTime-=framesToCatchUp*msPerFrame;_this.setState({currentStyle:newCurrentStyle,currentVelocity:newCurrentVelocity,lastIdealStyle:newLastIdealStyle,lastIdealVelocity:newLastIdealVelocity});_this.unreadPropStyle=null;_this.startAnimationIfNecessary()}))},componentDidMount:function componentDidMount(){this.prevTime=_performanceNow2["default"]();this.startAnimationIfNecessary()},componentWillReceiveProps:function componentWillReceiveProps(props){if(this.unreadPropStyle!=null){this.clearUnreadPropStyle(this.unreadPropStyle)}this.unreadPropStyle=props.style;if(this.animationID==null){this.prevTime=_performanceNow2["default"]();this.startAnimationIfNecessary()}},componentWillUnmount:function componentWillUnmount(){if(this.animationID!=null){_raf2["default"].cancel(this.animationID);this.animationID=null}},render:function render(){var renderedChildren=this.props.children(this.state.currentStyle);return renderedChildren&&_react2["default"].Children.only(renderedChildren)}});exports["default"]=Motion;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _assign=__webpack_require__(777);var emptyObject=__webpack_require__(778);var _invariant=__webpack_require__(779);if(false){var warning}var MIXINS_KEY="mixins";function identity(fn){return fn}var ReactPropTypeLocationNames;if(false){}else{ReactPropTypeLocationNames={}}function factory(ReactComponent,isValidElement,ReactNoopUpdateQueue){var injectedMixins=[];var ReactClassInterface={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"};var ReactClassStaticInterface={getDerivedStateFromProps:"DEFINE_MANY_MERGED"};var RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins){for(var i=0;i<mixins.length;i++){mixSpecIntoComponent(Constructor,mixins[i])}}},childContextTypes:function(Constructor,childContextTypes){if(false){}Constructor.childContextTypes=_assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){if(false){}Constructor.contextTypes=_assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){if(Constructor.getDefaultProps){Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps)}else{Constructor.getDefaultProps=getDefaultProps}},propTypes:function(Constructor,propTypes){if(false){}Constructor.propTypes=_assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}};function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef){if(typeDef.hasOwnProperty(propName)){if(false){}}}}function validateMethodOverride(isAlreadyDefined,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;if(ReactClassMixin.hasOwnProperty(name)){_invariant(specPolicy==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override "+"`%s` from your class specification. Ensure that your method names "+"do not overlap with React methods.",name)}if(isAlreadyDefined){_invariant(specPolicy==="DEFINE_MANY"||specPolicy==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define "+"`%s` on your component more than once. This conflict may be due "+"to a mixin.",name)}}function mixSpecIntoComponent(Constructor,spec){if(!spec){if(false){var isMixinValid,typeofSpec}return}_invariant(typeof spec!=="function","ReactClass: You're attempting to "+"use a component class or function as a mixin. Instead, just use a "+"regular object.");_invariant(!isValidElement(spec),"ReactClass: You're attempting to "+"use a component as a mixin. Instead, just use a regular object.");var proto=Constructor.prototype;var autoBindPairs=proto.__reactAutoBindPairs;if(spec.hasOwnProperty(MIXINS_KEY)){RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins)}for(var name in spec){if(!spec.hasOwnProperty(name)){continue}if(name===MIXINS_KEY){continue}var property=spec[name];var isAlreadyDefined=proto.hasOwnProperty(name);validateMethodOverride(isAlreadyDefined,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){RESERVED_SPEC_KEYS[name](Constructor,property)}else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name);var isFunction=typeof property==="function";var shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==false;if(shouldAutoBind){autoBindPairs.push(name,property);proto[name]=property}else{if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];_invariant(isReactClassMethod&&(specPolicy==="DEFINE_MANY_MERGED"||specPolicy==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s "+"when mixing in component specs.",specPolicy,name);if(specPolicy==="DEFINE_MANY_MERGED"){proto[name]=createMergedResultFunction(proto[name],property)}else if(specPolicy==="DEFINE_MANY"){proto[name]=createChainedFunction(proto[name],property)}}else{proto[name]=property;if(false){}}}}}}function mixStaticSpecIntoComponent(Constructor,statics){if(!statics){return}for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name)){continue}var isReserved=name in RESERVED_SPEC_KEYS;_invariant(!isReserved,"ReactClass: You are attempting to define a reserved "+'property, `%s`, that shouldn\'t be on the "statics" key. Define it '+"as an instance property instead; it will still be accessible on the "+"constructor.",name);var isAlreadyDefined=name in Constructor;if(isAlreadyDefined){var specPolicy=ReactClassStaticInterface.hasOwnProperty(name)?ReactClassStaticInterface[name]:null;_invariant(specPolicy==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define "+"`%s` on your component more than once. This conflict may be "+"due to a mixin.",name);Constructor[name]=createMergedResultFunction(Constructor[name],property);return}Constructor[name]=property}}function mergeIntoWithNoDuplicateKeys(one,two){_invariant(one&&two&&typeof one==="object"&&typeof two==="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var key in two){if(two.hasOwnProperty(key)){_invariant(one[key]===undefined,"mergeIntoWithNoDuplicateKeys(): "+"Tried to merge two objects with the same key: `%s`. This conflict "+"may be due to a mixin; in particular, this may be caused by two "+"getInitialState() or getDefaultProps() methods returning objects "+"with clashing keys.",key);one[key]=two[key]}}return one}function createMergedResultFunction(one,two){return function mergedResult(){var a=one.apply(this,arguments);var b=two.apply(this,arguments);if(a==null){return b}else if(b==null){return a}var c={};mergeIntoWithNoDuplicateKeys(c,a);mergeIntoWithNoDuplicateKeys(c,b);return c}}function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments);two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);if(false){var _bind,componentName}return boundMethod}function bindAutoBindMethods(component){var pairs=component.__reactAutoBindPairs;for(var i=0;i<pairs.length;i+=2){var autoBindKey=pairs[i];var method=pairs[i+1];component[autoBindKey]=bindAutoBindMethod(component,method)}}var IsMountedPreMixin={componentDidMount:function(){this.__isMounted=true}};var IsMountedPostMixin={componentWillUnmount:function(){this.__isMounted=false}};var ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState,callback)},isMounted:function(){if(false){}return!!this.__isMounted}};var ReactClassComponent=function(){};_assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);function createClass(spec){var Constructor=identity((function(props,context,updater){if(false){}if(this.__reactAutoBindPairs.length){bindAutoBindMethods(this)}this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue;this.state=null;var initialState=this.getInitialState?this.getInitialState():null;if(false){}_invariant(typeof initialState==="object"&&!Array.isArray(initialState),"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent");this.state=initialState}));Constructor.prototype=new ReactClassComponent;Constructor.prototype.constructor=Constructor;Constructor.prototype.__reactAutoBindPairs=[];injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor));mixSpecIntoComponent(Constructor,IsMountedPreMixin);mixSpecIntoComponent(Constructor,spec);mixSpecIntoComponent(Constructor,IsMountedPostMixin);if(Constructor.getDefaultProps){Constructor.defaultProps=Constructor.getDefaultProps()}if(false){}_invariant(Constructor.prototype.render,"createClass(...): Class specification must implement a `render` method.");if(false){}for(var methodName in ReactClassInterface){if(!Constructor.prototype[methodName]){Constructor.prototype[methodName]=null}}return Constructor}return createClass}module.exports=factory},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map((function(n){return test2[n]}));if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter}));if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},function(module,exports,__webpack_require__){"use strict";var emptyObject={};if(false){}module.exports=emptyObject},function(module,exports,__webpack_require__){"use strict";var validateFormat=function validateFormat(format){};if(false){}function invariant(condition,format,a,b,c,d,e,f){validateFormat(format);if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,(function(){return args[argIndex++]})));error.name="Invariant Violation"}error.framesToPop=1;throw error}}module.exports=invariant},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _mapToZero=__webpack_require__(185);var _mapToZero2=_interopRequireDefault(_mapToZero);var _stripStyle=__webpack_require__(144);var _stripStyle2=_interopRequireDefault(_stripStyle);var _stepper3=__webpack_require__(186);var _stepper4=_interopRequireDefault(_stepper3);var _performanceNow=__webpack_require__(187);var _performanceNow2=_interopRequireDefault(_performanceNow);var _raf=__webpack_require__(142);var _raf2=_interopRequireDefault(_raf);var _shouldStopAnimation=__webpack_require__(188);var _shouldStopAnimation2=_interopRequireDefault(_shouldStopAnimation);var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _createReactClass=__webpack_require__(189);var _createReactClass2=_interopRequireDefault(_createReactClass);var msPerFrame=1e3/60;function shouldStopAnimationAll(currentStyles,styles,currentVelocities){for(var i=0;i<currentStyles.length;i++){if(!_shouldStopAnimation2["default"](currentStyles[i],styles[i],currentVelocities[i])){return false}}return true}var StaggeredMotion=_createReactClass2["default"]({propTypes:{defaultStyles:_propTypes2["default"].arrayOf(_propTypes2["default"].objectOf(_propTypes2["default"].number)),styles:_propTypes2["default"].func.isRequired,children:_propTypes2["default"].func.isRequired},getInitialState:function getInitialState(){var _props=this.props;var defaultStyles=_props.defaultStyles;var styles=_props.styles;var currentStyles=defaultStyles||styles().map(_stripStyle2["default"]);var currentVelocities=currentStyles.map((function(currentStyle){return _mapToZero2["default"](currentStyle)}));return{currentStyles:currentStyles,currentVelocities:currentVelocities,lastIdealStyles:currentStyles,lastIdealVelocities:currentVelocities}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function clearUnreadPropStyle(unreadPropStyles){var _state=this.state;var currentStyles=_state.currentStyles;var currentVelocities=_state.currentVelocities;var lastIdealStyles=_state.lastIdealStyles;var lastIdealVelocities=_state.lastIdealVelocities;var someDirty=false;for(var i=0;i<unreadPropStyles.length;i++){var unreadPropStyle=unreadPropStyles[i];var dirty=false;for(var key in unreadPropStyle){if(!Object.prototype.hasOwnProperty.call(unreadPropStyle,key)){continue}var styleValue=unreadPropStyle[key];if(typeof styleValue==="number"){if(!dirty){dirty=true;someDirty=true;currentStyles[i]=_extends({},currentStyles[i]);currentVelocities[i]=_extends({},currentVelocities[i]);lastIdealStyles[i]=_extends({},lastIdealStyles[i]);lastIdealVelocities[i]=_extends({},lastIdealVelocities[i])}currentStyles[i][key]=styleValue;currentVelocities[i][key]=0;lastIdealStyles[i][key]=styleValue;lastIdealVelocities[i][key]=0}}}if(someDirty){this.setState({currentStyles:currentStyles,currentVelocities:currentVelocities,lastIdealStyles:lastIdealStyles,lastIdealVelocities:lastIdealVelocities})}},startAnimationIfNecessary:function startAnimationIfNecessary(){var _this=this;this.animationID=_raf2["default"]((function(timestamp){var destStyles=_this.props.styles(_this.state.lastIdealStyles);if(shouldStopAnimationAll(_this.state.currentStyles,destStyles,_this.state.currentVelocities)){_this.animationID=null;_this.accumulatedTime=0;return}var currentTime=timestamp||_performanceNow2["default"]();var timeDelta=currentTime-_this.prevTime;_this.prevTime=currentTime;_this.accumulatedTime=_this.accumulatedTime+timeDelta;if(_this.accumulatedTime>msPerFrame*10){_this.accumulatedTime=0}if(_this.accumulatedTime===0){_this.animationID=null;_this.startAnimationIfNecessary();return}var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/msPerFrame)*msPerFrame)/msPerFrame;var framesToCatchUp=Math.floor(_this.accumulatedTime/msPerFrame);var newLastIdealStyles=[];var newLastIdealVelocities=[];var newCurrentStyles=[];var newCurrentVelocities=[];for(var i=0;i<destStyles.length;i++){var destStyle=destStyles[i];var newCurrentStyle={};var newCurrentVelocity={};var newLastIdealStyle={};var newLastIdealVelocity={};for(var key in destStyle){if(!Object.prototype.hasOwnProperty.call(destStyle,key)){continue}var styleValue=destStyle[key];if(typeof styleValue==="number"){newCurrentStyle[key]=styleValue;newCurrentVelocity[key]=0;newLastIdealStyle[key]=styleValue;newLastIdealVelocity[key]=0}else{var newLastIdealStyleValue=_this.state.lastIdealStyles[i][key];var newLastIdealVelocityValue=_this.state.lastIdealVelocities[i][key];for(var j=0;j<framesToCatchUp;j++){var _stepper=_stepper4["default"](msPerFrame/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);newLastIdealStyleValue=_stepper[0];newLastIdealVelocityValue=_stepper[1]}var _stepper2=_stepper4["default"](msPerFrame/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);var nextIdealX=_stepper2[0];var nextIdealV=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion;newCurrentVelocity[key]=newLastIdealVelocityValue+(nextIdealV-newLastIdealVelocityValue)*currentFrameCompletion;newLastIdealStyle[key]=newLastIdealStyleValue;newLastIdealVelocity[key]=newLastIdealVelocityValue}}newCurrentStyles[i]=newCurrentStyle;newCurrentVelocities[i]=newCurrentVelocity;newLastIdealStyles[i]=newLastIdealStyle;newLastIdealVelocities[i]=newLastIdealVelocity}_this.animationID=null;_this.accumulatedTime-=framesToCatchUp*msPerFrame;_this.setState({currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities,lastIdealStyles:newLastIdealStyles,lastIdealVelocities:newLastIdealVelocities});_this.unreadPropStyles=null;_this.startAnimationIfNecessary()}))},componentDidMount:function componentDidMount(){this.prevTime=_performanceNow2["default"]();this.startAnimationIfNecessary()},componentWillReceiveProps:function componentWillReceiveProps(props){if(this.unreadPropStyles!=null){this.clearUnreadPropStyle(this.unreadPropStyles)}this.unreadPropStyles=props.styles(this.state.lastIdealStyles);if(this.animationID==null){this.prevTime=_performanceNow2["default"]();this.startAnimationIfNecessary()}},componentWillUnmount:function componentWillUnmount(){if(this.animationID!=null){_raf2["default"].cancel(this.animationID);this.animationID=null}},render:function render(){var renderedChildren=this.props.children(this.state.currentStyles);return renderedChildren&&_react2["default"].Children.only(renderedChildren)}});exports["default"]=StaggeredMotion;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _mapToZero=__webpack_require__(185);var _mapToZero2=_interopRequireDefault(_mapToZero);var _stripStyle=__webpack_require__(144);var _stripStyle2=_interopRequireDefault(_stripStyle);var _stepper3=__webpack_require__(186);var _stepper4=_interopRequireDefault(_stepper3);var _mergeDiff=__webpack_require__(782);var _mergeDiff2=_interopRequireDefault(_mergeDiff);var _performanceNow=__webpack_require__(187);var _performanceNow2=_interopRequireDefault(_performanceNow);var _raf=__webpack_require__(142);var _raf2=_interopRequireDefault(_raf);var _shouldStopAnimation=__webpack_require__(188);var _shouldStopAnimation2=_interopRequireDefault(_shouldStopAnimation);var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _createReactClass=__webpack_require__(189);var _createReactClass2=_interopRequireDefault(_createReactClass);var msPerFrame=1e3/60;function rehydrateStyles(mergedPropsStyles,unreadPropStyles,plainStyles){var cUnreadPropStyles=unreadPropStyles;if(cUnreadPropStyles==null){return mergedPropsStyles.map((function(mergedPropsStyle,i){return{key:mergedPropsStyle.key,data:mergedPropsStyle.data,style:plainStyles[i]}}))}return mergedPropsStyles.map((function(mergedPropsStyle,i){for(var j=0;j<cUnreadPropStyles.length;j++){if(cUnreadPropStyles[j].key===mergedPropsStyle.key){return{key:cUnreadPropStyles[j].key,data:cUnreadPropStyles[j].data,style:plainStyles[i]}}}return{key:mergedPropsStyle.key,data:mergedPropsStyle.data,style:plainStyles[i]}}))}function shouldStopAnimationAll(currentStyles,destStyles,currentVelocities,mergedPropsStyles){if(mergedPropsStyles.length!==destStyles.length){return false}for(var i=0;i<mergedPropsStyles.length;i++){if(mergedPropsStyles[i].key!==destStyles[i].key){return false}}for(var i=0;i<mergedPropsStyles.length;i++){if(!_shouldStopAnimation2["default"](currentStyles[i],destStyles[i].style,currentVelocities[i])){return false}}return true}function mergeAndSync(willEnter,willLeave,didLeave,oldMergedPropsStyles,destStyles,oldCurrentStyles,oldCurrentVelocities,oldLastIdealStyles,oldLastIdealVelocities){var newMergedPropsStyles=_mergeDiff2["default"](oldMergedPropsStyles,destStyles,(function(oldIndex,oldMergedPropsStyle){var leavingStyle=willLeave(oldMergedPropsStyle);if(leavingStyle==null){didLeave({key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data});return null}if(_shouldStopAnimation2["default"](oldCurrentStyles[oldIndex],leavingStyle,oldCurrentVelocities[oldIndex])){didLeave({key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data});return null}return{key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data,style:leavingStyle}}));var newCurrentStyles=[];var newCurrentVelocities=[];var newLastIdealStyles=[];var newLastIdealVelocities=[];for(var i=0;i<newMergedPropsStyles.length;i++){var newMergedPropsStyleCell=newMergedPropsStyles[i];var foundOldIndex=null;for(var j=0;j<oldMergedPropsStyles.length;j++){if(oldMergedPropsStyles[j].key===newMergedPropsStyleCell.key){foundOldIndex=j;break}}if(foundOldIndex==null){var plainStyle=willEnter(newMergedPropsStyleCell);newCurrentStyles[i]=plainStyle;newLastIdealStyles[i]=plainStyle;var velocity=_mapToZero2["default"](newMergedPropsStyleCell.style);newCurrentVelocities[i]=velocity;newLastIdealVelocities[i]=velocity}else{newCurrentStyles[i]=oldCurrentStyles[foundOldIndex];newLastIdealStyles[i]=oldLastIdealStyles[foundOldIndex];newCurrentVelocities[i]=oldCurrentVelocities[foundOldIndex];newLastIdealVelocities[i]=oldLastIdealVelocities[foundOldIndex]}}return[newMergedPropsStyles,newCurrentStyles,newCurrentVelocities,newLastIdealStyles,newLastIdealVelocities]}var TransitionMotion=_createReactClass2["default"]({propTypes:{defaultStyles:_propTypes2["default"].arrayOf(_propTypes2["default"].shape({key:_propTypes2["default"].string.isRequired,data:_propTypes2["default"].any,style:_propTypes2["default"].objectOf(_propTypes2["default"].number).isRequired})),styles:_propTypes2["default"].oneOfType([_propTypes2["default"].func,_propTypes2["default"].arrayOf(_propTypes2["default"].shape({key:_propTypes2["default"].string.isRequired,data:_propTypes2["default"].any,style:_propTypes2["default"].objectOf(_propTypes2["default"].oneOfType([_propTypes2["default"].number,_propTypes2["default"].object])).isRequired}))]).isRequired,children:_propTypes2["default"].func.isRequired,willEnter:_propTypes2["default"].func,willLeave:_propTypes2["default"].func,didLeave:_propTypes2["default"].func},getDefaultProps:function getDefaultProps(){return{willEnter:function willEnter(styleThatEntered){return _stripStyle2["default"](styleThatEntered.style)},willLeave:function willLeave(){return null},didLeave:function didLeave(){}}},getInitialState:function getInitialState(){var _props=this.props;var defaultStyles=_props.defaultStyles;var styles=_props.styles;var willEnter=_props.willEnter;var willLeave=_props.willLeave;var didLeave=_props.didLeave;var destStyles=typeof styles==="function"?styles(defaultStyles):styles;var oldMergedPropsStyles=undefined;if(defaultStyles==null){oldMergedPropsStyles=destStyles}else{oldMergedPropsStyles=defaultStyles.map((function(defaultStyleCell){for(var i=0;i<destStyles.length;i++){if(destStyles[i].key===defaultStyleCell.key){return destStyles[i]}}return defaultStyleCell}))}var oldCurrentStyles=defaultStyles==null?destStyles.map((function(s){return _stripStyle2["default"](s.style)})):defaultStyles.map((function(s){return _stripStyle2["default"](s.style)}));var oldCurrentVelocities=defaultStyles==null?destStyles.map((function(s){return _mapToZero2["default"](s.style)})):defaultStyles.map((function(s){return _mapToZero2["default"](s.style)}));var _mergeAndSync=mergeAndSync(willEnter,willLeave,didLeave,oldMergedPropsStyles,destStyles,oldCurrentStyles,oldCurrentVelocities,oldCurrentStyles,oldCurrentVelocities);var mergedPropsStyles=_mergeAndSync[0];var currentStyles=_mergeAndSync[1];var currentVelocities=_mergeAndSync[2];var lastIdealStyles=_mergeAndSync[3];var lastIdealVelocities=_mergeAndSync[4];return{currentStyles:currentStyles,currentVelocities:currentVelocities,lastIdealStyles:lastIdealStyles,lastIdealVelocities:lastIdealVelocities,mergedPropsStyles:mergedPropsStyles}},unmounting:false,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function clearUnreadPropStyle(unreadPropStyles){var _mergeAndSync2=mergeAndSync(this.props.willEnter,this.props.willLeave,this.props.didLeave,this.state.mergedPropsStyles,unreadPropStyles,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities);var mergedPropsStyles=_mergeAndSync2[0];var currentStyles=_mergeAndSync2[1];var currentVelocities=_mergeAndSync2[2];var lastIdealStyles=_mergeAndSync2[3];var lastIdealVelocities=_mergeAndSync2[4];for(var i=0;i<unreadPropStyles.length;i++){var unreadPropStyle=unreadPropStyles[i].style;var dirty=false;for(var key in unreadPropStyle){if(!Object.prototype.hasOwnProperty.call(unreadPropStyle,key)){continue}var styleValue=unreadPropStyle[key];if(typeof styleValue==="number"){if(!dirty){dirty=true;currentStyles[i]=_extends({},currentStyles[i]);currentVelocities[i]=_extends({},currentVelocities[i]);lastIdealStyles[i]=_extends({},lastIdealStyles[i]);lastIdealVelocities[i]=_extends({},lastIdealVelocities[i]);mergedPropsStyles[i]={key:mergedPropsStyles[i].key,data:mergedPropsStyles[i].data,style:_extends({},mergedPropsStyles[i].style)}}currentStyles[i][key]=styleValue;currentVelocities[i][key]=0;lastIdealStyles[i][key]=styleValue;lastIdealVelocities[i][key]=0;mergedPropsStyles[i].style[key]=styleValue}}}this.setState({currentStyles:currentStyles,currentVelocities:currentVelocities,mergedPropsStyles:mergedPropsStyles,lastIdealStyles:lastIdealStyles,lastIdealVelocities:lastIdealVelocities})},startAnimationIfNecessary:function startAnimationIfNecessary(){var _this=this;if(this.unmounting){return}this.animationID=_raf2["default"]((function(timestamp){if(_this.unmounting){return}var propStyles=_this.props.styles;var destStyles=typeof propStyles==="function"?propStyles(rehydrateStyles(_this.state.mergedPropsStyles,_this.unreadPropStyles,_this.state.lastIdealStyles)):propStyles;if(shouldStopAnimationAll(_this.state.currentStyles,destStyles,_this.state.currentVelocities,_this.state.mergedPropsStyles)){_this.animationID=null;_this.accumulatedTime=0;return}var currentTime=timestamp||_performanceNow2["default"]();var timeDelta=currentTime-_this.prevTime;_this.prevTime=currentTime;_this.accumulatedTime=_this.accumulatedTime+timeDelta;if(_this.accumulatedTime>msPerFrame*10){_this.accumulatedTime=0}if(_this.accumulatedTime===0){_this.animationID=null;_this.startAnimationIfNecessary();return}var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/msPerFrame)*msPerFrame)/msPerFrame;var framesToCatchUp=Math.floor(_this.accumulatedTime/msPerFrame);var _mergeAndSync3=mergeAndSync(_this.props.willEnter,_this.props.willLeave,_this.props.didLeave,_this.state.mergedPropsStyles,destStyles,_this.state.currentStyles,_this.state.currentVelocities,_this.state.lastIdealStyles,_this.state.lastIdealVelocities);var newMergedPropsStyles=_mergeAndSync3[0];var newCurrentStyles=_mergeAndSync3[1];var newCurrentVelocities=_mergeAndSync3[2];var newLastIdealStyles=_mergeAndSync3[3];var newLastIdealVelocities=_mergeAndSync3[4];for(var i=0;i<newMergedPropsStyles.length;i++){var newMergedPropsStyle=newMergedPropsStyles[i].style;var newCurrentStyle={};var newCurrentVelocity={};var newLastIdealStyle={};var newLastIdealVelocity={};for(var key in newMergedPropsStyle){if(!Object.prototype.hasOwnProperty.call(newMergedPropsStyle,key)){continue}var styleValue=newMergedPropsStyle[key];if(typeof styleValue==="number"){newCurrentStyle[key]=styleValue;newCurrentVelocity[key]=0;newLastIdealStyle[key]=styleValue;newLastIdealVelocity[key]=0}else{var newLastIdealStyleValue=newLastIdealStyles[i][key];var newLastIdealVelocityValue=newLastIdealVelocities[i][key];for(var j=0;j<framesToCatchUp;j++){var _stepper=_stepper4["default"](msPerFrame/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);newLastIdealStyleValue=_stepper[0];newLastIdealVelocityValue=_stepper[1]}var _stepper2=_stepper4["default"](msPerFrame/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);var nextIdealX=_stepper2[0];var nextIdealV=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion;newCurrentVelocity[key]=newLastIdealVelocityValue+(nextIdealV-newLastIdealVelocityValue)*currentFrameCompletion;newLastIdealStyle[key]=newLastIdealStyleValue;newLastIdealVelocity[key]=newLastIdealVelocityValue}}newLastIdealStyles[i]=newLastIdealStyle;newLastIdealVelocities[i]=newLastIdealVelocity;newCurrentStyles[i]=newCurrentStyle;newCurrentVelocities[i]=newCurrentVelocity}_this.animationID=null;_this.accumulatedTime-=framesToCatchUp*msPerFrame;_this.setState({currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities,lastIdealStyles:newLastIdealStyles,lastIdealVelocities:newLastIdealVelocities,mergedPropsStyles:newMergedPropsStyles});_this.unreadPropStyles=null;_this.startAnimationIfNecessary()}))},componentDidMount:function componentDidMount(){this.prevTime=_performanceNow2["default"]();this.startAnimationIfNecessary()},componentWillReceiveProps:function componentWillReceiveProps(props){if(this.unreadPropStyles){this.clearUnreadPropStyle(this.unreadPropStyles)}var styles=props.styles;if(typeof styles==="function"){this.unreadPropStyles=styles(rehydrateStyles(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles))}else{this.unreadPropStyles=styles}if(this.animationID==null){this.prevTime=_performanceNow2["default"]();this.startAnimationIfNecessary()}},componentWillUnmount:function componentWillUnmount(){this.unmounting=true;if(this.animationID!=null){_raf2["default"].cancel(this.animationID);this.animationID=null}},render:function render(){var hydratedStyles=rehydrateStyles(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles);var renderedChildren=this.props.children(hydratedStyles);return renderedChildren&&_react2["default"].Children.only(renderedChildren)}});exports["default"]=TransitionMotion;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=mergeDiff;function mergeDiff(prev,next,onRemove){var prevKeyIndex={};for(var i=0;i<prev.length;i++){prevKeyIndex[prev[i].key]=i}var nextKeyIndex={};for(var i=0;i<next.length;i++){nextKeyIndex[next[i].key]=i}var ret=[];for(var i=0;i<next.length;i++){ret[i]=next[i]}for(var i=0;i<prev.length;i++){if(!Object.prototype.hasOwnProperty.call(nextKeyIndex,prev[i].key)){var fill=onRemove(i,prev[i]);if(fill!=null){ret.push(fill)}}}return ret.sort((function(a,b){var nextOrderA=nextKeyIndex[a.key];var nextOrderB=nextKeyIndex[b.key];var prevOrderA=prevKeyIndex[a.key];var prevOrderB=prevKeyIndex[b.key];if(nextOrderA!=null&&nextOrderB!=null){return nextKeyIndex[a.key]-nextKeyIndex[b.key]}else if(prevOrderA!=null&&prevOrderB!=null){return prevKeyIndex[a.key]-prevKeyIndex[b.key]}else if(nextOrderA!=null){for(var i=0;i<next.length;i++){var pivot=next[i].key;if(!Object.prototype.hasOwnProperty.call(prevKeyIndex,pivot)){continue}if(nextOrderA<nextKeyIndex[pivot]&&prevOrderB>prevKeyIndex[pivot]){return-1}else if(nextOrderA>nextKeyIndex[pivot]&&prevOrderB<prevKeyIndex[pivot]){return 1}}return 1}for(var i=0;i<next.length;i++){var pivot=next[i].key;if(!Object.prototype.hasOwnProperty.call(prevKeyIndex,pivot)){continue}if(nextOrderB<nextKeyIndex[pivot]&&prevOrderA>prevKeyIndex[pivot]){return 1}else if(nextOrderB>nextKeyIndex[pivot]&&prevOrderA<prevKeyIndex[pivot]){return-1}}return-1}))}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports["default"]=spring;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _presets=__webpack_require__(297);var _presets2=_interopRequireDefault(_presets);var defaultConfig=_extends({},_presets2["default"].noWobble,{precision:.01});function spring(val,config){return _extends({},defaultConfig,config,{val:val})}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=reorderKeys;var hasWarned=false;function reorderKeys(){if(false){}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Interpolate=__webpack_require__(184);var _animation=__webpack_require__(49);var _seriesUtils=__webpack_require__(57);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MAX_DRAWS=30;function engageDrawLoop(ctx,height,width,layers){var drawIteration=0;var drawCycle=setInterval((function(){if(!ctx){clearInterval(drawCycle);return}drawLayers(ctx,height,width,layers,drawIteration);if(drawIteration>MAX_DRAWS){clearInterval(drawCycle)}drawIteration+=1}),1)}function drawLayers(ctx,height,width,layers,drawIteration){ctx.clearRect(0,0,width,height);layers.forEach((function(layer){var interpolator=layer.interpolator,newProps=layer.newProps,animation=layer.animation;var interpolatedProps=animation?interpolator?interpolator(drawIteration/MAX_DRAWS):interpolator:function(){return{}};layer.renderLayer(_extends({},newProps,interpolatedProps),ctx)}))}function buildLayers(newChildren,oldChildren){return newChildren.map((function(child,index){var oldProps=oldChildren[index]?oldChildren[index].props:{};var newProps=child.props;var oldAnimatedProps=(0,_animation.extractAnimatedPropValues)(_extends({},oldProps,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}));var newAnimatedProps=newProps?(0,_animation.extractAnimatedPropValues)(_extends({},newProps,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS})):null;var interpolator=(0,_d3Interpolate.interpolate)(oldAnimatedProps,newAnimatedProps);return{renderLayer:child.type.renderLayer,newProps:child.props,animation:child.props.animation,interpolator:interpolator}}))}var CanvasWrapper=function(_Component){_inherits(CanvasWrapper,_Component);function CanvasWrapper(){_classCallCheck(this,CanvasWrapper);return _possibleConstructorReturn(this,(CanvasWrapper.__proto__||Object.getPrototypeOf(CanvasWrapper)).apply(this,arguments))}_createClass(CanvasWrapper,[{key:"componentDidMount",value:function componentDidMount(){var ctx=this.refs.canvas.getContext("2d");if(!ctx){return}var pixelRatio=this.props.pixelRatio;if(!ctx){return}ctx.scale(pixelRatio,pixelRatio);this.drawChildren(this.props,null,ctx)}},{key:"componentDidUpdate",value:function componentDidUpdate(nextProps){this.drawChildren(nextProps,this.props,this.refs.canvas.getContext("2d"))}},{key:"drawChildren",value:function drawChildren(newProps,oldProps,ctx){var children=newProps.children,innerHeight=newProps.innerHeight,innerWidth=newProps.innerWidth,marginBottom=newProps.marginBottom,marginLeft=newProps.marginLeft,marginRight=newProps.marginRight,marginTop=newProps.marginTop;if(!ctx){return}var childrenShouldAnimate=children.find((function(child){return child.props.animation}));var height=innerHeight+marginTop+marginBottom;var width=innerWidth+marginLeft+marginRight;var layers=buildLayers(newProps.children,oldProps?oldProps.children:[]);if(!childrenShouldAnimate){drawLayers(ctx,height,width,layers);return}engageDrawLoop(ctx,height,width,layers)}},{key:"render",value:function render(){var _props=this.props,innerHeight=_props.innerHeight,innerWidth=_props.innerWidth,marginBottom=_props.marginBottom,marginLeft=_props.marginLeft,marginRight=_props.marginRight,marginTop=_props.marginTop,pixelRatio=_props.pixelRatio;var height=innerHeight+marginTop+marginBottom;var width=innerWidth+marginLeft+marginRight;return _react2.default.createElement("div",{style:{left:0,top:0},className:"rv-xy-canvas"},_react2.default.createElement("canvas",{className:"rv-xy-canvas-element",height:height*pixelRatio,width:width*pixelRatio,style:{height:height+"px",width:width+"px"},ref:"canvas"}))}}],[{key:"defaultProps",get:function get(){return{pixelRatio:window&&window.devicePixelRatio||1}}}]);return CanvasWrapper}(_react.Component);CanvasWrapper.displayName="CanvasWrapper";CanvasWrapper.propTypes={marginBottom:_propTypes2.default.number.isRequired,marginLeft:_propTypes2.default.number.isRequired,marginRight:_propTypes2.default.number.isRequired,marginTop:_propTypes2.default.number.isRequired,innerHeight:_propTypes2.default.number.isRequired,innerWidth:_propTypes2.default.number.isRequired,pixelRatio:_propTypes2.default.number.isRequired};exports.default=CanvasWrapper},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";var pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function Path(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null){this._+="M"+(this._x1=x1)+","+(this._y1=y1)}else if(!(l01_2>epsilon));else if(!(Math.abs(y01*x21-y21*x01)>epsilon)||!r){this._+="L"+(this._x1=x1)+","+(this._y1=y1)}else{var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;if(Math.abs(t01-1)>epsilon){this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)}this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y,r=+r,ccw=!!ccw;var dx=r*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null){this._+="M"+x0+","+y0}else if(Math.abs(this._x1-x0)>epsilon||Math.abs(this._y1-y0)>epsilon){this._+="L"+x0+","+y0}if(!r)return;if(da<0)da=da%tau+tau;if(da>tauEpsilon){this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0)}else if(da>epsilon){this._+="A"+r+","+r+",0,"+ +(da>=pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))}},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}};exports.path=path;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _barSeries=__webpack_require__(299);var _barSeries2=_interopRequireDefault(_barSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HorizontalBarSeries=function(_AbstractSeries){_inherits(HorizontalBarSeries,_AbstractSeries);function HorizontalBarSeries(){_classCallCheck(this,HorizontalBarSeries);return _possibleConstructorReturn(this,(HorizontalBarSeries.__proto__||Object.getPrototypeOf(HorizontalBarSeries)).apply(this,arguments))}_createClass(HorizontalBarSeries,[{key:"render",value:function render(){return _react2.default.createElement(_barSeries2.default,_extends({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=attr==="y";var zeroBaseValue=attr==="x";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}}]);return HorizontalBarSeries}(_abstractSeries2.default);HorizontalBarSeries.displayName="HorizontalBarSeries";exports.default=HorizontalBarSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _barSeriesCanvas=__webpack_require__(300);var _barSeriesCanvas2=_interopRequireDefault(_barSeriesCanvas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HorizontalBarSeriesCanvas=function(_AbstractSeries){_inherits(HorizontalBarSeriesCanvas,_AbstractSeries);function HorizontalBarSeriesCanvas(){_classCallCheck(this,HorizontalBarSeriesCanvas);return _possibleConstructorReturn(this,(HorizontalBarSeriesCanvas.__proto__||Object.getPrototypeOf(HorizontalBarSeriesCanvas)).apply(this,arguments))}_createClass(HorizontalBarSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=attr==="y";var zeroBaseValue=attr==="x";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}},{key:"renderLayer",value:function renderLayer(props,ctx){_barSeriesCanvas2.default.renderLayer(_extends({},props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),ctx)}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return HorizontalBarSeriesCanvas}(_abstractSeries2.default);HorizontalBarSeriesCanvas.displayName="HorizontalBarSeriesCanvas";HorizontalBarSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=HorizontalBarSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _barSeries=__webpack_require__(299);var _barSeries2=_interopRequireDefault(_barSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var VerticalBarSeries=function(_AbstractSeries){_inherits(VerticalBarSeries,_AbstractSeries);function VerticalBarSeries(){_classCallCheck(this,VerticalBarSeries);return _possibleConstructorReturn(this,(VerticalBarSeries.__proto__||Object.getPrototypeOf(VerticalBarSeries)).apply(this,arguments))}_createClass(VerticalBarSeries,[{key:"render",value:function render(){return _react2.default.createElement(_barSeries2.default,_extends({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=attr==="x";var zeroBaseValue=attr==="y";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}}]);return VerticalBarSeries}(_abstractSeries2.default);VerticalBarSeries.displayName="VerticalBarSeries";exports.default=VerticalBarSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _barSeriesCanvas=__webpack_require__(300);var _barSeriesCanvas2=_interopRequireDefault(_barSeriesCanvas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HorizontalBarSeriesCanvas=function(_AbstractSeries){_inherits(HorizontalBarSeriesCanvas,_AbstractSeries);function HorizontalBarSeriesCanvas(){_classCallCheck(this,HorizontalBarSeriesCanvas);return _possibleConstructorReturn(this,(HorizontalBarSeriesCanvas.__proto__||Object.getPrototypeOf(HorizontalBarSeriesCanvas)).apply(this,arguments))}_createClass(HorizontalBarSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=attr==="x";var zeroBaseValue=attr==="y";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}},{key:"renderLayer",value:function renderLayer(props,ctx){_barSeriesCanvas2.default.renderLayer(_extends({},props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),ctx)}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return HorizontalBarSeriesCanvas}(_abstractSeries2.default);HorizontalBarSeriesCanvas.displayName="HorizontalBarSeriesCanvas";HorizontalBarSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=HorizontalBarSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _rectSeriesCanvas=__webpack_require__(192);var _rectSeriesCanvas2=_interopRequireDefault(_rectSeriesCanvas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HorizontalRectSeriesCanvas=function(_AbstractSeries){_inherits(HorizontalRectSeriesCanvas,_AbstractSeries);function HorizontalRectSeriesCanvas(){_classCallCheck(this,HorizontalRectSeriesCanvas);return _possibleConstructorReturn(this,(HorizontalRectSeriesCanvas.__proto__||Object.getPrototypeOf(HorizontalRectSeriesCanvas)).apply(this,arguments))}_createClass(HorizontalRectSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=false;var zeroBaseValue=attr==="y";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}},{key:"renderLayer",value:function renderLayer(props,ctx){_rectSeriesCanvas2.default.renderLayer(_extends({},props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),ctx)}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return HorizontalRectSeriesCanvas}(_abstractSeries2.default);HorizontalRectSeriesCanvas.displayName="HorizontalRectSeriesCanvas";HorizontalRectSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=HorizontalRectSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _rectSeries=__webpack_require__(191);var _rectSeries2=_interopRequireDefault(_rectSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HorizontalRectSeries=function(_AbstractSeries){_inherits(HorizontalRectSeries,_AbstractSeries);function HorizontalRectSeries(){_classCallCheck(this,HorizontalRectSeries);return _possibleConstructorReturn(this,(HorizontalRectSeries.__proto__||Object.getPrototypeOf(HorizontalRectSeries)).apply(this,arguments))}_createClass(HorizontalRectSeries,[{key:"render",value:function render(){return _react2.default.createElement(_rectSeries2.default,_extends({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=false;var zeroBaseValue=attr==="x";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}}]);return HorizontalRectSeries}(_abstractSeries2.default);HorizontalRectSeries.displayName="HorizontalRectSeries";exports.default=HorizontalRectSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _rectSeriesCanvas=__webpack_require__(192);var _rectSeriesCanvas2=_interopRequireDefault(_rectSeriesCanvas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HorizontalRectSeriesCanvas=function(_AbstractSeries){_inherits(HorizontalRectSeriesCanvas,_AbstractSeries);function HorizontalRectSeriesCanvas(){_classCallCheck(this,HorizontalRectSeriesCanvas);return _possibleConstructorReturn(this,(HorizontalRectSeriesCanvas.__proto__||Object.getPrototypeOf(HorizontalRectSeriesCanvas)).apply(this,arguments))}_createClass(HorizontalRectSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=false;var zeroBaseValue=attr==="x";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded,zeroBaseValue:zeroBaseValue}}},{key:"renderLayer",value:function renderLayer(props,ctx){_rectSeriesCanvas2.default.renderLayer(_extends({},props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),ctx)}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return HorizontalRectSeriesCanvas}(_abstractSeries2.default);HorizontalRectSeriesCanvas.displayName="HorizontalRectSeriesCanvas";HorizontalRectSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=HorizontalRectSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _theme=__webpack_require__(56);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--whisker";var DEFAULT_STROKE_WIDTH=1;var DEFAULT_CROSS_BAR_WIDTH=6;var renderWhiskerMark=function renderWhiskerMark(whiskerMarkProps){return function(d,i){var crossBarWidth=whiskerMarkProps.crossBarWidth,opacityFunctor=whiskerMarkProps.opacityFunctor,sizeFunctor=whiskerMarkProps.sizeFunctor,strokeFunctor=whiskerMarkProps.strokeFunctor,strokeWidth=whiskerMarkProps.strokeWidth,style=whiskerMarkProps.style,valueClickHandler=whiskerMarkProps.valueClickHandler,valueMouseOutHandler=whiskerMarkProps.valueMouseOutHandler,valueMouseOverHandler=whiskerMarkProps.valueMouseOverHandler,valueRightClickHandler=whiskerMarkProps.valueRightClickHandler,xFunctor=whiskerMarkProps.xFunctor,yFunctor=whiskerMarkProps.yFunctor;var r=sizeFunctor?sizeFunctor(d):0;var cx=xFunctor(d);var cy=yFunctor(d);var positiveXVariance=xFunctor({x:d.x+d.xVariance/2});var negativeXVariance=xFunctor({x:d.x-d.xVariance/2});var positiveYVariance=yFunctor({y:d.y+d.yVariance/2});var negativeYVariance=yFunctor({y:d.y-d.yVariance/2});var hasXWhiskers=positiveXVariance&&cx+r<positiveXVariance;var hasYWhiskers=positiveYVariance&&cy-r>positiveYVariance;if(!hasXWhiskers&&!hasYWhiskers){return null}var styleAttr=_extends({opacity:opacityFunctor?opacityFunctor(d):_theme.DEFAULT_OPACITY,stroke:strokeFunctor&&strokeFunctor(d),strokeWidth:strokeWidth||DEFAULT_STROKE_WIDTH},style);var crossBarExtension=crossBarWidth/2;var rightLineAttrs={x1:cx+r,y1:cy,x2:positiveXVariance,y2:cy,style:styleAttr};var leftLineAttrs={x1:cx-r,y1:cy,x2:negativeXVariance,y2:cy,style:styleAttr};var rightCrossBarAttrs={x1:positiveXVariance,y1:cy-crossBarExtension,x2:positiveXVariance,y2:cy+crossBarExtension,style:styleAttr};var leftCrossBarAttrs={x1:negativeXVariance,y1:cy-crossBarExtension,x2:negativeXVariance,y2:cy+crossBarExtension,style:styleAttr};var upperLineAttrs={x1:cx,y1:cy-r,x2:cx,y2:positiveYVariance,style:styleAttr};var lowerLineAttrs={x1:cx,y1:cy+r,x2:cx,y2:negativeYVariance,style:styleAttr};var upperCrossBarAttrs={x1:cx-crossBarExtension,y1:positiveYVariance,x2:cx+crossBarExtension,y2:positiveYVariance,style:styleAttr};var lowerCrossBarAttrs={x1:cx-crossBarExtension,y1:negativeYVariance,x2:cx+crossBarExtension,y2:negativeYVariance,style:styleAttr};return _react2.default.createElement("g",{className:"mark-whiskers",key:i,onClick:function onClick(e){return valueClickHandler(d,e)},onContextMenu:function onContextMenu(e){return valueRightClickHandler(d,e)},onMouseOver:function onMouseOver(e){return valueMouseOverHandler(d,e)},onMouseOut:function onMouseOut(e){return valueMouseOutHandler(d,e)}},hasXWhiskers?_react2.default.createElement("g",{className:"x-whiskers"},_react2.default.createElement("line",rightLineAttrs),_react2.default.createElement("line",leftLineAttrs),_react2.default.createElement("line",rightCrossBarAttrs),_react2.default.createElement("line",leftCrossBarAttrs)):null,hasYWhiskers?_react2.default.createElement("g",{className:"y-whiskers"},_react2.default.createElement("line",upperLineAttrs),_react2.default.createElement("line",lowerLineAttrs),_react2.default.createElement("line",upperCrossBarAttrs),_react2.default.createElement("line",lowerCrossBarAttrs)):null)}};var WhiskerSeries=function(_AbstractSeries){_inherits(WhiskerSeries,_AbstractSeries);function WhiskerSeries(){_classCallCheck(this,WhiskerSeries);return _possibleConstructorReturn(this,(WhiskerSeries.__proto__||Object.getPrototypeOf(WhiskerSeries)).apply(this,arguments))}_createClass(WhiskerSeries,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,crossBarWidth=_props.crossBarWidth,data=_props.data,marginLeft=_props.marginLeft,marginTop=_props.marginTop,strokeWidth=_props.strokeWidth,style=_props.style;if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(WhiskerSeries,_extends({},this.props,{animation:null})))}var whiskerMarkProps={crossBarWidth:crossBarWidth,opacityFunctor:this._getAttributeFunctor("opacity"),sizeFunctor:this._getAttributeFunctor("size"),strokeFunctor:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),strokeWidth:strokeWidth,style:style,xFunctor:this._getAttributeFunctor("x"),yFunctor:this._getAttributeFunctor("y"),valueClickHandler:this._valueClickHandler,valueRightClickHandler:this._valueRightClickHandler,valueMouseOverHandler:this._valueMouseOverHandler,valueMouseOutHandler:this._valueMouseOutHandler};return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},data.map(renderWhiskerMark(whiskerMarkProps)))}}]);return WhiskerSeries}(_abstractSeries2.default);WhiskerSeries.displayName="WhiskerSeries";WhiskerSeries.propTypes=_extends({},_abstractSeries2.default.propTypes,{strokeWidth:_propTypes2.default.number});WhiskerSeries.defaultProps={crossBarWidth:DEFAULT_CROSS_BAR_WIDTH,size:0,strokeWidth:DEFAULT_STROKE_WIDTH};exports.default=WhiskerSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--heatmap";var HeatmapSeries=function(_AbstractSeries){_inherits(HeatmapSeries,_AbstractSeries);function HeatmapSeries(){_classCallCheck(this,HeatmapSeries);return _possibleConstructorReturn(this,(HeatmapSeries.__proto__||Object.getPrototypeOf(HeatmapSeries)).apply(this,arguments))}_createClass(HeatmapSeries,[{key:"render",value:function render(){var _this2=this;var _props=this.props,animation=_props.animation,className=_props.className,data=_props.data,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style;if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(HeatmapSeries,_extends({},this.props,{animation:null})))}var xFunctor=this._getAttributeFunctor("x");var yFunctor=this._getAttributeFunctor("y");var opacityFunctor=this._getAttributeFunctor("opacity");var fillFunctor=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color");var strokeFunctor=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color");var xDistance=this._getScaleDistance("x");var yDistance=this._getScaleDistance("y");return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},data.map((function(d,i){var attrs={style:_extends({stroke:strokeFunctor&&strokeFunctor(d),fill:fillFunctor&&fillFunctor(d),opacity:opacityFunctor&&opacityFunctor(d)},style),x:xFunctor(d)-xDistance/2,y:yFunctor(d)-yDistance/2,width:xDistance,height:yDistance,key:i,onClick:function onClick(e){return _this2._valueClickHandler(d,e)},onContextMenu:function onContextMenu(e){return _this2._valueRightClickHandler(d,e)},onMouseOver:function onMouseOver(e){return _this2._valueMouseOverHandler(d,e)},onMouseOut:function onMouseOut(e){return _this2._valueMouseOutHandler(d,e)}};return _react2.default.createElement("rect",attrs)})))}}],[{key:"getParentConfig",value:function getParentConfig(attr){var isDomainAdjustmentNeeded=attr==="x"||attr==="y";return{isDomainAdjustmentNeeded:isDomainAdjustmentNeeded}}}]);return HeatmapSeries}(_abstractSeries2.default);HeatmapSeries.propTypes=_extends({},_abstractSeries2.default.propTypes);HeatmapSeries.displayName="HeatmapSeries";exports.default=HeatmapSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Contour=__webpack_require__(797);var _d3Geo=__webpack_require__(798);var _d3Scale=__webpack_require__(88);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);var _theme=__webpack_require__(56);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--contour";function getDomain(data){return data.reduce((function(acc,row){return{min:Math.min(acc.min,row.value),max:Math.max(acc.max,row.value)}}),{min:Infinity,max:-Infinity})}var ContourSeries=function(_AbstractSeries){_inherits(ContourSeries,_AbstractSeries);function ContourSeries(){_classCallCheck(this,ContourSeries);return _possibleConstructorReturn(this,(ContourSeries.__proto__||Object.getPrototypeOf(ContourSeries)).apply(this,arguments))}_createClass(ContourSeries,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,bandwidth=_props.bandwidth,className=_props.className,colorRange=_props.colorRange,data=_props.data,innerHeight=_props.innerHeight,innerWidth=_props.innerWidth,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style;if(!data||!innerWidth||!innerHeight){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(ContourSeries,_extends({},this.props,{animation:null})))}var x=this._getAttributeFunctor("x");var y=this._getAttributeFunctor("y");var contouredData=(0,_d3Contour.contourDensity)().x((function(d){return x(d)})).y((function(d){return y(d)})).size([innerWidth,innerHeight]).bandwidth(bandwidth)(data);var geo=(0,_d3Geo.geoPath)();var _getDomain=getDomain(contouredData),min=_getDomain.min,max=_getDomain.max;var colorScale=(0,_d3Scale.scaleLinear)().domain([min,max]).range(colorRange||_theme.CONTINUOUS_COLOR_RANGE);return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},contouredData.map((function(polygon,index){return _react2.default.createElement("path",{className:"rv-xy-plot__series--contour-line",key:"rv-xy-plot__series--contour-line-"+index,d:geo(polygon),style:_extends({fill:colorScale(polygon.value)},style)})})))}}]);return ContourSeries}(_abstractSeries2.default);ContourSeries.propTypes={animation:_propTypes2.default.bool,bandwidth:_propTypes2.default.number,className:_propTypes2.default.string,data:_propTypes2.default.arrayOf(_propTypes2.default.shape({x:_propTypes2.default.number.isRequired,y:_propTypes2.default.number.isRequired})).isRequired,marginLeft:_propTypes2.default.number,marginTop:_propTypes2.default.number,style:_propTypes2.default.object};ContourSeries.defaultProps={bandwidth:40,style:{}};exports.default=ContourSeries},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(102)):undefined})(this,(function(exports,d3Array){"use strict";var array=Array.prototype;var slice=array.slice;function ascending(a,b){return a-b}function area(ring){var i=0,n=ring.length,area=ring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];while(++i<n)area+=ring[i-1][1]*ring[i][0]-ring[i-1][0]*ring[i][1];return area}function constant(x){return function(){return x}}function contains(ring,hole){var i=-1,n=hole.length,c;while(++i<n)if(c=ringContains(ring,hole[i]))return c;return 0}function ringContains(ring,point){var x=point[0],y=point[1],contains=-1;for(var i=0,n=ring.length,j=n-1;i<n;j=i++){var pi=ring[i],xi=pi[0],yi=pi[1],pj=ring[j],xj=pj[0],yj=pj[1];if(segmentContains(pi,pj,point))return 0;if(yi>y!==yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi)contains=-contains}return contains}function segmentContains(a,b,c){var i;return collinear(a,b,c)&&within(a[i=+(a[0]===b[0])],c[i],b[i])}function collinear(a,b,c){return(b[0]-a[0])*(c[1]-a[1])===(c[0]-a[0])*(b[1]-a[1])}function within(p,q,r){return p<=q&&q<=r||r<=q&&q<=p}function noop(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var dx=1,dy=1,threshold=d3Array.thresholdSturges,smooth=smoothLinear;function contours(values){var tz=threshold(values);if(!Array.isArray(tz)){var domain=d3Array.extent(values),start=domain[0],stop=domain[1];tz=d3Array.tickStep(start,stop,tz);tz=d3Array.range(Math.floor(start/tz)*tz,Math.floor(stop/tz)*tz,tz)}else{tz=tz.slice().sort(ascending)}return tz.map((function(value){return contour(values,value)}))}function contour(values,value){var polygons=[],holes=[];isorings(values,value,(function(ring){smooth(ring,values,value);if(area(ring)>0)polygons.push([ring]);else holes.push(ring)}));holes.forEach((function(hole){for(var i=0,n=polygons.length,polygon;i<n;++i){if(contains((polygon=polygons[i])[0],hole)!==-1){polygon.push(hole);return}}}));return{type:"MultiPolygon",value:value,coordinates:polygons}}function isorings(values,value,callback){var fragmentByStart=new Array,fragmentByEnd=new Array,x,y,t0,t1,t2,t3;x=y=-1;t1=values[0]>=value;cases[t1<<1].forEach(stitch);while(++x<dx-1){t0=t1,t1=values[x+1]>=value;cases[t0|t1<<1].forEach(stitch)}cases[t1<<0].forEach(stitch);while(++y<dy-1){x=-1;t1=values[y*dx+dx]>=value;t2=values[y*dx]>=value;cases[t1<<1|t2<<2].forEach(stitch);while(++x<dx-1){t0=t1,t1=values[y*dx+dx+x+1]>=value;t3=t2,t2=values[y*dx+x+1]>=value;cases[t0|t1<<1|t2<<2|t3<<3].forEach(stitch)}cases[t1|t2<<3].forEach(stitch)}x=-1;t2=values[y*dx]>=value;cases[t2<<2].forEach(stitch);while(++x<dx-1){t3=t2,t2=values[y*dx+x+1]>=value;cases[t2<<2|t3<<3].forEach(stitch)}cases[t2<<3].forEach(stitch);function stitch(line){var start=[line[0][0]+x,line[0][1]+y],end=[line[1][0]+x,line[1][1]+y],startIndex=index(start),endIndex=index(end),f,g;if(f=fragmentByEnd[startIndex]){if(g=fragmentByStart[endIndex]){delete fragmentByEnd[f.end];delete fragmentByStart[g.start];if(f===g){f.ring.push(end);callback(f.ring)}else{fragmentByStart[f.start]=fragmentByEnd[g.end]={start:f.start,end:g.end,ring:f.ring.concat(g.ring)}}}else{delete fragmentByEnd[f.end];f.ring.push(end);fragmentByEnd[f.end=endIndex]=f}}else if(f=fragmentByStart[endIndex]){if(g=fragmentByEnd[startIndex]){delete fragmentByStart[f.start];delete fragmentByEnd[g.end];if(f===g){f.ring.push(end);callback(f.ring)}else{fragmentByStart[g.start]=fragmentByEnd[f.end]={start:g.start,end:f.end,ring:g.ring.concat(f.ring)}}}else{delete fragmentByStart[f.start];f.ring.unshift(start);fragmentByStart[f.start=startIndex]=f}}else{fragmentByStart[startIndex]=fragmentByEnd[endIndex]={start:startIndex,end:endIndex,ring:[start,end]}}}}function index(point){return point[0]*2+point[1]*(dx+1)*4}function smoothLinear(ring,values,value){ring.forEach((function(point){var x=point[0],y=point[1],xt=x|0,yt=y|0,v0,v1=values[yt*dx+xt];if(x>0&&x<dx&&xt===x){v0=values[yt*dx+xt-1];point[0]=x+(value-v0)/(v1-v0)-.5}if(y>0&&y<dy&&yt===y){v0=values[(yt-1)*dx+xt];point[1]=y+(value-v0)/(v1-v0)-.5}}))}contours.contour=contour;contours.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.ceil(_[0]),_1=Math.ceil(_[1]);if(!(_0>0)||!(_1>0))throw new Error("invalid size");return dx=_0,dy=_1,contours};contours.thresholds=function(_){return arguments.length?(threshold=typeof _==="function"?_:Array.isArray(_)?constant(slice.call(_)):constant(_),contours):threshold};contours.smooth=function(_){return arguments.length?(smooth=_?smoothLinear:noop,contours):smooth===smoothLinear};return contours}function blurX(source,target,r){var n=source.width,m=source.height,w=(r<<1)+1;for(var j=0;j<m;++j){for(var i=0,sr=0;i<n+r;++i){if(i<n){sr+=source.data[i+j*n]}if(i>=r){if(i>=w){sr-=source.data[i-w+j*n]}target.data[i-r+j*n]=sr/Math.min(i+1,n-1+w-i,w)}}}}function blurY(source,target,r){var n=source.width,m=source.height,w=(r<<1)+1;for(var i=0;i<n;++i){for(var j=0,sr=0;j<m+r;++j){if(j<m){sr+=source.data[i+j*n]}if(j>=r){if(j>=w){sr-=source.data[i+(j-w)*n]}target.data[i+(j-r)*n]=sr/Math.min(j+1,m-1+w-j,w)}}}}function defaultX(d){return d[0]}function defaultY(d){return d[1]}function defaultWeight(){return 1}function density(){var x=defaultX,y=defaultY,weight=defaultWeight,dx=960,dy=500,r=20,k=2,o=r*3,n=dx+o*2>>k,m=dy+o*2>>k,threshold=constant(20);function density(data){var values0=new Float32Array(n*m),values1=new Float32Array(n*m);data.forEach((function(d,i,data){var xi=+x(d,i,data)+o>>k,yi=+y(d,i,data)+o>>k,wi=+weight(d,i,data);if(xi>=0&&xi<n&&yi>=0&&yi<m){values0[xi+yi*n]+=wi}}));blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k);blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k);blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k);blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);var tz=threshold(values0);if(!Array.isArray(tz)){var stop=d3Array.max(values0);tz=d3Array.tickStep(0,stop,tz);tz=d3Array.range(0,Math.floor(stop/tz)*tz,tz);tz.shift()}return contours().thresholds(tz).size([n,m])(values0).map(transform)}function transform(geometry){geometry.value*=Math.pow(2,-2*k);geometry.coordinates.forEach(transformPolygon);return geometry}function transformPolygon(coordinates){coordinates.forEach(transformRing)}function transformRing(coordinates){coordinates.forEach(transformPoint)}function transformPoint(coordinates){coordinates[0]=coordinates[0]*Math.pow(2,k)-o;coordinates[1]=coordinates[1]*Math.pow(2,k)-o}function resize(){o=r*3;n=dx+o*2>>k;m=dy+o*2>>k;return density}density.x=function(_){return arguments.length?(x=typeof _==="function"?_:constant(+_),density):x};density.y=function(_){return arguments.length?(y=typeof _==="function"?_:constant(+_),density):y};density.weight=function(_){return arguments.length?(weight=typeof _==="function"?_:constant(+_),density):weight};density.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.ceil(_[0]),_1=Math.ceil(_[1]);if(!(_0>=0)&&!(_0>=0))throw new Error("invalid size");return dx=_0,dy=_1,resize()};density.cellSize=function(_){if(!arguments.length)return 1<<k;if(!((_=+_)>=1))throw new Error("invalid cell size");return k=Math.floor(Math.log(_)/Math.LN2),resize()};density.thresholds=function(_){return arguments.length?(threshold=typeof _==="function"?_:Array.isArray(_)?constant(slice.call(_)):constant(_),density):threshold};density.bandwidth=function(_){if(!arguments.length)return Math.sqrt(r*(r+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return r=Math.round((Math.sqrt(4*_*_+1)-1)/2),resize()};return density}exports.contours=contours;exports.contourDensity=density;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(102)):undefined})(this,(function(exports,d3Array){"use strict";function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(y){add(temp,y,this.t);add(this,temp.s,this.s);if(this.s)this.t+=temp.t;else this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(adder,a,b){var x=adder.s=a+b,bv=x-a,av=x-bv;adder.t=a-av+(b-bv)}var epsilon=1e-6;var epsilon2=1e-12;var pi=Math.PI;var halfPi=pi/2;var quarterPi=pi/4;var tau=pi*2;var degrees=180/pi;var radians=pi/180;var abs=Math.abs;var atan=Math.atan;var atan2=Math.atan2;var cos=Math.cos;var ceil=Math.ceil;var exp=Math.exp;var log=Math.log;var pow=Math.pow;var sin=Math.sin;var sign=Math.sign||function(x){return x>0?1:x<0?-1:0};var sqrt=Math.sqrt;var tan=Math.tan;function acos(x){return x>1?0:x<-1?pi:Math.acos(x)}function asin(x){return x>1?halfPi:x<-1?-halfPi:Math.asin(x)}function haversin(x){return(x=sin(x/2))*x}function noop(){}function streamGeometry(geometry,stream){if(geometry&&streamGeometryType.hasOwnProperty(geometry.type)){streamGeometryType[geometry.type](geometry,stream)}}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){var features=object.features,i=-1,n=features.length;while(++i<n)streamGeometry(features[i].geometry,stream)}};var streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates;stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){var geometries=object.geometries,i=-1,n=geometries.length;while(++i<n)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var i=-1,n=coordinates.length-closed,coordinate;stream.lineStart();while(++i<n)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;stream.polygonStart();while(++i<n)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function geoStream(object,stream){if(object&&streamObjectType.hasOwnProperty(object.type)){streamObjectType[object.type](object,stream)}else{streamGeometry(object,stream)}}var areaRingSum=adder();var areaSum=adder(),lambda00,phi00,lambda0,cosPhi0,sinPhi0;var areaStream={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){areaRingSum.reset();areaStream.lineStart=areaRingStart;areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(areaRing<0?tau+areaRing:areaRing);this.lineStart=this.lineEnd=this.point=noop},sphere:function(){areaSum.add(tau)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint;lambda00=lambda,phi00=phi;lambda*=radians,phi*=radians;lambda0=lambda,cosPhi0=cos(phi=phi/2+quarterPi),sinPhi0=sin(phi)}function areaPoint(lambda,phi){lambda*=radians,phi*=radians;phi=phi/2+quarterPi;var dLambda=lambda-lambda0,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=cos(phi),sinPhi=sin(phi),k=sinPhi0*sinPhi,u=cosPhi0*cosPhi+k*cos(adLambda),v=k*sdLambda*sin(adLambda);areaRingSum.add(atan2(v,u));lambda0=lambda,cosPhi0=cosPhi,sinPhi0=sinPhi}function area(object){areaSum.reset();geoStream(object,areaStream);return areaSum*2}function spherical(cartesian){return[atan2(cartesian[1],cartesian[0]),asin(cartesian[2])]}function cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=cos(phi);return[cosPhi*cos(lambda),cosPhi*sin(lambda),sin(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}var lambda0$1,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,deltaSum=adder(),ranges,range;var boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint;boundsStream.lineStart=boundsRingStart;boundsStream.lineEnd=boundsRingEnd;deltaSum.reset();areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd();boundsStream.point=boundsPoint;boundsStream.lineStart=boundsLineStart;boundsStream.lineEnd=boundsLineEnd;if(areaRingSum<0)lambda0$1=-(lambda1=180),phi0=-(phi1=90);else if(deltaSum>epsilon)phi1=90;else if(deltaSum<-epsilon)phi0=-90;range[0]=lambda0$1,range[1]=lambda1},sphere:function(){lambda0$1=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint(lambda,phi){ranges.push(range=[lambda0$1=lambda,lambda1=lambda]);if(phi<phi0)phi0=phi;if(phi>phi1)phi1=phi}function linePoint(lambda,phi){var p=cartesian([lambda*radians,phi*radians]);if(p0){var normal=cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=cartesianCross(equatorial,normal);cartesianNormalizeInPlace(inflection);inflection=spherical(inflection);var delta=lambda-lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*degrees*sign,phii,antimeridian=abs(delta)>180;if(antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)){phii=inflection[1]*degrees;if(phii>phi1)phi1=phii}else if(lambdai=(lambdai+360)%360-180,antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)){phii=-inflection[1]*degrees;if(phii<phi0)phi0=phii}else{if(phi<phi0)phi0=phi;if(phi>phi1)phi1=phi}if(antimeridian){if(lambda<lambda2){if(angle(lambda0$1,lambda)>angle(lambda0$1,lambda1))lambda1=lambda}else{if(angle(lambda,lambda1)>angle(lambda0$1,lambda1))lambda0$1=lambda}}else{if(lambda1>=lambda0$1){if(lambda<lambda0$1)lambda0$1=lambda;if(lambda>lambda1)lambda1=lambda}else{if(lambda>lambda2){if(angle(lambda0$1,lambda)>angle(lambda0$1,lambda1))lambda1=lambda}else{if(angle(lambda,lambda1)>angle(lambda0$1,lambda1))lambda0$1=lambda}}}}else{ranges.push(range=[lambda0$1=lambda,lambda1=lambda])}if(phi<phi0)phi0=phi;if(phi>phi1)phi1=phi;p0=p,lambda2=lambda}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){range[0]=lambda0$1,range[1]=lambda1;boundsStream.point=boundsPoint;p0=null}function boundsRingPoint(lambda,phi){if(p0){var delta=lambda-lambda2;deltaSum.add(abs(delta)>180?delta+(delta>0?360:-360):delta)}else{lambda00$1=lambda,phi00$1=phi}areaStream.point(lambda,phi);linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1);areaStream.lineEnd();if(abs(deltaSum)>epsilon)lambda0$1=-(lambda1=180);range[0]=lambda0$1,range[1]=lambda1;p0=null}function angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}function bounds(feature){var i,n,a,b,merged,deltaMax,delta;phi1=lambda1=-(lambda0$1=phi0=Infinity);ranges=[];geoStream(feature,boundsStream);if(n=ranges.length){ranges.sort(rangeCompare);for(i=1,a=ranges[0],merged=[a];i<n;++i){b=ranges[i];if(rangeContains(a,b[0])||rangeContains(a,b[1])){if(angle(a[0],b[1])>angle(a[0],a[1]))a[1]=b[1];if(angle(b[0],a[1])>angle(a[0],a[1]))a[0]=b[0]}else{merged.push(a=b)}}for(deltaMax=-Infinity,n=merged.length-1,i=0,a=merged[n];i<=n;a=b,++i){b=merged[i];if((delta=angle(a[1],b[0]))>deltaMax)deltaMax=delta,lambda0$1=b[0],lambda1=a[1]}}ranges=range=null;return lambda0$1===Infinity||phi0===Infinity?[[NaN,NaN],[NaN,NaN]]:[[lambda0$1,phi0],[lambda1,phi1]]}var W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,lambda00$2,phi00$2,x0,y0,z0;var centroidStream={sphere:noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart;centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart;centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos(phi);centroidPointCartesian(cosPhi*cos(lambda),cosPhi*sin(lambda),sin(phi))}function centroidPointCartesian(x,y,z){++W0;X0+=(x-X0)/W0;Y0+=(y-Y0)/W0;Z0+=(z-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos(phi);x0=cosPhi*cos(lambda);y0=cosPhi*sin(lambda);z0=sin(phi);centroidStream.point=centroidLinePoint;centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos(phi),x=cosPhi*cos(lambda),y=cosPhi*sin(lambda),z=sin(phi),w=atan2(sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);W1+=w;X1+=w*(x0+(x0=x));Y1+=w*(y0+(y0=y));Z1+=w*(z0+(z0=z));centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(lambda00$2,phi00$2);centroidStream.point=centroidPoint}function centroidRingPointFirst(lambda,phi){lambda00$2=lambda,phi00$2=phi;lambda*=radians,phi*=radians;centroidStream.point=centroidRingPoint;var cosPhi=cos(phi);x0=cosPhi*cos(lambda);y0=cosPhi*sin(lambda);z0=sin(phi);centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos(phi),x=cosPhi*cos(lambda),y=cosPhi*sin(lambda),z=sin(phi),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=sqrt(cx*cx+cy*cy+cz*cz),w=asin(m),v=m&&-w/m;X2+=v*cx;Y2+=v*cy;Z2+=v*cz;W1+=w;X1+=w*(x0+(x0=x));Y1+=w*(y0+(y0=y));Z1+=w*(z0+(z0=z));centroidPointCartesian(x0,y0,z0)}function centroid(object){W0=W1=X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0;geoStream(object,centroidStream);var x=X2,y=Y2,z=Z2,m=x*x+y*y+z*z;if(m<epsilon2){x=X1,y=Y1,z=Z1;if(W1<epsilon)x=X0,y=Y0,z=Z0;m=x*x+y*y+z*z;if(m<epsilon2)return[NaN,NaN]}return[atan2(y,x)*degrees,asin(z/sqrt(m))*degrees]}function constant(x){return function(){return x}}function compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}if(a.invert&&b.invert)compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])};return compose}function rotationIdentity(lambda,phi){return[abs(lambda)>pi?lambda+Math.round(-lambda/tau)*tau:lambda,phi]}rotationIdentity.invert=rotationIdentity;function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=tau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return lambda+=deltaLambda,[lambda>pi?lambda-tau:lambda<-pi?lambda+tau:lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);rotation.invert=forwardRotationLambda(-deltaLambda);return rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=cos(deltaPhi),sinDeltaPhi=sin(deltaPhi),cosDeltaGamma=cos(deltaGamma),sinDeltaGamma=sin(deltaGamma);function rotation(lambda,phi){var cosPhi=cos(phi),x=cos(lambda)*cosPhi,y=sin(lambda)*cosPhi,z=sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),asin(k*cosDeltaGamma+y*sinDeltaGamma)]}rotation.invert=function(lambda,phi){var cosPhi=cos(phi),x=cos(lambda)*cosPhi,y=sin(lambda)*cosPhi,z=sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),asin(k*cosDeltaPhi-x*sinDeltaPhi)]};return rotation}function rotation(rotate){rotate=rotateRadians(rotate[0]*radians,rotate[1]*radians,rotate.length>2?rotate[2]*radians:0);function forward(coordinates){coordinates=rotate(coordinates[0]*radians,coordinates[1]*radians);return coordinates[0]*=degrees,coordinates[1]*=degrees,coordinates}forward.invert=function(coordinates){coordinates=rotate.invert(coordinates[0]*radians,coordinates[1]*radians);return coordinates[0]*=degrees,coordinates[1]*=degrees,coordinates};return forward}function circleStream(stream,radius,delta,direction,t0,t1){if(!delta)return;var cosRadius=cos(radius),sinRadius=sin(radius),step=direction*delta;if(t0==null){t0=radius+direction*tau;t1=radius-step/2}else{t0=circleRadius(cosRadius,t0);t1=circleRadius(cosRadius,t1);if(direction>0?t0<t1:t0>t1)t0+=direction*tau}for(var point,t=t0;direction>0?t>t1:t<t1;t-=step){point=spherical([cosRadius,-sinRadius*cos(t),-sinRadius*sin(t)]);stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){point=cartesian(point),point[0]-=cosRadius;cartesianNormalizeInPlace(point);var radius=acos(-point[1]);return((-point[2]<0?-radius:radius)+tau-epsilon)%tau}function circle(){var center=constant([0,0]),radius=constant(90),precision=constant(6),ring,rotate,stream={point:point};function point(x,y){ring.push(x=rotate(x,y));x[0]*=degrees,x[1]*=degrees}function circle(){var c=center.apply(this,arguments),r=radius.apply(this,arguments)*radians,p=precision.apply(this,arguments)*radians;ring=[];rotate=rotateRadians(-c[0]*radians,-c[1]*radians,0).invert;circleStream(stream,r,p,1);c={type:"Polygon",coordinates:[ring]};ring=rotate=null;return c}circle.center=function(_){return arguments.length?(center=typeof _==="function"?_:constant([+_[0],+_[1]]),circle):center};circle.radius=function(_){return arguments.length?(radius=typeof _==="function"?_:constant(+_),circle):radius};circle.precision=function(_){return arguments.length?(precision=typeof _==="function"?_:constant(+_),circle):precision};return circle}function clipBuffer(){var lines=[],line;return{point:function(x,y,m){line.push([x,y,m])},lineStart:function(){lines.push(line=[])},lineEnd:noop,rejoin:function(){if(lines.length>1)lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;lines=[];line=null;return result}}}function pointEqual(a,b){return abs(a[0]-b[0])<epsilon&&abs(a[1]-b[1])<epsilon}function Intersection(point,points,other,entry){this.x=point;this.z=points;this.o=other;this.e=entry;this.v=false;this.n=this.p=null}function clipRejoin(segments,compareIntersection,startInside,interpolate,stream){var subject=[],clip=[],i,n;segments.forEach((function(segment){if((n=segment.length-1)<=0)return;var n,p0=segment[0],p1=segment[n],x;if(pointEqual(p0,p1)){if(!p0[2]&&!p1[2]){stream.lineStart();for(i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);stream.lineEnd();return}p1[0]+=2*epsilon}subject.push(x=new Intersection(p0,segment,null,true));clip.push(x.o=new Intersection(p0,null,x,false));subject.push(x=new Intersection(p1,segment,null,false));clip.push(x.o=new Intersection(p1,null,x,true))}));if(!subject.length)return;clip.sort(compareIntersection);link(subject);link(clip);for(i=0,n=clip.length;i<n;++i){clip[i].e=startInside=!startInside}var start=subject[0],points,point;while(1){var current=start,isSubject=true;while(current.v)if((current=current.n)===start)return;points=current.z;stream.lineStart();do{current.v=current.o.v=true;if(current.e){if(isSubject){for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.n.x,1,stream)}current=current.n}else{if(isSubject){points=current.p.z;for(i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.p.x,-1,stream)}current=current.p}current=current.o;points=current.z;isSubject=!isSubject}while(!current.v);stream.lineEnd()}}function link(array){if(!(n=array.length))return;var n,i=0,a=array[0],b;while(++i<n){a.n=b=array[i];b.p=a;a=b}a.n=b=array[0];b.p=a}var sum=adder();function longitude(point){if(abs(point[0])<=pi)return point[0];else return sign(point[0])*((abs(point[0])+pi)%tau-pi)}function polygonContains(polygon,point){var lambda=longitude(point),phi=point[1],sinPhi=sin(phi),normal=[sin(lambda),-cos(lambda),0],angle=0,winding=0;sum.reset();if(sinPhi===1)phi=halfPi+epsilon;else if(sinPhi===-1)phi=-halfPi-epsilon;for(var i=0,n=polygon.length;i<n;++i){if(!(m=(ring=polygon[i]).length))continue;var ring,m,point0=ring[m-1],lambda0=longitude(point0),phi0=point0[1]/2+quarterPi,sinPhi0=sin(phi0),cosPhi0=cos(phi0);for(var j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=longitude(point1),phi1=point1[1]/2+quarterPi,sinPhi1=sin(phi1),cosPhi1=cos(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>pi,k=sinPhi0*sinPhi1;sum.add(atan2(k*sign*sin(absDelta),cosPhi0*cosPhi1+k*cos(absDelta)));angle+=antimeridian?delta+sign*tau:delta;if(antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian(point0),cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*asin(intersection[2]);if(phi>phiArc||phi===phiArc&&(arc[0]||arc[1])){winding+=antimeridian^delta>=0?1:-1}}}}return(angle<-epsilon||angle<epsilon&&sum<-epsilon)^winding&1}function clip(pointVisible,clipLine,interpolate,start){return function(sink){var line=clipLine(sink),ringBuffer=clipBuffer(),ringSink=clipLine(ringBuffer),polygonStarted=false,polygon,segments,ring;var clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing;clip.lineStart=ringStart;clip.lineEnd=ringEnd;segments=[];polygon=[]},polygonEnd:function(){clip.point=point;clip.lineStart=lineStart;clip.lineEnd=lineEnd;segments=d3Array.merge(segments);var startInside=polygonContains(polygon,start);if(segments.length){if(!polygonStarted)sink.polygonStart(),polygonStarted=true;clipRejoin(segments,compareIntersection,startInside,interpolate,sink)}else if(startInside){if(!polygonStarted)sink.polygonStart(),polygonStarted=true;sink.lineStart();interpolate(null,null,1,sink);sink.lineEnd()}if(polygonStarted)sink.polygonEnd(),polygonStarted=false;segments=polygon=null},sphere:function(){sink.polygonStart();sink.lineStart();interpolate(null,null,1,sink);sink.lineEnd();sink.polygonEnd()}};function point(lambda,phi){if(pointVisible(lambda,phi))sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point=pointLine;line.lineStart()}function lineEnd(){clip.point=point;line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]);ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart();ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]);ringSink.lineEnd();var clean=ringSink.clean(),ringSegments=ringBuffer.result(),i,n=ringSegments.length,m,segment,point;ring.pop();polygon.push(ring);ring=null;if(!n)return;if(clean&1){segment=ringSegments[0];if((m=segment.length-1)>0){if(!polygonStarted)sink.polygonStart(),polygonStarted=true;sink.lineStart();for(i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}return}if(n>1&&clean&2)ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));segments.push(ringSegments.filter(validSegment))}return clip}}function validSegment(segment){return segment.length>1}function compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-halfPi-epsilon:halfPi-a[1])-((b=b.x)[0]<0?b[1]-halfPi-epsilon:halfPi-b[1])}var clipAntimeridian=clip((function(){return true}),clipAntimeridianLine,clipAntimeridianInterpolate,[-pi,-halfPi]);function clipAntimeridianLine(stream){var lambda0=NaN,phi0=NaN,sign0=NaN,clean;return{lineStart:function(){stream.lineStart();clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?pi:-pi,delta=abs(lambda1-lambda0);if(abs(delta-pi)<epsilon){stream.point(lambda0,phi0=(phi0+phi1)/2>0?halfPi:-halfPi);stream.point(sign0,phi0);stream.lineEnd();stream.lineStart();stream.point(sign1,phi0);stream.point(lambda1,phi0);clean=0}else if(sign0!==sign1&&delta>=pi){if(abs(lambda0-sign0)<epsilon)lambda0-=sign0*epsilon;if(abs(lambda1-sign1)<epsilon)lambda1-=sign1*epsilon;phi0=clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1);stream.point(sign0,phi0);stream.lineEnd();stream.lineStart();stream.point(sign1,phi0);clean=0}stream.point(lambda0=lambda1,phi0=phi1);sign0=sign1},lineEnd:function(){stream.lineEnd();lambda0=phi0=NaN},clean:function(){return 2-clean}}}function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=sin(lambda0-lambda1);return abs(sinLambda0Lambda1)>epsilon?atan((sin(phi0)*(cosPhi1=cos(phi1))*sin(lambda1)-sin(phi1)*(cosPhi0=cos(phi0))*sin(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(from==null){phi=direction*halfPi;stream.point(-pi,phi);stream.point(0,phi);stream.point(pi,phi);stream.point(pi,0);stream.point(pi,-phi);stream.point(0,-phi);stream.point(-pi,-phi);stream.point(-pi,0);stream.point(-pi,phi)}else if(abs(from[0]-to[0])>epsilon){var lambda=from[0]<to[0]?pi:-pi;phi=direction*lambda/2;stream.point(-lambda,phi);stream.point(0,phi);stream.point(lambda,phi)}else{stream.point(to[0],to[1])}}function clipCircle(radius){var cr=cos(radius),delta=6*radians,smallRadius=cr>0,notHemisphere=abs(cr)>epsilon;function interpolate(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)}function visible(lambda,phi){return cos(lambda)*cos(phi)>cr}function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=false;clean=1},point:function(lambda,phi){var point1=[lambda,phi],point2,v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?pi:-pi),phi):0;if(!point0&&(v00=v0=v))stream.lineStart();if(v!==v0){point2=intersect(point0,point1);if(!point2||pointEqual(point0,point2)||pointEqual(point1,point2))point1[2]=1}if(v!==v0){clean=0;if(v){stream.lineStart();point2=intersect(point1,point0);stream.point(point2[0],point2[1])}else{point2=intersect(point0,point1);stream.point(point2[0],point2[1],2);stream.lineEnd()}point0=point2}else if(notHemisphere&&point0&&smallRadius^v){var t;if(!(c&c0)&&(t=intersect(point1,point0,true))){clean=0;if(smallRadius){stream.lineStart();stream.point(t[0][0],t[0][1]);stream.point(t[1][0],t[1][1]);stream.lineEnd()}else{stream.point(t[1][0],t[1][1]);stream.lineEnd();stream.lineStart();stream.point(t[0][0],t[0][1],3)}}}if(v&&(!point0||!pointEqual(point0,point1))){stream.point(point1[0],point1[1])}point0=point1,v0=v,c0=c},lineEnd:function(){if(v0)stream.lineEnd();point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=cartesian(a),pb=cartesian(b);var n1=[1,0,0],n2=cartesianCross(pa,pb),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1),B=cartesianScale(n2,c2);cartesianAddInPlace(A,B);var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(t2<0)return;var t=sqrt(t2),q=cartesianScale(u,(-w-t)/uu);cartesianAddInPlace(q,A);q=spherical(q);if(!two)return q;var lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1],z;if(lambda1<lambda0)z=lambda0,lambda0=lambda1,lambda1=z;var delta=lambda1-lambda0,polar=abs(delta-pi)<epsilon,meridian=polar||delta<epsilon;if(!polar&&phi1<phi0)z=phi0,phi0=phi1,phi1=z;if(meridian?polar?phi0+phi1>0^q[1]<(abs(q[0]-lambda0)<epsilon?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>pi^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);cartesianAddInPlace(q1,A);return[q,spherical(q1)]}}function code(lambda,phi){var r=smallRadius?radius:pi-radius,code=0;if(lambda<-r)code|=1;else if(lambda>r)code|=2;if(phi<-r)code|=4;else if(phi>r)code|=8;return code}return clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-pi,radius-pi])}function clipLine(a,b,x0,y0,x1,y1){var ax=a[0],ay=a[1],bx=b[0],by=b[1],t0=0,t1=1,dx=bx-ax,dy=by-ay,r;r=x0-ax;if(!dx&&r>0)return;r/=dx;if(dx<0){if(r<t0)return;if(r<t1)t1=r}else if(dx>0){if(r>t1)return;if(r>t0)t0=r}r=x1-ax;if(!dx&&r<0)return;r/=dx;if(dx<0){if(r>t1)return;if(r>t0)t0=r}else if(dx>0){if(r<t0)return;if(r<t1)t1=r}r=y0-ay;if(!dy&&r>0)return;r/=dy;if(dy<0){if(r<t0)return;if(r<t1)t1=r}else if(dy>0){if(r>t1)return;if(r>t0)t0=r}r=y1-ay;if(!dy&&r<0)return;r/=dy;if(dy<0){if(r>t1)return;if(r>t0)t0=r}else if(dy>0){if(r<t0)return;if(r<t1)t1=r}if(t0>0)a[0]=ax+t0*dx,a[1]=ay+t0*dy;if(t1<1)b[0]=ax+t1*dx,b[1]=ay+t1*dy;return true}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(from==null||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0){do{stream.point(a===0||a===3?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1)}else{stream.point(to[0],to[1])}}function corner(p,direction){return abs(p[0]-x0)<epsilon?direction>0?0:3:abs(p[0]-x1)<epsilon?direction>0?2:1:abs(p[1]-y0)<epsilon?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:ca===0?b[1]-a[1]:ca===1?a[0]-b[0]:ca===2?a[1]-b[1]:b[0]-a[0]}return function(stream){var activeStream=stream,bufferStream=clipBuffer(),segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean;var clipStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:polygonStart,polygonEnd:polygonEnd};function point(x,y){if(visible(x,y))activeStream.point(x,y)}function polygonInside(){var winding=0;for(var i=0,n=polygon.length;i<n;++i){for(var ring=polygon[i],j=1,m=ring.length,point=ring[0],a0,a1,b0=point[0],b1=point[1];j<m;++j){a0=b0,a1=b1,point=ring[j],b0=point[0],b1=point[1];if(a1<=y1){if(b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0))++winding}else{if(b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0))--winding}}}return winding}function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=true}function polygonEnd(){var startInside=polygonInside(),cleanInside=clean&&startInside,visible=(segments=d3Array.merge(segments)).length;if(cleanInside||visible){stream.polygonStart();if(cleanInside){stream.lineStart();interpolate(null,null,1,stream);stream.lineEnd()}if(visible){clipRejoin(segments,compareIntersection,startInside,interpolate,stream)}stream.polygonEnd()}activeStream=stream,segments=polygon=ring=null}function lineStart(){clipStream.point=linePoint;if(polygon)polygon.push(ring=[]);first=true;v_=false;x_=y_=NaN}function lineEnd(){if(segments){linePoint(x__,y__);if(v__&&v_)bufferStream.rejoin();segments.push(bufferStream.result())}clipStream.point=point;if(v_)activeStream.lineEnd()}function linePoint(x,y){var v=visible(x,y);if(polygon)ring.push([x,y]);if(first){x__=x,y__=y,v__=v;first=false;if(v){activeStream.lineStart();activeStream.point(x,y)}}else{if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];if(clipLine(a,b,x0,y0,x1,y1)){if(!v_){activeStream.lineStart();activeStream.point(a[0],a[1])}activeStream.point(b[0],b[1]);if(!v)activeStream.lineEnd();clean=false}else if(v){activeStream.lineStart();activeStream.point(x,y);clean=false}}}x_=x,y_=y,v_=v}return clipStream}}function extent(){var x0=0,y0=0,x1=960,y1=500,cache,cacheStream,clip;return clip={stream:function(stream){return cache&&cacheStream===stream?cache:cache=clipRectangle(x0,y0,x1,y1)(cacheStream=stream)},extent:function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],cache=cacheStream=null,clip):[[x0,y0],[x1,y1]]}}}var lengthSum=adder(),lambda0$2,sinPhi0$1,cosPhi0$1;var lengthStream={sphere:noop,point:noop,lineStart:lengthLineStart,lineEnd:noop,polygonStart:noop,polygonEnd:noop};function lengthLineStart(){lengthStream.point=lengthPointFirst;lengthStream.lineEnd=lengthLineEnd}function lengthLineEnd(){lengthStream.point=lengthStream.lineEnd=noop}function lengthPointFirst(lambda,phi){lambda*=radians,phi*=radians;lambda0$2=lambda,sinPhi0$1=sin(phi),cosPhi0$1=cos(phi);lengthStream.point=lengthPoint}function lengthPoint(lambda,phi){lambda*=radians,phi*=radians;var sinPhi=sin(phi),cosPhi=cos(phi),delta=abs(lambda-lambda0$2),cosDelta=cos(delta),sinDelta=sin(delta),x=cosPhi*sinDelta,y=cosPhi0$1*sinPhi-sinPhi0$1*cosPhi*cosDelta,z=sinPhi0$1*sinPhi+cosPhi0$1*cosPhi*cosDelta;lengthSum.add(atan2(sqrt(x*x+y*y),z));lambda0$2=lambda,sinPhi0$1=sinPhi,cosPhi0$1=cosPhi}function length(object){lengthSum.reset();geoStream(object,lengthStream);return+lengthSum}var coordinates=[null,null],object={type:"LineString",coordinates:coordinates};function distance(a,b){coordinates[0]=a;coordinates[1]=b;return length(object)}var containsObjectType={Feature:function(object,point){return containsGeometry(object.geometry,point)},FeatureCollection:function(object,point){var features=object.features,i=-1,n=features.length;while(++i<n)if(containsGeometry(features[i].geometry,point))return true;return false}};var containsGeometryType={Sphere:function(){return true},Point:function(object,point){return containsPoint(object.coordinates,point)},MultiPoint:function(object,point){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)if(containsPoint(coordinates[i],point))return true;return false},LineString:function(object,point){return containsLine(object.coordinates,point)},MultiLineString:function(object,point){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)if(containsLine(coordinates[i],point))return true;return false},Polygon:function(object,point){return containsPolygon(object.coordinates,point)},MultiPolygon:function(object,point){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)if(containsPolygon(coordinates[i],point))return true;return false},GeometryCollection:function(object,point){var geometries=object.geometries,i=-1,n=geometries.length;while(++i<n)if(containsGeometry(geometries[i],point))return true;return false}};function containsGeometry(geometry,point){return geometry&&containsGeometryType.hasOwnProperty(geometry.type)?containsGeometryType[geometry.type](geometry,point):false}function containsPoint(coordinates,point){return distance(coordinates,point)===0}function containsLine(coordinates,point){var ao,bo,ab;for(var i=0,n=coordinates.length;i<n;i++){bo=distance(coordinates[i],point);if(bo===0)return true;if(i>0){ab=distance(coordinates[i],coordinates[i-1]);if(ab>0&&ao<=ab&&bo<=ab&&(ao+bo-ab)*(1-Math.pow((ao-bo)/ab,2))<epsilon2*ab)return true}ao=bo}return false}function containsPolygon(coordinates,point){return!!polygonContains(coordinates.map(ringRadians),pointRadians(point))}function ringRadians(ring){return ring=ring.map(pointRadians),ring.pop(),ring}function pointRadians(point){return[point[0]*radians,point[1]*radians]}function contains(object,point){return(object&&containsObjectType.hasOwnProperty(object.type)?containsObjectType[object.type]:containsGeometry)(object,point)}function graticuleX(y0,y1,dy){var y=d3Array.range(y0,y1-epsilon,dy).concat(y1);return function(x){return y.map((function(y){return[x,y]}))}}function graticuleY(x0,x1,dx){var x=d3Array.range(x0,x1-epsilon,dx).concat(x1);return function(y){return x.map((function(x){return[x,y]}))}}function graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,dx=10,dy=dx,DX=90,DY=360,x,y,X,Y,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3Array.range(ceil(X0/DX)*DX,X1,DX).map(X).concat(d3Array.range(ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3Array.range(ceil(x0/dx)*dx,x1,dx).filter((function(x){return abs(x%DX)>epsilon})).map(x)).concat(d3Array.range(ceil(y0/dy)*dy,y1,dy).filter((function(y){return abs(y%DY)>epsilon})).map(y))}graticule.lines=function(){return lines().map((function(coordinates){return{type:"LineString",coordinates:coordinates}}))};graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}};graticule.extent=function(_){if(!arguments.length)return graticule.extentMinor();return graticule.extentMajor(_).extentMinor(_)};graticule.extentMajor=function(_){if(!arguments.length)return[[X0,Y0],[X1,Y1]];X0=+_[0][0],X1=+_[1][0];Y0=+_[0][1],Y1=+_[1][1];if(X0>X1)_=X0,X0=X1,X1=_;if(Y0>Y1)_=Y0,Y0=Y1,Y1=_;return graticule.precision(precision)};graticule.extentMinor=function(_){if(!arguments.length)return[[x0,y0],[x1,y1]];x0=+_[0][0],x1=+_[1][0];y0=+_[0][1],y1=+_[1][1];if(x0>x1)_=x0,x0=x1,x1=_;if(y0>y1)_=y0,y0=y1,y1=_;return graticule.precision(precision)};graticule.step=function(_){if(!arguments.length)return graticule.stepMinor();return graticule.stepMajor(_).stepMinor(_)};graticule.stepMajor=function(_){if(!arguments.length)return[DX,DY];DX=+_[0],DY=+_[1];return graticule};graticule.stepMinor=function(_){if(!arguments.length)return[dx,dy];dx=+_[0],dy=+_[1];return graticule};graticule.precision=function(_){if(!arguments.length)return precision;precision=+_;x=graticuleX(y0,y1,90);y=graticuleY(x0,x1,precision);X=graticuleX(Y0,Y1,90);Y=graticuleY(X0,X1,precision);return graticule};return graticule.extentMajor([[-180,-90+epsilon],[180,90-epsilon]]).extentMinor([[-180,-80-epsilon],[180,80+epsilon]])}function graticule10(){return graticule()()}function interpolate(a,b){var x0=a[0]*radians,y0=a[1]*radians,x1=b[0]*radians,y1=b[1]*radians,cy0=cos(y0),sy0=sin(y0),cy1=cos(y1),sy1=sin(y1),kx0=cy0*cos(x0),ky0=cy0*sin(x0),kx1=cy1*cos(x1),ky1=cy1*sin(x1),d=2*asin(sqrt(haversin(y1-y0)+cy0*cy1*haversin(x1-x0))),k=sin(d);var interpolate=d?function(t){var B=sin(t*=d)/k,A=sin(d-t)/k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[atan2(y,x)*degrees,atan2(z,sqrt(x*x+y*y))*degrees]}:function(){return[x0*degrees,y0*degrees]};interpolate.distance=d;return interpolate}function identity(x){return x}var areaSum$1=adder(),areaRingSum$1=adder(),x00,y00,x0$1,y0$1;var areaStream$1={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){areaStream$1.lineStart=areaRingStart$1;areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){areaStream$1.lineStart=areaStream$1.lineEnd=areaStream$1.point=noop;areaSum$1.add(abs(areaRingSum$1));areaRingSum$1.reset()},result:function(){var area=areaSum$1/2;areaSum$1.reset();return area}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaPointFirst$1(x,y){areaStream$1.point=areaPoint$1;x00=x0$1=x,y00=y0$1=y}function areaPoint$1(x,y){areaRingSum$1.add(y0$1*x-x0$1*y);x0$1=x,y0$1=y}function areaRingEnd$1(){areaPoint$1(x00,y00)}var x0$2=Infinity,y0$2=x0$2,x1=-x0$2,y1=x1;var boundsStream$1={point:boundsPoint$1,lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var bounds=[[x0$2,y0$2],[x1,y1]];x1=y1=-(y0$2=x0$2=Infinity);return bounds}};function boundsPoint$1(x,y){if(x<x0$2)x0$2=x;if(x>x1)x1=x;if(y<y0$2)y0$2=y;if(y>y1)y1=y}var X0$1=0,Y0$1=0,Z0$1=0,X1$1=0,Y1$1=0,Z1$1=0,X2$1=0,Y2$1=0,Z2$1=0,x00$1,y00$1,x0$3,y0$3;var centroidStream$1={point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1;centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.point=centroidPoint$1;centroidStream$1.lineStart=centroidLineStart$1;centroidStream$1.lineEnd=centroidLineEnd$1},result:function(){var centroid=Z2$1?[X2$1/Z2$1,Y2$1/Z2$1]:Z1$1?[X1$1/Z1$1,Y1$1/Z1$1]:Z0$1?[X0$1/Z0$1,Y0$1/Z0$1]:[NaN,NaN];X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=X2$1=Y2$1=Z2$1=0;return centroid}};function centroidPoint$1(x,y){X0$1+=x;Y0$1+=y;++Z0$1}function centroidLineStart$1(){centroidStream$1.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroidStream$1.point=centroidPointLine;centroidPoint$1(x0$3=x,y0$3=y)}function centroidPointLine(x,y){var dx=x-x0$3,dy=y-y0$3,z=sqrt(dx*dx+dy*dy);X1$1+=z*(x0$3+x)/2;Y1$1+=z*(y0$3+y)/2;Z1$1+=z;centroidPoint$1(x0$3=x,y0$3=y)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidPointFirstRing}function centroidRingEnd$1(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(x,y){centroidStream$1.point=centroidPointRing;centroidPoint$1(x00$1=x0$3=x,y00$1=y0$3=y)}function centroidPointRing(x,y){var dx=x-x0$3,dy=y-y0$3,z=sqrt(dx*dx+dy*dy);X1$1+=z*(x0$3+x)/2;Y1$1+=z*(y0$3+y)/2;Z1$1+=z;z=y0$3*x-x0$3*y;X2$1+=z*(x0$3+x);Y2$1+=z*(y0$3+y);Z2$1+=z*3;centroidPoint$1(x0$3=x,y0$3=y)}function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line===0)this._context.closePath();this._point=NaN},point:function(x,y){switch(this._point){case 0:{this._context.moveTo(x,y);this._point=1;break}case 1:{this._context.lineTo(x,y);break}default:{this._context.moveTo(x+this._radius,y);this._context.arc(x,y,this._radius,0,tau);break}}},result:noop};var lengthSum$1=adder(),lengthRing,x00$2,y00$2,x0$4,y0$4;var lengthStream$1={point:noop,lineStart:function(){lengthStream$1.point=lengthPointFirst$1},lineEnd:function(){if(lengthRing)lengthPoint$1(x00$2,y00$2);lengthStream$1.point=noop},polygonStart:function(){lengthRing=true},polygonEnd:function(){lengthRing=null},result:function(){var length=+lengthSum$1;lengthSum$1.reset();return length}};function lengthPointFirst$1(x,y){lengthStream$1.point=lengthPoint$1;x00$2=x0$4=x,y00$2=y0$4=y}function lengthPoint$1(x,y){x0$4-=x,y0$4-=y;lengthSum$1.add(sqrt(x0$4*x0$4+y0$4*y0$4));x0$4=x,y0$4=y}function PathString(){this._string=[]}PathString.prototype={_radius:4.5,_circle:circle$1(4.5),pointRadius:function(_){if((_=+_)!==this._radius)this._radius=_,this._circle=null;return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line===0)this._string.push("Z");this._point=NaN},point:function(x,y){switch(this._point){case 0:{this._string.push("M",x,",",y);this._point=1;break}case 1:{this._string.push("L",x,",",y);break}default:{if(this._circle==null)this._circle=circle$1(this._radius);this._string.push("M",x,",",y,this._circle);break}}},result:function(){if(this._string.length){var result=this._string.join("");this._string=[];return result}else{return null}}};function circle$1(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function index(projection,context){var pointRadius=4.5,projectionStream,contextStream;function path(object){if(object){if(typeof pointRadius==="function")contextStream.pointRadius(+pointRadius.apply(this,arguments));geoStream(object,projectionStream(contextStream))}return contextStream.result()}path.area=function(object){geoStream(object,projectionStream(areaStream$1));return areaStream$1.result()};path.measure=function(object){geoStream(object,projectionStream(lengthStream$1));return lengthStream$1.result()};path.bounds=function(object){geoStream(object,projectionStream(boundsStream$1));return boundsStream$1.result()};path.centroid=function(object){geoStream(object,projectionStream(centroidStream$1));return centroidStream$1.result()};path.projection=function(_){return arguments.length?(projectionStream=_==null?(projection=null,identity):(projection=_).stream,path):projection};path.context=function(_){if(!arguments.length)return context;contextStream=_==null?(context=null,new PathString):new PathContext(context=_);if(typeof pointRadius!=="function")contextStream.pointRadius(pointRadius);return path};path.pointRadius=function(_){if(!arguments.length)return pointRadius;pointRadius=typeof _==="function"?_:(contextStream.pointRadius(+_),+_);return path};return path.projection(projection).context(context)}function transform(methods){return{stream:transformer(methods)}}function transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];s.stream=stream;return s}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit(projection,fitBounds,object){var clip=projection.clipExtent&&projection.clipExtent();projection.scale(150).translate([0,0]);if(clip!=null)projection.clipExtent(null);geoStream(object,projection.stream(boundsStream$1));fitBounds(boundsStream$1.result());if(clip!=null)projection.clipExtent(clip);return projection}function fitExtent(projection,extent,object){return fit(projection,(function(b){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)}function fitWidth(projection,width,object){return fit(projection,(function(b){var w=+width,k=w/(b[1][0]-b[0][0]),x=(w-k*(b[1][0]+b[0][0]))/2,y=-k*b[0][1];projection.scale(150*k).translate([x,y])}),object)}function fitHeight(projection,height,object){return fit(projection,(function(b){var h=+height,k=h/(b[1][1]-b[0][1]),x=-k*b[0][0],y=(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}var maxDepth=16,cosMinDistance=cos(30*radians);function resample(project,delta2){return+delta2?resample$1(project,delta2):resampleNone(project)}function resampleNone(project){return transformer({point:function(x,y){x=project(x,y);this.stream.point(x[0],x[1])}})}function resample$1(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=sqrt(a*a+b*b+c*c),phi2=asin(c/=m),lambda2=abs(abs(c)-1)<epsilon||abs(lambda0-lambda1)<epsilon?(lambda0+lambda1)/2:atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;if(dz*dz/d2>delta2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream);stream.point(x2,y2);resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream)}}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0;var resampleStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart();resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd();resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y);stream.point(x[0],x[1])}function lineStart(){x0=NaN;resampleStream.point=linePoint;stream.lineStart()}function linePoint(lambda,phi){var c=cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream);stream.point(x0,y0)}function lineEnd(){resampleStream.point=point;stream.lineEnd()}function ringStart(){lineStart();resampleStream.point=ringPoint;resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0;resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream);resampleStream.lineEnd=lineEnd;lineEnd()}return resampleStream}}var transformRadians=transformer({point:function(x,y){this.stream.point(x*radians,y*radians)}});function transformRotate(rotate){return transformer({point:function(x,y){var r=rotate(x,y);return this.stream.point(r[0],r[1])}})}function scaleTranslate(k,dx,dy,sx,sy){function transform(x,y){x*=sx;y*=sy;return[dx+k*x,dy-k*y]}transform.invert=function(x,y){return[(x-dx)/k*sx,(dy-y)/k*sy]};return transform}function scaleTranslateRotate(k,dx,dy,sx,sy,alpha){var cosAlpha=cos(alpha),sinAlpha=sin(alpha),a=cosAlpha*k,b=sinAlpha*k,ai=cosAlpha/k,bi=sinAlpha/k,ci=(sinAlpha*dy-cosAlpha*dx)/k,fi=(sinAlpha*dx+cosAlpha*dy)/k;function transform(x,y){x*=sx;y*=sy;return[a*x-b*y+dx,dy-b*x-a*y]}transform.invert=function(x,y){return[sx*(ai*x-bi*y+ci),sy*(fi-bi*x-ai*y)]};return transform}function projection(project){return projectionMutator((function(){return project}))()}function projectionMutator(projectAt){var project,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,rotate,alpha=0,sx=1,sy=1,theta=null,preclip=clipAntimeridian,x0=null,y0,x1,y1,postclip=identity,delta2=.5,projectResample,projectTransform,projectRotateTransform,cache,cacheStream;function projection(point){return projectRotateTransform(point[0]*radians,point[1]*radians)}function invert(point){point=projectRotateTransform.invert(point[0],point[1]);return point&&[point[0]*degrees,point[1]*degrees]}projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream=stream)))))};projection.preclip=function(_){return arguments.length?(preclip=_,theta=undefined,reset()):preclip};projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip};projection.clipAngle=function(_){return arguments.length?(preclip=+_?clipCircle(theta=_*radians):(theta=null,clipAntimeridian),reset()):theta*degrees};projection.clipExtent=function(_){return arguments.length?(postclip=_==null?(x0=y0=x1=y1=null,identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):x0==null?null:[[x0,y0],[x1,y1]]};projection.scale=function(_){return arguments.length?(k=+_,recenter()):k};projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]};projection.center=function(_){return arguments.length?(lambda=_[0]%360*radians,phi=_[1]%360*radians,recenter()):[lambda*degrees,phi*degrees]};projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*radians,deltaPhi=_[1]%360*radians,deltaGamma=_.length>2?_[2]%360*radians:0,recenter()):[deltaLambda*degrees,deltaPhi*degrees,deltaGamma*degrees]};projection.angle=function(_){return arguments.length?(alpha=_%360*radians,recenter()):alpha*degrees};projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,recenter()):sx<0};projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,recenter()):sy<0};projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):sqrt(delta2)};projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)};projection.fitSize=function(size,object){return fitSize(projection,size,object)};projection.fitWidth=function(width,object){return fitWidth(projection,width,object)};projection.fitHeight=function(height,object){return fitHeight(projection,height,object)};function recenter(){var center=scaleTranslateRotate(k,0,0,sx,sy,alpha).apply(null,project(lambda,phi)),transform=(alpha?scaleTranslateRotate:scaleTranslate)(k,x-center[0],y-center[1],sx,sy,alpha);rotate=rotateRadians(deltaLambda,deltaPhi,deltaGamma);projectTransform=compose(project,transform);projectRotateTransform=compose(rotate,projectTransform);projectResample=resample(projectTransform,delta2);return reset()}function reset(){cache=cacheStream=null;return projection}return function(){project=projectAt.apply(this,arguments);projection.invert=project.invert&&invert;return recenter()}}function conicProjection(projectAt){var phi0=0,phi1=pi/3,m=projectionMutator(projectAt),p=m(phi0,phi1);p.parallels=function(_){return arguments.length?m(phi0=_[0]*radians,phi1=_[1]*radians):[phi0*degrees,phi1*degrees]};return p}function cylindricalEqualAreaRaw(phi0){var cosPhi0=cos(phi0);function forward(lambda,phi){return[lambda*cosPhi0,sin(phi)/cosPhi0]}forward.invert=function(x,y){return[x/cosPhi0,asin(y*cosPhi0)]};return forward}function conicEqualAreaRaw(y0,y1){var sy0=sin(y0),n=(sy0+sin(y1))/2;if(abs(n)<epsilon)return cylindricalEqualAreaRaw(y0);var c=1+sy0*(2*n-sy0),r0=sqrt(c)/n;function project(x,y){var r=sqrt(c-2*n*sin(y))/n;return[r*sin(x*=n),r0-r*cos(x)]}project.invert=function(x,y){var r0y=r0-y,l=atan2(x,abs(r0y))*sign(r0y);if(r0y*n<0)l-=pi*sign(x)*sign(r0y);return[l/n,asin((c-(x*x+r0y*r0y)*n*n)/(2*n))]};return project}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(streams){var n=streams.length;return{point:function(x,y){var i=-1;while(++i<n)streams[i].point(x,y)},sphere:function(){var i=-1;while(++i<n)streams[i].sphere()},lineStart:function(){var i=-1;while(++i<n)streams[i].lineStart()},lineEnd:function(){var i=-1;while(++i<n)streams[i].lineEnd()},polygonStart:function(){var i=-1;while(++i<n)streams[i].polygonStart()},polygonEnd:function(){var i=-1;while(++i<n)streams[i].polygonEnd()}}}function albersUsa(){var cache,cacheStream,lower48=albers(),lower48Point,alaska=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),alaskaPoint,hawaii=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),hawaiiPoint,point,pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,(lower48Point.point(x,y),point)||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)};albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:cache=multiplex([lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)])};albersUsa.precision=function(_){if(!arguments.length)return lower48.precision();lower48.precision(_),alaska.precision(_),hawaii.precision(_);return reset()};albersUsa.scale=function(_){if(!arguments.length)return lower48.scale();lower48.scale(_),alaska.scale(_*.35),hawaii.scale(_);return albersUsa.translate(lower48.translate())};albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream);alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+epsilon,y+.12*k+epsilon],[x-.214*k-epsilon,y+.234*k-epsilon]]).stream(pointStream);hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+epsilon,y+.166*k+epsilon],[x-.115*k-epsilon,y+.234*k-epsilon]]).stream(pointStream);return reset()};albersUsa.fitExtent=function(extent,object){return fitExtent(albersUsa,extent,object)};albersUsa.fitSize=function(size,object){return fitSize(albersUsa,size,object)};albersUsa.fitWidth=function(width,object){return fitWidth(albersUsa,width,object)};albersUsa.fitHeight=function(height,object){return fitHeight(albersUsa,height,object)};function reset(){cache=cacheStream=null;return albersUsa}return albersUsa.scale(1070)}function azimuthalRaw(scale){return function(x,y){var cx=cos(x),cy=cos(y),k=scale(cx*cy);return[k*cy*sin(x),k*sin(y)]}}function azimuthalInvert(angle){return function(x,y){var z=sqrt(x*x+y*y),c=angle(z),sc=sin(c),cc=cos(c);return[atan2(x*sc,z*cc),asin(z&&y*sc/z)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(cxcy){return sqrt(2/(1+cxcy))}));azimuthalEqualAreaRaw.invert=azimuthalInvert((function(z){return 2*asin(z/2)}));function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw((function(c){return(c=acos(c))&&c/sin(c)}));azimuthalEquidistantRaw.invert=azimuthalInvert((function(z){return z}));function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(lambda,phi){return[lambda,log(tan((halfPi+phi)/2))]}mercatorRaw.invert=function(x,y){return[x,2*atan(exp(y))-halfPi]};function mercator(){return mercatorProjection(mercatorRaw).scale(961/tau)}function mercatorProjection(project){var m=projection(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null,y0,x1,y1;m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()};m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()};m.center=function(_){return arguments.length?(center(_),reclip()):center()};m.clipExtent=function(_){return arguments.length?(_==null?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):x0==null?null:[[x0,y0],[x1,y1]]};function reclip(){var k=pi*scale(),t=m(rotation(m.rotate()).invert([0,0]));return clipExtent(x0==null?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return reclip()}function tany(y){return tan((halfPi+y)/2)}function conicConformalRaw(y0,y1){var cy0=cos(y0),n=y0===y1?sin(y0):log(cy0/cos(y1))/log(tany(y1)/tany(y0)),f=cy0*pow(tany(y0),n)/n;if(!n)return mercatorRaw;function project(x,y){if(f>0){if(y<-halfPi+epsilon)y=-halfPi+epsilon}else{if(y>halfPi-epsilon)y=halfPi-epsilon}var r=f/pow(tany(y),n);return[r*sin(n*x),f-r*cos(n*x)]}project.invert=function(x,y){var fy=f-y,r=sign(n)*sqrt(x*x+fy*fy),l=atan2(x,abs(fy))*sign(fy);if(fy*n<0)l-=pi*sign(x)*sign(fy);return[l/n,2*atan(pow(f/r,1/n))-halfPi]};return project}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(lambda,phi){return[lambda,phi]}equirectangularRaw.invert=equirectangularRaw;function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(y0,y1){var cy0=cos(y0),n=y0===y1?sin(y0):(cy0-cos(y1))/(y1-y0),g=cy0/n+y0;if(abs(n)<epsilon)return equirectangularRaw;function project(x,y){var gy=g-y,nx=n*x;return[gy*sin(nx),g-gy*cos(nx)]}project.invert=function(x,y){var gy=g-y,l=atan2(x,abs(gy))*sign(gy);if(gy*n<0)l-=pi*sign(x)*sign(gy);return[l/n,g-sign(n)*sqrt(x*x+gy*gy)]};return project}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt(3)/2,iterations=12;function equalEarthRaw(lambda,phi){var l=asin(M*sin(phi)),l2=l*l,l6=l2*l2*l2;return[lambda*cos(l)/(M*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))),l*(A1+A2*l2+l6*(A3+A4*l2))]}equalEarthRaw.invert=function(x,y){var l=y,l2=l*l,l6=l2*l2*l2;for(var i=0,delta,fy,fpy;i<iterations;++i){fy=l*(A1+A2*l2+l6*(A3+A4*l2))-y;fpy=A1+3*A2*l2+l6*(7*A3+9*A4*l2);l-=delta=fy/fpy,l2=l*l,l6=l2*l2*l2;if(abs(delta)<epsilon2)break}return[M*x*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))/cos(l),asin(sin(l)/M)]};function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(x,y){var cy=cos(y),k=cos(x)*cy;return[cy*sin(x)/k,sin(y)/k]}gnomonicRaw.invert=azimuthalInvert(atan);function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function identity$1(){var k=1,tx=0,ty=0,sx=1,sy=1,alpha=0,ca,sa,x0=null,y0,x1,y1,kx=1,ky=1,transform=transformer({point:function(x,y){var p=projection([x,y]);this.stream.point(p[0],p[1])}}),postclip=identity,cache,cacheStream;function reset(){kx=k*sx;ky=k*sy;cache=cacheStream=null;return projection}function projection(p){var x=p[0]*kx,y=p[1]*ky;if(alpha){var t=y*ca-x*sa;x=x*ca+y*sa;y=t}return[x+tx,y+ty]}projection.invert=function(p){var x=p[0]-tx,y=p[1]-ty;if(alpha){var t=y*ca+x*sa;x=x*ca-y*sa;y=t}return[x/kx,y/ky]};projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transform(postclip(cacheStream=stream))};projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip};projection.clipExtent=function(_){return arguments.length?(postclip=_==null?(x0=y0=x1=y1=null,identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):x0==null?null:[[x0,y0],[x1,y1]]};projection.scale=function(_){return arguments.length?(k=+_,reset()):k};projection.translate=function(_){return arguments.length?(tx=+_[0],ty=+_[1],reset()):[tx,ty]};projection.angle=function(_){return arguments.length?(alpha=_%360*radians,sa=sin(alpha),ca=cos(alpha),reset()):alpha*degrees};projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,reset()):sx<0};projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,reset()):sy<0};projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)};projection.fitSize=function(size,object){return fitSize(projection,size,object)};projection.fitWidth=function(width,object){return fitWidth(projection,width,object)};projection.fitHeight=function(height,object){return fitHeight(projection,height,object)};return projection}function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(-.013791+phi4*(.003971*phi2-.001529*phi4))),phi*(1.007226+phi2*(.015085+phi4*(-.044475+.028874*phi2-.005916*phi4)))]}naturalEarth1Raw.invert=function(x,y){var phi=y,i=25,delta;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(-.044475+.028874*phi2-.005916*phi4)))-y)/(1.007226+phi2*(.015085*3+phi4*(-.044475*7+.028874*9*phi2-.005916*11*phi4)))}while(abs(delta)>epsilon&&--i>0);return[x/(.8707+(phi2=phi*phi)*(-.131979+phi2*(-.013791+phi2*phi2*phi2*(.003971-.001529*phi2)))),phi]};function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(x,y){return[cos(y)*sin(x),sin(y)]}orthographicRaw.invert=azimuthalInvert(asin);function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+epsilon)}function stereographicRaw(x,y){var cy=cos(y),k=1+cos(x)*cy;return[cy*sin(x)/k,sin(y)/k]}stereographicRaw.invert=azimuthalInvert((function(z){return 2*atan(z)}));function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(lambda,phi){return[log(tan((halfPi+phi)/2)),-lambda]}transverseMercatorRaw.invert=function(x,y){return[-y,2*atan(exp(x))-halfPi]};function transverseMercator(){var m=mercatorProjection(transverseMercatorRaw),center=m.center,rotate=m.rotate;m.center=function(_){return arguments.length?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])};m.rotate=function(_){return arguments.length?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])};return rotate([0,0,90]).scale(159.155)}exports.geoAlbers=albers;exports.geoAlbersUsa=albersUsa;exports.geoArea=area;exports.geoAzimuthalEqualArea=azimuthalEqualArea;exports.geoAzimuthalEqualAreaRaw=azimuthalEqualAreaRaw;exports.geoAzimuthalEquidistant=azimuthalEquidistant;exports.geoAzimuthalEquidistantRaw=azimuthalEquidistantRaw;exports.geoBounds=bounds;exports.geoCentroid=centroid;exports.geoCircle=circle;exports.geoClipAntimeridian=clipAntimeridian;exports.geoClipCircle=clipCircle;exports.geoClipExtent=extent;exports.geoClipRectangle=clipRectangle;exports.geoConicConformal=conicConformal;exports.geoConicConformalRaw=conicConformalRaw;exports.geoConicEqualArea=conicEqualArea;exports.geoConicEqualAreaRaw=conicEqualAreaRaw;exports.geoConicEquidistant=conicEquidistant;exports.geoConicEquidistantRaw=conicEquidistantRaw;exports.geoContains=contains;exports.geoDistance=distance;exports.geoEqualEarth=equalEarth;exports.geoEqualEarthRaw=equalEarthRaw;exports.geoEquirectangular=equirectangular;exports.geoEquirectangularRaw=equirectangularRaw;exports.geoGnomonic=gnomonic;exports.geoGnomonicRaw=gnomonicRaw;exports.geoGraticule=graticule;exports.geoGraticule10=graticule10;exports.geoIdentity=identity$1;exports.geoInterpolate=interpolate;exports.geoLength=length;exports.geoMercator=mercator;exports.geoMercatorRaw=mercatorRaw;exports.geoNaturalEarth1=naturalEarth1;exports.geoNaturalEarth1Raw=naturalEarth1Raw;exports.geoOrthographic=orthographic;exports.geoOrthographicRaw=orthographicRaw;exports.geoPath=index;exports.geoProjection=projection;exports.geoProjectionMutator=projectionMutator;exports.geoRotation=rotation;exports.geoStereographic=stereographic;exports.geoStereographicRaw=stereographicRaw;exports.geoStream=geoStream;exports.geoTransform=transform;exports.geoTransverseMercator=transverseMercator;exports.geoTransverseMercatorRaw=transverseMercatorRaw;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--custom-svg-wrapper";var DEFAULT_STYLE={stroke:"blue",fill:"blue"};function predefinedComponents(type){var size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var style=arguments.length>2&&arguments[2]!==undefined?arguments[2]:DEFAULT_STYLE;switch(type){case"diamond":return _react2.default.createElement("polygon",{style:style,points:"0 0 "+size/2+" "+size/2+" 0 "+size+" "+-size/2+" "+size/2+" 0 0"});case"star":var starPoints=[].concat(_toConsumableArray(new Array(5))).map((function(c,index){var angle=index/5*Math.PI*2;var innerAngle=angle+Math.PI/10;var outerAngle=angle-Math.PI/10;var innerRadius=size/2.61;return"\n        "+Math.cos(outerAngle)*size+" "+Math.sin(outerAngle)*size+"\n        "+Math.cos(innerAngle)*innerRadius+" "+Math.sin(innerAngle)*innerRadius+"\n      "})).join(" ");return _react2.default.createElement("polygon",{points:starPoints,x:"0",y:"0",height:size,width:size,style:style});case"square":return _react2.default.createElement("rect",{x:""+-size/2,y:""+-size/2,height:size,width:size,style:style});default:case"circle":return _react2.default.createElement("circle",{cx:"0",cy:"0",r:size/2,style:style})}}function getInnerComponent(_ref){var customComponent=_ref.customComponent,defaultType=_ref.defaultType,positionInPixels=_ref.positionInPixels,positionFunctions=_ref.positionFunctions,style=_ref.style;var size=customComponent.size;var aggStyle=_extends({},style,customComponent.style||{});var innerComponent=customComponent.customComponent;if(!innerComponent&&typeof defaultType==="string"){return predefinedComponents(defaultType,size,aggStyle)}if(!innerComponent){return defaultType(customComponent,positionInPixels,aggStyle)}if(typeof innerComponent==="string"){return predefinedComponents(innerComponent||defaultType,size,aggStyle)}return innerComponent(customComponent,positionInPixels,aggStyle)}var CustomSVGSeries=function(_AbstractSeries){_inherits(CustomSVGSeries,_AbstractSeries);function CustomSVGSeries(){_classCallCheck(this,CustomSVGSeries);return _possibleConstructorReturn(this,(CustomSVGSeries.__proto__||Object.getPrototypeOf(CustomSVGSeries)).apply(this,arguments))}_createClass(CustomSVGSeries,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,customComponent=_props.customComponent,data=_props.data,innerHeight=_props.innerHeight,innerWidth=_props.innerWidth,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style;if(!data||!innerWidth||!innerHeight){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(CustomSVGSeries,_extends({},this.props,{animation:false})))}var x=this._getAttributeFunctor("x");var y=this._getAttributeFunctor("y");var contents=data.map((function(seriesComponent,index){var positionInPixels={x:x({x:seriesComponent.x}),y:y({y:seriesComponent.y})};var innerComponent=getInnerComponent({customComponent:seriesComponent,positionInPixels:positionInPixels,defaultType:customComponent,positionFunctions:{x:x,y:y},style:style});return _react2.default.createElement("g",{className:"rv-xy-plot__series--custom-svg",key:"rv-xy-plot__series--custom-svg-"+index,transform:"translate("+positionInPixels.x+","+positionInPixels.y+")"},innerComponent)}));return _react2.default.createElement("g",{className:predefinedClassName+" "+className,ref:"container",transform:"translate("+marginLeft+","+marginTop+")"},contents)}}]);return CustomSVGSeries}(_abstractSeries2.default);CustomSVGSeries.propTypes={animation:_propTypes2.default.bool,className:_propTypes2.default.string,customComponent:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.func]),data:_propTypes2.default.arrayOf(_propTypes2.default.shape({x:_propTypes2.default.number.isRequired,y:_propTypes2.default.number.isRequired})).isRequired,marginLeft:_propTypes2.default.number,marginTop:_propTypes2.default.number,style:_propTypes2.default.object};CustomSVGSeries.defaultProps={animation:false,customComponent:"circle",style:{}};exports.default=CustomSVGSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Shape=__webpack_require__(119);var d3Shape=_interopRequireWildcard(_d3Shape);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _theme=__webpack_require__(56);var _seriesUtils=__webpack_require__(57);var _reactUtils=__webpack_require__(103);var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-xy-plot__series rv-xy-plot__series--line";var AreaSeries=function(_AbstractSeries){_inherits(AreaSeries,_AbstractSeries);function AreaSeries(){_classCallCheck(this,AreaSeries);return _possibleConstructorReturn(this,(AreaSeries.__proto__||Object.getPrototypeOf(AreaSeries)).apply(this,arguments))}_createClass(AreaSeries,[{key:"_renderArea",value:function _renderArea(data,x,y0,y,curve,getNull){var area=d3Shape.area();if(curve!==null){if(typeof curve==="string"&&d3Shape[curve]){area=area.curve(d3Shape[curve])}else if(typeof curve==="function"){area=area.curve(curve)}}area=area.defined(getNull);area=area.x(x).y0(y0).y1(y);return area(data)}},{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,curve=_props.curve,data=_props.data,marginLeft=_props.marginLeft,marginTop=_props.marginTop,style=_props.style;if(this.props.nullAccessor){(0,_reactUtils.warning)("nullAccessor has been renamed to getNull",true)}if(!data){return null}if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(AreaSeries,_extends({},this.props,{animation:null})))}var x=this._getAttributeFunctor("x");var y=this._getAttributeFunctor("y");var y0=this._getAttr0Functor("y");var stroke=this._getAttributeValue("stroke")||this._getAttributeValue("color");var fill=this._getAttributeValue("fill")||this._getAttributeValue("color");var newOpacity=this._getAttributeValue("opacity");var opacity=Number.isFinite(newOpacity)?newOpacity:_theme.DEFAULT_OPACITY;var getNull=this.props.nullAccessor||this.props.getNull;var d=this._renderArea(data,x,y0,y,curve,getNull);return _react2.default.createElement("path",{d:d,className:predefinedClassName+" "+className,transform:"translate("+marginLeft+","+marginTop+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:_extends({opacity:opacity,stroke:stroke,fill:fill},style)})}}]);return AreaSeries}(_abstractSeries2.default);AreaSeries.displayName="AreaSeries";AreaSeries.propTypes=_extends({},_abstractSeries2.default.propTypes,{getNull:_propTypes2.default.func});AreaSeries.defaultProps={getNull:function getNull(){return true}};exports.default=AreaSeries},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _abstractSeries=__webpack_require__(47);var _abstractSeries2=_interopRequireDefault(_abstractSeries);var _markSeriesCanvas=__webpack_require__(302);var _markSeriesCanvas2=_interopRequireDefault(_markSeriesCanvas);var _lineSeriesCanvas=__webpack_require__(298);var _lineSeriesCanvas2=_interopRequireDefault(_lineSeriesCanvas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LineMarkSeriesCanvas=function(_AbstractSeries){_inherits(LineMarkSeriesCanvas,_AbstractSeries);function LineMarkSeriesCanvas(){_classCallCheck(this,LineMarkSeriesCanvas);return _possibleConstructorReturn(this,(LineMarkSeriesCanvas.__proto__||Object.getPrototypeOf(LineMarkSeriesCanvas)).apply(this,arguments))}_createClass(LineMarkSeriesCanvas,[{key:"render",value:function render(){return null}}],[{key:"renderLayer",value:function renderLayer(props,ctx){_lineSeriesCanvas2.default.renderLayer(props,ctx);_markSeriesCanvas2.default.renderLayer(props,ctx)}},{key:"requiresSVG",get:function get(){return false}},{key:"isCanvas",get:function get(){return true}}]);return LineMarkSeriesCanvas}(_abstractSeries2.default);LineMarkSeriesCanvas.displayName="LineMarkSeriesCanvas";LineMarkSeriesCanvas.propTypes=_extends({},_abstractSeries2.default.propTypes);exports.default=LineMarkSeriesCanvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _scalesUtils=__webpack_require__(58);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ALIGN={AUTO:"auto",LEFT:"left",RIGHT:"right",LEFT_EDGE:"leftEdge",RIGHT_EDGE:"rightEdge",BOTTOM:"bottom",TOP:"top",BOTTOM_EDGE:"bottomEdge",TOP_EDGE:"topEdge"};var ORIENTATION={BOTTOM_LEFT:"bottomleft",BOTTOM_RIGHT:"bottomright",TOP_LEFT:"topleft",TOP_RIGHT:"topright"};function defaultFormat(value){return Object.keys(value).map((function getProp(key){return{title:key,value:value[key]}}))}var Hint=function(_PureComponent){_inherits(Hint,_PureComponent);function Hint(){_classCallCheck(this,Hint);return _possibleConstructorReturn(this,(Hint.__proto__||Object.getPrototypeOf(Hint)).apply(this,arguments))}_createClass(Hint,[{key:"_getCSSRight",value:function _getCSSRight(x){if(x===undefined||x===null){return{right:0}}var _props=this.props,innerWidth=_props.innerWidth,marginRight=_props.marginRight;return{right:marginRight+innerWidth-x}}},{key:"_getCSSLeft",value:function _getCSSLeft(x){if(x===undefined||x===null){return{left:0}}var marginLeft=this.props.marginLeft;return{left:marginLeft+x}}},{key:"_getCSSBottom",value:function _getCSSBottom(y){if(y===undefined||y===null){return{bottom:0}}var _props2=this.props,innerHeight=_props2.innerHeight,marginBottom=_props2.marginBottom;return{bottom:marginBottom+innerHeight-y}}},{key:"_getCSSTop",value:function _getCSSTop(y){if(y===undefined||y===null){return{top:0}}var marginTop=this.props.marginTop;return{top:marginTop+y}}},{key:"_mapOrientationToAlign",value:function _mapOrientationToAlign(orientation){switch(orientation){case ORIENTATION.BOTTOM_LEFT:return{horizontal:ALIGN.LEFT,vertical:ALIGN.BOTTOM};case ORIENTATION.BOTTOM_RIGHT:return{horizontal:ALIGN.RIGHT,vertical:ALIGN.BOTTOM};case ORIENTATION.TOP_LEFT:return{horizontal:ALIGN.LEFT,vertical:ALIGN.TOP};case ORIENTATION.TOP_RIGHT:return{horizontal:ALIGN.RIGHT,vertical:ALIGN.TOP};default:break}}},{key:"_getAlign",value:function _getAlign(x,y){var _props3=this.props,innerWidth=_props3.innerWidth,innerHeight=_props3.innerHeight,orientation=_props3.orientation,_props3$align=_props3.align,horizontal=_props3$align.horizontal,vertical=_props3$align.vertical;var align=orientation?this._mapOrientationToAlign(orientation):{horizontal:horizontal,vertical:vertical};if(horizontal===ALIGN.AUTO){align.horizontal=x>innerWidth/2?ALIGN.LEFT:ALIGN.RIGHT}if(vertical===ALIGN.AUTO){align.vertical=y>innerHeight/2?ALIGN.TOP:ALIGN.BOTTOM}return align}},{key:"_getAlignStyle",value:function _getAlignStyle(align,x,y){return _extends({},this._getXCSS(align.horizontal,x),this._getYCSS(align.vertical,y))}},{key:"_getYCSS",value:function _getYCSS(verticalAlign,y){switch(verticalAlign){case ALIGN.TOP_EDGE:return this._getCSSTop(null);case ALIGN.BOTTOM_EDGE:return this._getCSSBottom(null);case ALIGN.BOTTOM:return this._getCSSTop(y);case ALIGN.TOP:default:return this._getCSSBottom(y)}}},{key:"_getXCSS",value:function _getXCSS(horizontal,x){switch(horizontal){case ALIGN.LEFT_EDGE:return this._getCSSLeft(null);case ALIGN.RIGHT_EDGE:return this._getCSSRight(null);case ALIGN.LEFT:return this._getCSSRight(x);case ALIGN.RIGHT:default:return this._getCSSLeft(x)}}},{key:"_getAlignClassNames",value:function _getAlignClassNames(align){var orientation=this.props.orientation;var orientationClass=orientation?"rv-hint--orientation-"+orientation:"";return orientationClass+" rv-hint--horizontalAlign-"+align.horizontal+"\n     rv-hint--verticalAlign-"+align.vertical}},{key:"_getPositionInfo",value:function _getPositionInfo(){var _props4=this.props,value=_props4.value,getAlignStyle=_props4.getAlignStyle;var x=(0,_scalesUtils.getAttributeFunctor)(this.props,"x")(value);var y=(0,_scalesUtils.getAttributeFunctor)(this.props,"y")(value);var align=this._getAlign(x,y);return{position:getAlignStyle?getAlignStyle(align,x,y):this._getAlignStyle(align,x,y),className:this._getAlignClassNames(align)}}},{key:"render",value:function render(){var _props5=this.props,value=_props5.value,format=_props5.format,children=_props5.children,style=_props5.style;var _getPositionInfo2=this._getPositionInfo(),position=_getPositionInfo2.position,className=_getPositionInfo2.className;return _react2.default.createElement("div",{className:"rv-hint "+className,style:_extends({},style,position,{position:"absolute"})},children?children:_react2.default.createElement("div",{className:"rv-hint__content",style:style.content},format(value).map((function(formattedProp,i){return _react2.default.createElement("div",{key:"rv-hint"+i,style:style.row},_react2.default.createElement("span",{className:"rv-hint__title",style:style.title},formattedProp.title),": ",_react2.default.createElement("span",{className:"rv-hint__value",style:style.value},formattedProp.value))}))))}}],[{key:"propTypes",get:function get(){return{marginTop:_propTypes2.default.number,marginLeft:_propTypes2.default.number,innerWidth:_propTypes2.default.number,innerHeight:_propTypes2.default.number,scales:_propTypes2.default.object,value:_propTypes2.default.object,format:_propTypes2.default.func,style:_propTypes2.default.object,align:_propTypes2.default.shape({horizontal:_propTypes2.default.oneOf([ALIGN.AUTO,ALIGN.LEFT,ALIGN.RIGHT,ALIGN.LEFT_EDGE,ALIGN.RIGHT_EDGE]),vertical:_propTypes2.default.oneOf([ALIGN.AUTO,ALIGN.BOTTOM,ALIGN.TOP,ALIGN.BOTTOM_EDGE,ALIGN.TOP_EDGE])}),getAlignStyle:_propTypes2.default.func,orientation:_propTypes2.default.oneOf([ORIENTATION.BOTTOM_LEFT,ORIENTATION.BOTTOM_RIGHT,ORIENTATION.TOP_LEFT,ORIENTATION.TOP_RIGHT])}}},{key:"defaultProps",get:function get(){return{format:defaultFormat,align:{horizontal:ALIGN.AUTO,vertical:ALIGN.AUTO},style:{}}}}]);return Hint}(_react.PureComponent);Hint.displayName="Hint";Hint.ORIENTATION=ORIENTATION;Hint.ALIGN=ALIGN;exports.default=Hint},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var propTypes={style:_propTypes2.default.shape({bottom:_propTypes2.default.object,left:_propTypes2.default.object,right:_propTypes2.default.object,top:_propTypes2.default.object}),marginTop:_propTypes2.default.number,marginBottom:_propTypes2.default.number,marginLeft:_propTypes2.default.number,marginRight:_propTypes2.default.number,innerWidth:_propTypes2.default.number,innerHeight:_propTypes2.default.number};var CLASSES={bottom:"rv-xy-plot__borders-bottom",container:"rv-xy-plot__borders",left:"rv-xy-plot__borders-left",right:"rv-xy-plot__borders-right",top:"rv-xy-plot__borders-top"};var Borders=function(_PureComponent){_inherits(Borders,_PureComponent);function Borders(){_classCallCheck(this,Borders);return _possibleConstructorReturn(this,(Borders.__proto__||Object.getPrototypeOf(Borders)).apply(this,arguments))}_createClass(Borders,[{key:"render",value:function render(){var _props=this.props,marginTop=_props.marginTop,marginBottom=_props.marginBottom,marginLeft=_props.marginLeft,marginRight=_props.marginRight,innerWidth=_props.innerWidth,innerHeight=_props.innerHeight,style=_props.style,className=_props.className;var height=innerHeight+marginTop+marginBottom;var width=innerWidth+marginLeft+marginRight;return _react2.default.createElement("g",{className:CLASSES.container+" "+className},_react2.default.createElement("rect",{className:CLASSES.bottom+" "+className+"-bottom",style:_extends({},style.all,style.bottom),x:0,y:height-marginBottom,width:width,height:marginBottom}),_react2.default.createElement("rect",{className:CLASSES.left+" "+className+"-left",style:_extends({},style.all,style.left),x:0,y:0,width:marginLeft,height:height}),_react2.default.createElement("rect",{className:CLASSES.right+" "+className+"-right",style:_extends({},style.all,style.right),x:width-marginRight,y:0,width:marginRight,height:height}),_react2.default.createElement("rect",{className:CLASSES.top+" "+className+"-top",style:_extends({},style.all,style.top),x:0,y:0,width:width,height:marginTop}))}}]);return Borders}(_react.PureComponent);Borders.displayName="Borders";Borders.defaultProps={className:"",style:{all:{},bottom:{},left:{},right:{},top:{}}};Borders.propTypes=propTypes;Borders.requiresSVG=true;exports.default=Borders},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _scalesUtils=__webpack_require__(58);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function defaultTitleFormat(values){var value=getFirstNonEmptyValue(values);if(value){return{title:"x",value:value.x}}}function defaultItemsFormat(values){return values.map((function(v,i){if(v){return{value:v.y,title:i}}}))}function getFirstNonEmptyValue(values){return(values||[]).find((function(v){return Boolean(v)}))}var Crosshair=function(_PureComponent){_inherits(Crosshair,_PureComponent);function Crosshair(){_classCallCheck(this,Crosshair);return _possibleConstructorReturn(this,(Crosshair.__proto__||Object.getPrototypeOf(Crosshair)).apply(this,arguments))}_createClass(Crosshair,[{key:"_renderCrosshairTitle",value:function _renderCrosshairTitle(){var _props=this.props,values=_props.values,titleFormat=_props.titleFormat,style=_props.style;var titleItem=titleFormat(values);if(!titleItem){return null}return _react2.default.createElement("div",{className:"rv-crosshair__title",key:"title",style:style.title},_react2.default.createElement("span",{className:"rv-crosshair__title__title"},titleItem.title),": ",_react2.default.createElement("span",{className:"rv-crosshair__title__value"},titleItem.value))}},{key:"_renderCrosshairItems",value:function _renderCrosshairItems(){var _props2=this.props,values=_props2.values,itemsFormat=_props2.itemsFormat;var items=itemsFormat(values);if(!items){return null}return items.filter((function(i){return i})).map((function renderValue(item,i){return _react2.default.createElement("div",{className:"rv-crosshair__item",key:"item"+i},_react2.default.createElement("span",{className:"rv-crosshair__item__title"},item.title),": ",_react2.default.createElement("span",{className:"rv-crosshair__item__value"},item.value))}))}},{key:"render",value:function render(){var _props3=this.props,children=_props3.children,values=_props3.values,marginTop=_props3.marginTop,marginLeft=_props3.marginLeft,innerWidth=_props3.innerWidth,innerHeight=_props3.innerHeight,style=_props3.style;var value=getFirstNonEmptyValue(values);if(!value){return null}var x=(0,_scalesUtils.getAttributeFunctor)(this.props,"x");var innerLeft=x(value);var _props$orientation=this.props.orientation,orientation=_props$orientation===undefined?innerLeft>innerWidth/2?"left":"right":_props$orientation;var left=marginLeft+innerLeft;var top=marginTop;var innerClassName="rv-crosshair__inner rv-crosshair__inner--"+orientation;return _react2.default.createElement("div",{className:"rv-crosshair",style:{left:left+"px",top:top+"px"}},_react2.default.createElement("div",{className:"rv-crosshair__line",style:_extends({height:innerHeight+"px"},style.line)}),_react2.default.createElement("div",{className:innerClassName},children?children:_react2.default.createElement("div",{className:"rv-crosshair__inner__content",style:style.box},_react2.default.createElement("div",null,this._renderCrosshairTitle(),this._renderCrosshairItems()))))}}],[{key:"propTypes",get:function get(){return{values:_propTypes2.default.array,series:_propTypes2.default.object,innerWidth:_propTypes2.default.number,innerHeight:_propTypes2.default.number,marginLeft:_propTypes2.default.number,marginTop:_propTypes2.default.number,orientation:_propTypes2.default.oneOf(["left","right"]),itemsFormat:_propTypes2.default.func,titleFormat:_propTypes2.default.func,style:_propTypes2.default.shape({line:_propTypes2.default.object,title:_propTypes2.default.object,box:_propTypes2.default.object})}}},{key:"defaultProps",get:function get(){return{titleFormat:defaultTitleFormat,itemsFormat:defaultItemsFormat,style:{line:{},title:{},box:{}}}}}]);return Crosshair}(_react.PureComponent);Crosshair.displayName="Crosshair";exports.default=Crosshair},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=decorativeAxisTick;var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _axisUtils=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function decorativeAxisTick(props){var axisDomain=props.axisDomain,numberOfTicks=props.numberOfTicks,axisStart=props.axisStart,axisEnd=props.axisEnd,tickValue=props.tickValue,tickSize=props.tickSize,style=props.style;var _generatePoints=(0,_axisUtils.generatePoints)({axisStart:axisStart,axisEnd:axisEnd,numberOfTicks:numberOfTicks,axisDomain:axisDomain}),points=_generatePoints.points;var tickAngle=(0,_axisUtils.getAxisAngle)(axisStart,axisEnd)+Math.PI/2;return points.map((function(point,index){var tickProps=_extends({x1:0,y1:0,x2:tickSize*Math.cos(tickAngle),y2:tickSize*Math.sin(tickAngle)},style.ticks);var textProps=_extends({x:tickSize*Math.cos(tickAngle),y:tickSize*Math.sin(tickAngle),textAnchor:"start"},style.text);return _react2.default.createElement("g",{key:index,transform:"translate("+point.x+", "+point.y+")",className:"rv-xy-plot__axis__tick"},_react2.default.createElement("line",_extends({},tickProps,{className:"rv-xy-plot__axis__tick__line"})),_react2.default.createElement("text",_extends({},textProps,{className:"rv-xy-plot__axis__tick__text"}),tickValue(point.text)))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _axisUtils=__webpack_require__(66);var _axis=__webpack_require__(304);var _axis2=_interopRequireDefault(_axis);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TOP=_axisUtils.ORIENTATION.TOP,BOTTOM=_axisUtils.ORIENTATION.BOTTOM;var propTypes=_extends({},_axis2.default.propTypes,{orientation:_propTypes2.default.oneOf([TOP,BOTTOM])});var defaultProps={orientation:BOTTOM,attr:"x",attrAxis:"y"};function XAxis(props){return _react2.default.createElement(_axis2.default,props)}XAxis.displayName="XAxis";XAxis.propTypes=propTypes;XAxis.defaultProps=defaultProps;XAxis.requiresSVG=true;exports.default=XAxis},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _axisUtils=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LEFT=_axisUtils.ORIENTATION.LEFT,RIGHT=_axisUtils.ORIENTATION.RIGHT,TOP=_axisUtils.ORIENTATION.TOP,BOTTOM=_axisUtils.ORIENTATION.BOTTOM;var propTypes={height:_propTypes2.default.number.isRequired,style:_propTypes2.default.object,orientation:_propTypes2.default.oneOf([LEFT,RIGHT,TOP,BOTTOM]).isRequired,width:_propTypes2.default.number.isRequired};var defaultProps={style:{}};function AxisLine(_ref){var orientation=_ref.orientation,width=_ref.width,height=_ref.height,style=_ref.style;var lineProps=void 0;if(orientation===LEFT){lineProps={x1:width,x2:width,y1:0,y2:height}}else if(orientation===RIGHT){lineProps={x1:0,x2:0,y1:0,y2:height}}else if(orientation===TOP){lineProps={x1:0,x2:width,y1:height,y2:height}}else{lineProps={x1:0,x2:width,y1:0,y2:0}}return _react2.default.createElement("line",_extends({},lineProps,{className:"rv-xy-plot__axis__line",style:style}))}AxisLine.defaultProps=defaultProps;AxisLine.displayName="AxisLine";AxisLine.propTypes=propTypes;exports.default=AxisLine},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _axisUtils=__webpack_require__(66);var _scalesUtils=__webpack_require__(58);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LEFT=_axisUtils.ORIENTATION.LEFT,RIGHT=_axisUtils.ORIENTATION.RIGHT,TOP=_axisUtils.ORIENTATION.TOP,BOTTOM=_axisUtils.ORIENTATION.BOTTOM;var propTypes={height:_propTypes2.default.number.isRequired,orientation:_propTypes2.default.oneOf([LEFT,RIGHT,TOP,BOTTOM]).isRequired,style:_propTypes2.default.object,width:_propTypes2.default.number.isRequired};var defaultProps={style:{}};function _getTickFormatFn(scale,tickTotal,tickFormat){return!tickFormat?scale.tickFormat?scale.tickFormat(tickTotal):function(v){return v}:tickFormat}var AxisTicks=function(_React$Component){_inherits(AxisTicks,_React$Component);function AxisTicks(){_classCallCheck(this,AxisTicks);return _possibleConstructorReturn(this,(AxisTicks.__proto__||Object.getPrototypeOf(AxisTicks)).apply(this,arguments))}_createClass(AxisTicks,[{key:"_isAxisVertical",value:function _isAxisVertical(){var orientation=this.props.orientation;return orientation===LEFT||orientation===RIGHT}},{key:"_areTicksWrapped",value:function _areTicksWrapped(){var orientation=this.props.orientation;return orientation===LEFT||orientation===TOP}},{key:"_getTickContainerPropsGetterFn",value:function _getTickContainerPropsGetterFn(){if(this._isAxisVertical()){return function(pos){return{transform:"translate(0, "+pos+")"}}}return function(pos){return{transform:"translate("+pos+", 0)"}}}},{key:"_getTickLineProps",value:function _getTickLineProps(){var _ref;var _props=this.props,tickSize=_props.tickSize,_props$tickSizeOuter=_props.tickSizeOuter,tickSizeOuter=_props$tickSizeOuter===undefined?tickSize:_props$tickSizeOuter,_props$tickSizeInner=_props.tickSizeInner,tickSizeInner=_props$tickSizeInner===undefined?tickSize:_props$tickSizeInner;var isVertical=this._isAxisVertical();var tickXAttr=isVertical?"y":"x";var tickYAttr=isVertical?"x":"y";var wrap=this._areTicksWrapped()?-1:1;return _ref={},_defineProperty(_ref,tickXAttr+"1",0),_defineProperty(_ref,tickXAttr+"2",0),_defineProperty(_ref,tickYAttr+"1",-wrap*tickSizeInner),_defineProperty(_ref,tickYAttr+"2",wrap*tickSizeOuter),_ref}},{key:"_getTickLabelProps",value:function _getTickLabelProps(){var _props2=this.props,orientation=_props2.orientation,tickLabelAngle=_props2.tickLabelAngle,tickSize=_props2.tickSize,_props2$tickSizeOuter=_props2.tickSizeOuter,tickSizeOuter=_props2$tickSizeOuter===undefined?tickSize:_props2$tickSizeOuter,_props2$tickPadding=_props2.tickPadding,tickPadding=_props2$tickPadding===undefined?tickSize:_props2$tickPadding;var textAnchor=void 0;if(orientation===LEFT||orientation===BOTTOM&&tickLabelAngle){textAnchor="end"}else if(orientation===RIGHT||orientation===TOP&&tickLabelAngle){textAnchor="start"}else{textAnchor="middle"}var isVertical=this._isAxisVertical();var wrap=this._areTicksWrapped()?-1:1;var labelOffset=wrap*(tickSizeOuter+tickPadding);var transform=(isVertical?"translate("+labelOffset+", 0)":"translate(0, "+labelOffset+")")+(tickLabelAngle?" rotate("+tickLabelAngle+")":"");var dy=orientation===TOP||tickLabelAngle?"0":orientation===BOTTOM?"0.72em":"0.32em";return{textAnchor:textAnchor,dy:dy,transform:transform}}},{key:"render",value:function render(){var _props3=this.props,attr=_props3.attr,orientation=_props3.orientation,width=_props3.width,height=_props3.height,style=_props3.style,tickFormat=_props3.tickFormat,tickTotal=_props3.tickTotal,tickValues=_props3.tickValues;var x=orientation===LEFT?width:0;var y=orientation===TOP?height:0;var scale=(0,_scalesUtils.getAttributeScale)(this.props,attr);var values=(0,_axisUtils.getTickValues)(scale,tickTotal,tickValues);var tickFormatFn=_getTickFormatFn(scale,tickTotal,tickFormat);var translateFn=this._getTickContainerPropsGetterFn();var pathProps=this._getTickLineProps();var textProps=this._getTickLabelProps();var ticks=values.map((function(v,i){var pos=scale(v);var text=tickFormatFn(v,i);return _react2.default.createElement("g",_extends({key:i},translateFn(pos,0),{className:"rv-xy-plot__axis__tick",style:style}),_react2.default.createElement("line",_extends({},pathProps,{className:"rv-xy-plot__axis__tick__line",style:_extends({},style,style.line)})),_react2.default.createElement("text",_extends({},textProps,{className:"rv-xy-plot__axis__tick__text",style:_extends({},style,style.text)}),text))}));return _react2.default.createElement("g",{transform:"translate("+x+", "+y+")",className:"rv-xy-plot__axis__ticks"},ticks)}}]);return AxisTicks}(_react2.default.Component);AxisTicks.defaultProps=defaultProps;AxisTicks.displayName="AxisTicks";AxisTicks.propTypes=propTypes;AxisTicks.requiresSVG=true;exports.default=AxisTicks},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _axisUtils=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ADJUSTMENT_FOR_TEXT_SIZE=16;var LEFT=_axisUtils.ORIENTATION.LEFT,RIGHT=_axisUtils.ORIENTATION.RIGHT,TOP=_axisUtils.ORIENTATION.TOP,BOTTOM=_axisUtils.ORIENTATION.BOTTOM;var transformation=function transformation(width,height){var _ref;return _ref={},_defineProperty(_ref,LEFT,{x:ADJUSTMENT_FOR_TEXT_SIZE,y:0,rotation:-90,textAnchor:"end"}),_defineProperty(_ref,RIGHT,{x:ADJUSTMENT_FOR_TEXT_SIZE*-.5,y:height,rotation:-90,textAnchor:"start"}),_defineProperty(_ref,TOP,{x:0,y:ADJUSTMENT_FOR_TEXT_SIZE,rotation:0,textAnchor:"start"}),_defineProperty(_ref,BOTTOM,{x:width,y:-6,rotation:0,textAnchor:"end"}),_ref};var propTypes={width:_propTypes2.default.number.isRequired,height:_propTypes2.default.number.isRequired,orientation:_propTypes2.default.oneOf([LEFT,RIGHT,TOP,BOTTOM]).isRequired,style:_propTypes2.default.object,title:_propTypes2.default.string.isRequired};function AxisTitle(_ref2){var orientation=_ref2.orientation,width=_ref2.width,height=_ref2.height,style=_ref2.style,title=_ref2.title;var outerGroupTranslateX=orientation===LEFT?width:0;var outerGroupTranslateY=orientation===TOP?height:0;var outerGroupTransform="translate("+outerGroupTranslateX+", "+outerGroupTranslateY+")";var _transformation$orien=transformation(width,height)[orientation],x=_transformation$orien.x,y=_transformation$orien.y,rotation=_transformation$orien.rotation,textAnchor=_transformation$orien.textAnchor;var innerGroupTransform="translate("+x+", "+y+") rotate("+rotation+")";return _react2.default.createElement("g",{transform:outerGroupTransform,className:"rv-xy-plot__axis__title"},_react2.default.createElement("g",{style:_extends({textAnchor:textAnchor},style),transform:innerGroupTransform},_react2.default.createElement("text",{style:style},title)))}AxisTitle.displayName="AxisTitle";AxisTitle.propTypes=propTypes;exports.default=AxisTitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _axisUtils=__webpack_require__(66);var _axis=__webpack_require__(304);var _axis2=_interopRequireDefault(_axis);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LEFT=_axisUtils.ORIENTATION.LEFT,RIGHT=_axisUtils.ORIENTATION.RIGHT;var propTypes=_extends({},_axis2.default.propTypes,{orientation:_propTypes2.default.oneOf([LEFT,RIGHT])});var defaultProps={orientation:LEFT,attr:"y",attrAxis:"x"};function YAxis(props){return _react2.default.createElement(_axis2.default,props)}YAxis.displayName="YAxis";YAxis.propTypes=propTypes;YAxis.defaultProps=defaultProps;YAxis.requiresSVG=true;exports.default=YAxis},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _scalesUtils=__webpack_require__(58);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _axisUtils=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var animatedProps=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"];var CircularGridLines=function(_PureComponent){_inherits(CircularGridLines,_PureComponent);function CircularGridLines(){_classCallCheck(this,CircularGridLines);return _possibleConstructorReturn(this,(CircularGridLines.__proto__||Object.getPrototypeOf(CircularGridLines)).apply(this,arguments))}_createClass(CircularGridLines,[{key:"_getDefaultProps",value:function _getDefaultProps(){var _props=this.props,innerWidth=_props.innerWidth,innerHeight=_props.innerHeight,marginTop=_props.marginTop,marginLeft=_props.marginLeft;return{left:marginLeft,top:marginTop,width:innerWidth,height:innerHeight,style:{},tickTotal:(0,_axisUtils.getTicksTotalFromSize)(Math.min(innerWidth,innerHeight))}}},{key:"render",value:function render(){var _props2=this.props,animation=_props2.animation,centerX=_props2.centerX,centerY=_props2.centerY;if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:animatedProps}),_react2.default.createElement(CircularGridLines,_extends({},this.props,{animation:null})))}var props=_extends({},this._getDefaultProps(),this.props);var tickTotal=props.tickTotal,tickValues=props.tickValues,marginLeft=props.marginLeft,marginTop=props.marginTop,rRange=props.rRange,style=props.style;var xScale=(0,_scalesUtils.getAttributeScale)(props,"x");var yScale=(0,_scalesUtils.getAttributeScale)(props,"y");var values=(0,_axisUtils.getTickValues)(xScale,tickTotal,tickValues);return _react2.default.createElement("g",{transform:"translate("+(xScale(centerX)+marginLeft)+","+(yScale(centerY)+marginTop)+")",className:"rv-xy-plot__circular-grid-lines"},values.reduce((function(res,value,index){var radius=xScale(value);if(rRange&&(radius<rRange[0]||radius>rRange[1])){return res}return res.concat([_react2.default.createElement("circle",_extends({cx:0,cy:0,r:radius},{key:index,className:"rv-xy-plot__circular-grid-lines__line",style:style}))])}),[]))}}]);return CircularGridLines}(_react.PureComponent);CircularGridLines.displayName="CircularGridLines";CircularGridLines.propTypes={centerX:_propTypes2.default.number,centerY:_propTypes2.default.number,width:_propTypes2.default.number,height:_propTypes2.default.number,top:_propTypes2.default.number,left:_propTypes2.default.number,rRange:_propTypes2.default.arrayOf(_propTypes2.default.number),style:_propTypes2.default.object,tickValues:_propTypes2.default.arrayOf(_propTypes2.default.number),tickTotal:_propTypes2.default.number,animation:_animation.AnimationPropType,marginTop:_propTypes2.default.number,marginBottom:_propTypes2.default.number,marginLeft:_propTypes2.default.number,marginRight:_propTypes2.default.number,innerWidth:_propTypes2.default.number,innerHeight:_propTypes2.default.number};CircularGridLines.defaultProps={centerX:0,centerY:0};CircularGridLines.requiresSVG=true;exports.default=CircularGridLines},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-gradient-defs";var GradientDefs=function(_PureComponent){_inherits(GradientDefs,_PureComponent);function GradientDefs(){_classCallCheck(this,GradientDefs);return _possibleConstructorReturn(this,(GradientDefs.__proto__||Object.getPrototypeOf(GradientDefs)).apply(this,arguments))}_createClass(GradientDefs,[{key:"render",value:function render(){var className=this.props.className;return _react2.default.createElement("defs",{className:predefinedClassName+" "+className},this.props.children)}}]);return GradientDefs}(_react.PureComponent);GradientDefs.displayName="GradientDefs";GradientDefs.requiresSVG=true;GradientDefs.propTypes={className:_propTypes2.default.string};GradientDefs.defaultProps={className:""};exports.default=GradientDefs},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _gridLines=__webpack_require__(197);var _gridLines2=_interopRequireDefault(_gridLines);var _axisUtils=__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var VERTICAL=_axisUtils.DIRECTION.VERTICAL;var propTypes=_extends({},_gridLines2.default.propTypes,{direction:_propTypes2.default.oneOf([VERTICAL])});var defaultProps={direction:VERTICAL,attr:"x"};function VerticalGridLines(props){return _react2.default.createElement(_gridLines2.default,props)}VerticalGridLines.displayName="VerticalGridLines";VerticalGridLines.propTypes=propTypes;VerticalGridLines.defaultProps=defaultProps;VerticalGridLines.requiresSVG=true;exports.default=VerticalGridLines},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _axisUtils=__webpack_require__(66);var _gridLines=__webpack_require__(197);var _gridLines2=_interopRequireDefault(_gridLines);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HORIZONTAL=_axisUtils.DIRECTION.HORIZONTAL;var propTypes=_extends({},_gridLines2.default.propTypes,{direction:_propTypes2.default.oneOf([HORIZONTAL])});var defaultProps={direction:HORIZONTAL,attr:"y"};function HorizontalGridLines(props){return _react2.default.createElement(_gridLines2.default,props)}HorizontalGridLines.displayName="HorizontalGridLines";HorizontalGridLines.propTypes=propTypes;HorizontalGridLines.defaultProps=defaultProps;HorizontalGridLines.requiresSVG=true;exports.default=HorizontalGridLines},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DiscreteColorLegendItem(_ref){var color=_ref.color,disabled=_ref.disabled,onClick=_ref.onClick,orientation=_ref.orientation,onMouseEnter=_ref.onMouseEnter,onMouseLeave=_ref.onMouseLeave,title=_ref.title;var className="rv-discrete-color-legend-item "+orientation;if(disabled){className+=" disabled"}if(onClick){className+=" clickable"}return _react2.default.createElement("div",{className:className,onClick:onClick,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave},_react2.default.createElement("span",{className:"rv-discrete-color-legend-item__color",style:disabled?null:{background:color}}),_react2.default.createElement("span",{className:"rv-discrete-color-legend-item__title"},title))}DiscreteColorLegendItem.propTypes={color:_propTypes2.default.string.isRequired,disabled:_propTypes2.default.bool,title:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]).isRequired,onClick:_propTypes2.default.func,onMouseEnter:_propTypes2.default.func,onMouseLeave:_propTypes2.default.func,orientation:_propTypes2.default.oneOf(["vertical","horizontal"]).isRequired};DiscreteColorLegendItem.defaultProps={disabled:false};DiscreteColorLegendItem.displayName="DiscreteColorLegendItem";exports.default=DiscreteColorLegendItem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _discreteColorLegend=__webpack_require__(306);var _discreteColorLegend2=_interopRequireDefault(_discreteColorLegend);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var propTypes=_extends({},_discreteColorLegend2.default.propTypes,{searchText:_propTypes2.default.string,onSearchChange:_propTypes2.default.func,searchPlaceholder:_propTypes2.default.string,searchFn:_propTypes2.default.func});var defaultProps={className:"",searchText:"",searchFn:function searchFn(items,s){return items.filter((function(item){return String(item.title||item).toLowerCase().indexOf(s)!==-1}))}};function SearchableDiscreteColorLegend(props){var className=props.className,colors=props.colors,height=props.height,items=props.items,onItemClick=props.onItemClick,onSearchChange=props.onSearchChange,orientation=props.orientation,searchFn=props.searchFn,searchPlaceholder=props.searchPlaceholder,searchText=props.searchText,width=props.width;var onChange=onSearchChange?function(_ref){var value=_ref.target.value;return onSearchChange(value)}:null;var filteredItems=searchFn(items,searchText);return _react2.default.createElement("div",{className:"rv-search-wrapper "+className,style:{width:width,height:height}},_react2.default.createElement("form",{className:"rv-search-wrapper__form"},_react2.default.createElement("input",{type:"search",placeholder:searchPlaceholder,className:"rv-search-wrapper__form__input",value:searchText,onChange:onChange})),_react2.default.createElement("div",{className:"rv-search-wrapper__contents"},_react2.default.createElement(_discreteColorLegend2.default,{colors:colors,items:filteredItems,onItemClick:onItemClick,orientation:orientation})))}SearchableDiscreteColorLegend.propTypes=propTypes;SearchableDiscreteColorLegend.defaultProps=defaultProps;SearchableDiscreteColorLegend.displayName="SearchableDiscreteColorLegend";exports.default=SearchableDiscreteColorLegend},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _theme=__webpack_require__(56);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var propTypes={className:_propTypes2.default.string,height:_propTypes2.default.number,endColor:_propTypes2.default.string,endTitle:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired,midColor:_propTypes2.default.string,midTitle:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),startColor:_propTypes2.default.string,startTitle:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired,width:_propTypes2.default.number};var defaultProps={className:"",startColor:_theme.CONTINUOUS_COLOR_RANGE[0],endColor:_theme.CONTINUOUS_COLOR_RANGE[1]};function ContinuousColorLegend(_ref){var startColor=_ref.startColor,midColor=_ref.midColor,endColor=_ref.endColor,startTitle=_ref.startTitle,midTitle=_ref.midTitle,endTitle=_ref.endTitle,height=_ref.height,width=_ref.width,className=_ref.className;var colors=[startColor];if(midColor){colors.push(midColor)}colors.push(endColor);return _react2.default.createElement("div",{className:"rv-continuous-color-legend "+className,style:{width:width,height:height}},_react2.default.createElement("div",{className:"rv-gradient",style:{background:"linear-gradient(to right, "+colors.join(",")+")"}}),_react2.default.createElement("div",{className:"rv-legend-titles"},_react2.default.createElement("span",{className:"rv-legend-titles__left"},startTitle),_react2.default.createElement("span",{className:"rv-legend-titles__right"},endTitle),midTitle?_react2.default.createElement("span",{className:"rv-legend-titles__center"},midTitle):null))}ContinuousColorLegend.displayName="ContinuousColorLegend";ContinuousColorLegend.propTypes=propTypes;ContinuousColorLegend.defaultProps=defaultProps;exports.default=ContinuousColorLegend},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var propTypes={className:_propTypes2.default.string,circlesTotal:_propTypes2.default.number,endSize:_propTypes2.default.number,endTitle:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired,height:_propTypes2.default.number,startSize:_propTypes2.default.number,startTitle:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired,width:_propTypes2.default.number};var defaultProps={circlesTotal:10,className:"",endSize:20,startSize:2};function ContinuousSizeLegend(_ref){var startTitle=_ref.startTitle,endTitle=_ref.endTitle,startSize=_ref.startSize,endSize=_ref.endSize,circlesTotal=_ref.circlesTotal,height=_ref.height,width=_ref.width,className=_ref.className;var circles=[];var step=(endSize-startSize)/(circlesTotal-1);for(var i=0;i<circlesTotal;i++){var size=step*i+startSize;circles.push(_react2.default.createElement("div",{key:i,className:"rv-bubble",style:{width:size,height:size,borderRadius:size/2}}));circles.push(" ")}return _react2.default.createElement("div",{className:"rv-continuous-size-legend "+className,style:{width:width,height:height}},_react2.default.createElement("div",{className:"rv-bubbles",style:{height:endSize}},circles,_react2.default.createElement("div",{className:"rv-spacer"})),_react2.default.createElement("div",{className:"rv-legend-titles"},_react2.default.createElement("span",{className:"rv-legend-titles__left"},startTitle),_react2.default.createElement("span",{className:"rv-legend-titles__right"},endTitle)))}ContinuousSizeLegend.displayName="ContinuousSizeLegend";ContinuousSizeLegend.propTypes=propTypes;ContinuousSizeLegend.defaultProps=defaultProps;exports.default=ContinuousSizeLegend},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Hierarchy=__webpack_require__(307);var _theme=__webpack_require__(56);var _animation=__webpack_require__(49);var _scalesUtils=__webpack_require__(58);var _chartUtils=__webpack_require__(90);var _treemapDom=__webpack_require__(820);var _treemapDom2=_interopRequireDefault(_treemapDom);var _treemapSvg=__webpack_require__(822);var _treemapSvg2=_interopRequireDefault(_treemapSvg);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TREEMAP_TILE_MODES={squarify:_d3Hierarchy.treemapSquarify,resquarify:_d3Hierarchy.treemapResquarify,slice:_d3Hierarchy.treemapSlice,dice:_d3Hierarchy.treemapDice,slicedice:_d3Hierarchy.treemapSliceDice,binary:_d3Hierarchy.treemapBinary};var TREEMAP_LAYOUT_MODES=["circlePack","partition","partition-pivot"];var NOOP=function NOOP(d){return d};var ATTRIBUTES=["opacity","color"];var DEFAULT_MARGINS={left:40,right:10,top:10,bottom:40};function _getScaleFns(props){var data=props.data;var allData=data.children||[];var compatibleProps=_extends({},props,(0,_scalesUtils.getMissingScaleProps)(props,allData,ATTRIBUTES),{_allData:allData});return{opacity:(0,_scalesUtils.getAttributeFunctor)(compatibleProps,"opacity"),color:(0,_scalesUtils.getAttributeFunctor)(compatibleProps,"color")}}var Treemap=function(_React$Component){_inherits(Treemap,_React$Component);function Treemap(props){_classCallCheck(this,Treemap);var _this=_possibleConstructorReturn(this,(Treemap.__proto__||Object.getPrototypeOf(Treemap)).call(this,props));_this.state=_extends({scales:_getScaleFns(props)},(0,_chartUtils.getInnerDimensions)(props,props.margin));return _this}_createClass(Treemap,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(props){this.setState(_extends({scales:_getScaleFns(props)},(0,_chartUtils.getInnerDimensions)(props,props.margin)))}},{key:"_getNodesToRender",value:function _getNodesToRender(){var _state=this.state,innerWidth=_state.innerWidth,innerHeight=_state.innerHeight;var _props=this.props,data=_props.data,mode=_props.mode,padding=_props.padding,sortFunction=_props.sortFunction,getSize=_props.getSize;if(!data){return[]}if(mode==="partition"||mode==="partition-pivot"){var partitionFunction=(0,_d3Hierarchy.partition)().size(mode==="partition-pivot"?[innerHeight,innerWidth]:[innerWidth,innerHeight]).padding(padding);var _structuredInput=(0,_d3Hierarchy.hierarchy)(data).sum(getSize).sort((function(a,b){return sortFunction(a,b,getSize)}));var mappedNodes=partitionFunction(_structuredInput).descendants();if(mode==="partition-pivot"){return mappedNodes.map((function(node){return _extends({},node,{x0:node.y0,x1:node.y1,y0:node.x0,y1:node.x1})}))}return mappedNodes}if(mode==="circlePack"){var packingFunction=(0,_d3Hierarchy.pack)().size([innerWidth,innerHeight]).padding(padding);var _structuredInput2=(0,_d3Hierarchy.hierarchy)(data).sum(getSize).sort((function(a,b){return sortFunction(a,b,getSize)}));return packingFunction(_structuredInput2).descendants()}var tileFn=TREEMAP_TILE_MODES[mode];var treemapingFunction=(0,_d3Hierarchy.treemap)(tileFn).tile(tileFn).size([innerWidth,innerHeight]).padding(padding);var structuredInput=(0,_d3Hierarchy.hierarchy)(data).sum(getSize).sort((function(a,b){return sortFunction(a,b,getSize)}));return treemapingFunction(structuredInput).descendants()}},{key:"render",value:function render(){var renderMode=this.props.renderMode;var scales=this.state.scales;var nodes=this._getNodesToRender();var TreemapElement=renderMode==="SVG"?_treemapSvg2.default:_treemapDom2.default;return _react2.default.createElement(TreemapElement,_extends({},this.props,{nodes:nodes,scales:scales}))}}]);return Treemap}(_react2.default.Component);Treemap.displayName="Treemap";Treemap.propTypes={animation:_animation.AnimationPropType,className:_propTypes2.default.string,data:_propTypes2.default.object.isRequired,height:_propTypes2.default.number.isRequired,hideRootNode:_propTypes2.default.bool,margin:_chartUtils.MarginPropType,mode:_propTypes2.default.oneOf(Object.keys(TREEMAP_TILE_MODES).concat(TREEMAP_LAYOUT_MODES)),onLeafClick:_propTypes2.default.func,onLeafMouseOver:_propTypes2.default.func,onLeafMouseOut:_propTypes2.default.func,useCirclePacking:_propTypes2.default.bool,padding:_propTypes2.default.number.isRequired,sortFunction:_propTypes2.default.func,width:_propTypes2.default.number.isRequired,getSize:_propTypes2.default.func,getColor:_propTypes2.default.func};Treemap.defaultProps={className:"",colorRange:_theme.CONTINUOUS_COLOR_RANGE,_colorValue:_theme.DEFAULT_COLOR,data:{children:[]},hideRootNode:false,margin:DEFAULT_MARGINS,mode:"squarify",onLeafClick:NOOP,onLeafMouseOver:NOOP,onLeafMouseOut:NOOP,opacityType:_theme.OPACITY_TYPE,_opacityValue:_theme.DEFAULT_OPACITY,padding:1,sortFunction:function sortFunction(a,b,accessor){if(!accessor){return 0}return accessor(a)-accessor(b)},getSize:function getSize(d){return d.size},getColor:function getColor(d){return d.color},getLabel:function getLabel(d){return d.title}};exports.default=Treemap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _treemapLeaf=__webpack_require__(821);var _treemapLeaf2=_interopRequireDefault(_treemapLeaf);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TreemapDOM=function(_React$Component){_inherits(TreemapDOM,_React$Component);function TreemapDOM(){_classCallCheck(this,TreemapDOM);return _possibleConstructorReturn(this,(TreemapDOM.__proto__||Object.getPrototypeOf(TreemapDOM)).apply(this,arguments))}_createClass(TreemapDOM,[{key:"render",value:function render(){var _this2=this;var _props=this.props,animation=_props.animation,className=_props.className,height=_props.height,hideRootNode=_props.hideRootNode,getLabel=_props.getLabel,mode=_props.mode,nodes=_props.nodes,width=_props.width,scales=_props.scales,style=_props.style;var useCirclePacking=mode==="circlePack";return _react2.default.createElement("div",{className:"rv-treemap "+(useCirclePacking?"rv-treemap-circle-packed":"")+" "+className,style:{height:height,width:width}},nodes.map((function(node,index){if(hideRootNode&&!index){return null}var nodeProps=_extends({animation:animation,node:node,getLabel:getLabel},_this2.props,{x0:useCirclePacking?node.x:node.x0,x1:useCirclePacking?node.x:node.x1,y0:useCirclePacking?node.y:node.y0,y1:useCirclePacking?node.y:node.y1,r:useCirclePacking?node.r:1,scales:scales,style:style});return _react2.default.createElement(_treemapLeaf2.default,_extends({},nodeProps,{key:"leaf-"+index}))})))}}]);return TreemapDOM}(_react2.default.Component);TreemapDOM.displayName="TreemapDOM";exports.default=TreemapDOM},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _scalesUtils=__webpack_require__(58);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ANIMATED_PROPS=["colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","x0","x1","y0","y1","r"];var TreemapLeaf=function(_React$Component){_inherits(TreemapLeaf,_React$Component);function TreemapLeaf(){_classCallCheck(this,TreemapLeaf);return _possibleConstructorReturn(this,(TreemapLeaf.__proto__||Object.getPrototypeOf(TreemapLeaf)).apply(this,arguments))}_createClass(TreemapLeaf,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,getLabel=_props.getLabel,mode=_props.mode,node=_props.node,onLeafClick=_props.onLeafClick,onLeafMouseOver=_props.onLeafMouseOver,onLeafMouseOut=_props.onLeafMouseOut,r=_props.r,scales=_props.scales,x0=_props.x0,x1=_props.x1,y0=_props.y0,y1=_props.y1,style=_props.style;if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:ANIMATED_PROPS}),_react2.default.createElement(TreemapLeaf,_extends({},this.props,{animation:null})))}var useCirclePacking=mode==="circlePack";var background=scales.color(node);var opacity=scales.opacity(node);var color=(0,_scalesUtils.getFontColorFromBackground)(background);var data=node.data;var title=getLabel(data);var leafStyle=_extends({top:useCirclePacking?y0-r:y0,left:useCirclePacking?x0-r:x0,width:useCirclePacking?r*2:x1-x0,height:useCirclePacking?r*2:y1-y0,background:background,opacity:opacity,color:color},style,node.data.style);return _react2.default.createElement("div",{className:"rv-treemap__leaf "+(useCirclePacking?"rv-treemap__leaf--circle":""),onMouseEnter:function onMouseEnter(event){return onLeafMouseOver(node,event)},onMouseLeave:function onMouseLeave(event){return onLeafMouseOut(node,event)},onClick:function onClick(event){return onLeafClick(node,event)},style:leafStyle},_react2.default.createElement("div",{className:"rv-treemap__leaf__content"},title))}}]);return TreemapLeaf}(_react2.default.Component);TreemapLeaf.propTypes={animation:_animation.AnimationPropType,height:_propTypes2.default.number.isRequired,mode:_propTypes2.default.string,node:_propTypes2.default.object.isRequired,onLeafClick:_propTypes2.default.func,onLeafMouseOver:_propTypes2.default.func,onLeafMouseOut:_propTypes2.default.func,scales:_propTypes2.default.object.isRequired,width:_propTypes2.default.number.isRequired,r:_propTypes2.default.number.isRequired,x0:_propTypes2.default.number.isRequired,x1:_propTypes2.default.number.isRequired,y0:_propTypes2.default.number.isRequired,y1:_propTypes2.default.number.isRequired};exports.default=TreemapLeaf},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _polygonSeries=__webpack_require__(193);var _polygonSeries2=_interopRequireDefault(_polygonSeries);var _markSeries=__webpack_require__(194);var _markSeries2=_interopRequireDefault(_markSeries);var _labelSeries=__webpack_require__(91);var _labelSeries2=_interopRequireDefault(_labelSeries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MARGIN_ADJUST=1.2;var TreemapSVG=function(_React$Component){_inherits(TreemapSVG,_React$Component);function TreemapSVG(){_classCallCheck(this,TreemapSVG);return _possibleConstructorReturn(this,(TreemapSVG.__proto__||Object.getPrototypeOf(TreemapSVG)).apply(this,arguments))}_createClass(TreemapSVG,[{key:"getCircularNodes",value:function getCircularNodes(){var _props=this.props,animation=_props.animation,hideRootNode=_props.hideRootNode,nodes=_props.nodes,onLeafMouseOver=_props.onLeafMouseOver,onLeafMouseOut=_props.onLeafMouseOut,onLeafClick=_props.onLeafClick,scales=_props.scales,style=_props.style;var _nodes$reduce=nodes.reduce((function(acc,node,index){if(!index&&hideRootNode){return acc}var x=node.x,y=node.y,r=node.r;return{maxY:Math.max(y+r,acc.maxY),minY:Math.min(y-r,acc.minY),maxX:Math.max(x+MARGIN_ADJUST*r,acc.maxX),minX:Math.min(x-MARGIN_ADJUST*r,acc.minX),rows:acc.rows.concat([{x:x,y:y,size:r,color:scales.color(node)}])}}),{rows:[],maxY:-Infinity,minY:Infinity,maxX:-Infinity,minX:Infinity}),rows=_nodes$reduce.rows,minY=_nodes$reduce.minY,maxY=_nodes$reduce.maxY,minX=_nodes$reduce.minX,maxX=_nodes$reduce.maxX;return{updatedNodes:_react2.default.createElement(_markSeries2.default,{animation:animation,className:"rv-treemap__leaf rv-treemap__leaf--circle",onSeriesMouseEnter:onLeafMouseOver,onSeriesMouseLeave:onLeafMouseOut,onSeriesClick:onLeafClick,data:rows,colorType:"literal",getColor:function getColor(d){return d.color},sizeType:"literal",getSize:function getSize(d){return d.size},style:style}),minY:minY,maxY:maxY,minX:minX,maxX:maxX}}},{key:"getNonCircularNodes",value:function getNonCircularNodes(){var _props2=this.props,animation=_props2.animation,hideRootNode=_props2.hideRootNode,nodes=_props2.nodes,onLeafMouseOver=_props2.onLeafMouseOver,onLeafMouseOut=_props2.onLeafMouseOut,onLeafClick=_props2.onLeafClick,scales=_props2.scales,style=_props2.style;var color=scales.color;return nodes.reduce((function(acc,node,index){if(!index&&hideRootNode){return acc}var x0=node.x0,x1=node.x1,y1=node.y1,y0=node.y0;var x=x0;var y=y0;var nodeHeight=y1-y0;var nodeWidth=x1-x0;acc.maxY=Math.max(y+nodeHeight,acc.maxY);acc.minY=Math.min(y,acc.minY);acc.maxX=Math.max(x+nodeWidth,acc.maxX);acc.minX=Math.min(x,acc.minX);var data=[{x:x,y:y},{x:x,y:y+nodeHeight},{x:x+nodeWidth,y:y+nodeHeight},{x:x+nodeWidth,y:y}];acc.updatedNodes=acc.updatedNodes.concat([_react2.default.createElement(_polygonSeries2.default,{animation:animation,className:"rv-treemap__leaf",key:index,color:color(node),type:"literal",onSeriesMouseEnter:onLeafMouseOver,onSeriesMouseLeave:onLeafMouseOut,onSeriesClick:onLeafClick,data:data,style:_extends({},style,node.style)})]);return acc}),{updatedNodes:[],maxY:-Infinity,minY:Infinity,maxX:-Infinity,minX:Infinity})}},{key:"render",value:function render(){var _props3=this.props,className=_props3.className,height=_props3.height,mode=_props3.mode,nodes=_props3.nodes,width=_props3.width;var useCirclePacking=mode==="circlePack";var _ref=useCirclePacking?this.getCircularNodes():this.getNonCircularNodes(),minY=_ref.minY,maxY=_ref.maxY,minX=_ref.minX,maxX=_ref.maxX,updatedNodes=_ref.updatedNodes;var labels=nodes.reduce((function(acc,node){if(!node.data.title){return acc}return acc.concat(_extends({},node.data,{x:node.x0||node.x,y:node.y0||node.y,label:""+node.data.title}))}),[]);return _react2.default.createElement(_xyPlot2.default,_extends({className:"rv-treemap "+(useCirclePacking?"rv-treemap-circle-packed":"")+" "+className,width:width,height:height,yDomain:[maxY,minY],xDomain:[minX,maxX],colorType:"literal",hasTreeStructure:true},this.props),updatedNodes,_react2.default.createElement(_labelSeries2.default,{data:labels}))}}]);return TreemapSVG}(_react2.default.Component);TreemapSVG.displayName="TreemapSVG";exports.default=TreemapSVG},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Shape=__webpack_require__(119);var _animation=__webpack_require__(49);var _arcSeries=__webpack_require__(195);var _arcSeries2=_interopRequireDefault(_arcSeries);var _labelSeries=__webpack_require__(91);var _labelSeries2=_interopRequireDefault(_labelSeries);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _theme=__webpack_require__(56);var _chartUtils=__webpack_require__(90);var _seriesUtils=__webpack_require__(57);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-radial-chart";var DEFAULT_RADIUS_MARGIN=15;function getWedgesToRender(_ref){var data=_ref.data,getAngle=_ref.getAngle;var pie=(0,_d3Shape.pie)().sort(null).value(getAngle);var pieData=pie(data).reverse();return pieData.map((function(row,index){return _extends({},row.data,{angle0:row.startAngle,angle:row.endAngle,radius0:row.data.innerRadius||0,radius:row.data.radius||1,color:row.data.color||index})}))}function generateLabels(mappedData,accessors){var getLabel=accessors.getLabel,getSubLabel=accessors.getSubLabel;return mappedData.reduce((function(res,row){var angle=row.angle,angle0=row.angle0,radius=row.radius;var centeredAngle=(angle+angle0)/2;var updatedAngle=-1*centeredAngle+Math.PI/2;var newLabels=[];if(getLabel(row)){newLabels.push({angle:updatedAngle,radius:radius*1.1,label:getLabel(row),style:{fontSize:"12px"}})}if(getSubLabel(row)){newLabels.push({angle:updatedAngle,radius:radius*1.1,label:getSubLabel(row),yOffset:12,style:{fontSize:"10px"}})}return res.concat(newLabels)}),[])}function getMaxRadius(width,height){return Math.min(width,height)/2-DEFAULT_RADIUS_MARGIN}var RadialChart=function(_Component){_inherits(RadialChart,_Component);function RadialChart(){_classCallCheck(this,RadialChart);return _possibleConstructorReturn(this,(RadialChart.__proto__||Object.getPrototypeOf(RadialChart)).apply(this,arguments))}_createClass(RadialChart,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,children=_props.children,data=_props.data,height=_props.height,hideRootNode=_props.hideRootNode,width=_props.width,colorType=_props.colorType,radius=_props.radius,innerRadius=_props.innerRadius,showLabels=_props.showLabels,margin=_props.margin,onMouseLeave=_props.onMouseLeave,onMouseEnter=_props.onMouseEnter,labelsAboveChildren=_props.labelsAboveChildren,getAngle=_props.getAngle,getLabel=_props.getLabel,getSubLabel=_props.getSubLabel;var mappedData=getWedgesToRender({data:data,height:height,hideRootNode:hideRootNode,width:width,getAngle:getAngle});var radialDomain=(0,_seriesUtils.getRadialDomain)(mappedData);var arcProps=_extends({colorType:colorType},this.props,{animation:animation,radiusDomain:[0,radialDomain],data:mappedData,radiusNoFallBack:true,arcClassName:"rv-radial-chart__series--pie__slice"});if(radius){arcProps.radiusDomain=[0,1];arcProps.radiusRange=[innerRadius||0,radius];arcProps.radiusType="linear"}var maxRadius=radius?radius:getMaxRadius(width,height);var defaultMargin=(0,_chartUtils.getRadialLayoutMargin)(width,height,maxRadius);var labels=generateLabels(mappedData,{getLabel:getLabel,getSubLabel:getSubLabel});return _react2.default.createElement(_xyPlot2.default,{height:height,width:width,margin:_extends({},margin,defaultMargin),className:className+" "+predefinedClassName,onMouseLeave:onMouseLeave,onMouseEnter:onMouseEnter,xDomain:[-radialDomain,radialDomain],yDomain:[-radialDomain,radialDomain]},_react2.default.createElement(_arcSeries2.default,_extends({},arcProps,{getAngle:function getAngle(d){return d.angle}})),showLabels&&!labelsAboveChildren&&_react2.default.createElement(_labelSeries2.default,{data:labels}),children,showLabels&&labelsAboveChildren&&_react2.default.createElement(_labelSeries2.default,{data:labels}))}}]);return RadialChart}(_react.Component);RadialChart.displayName="RadialChart";RadialChart.propTypes={animation:_animation.AnimationPropType,className:_propTypes2.default.string,colorType:_propTypes2.default.string,data:_propTypes2.default.arrayOf(_propTypes2.default.shape({angle:_propTypes2.default.number,className:_propTypes2.default.string,label:_propTypes2.default.string,radius:_propTypes2.default.number,style:_propTypes2.default.object})).isRequired,getAngle:_propTypes2.default.func,getAngle0:_propTypes2.default.func,getRadius:_propTypes2.default.func,getRadius0:_propTypes2.default.func,getLabel:_propTypes2.default.func,height:_propTypes2.default.number.isRequired,labelsAboveChildren:_propTypes2.default.bool,margin:_chartUtils.MarginPropType,onValueClick:_propTypes2.default.func,onValueMouseOver:_propTypes2.default.func,onValueMouseOut:_propTypes2.default.func,width:_propTypes2.default.number.isRequired,showLabels:_propTypes2.default.bool,subLabel:_propTypes2.default.func};RadialChart.defaultProps={className:"",colorType:"category",colorRange:_theme.DISCRETE_COLOR_RANGE,getAngle:function getAngle(d){return d.angle},getAngle0:function getAngle0(d){return d.angle0},getRadius:function getRadius(d){return d.radius},getRadius0:function getRadius0(d){return d.radius0},getLabel:function getLabel(d){return d.label},getSubLabel:function getSubLabel(d){return d.subLabel}};exports.default=RadialChart},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Scale=__webpack_require__(88);var _d3Format=__webpack_require__(143);var _animation=__webpack_require__(49);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _theme=__webpack_require__(56);var _chartUtils=__webpack_require__(90);var _polygonSeries=__webpack_require__(193);var _polygonSeries2=_interopRequireDefault(_polygonSeries);var _labelSeries=__webpack_require__(91);var _labelSeries2=_interopRequireDefault(_labelSeries);var _decorativeAxis=__webpack_require__(196);var _decorativeAxis2=_interopRequireDefault(_decorativeAxis);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-radar-chart";var DEFAULT_FORMAT=(0,_d3Format.format)(".2r");function getAxes(props){var animation=props.animation,domains=props.domains,startingAngle=props.startingAngle,style=props.style,tickFormat=props.tickFormat,hideInnerMostValues=props.hideInnerMostValues;return domains.map((function(domain,index){var angle=index/domains.length*Math.PI*2+startingAngle;var sortedDomain=domain.domain;var domainTickFormat=function domainTickFormat(t){if(hideInnerMostValues&&t===sortedDomain[0]){return""}return domain.tickFormat?domain.tickFormat(t):tickFormat(t)};return _react2.default.createElement(_decorativeAxis2.default,{animation:animation,key:index+"-axis",axisStart:{x:0,y:0},axisEnd:{x:Math.cos(angle),y:Math.sin(angle)},axisDomain:sortedDomain,numberOfTicks:5,tickValue:domainTickFormat,style:style.axes})}))}function getLabels(props){var domains=props.domains,startingAngle=props.startingAngle,style=props.style;return domains.map((function(_ref,index){var name=_ref.name;var angle=index/domains.length*Math.PI*2+startingAngle;var radius=1.2;return{x:radius*Math.cos(angle),y:radius*Math.sin(angle),label:name,style:style}}))}function getPolygons(props){var animation=props.animation,colorRange=props.colorRange,domains=props.domains,data=props.data,style=props.style,startingAngle=props.startingAngle;var scales=domains.reduce((function(acc,_ref2){var domain=_ref2.domain,name=_ref2.name;acc[name]=(0,_d3Scale.scaleLinear)().domain(domain).range([0,1]);return acc}),{});return data.map((function(row,rowIndex){var mappedData=domains.map((function(_ref3,index){var name=_ref3.name,getValue=_ref3.getValue;var dataPoint=getValue?getValue(row):row[name];var angle=index/domains.length*Math.PI*2+startingAngle;var radius=Math.max(scales[name](dataPoint),0);return{x:radius*Math.cos(angle),y:radius*Math.sin(angle)}}));return _react2.default.createElement(_polygonSeries2.default,{animation:animation,className:predefinedClassName+"-polygon",key:rowIndex+"-polygon",data:mappedData,style:_extends({stroke:row.color||row.stroke||colorRange[rowIndex%colorRange.length],fill:row.color||row.fill||colorRange[rowIndex%colorRange.length]},style.polygons)})}))}var RadarChart=function(_Component){_inherits(RadarChart,_Component);function RadarChart(){_classCallCheck(this,RadarChart);return _possibleConstructorReturn(this,(RadarChart.__proto__||Object.getPrototypeOf(RadarChart)).apply(this,arguments))}_createClass(RadarChart,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,children=_props.children,colorRange=_props.colorRange,data=_props.data,domains=_props.domains,height=_props.height,hideInnerMostValues=_props.hideInnerMostValues,margin=_props.margin,onMouseLeave=_props.onMouseLeave,onMouseEnter=_props.onMouseEnter,startingAngle=_props.startingAngle,style=_props.style,tickFormat=_props.tickFormat,width=_props.width;var axes=getAxes({domains:domains,animation:animation,hideInnerMostValues:hideInnerMostValues,startingAngle:startingAngle,style:style,tickFormat:tickFormat});var polygons=getPolygons({animation:animation,colorRange:colorRange,domains:domains,data:data,startingAngle:startingAngle,style:style});var labelSeries=_react2.default.createElement(_labelSeries2.default,{animation:animation,key:className,className:predefinedClassName+"-label",data:getLabels({domains:domains,style:style.labels,startingAngle:startingAngle})});return _react2.default.createElement(_xyPlot2.default,{height:height,width:width,margin:margin,dontCheckIfEmpty:true,className:className+" "+predefinedClassName,onMouseLeave:onMouseLeave,onMouseEnter:onMouseEnter,xDomain:[-1,1],yDomain:[-1,1]},children,axes.concat(polygons).concat(labelSeries))}}]);return RadarChart}(_react.Component);RadarChart.displayName="RadarChart";RadarChart.propTypes={animation:_animation.AnimationPropType,className:_propTypes2.default.string,colorType:_propTypes2.default.string,colorRange:_propTypes2.default.arrayOf(_propTypes2.default.string),data:_propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,domains:_propTypes2.default.arrayOf(_propTypes2.default.shape({name:_propTypes2.default.string.isRequired,domain:_propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,tickFormat:_propTypes2.default.func})).isRequired,height:_propTypes2.default.number.isRequired,hideInnerMostValues:_propTypes2.default.bool,margin:_chartUtils.MarginPropType,startingAngle:_propTypes2.default.number,style:_propTypes2.default.shape({axes:_propTypes2.default.object,labels:_propTypes2.default.object,polygons:_propTypes2.default.object}),tickFormat:_propTypes2.default.func,width:_propTypes2.default.number.isRequired};RadarChart.defaultProps={className:"",colorType:"category",colorRange:_theme.DISCRETE_COLOR_RANGE,hideInnerMostValues:true,startingAngle:Math.PI/2,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},polygons:{strokeWidth:.5,strokeOpacity:1,fillOpacity:.1}},tickFormat:DEFAULT_FORMAT};exports.default=RadarChart},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Scale=__webpack_require__(88);var _d3Format=__webpack_require__(143);var _animation=__webpack_require__(49);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _theme=__webpack_require__(56);var _chartUtils=__webpack_require__(90);var _lineSeries=__webpack_require__(190);var _lineSeries2=_interopRequireDefault(_lineSeries);var _lineMarkSeries=__webpack_require__(303);var _lineMarkSeries2=_interopRequireDefault(_lineMarkSeries);var _labelSeries=__webpack_require__(91);var _labelSeries2=_interopRequireDefault(_labelSeries);var _decorativeAxis=__webpack_require__(196);var _decorativeAxis2=_interopRequireDefault(_decorativeAxis);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-parallel-coordinates-chart";var DEFAULT_FORMAT=(0,_d3Format.format)(".2r");function getAxes(props){var animation=props.animation,domains=props.domains,style=props.style,tickFormat=props.tickFormat;return domains.map((function(domain,index){var sortedDomain=domain.domain;var domainTickFormat=function domainTickFormat(t){return domain.tickFormat?domain.tickFormat(t):tickFormat(t)};return _react2.default.createElement(_decorativeAxis2.default,{animation:animation,key:index+"-axis",axisStart:{x:domain.name,y:0},axisEnd:{x:domain.name,y:1},axisDomain:sortedDomain,numberOfTicks:5,tickValue:domainTickFormat,style:style.axes})}))}function getLabels(props){var domains=props.domains,style=props.style;return domains.map((function(domain,index){return{x:domain.name,y:1.1,label:domain.name,style:style}}))}function getLines(props){var animation=props.animation,colorRange=props.colorRange,domains=props.domains,data=props.data,style=props.style,showMarks=props.showMarks;var scales=domains.reduce((function(acc,_ref){var domain=_ref.domain,name=_ref.name;acc[name]=(0,_d3Scale.scaleLinear)().domain(domain).range([0,1]);return acc}),{});return data.map((function(row,rowIndex){var mappedData=domains.map((function(domain,index){var getValue=domain.getValue,name=domain.name;return{x:name,y:scales[name](getValue?getValue(row):row[name])}}));var lineProps={animation:animation,className:predefinedClassName+"-line",key:rowIndex+"-polygon",data:mappedData,color:row.color||colorRange[rowIndex%colorRange.length],style:style.lines};return showMarks?_react2.default.createElement(_lineMarkSeries2.default,lineProps):_react2.default.createElement(_lineSeries2.default,lineProps)}))}var ParallelCoordinates=function(_Component){_inherits(ParallelCoordinates,_Component);function ParallelCoordinates(){_classCallCheck(this,ParallelCoordinates);return _possibleConstructorReturn(this,(ParallelCoordinates.__proto__||Object.getPrototypeOf(ParallelCoordinates)).apply(this,arguments))}_createClass(ParallelCoordinates,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,className=_props.className,children=_props.children,colorRange=_props.colorRange,data=_props.data,domains=_props.domains,height=_props.height,hideInnerMostValues=_props.hideInnerMostValues,margin=_props.margin,onMouseLeave=_props.onMouseLeave,onMouseEnter=_props.onMouseEnter,showMarks=_props.showMarks,style=_props.style,tickFormat=_props.tickFormat,width=_props.width;var axes=getAxes({domains:domains,animation:animation,hideInnerMostValues:hideInnerMostValues,style:style,tickFormat:tickFormat});var lines=getLines({animation:animation,colorRange:colorRange,domains:domains,data:data,showMarks:showMarks,style:style});var labelSeries=_react2.default.createElement(_labelSeries2.default,{animation:true,key:className,className:predefinedClassName+"-label",data:getLabels({domains:domains,style:style.labels})});return _react2.default.createElement(_xyPlot2.default,{height:height,width:width,margin:margin,dontCheckIfEmpty:true,className:className+" "+predefinedClassName,onMouseLeave:onMouseLeave,onMouseEnter:onMouseEnter,xType:"ordinal",yDomain:[0,1]},children,axes.concat(lines).concat(labelSeries))}}]);return ParallelCoordinates}(_react.Component);ParallelCoordinates.displayName="ParallelCoordinates";ParallelCoordinates.propTypes={animation:_animation.AnimationPropType,className:_propTypes2.default.string,colorType:_propTypes2.default.string,colorRange:_propTypes2.default.arrayOf(_propTypes2.default.string),data:_propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,domains:_propTypes2.default.arrayOf(_propTypes2.default.shape({name:_propTypes2.default.string.isRequired,domain:_propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,tickFormat:_propTypes2.default.func})).isRequired,height:_propTypes2.default.number.isRequired,margin:_chartUtils.MarginPropType,style:_propTypes2.default.shape({axes:_propTypes2.default.object,labels:_propTypes2.default.object,lines:_propTypes2.default.object}),showMarks:_propTypes2.default.bool,tickFormat:_propTypes2.default.func,width:_propTypes2.default.number.isRequired};ParallelCoordinates.defaultProps={className:"",colorType:"category",colorRange:_theme.DISCRETE_COLOR_RANGE,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},lines:{strokeWidth:1,strokeOpacity:1}},tickFormat:DEFAULT_FORMAT};exports.default=ParallelCoordinates},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Sankey=__webpack_require__(827);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _chartUtils=__webpack_require__(90);var _verticalRectSeries=__webpack_require__(301);var _verticalRectSeries2=_interopRequireDefault(_verticalRectSeries);var _labelSeries=__webpack_require__(91);var _labelSeries2=_interopRequireDefault(_labelSeries);var _voronoi=__webpack_require__(305);var _voronoi2=_interopRequireDefault(_voronoi);var _theme=__webpack_require__(56);var _sankeyLink=__webpack_require__(828);var _sankeyLink2=_interopRequireDefault(_sankeyLink);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var NOOP=function NOOP(f){return f};var ALIGNMENTS={justify:_d3Sankey.sankeyJustify,center:_d3Sankey.sankeyCenter,left:_d3Sankey.sankeyLeft,right:_d3Sankey.sankeyRight};var DEFAULT_MARGINS={top:20,left:20,right:20,bottom:20};var Sankey=function(_Component){_inherits(Sankey,_Component);function Sankey(){_classCallCheck(this,Sankey);return _possibleConstructorReturn(this,(Sankey.__proto__||Object.getPrototypeOf(Sankey)).apply(this,arguments))}_createClass(Sankey,[{key:"render",value:function render(){var _props=this.props,align=_props.align,animation=_props.animation,children=_props.children,className=_props.className,hasVoronoi=_props.hasVoronoi,height=_props.height,hideLabels=_props.hideLabels,layout=_props.layout,links=_props.links,linkOpacity=_props.linkOpacity,margin=_props.margin,nodePadding=_props.nodePadding,nodes=_props.nodes,nodeWidth=_props.nodeWidth,onValueClick=_props.onValueClick,onValueMouseOver=_props.onValueMouseOver,onValueMouseOut=_props.onValueMouseOut,onLinkClick=_props.onLinkClick,onLinkMouseOver=_props.onLinkMouseOver,onLinkMouseOut=_props.onLinkMouseOut,style=_props.style,width=_props.width;var nodesCopy=[].concat(_toConsumableArray(new Array(nodes.length))).map((function(e,i){return _extends({},nodes[i])}));var linksCopy=[].concat(_toConsumableArray(new Array(links.length))).map((function(e,i){return _extends({},links[i])}));var _getInnerDimensions=(0,_chartUtils.getInnerDimensions)({margin:margin,height:height,width:width},DEFAULT_MARGINS),marginLeft=_getInnerDimensions.marginLeft,marginTop=_getInnerDimensions.marginTop,marginRight=_getInnerDimensions.marginRight,marginBottom=_getInnerDimensions.marginBottom;var sankeyInstance=(0,_d3Sankey.sankey)().extent([[marginLeft,marginTop],[width-marginRight,height-marginBottom-marginTop]]).nodeWidth(nodeWidth).nodePadding(nodePadding).nodes(nodesCopy).links(linksCopy).nodeAlign(ALIGNMENTS[align]).iterations(layout);sankeyInstance(nodesCopy);var nWidth=sankeyInstance.nodeWidth();var path=(0,_d3Sankey.sankeyLinkHorizontal)();return _react2.default.createElement(_xyPlot2.default,_extends({},this.props,{yType:"literal",className:"rv-sankey "+className}),linksCopy.map((function(link,i){return _react2.default.createElement(_sankeyLink2.default,{style:style.links,data:path(link),opacity:link.opacity||linkOpacity,color:link.color,onLinkClick:onLinkClick,onLinkMouseOver:onLinkMouseOver,onLinkMouseOut:onLinkMouseOut,strokeWidth:Math.max(link.width,1),node:link,nWidth:nWidth,key:"link-"+i})})),_react2.default.createElement(_verticalRectSeries2.default,{animation:animation,className:className+" rv-sankey__node",data:nodesCopy.map((function(node){return _extends({},node,{y:node.y1-marginTop,y0:node.y0-marginTop,x:node.x1,x0:node.x0,color:node.color||_theme.DISCRETE_COLOR_RANGE[0],sourceLinks:null,targetLinks:null})})),style:style.rects,onValueClick:onValueClick,onValueMouseOver:onValueMouseOver,onValueMouseOut:onValueMouseOut,colorType:"literal"}),!hideLabels&&_react2.default.createElement(_labelSeries2.default,{animation:animation,className:className,data:nodesCopy.map((function(node){return{x:node.x0+(node.x0<width/2?nWidth+10:-10),y:node.y0+(node.y1-node.y0)/2-marginTop,label:node.name,style:style.labels}}))}),hasVoronoi&&_react2.default.createElement(_voronoi2.default,{className:"rv-sankey__voronoi",extent:[[-marginLeft,-marginTop],[width+marginRight,height+marginBottom]],nodes:nodesCopy,onClick:onValueClick,onHover:onValueMouseOver,onBlur:onValueMouseOut,x:function x(d){return d.x0+(d.x1-d.x0)/2},y:function y(d){return d.y0+(d.y1-d.y0)/2}}),children)}}]);return Sankey}(_react.Component);Sankey.defaultProps={align:"justify",className:"",hasVoronoi:false,hideLabels:false,layout:50,margin:DEFAULT_MARGINS,nodePadding:10,nodeWidth:10,onValueMouseOver:NOOP,onValueClick:NOOP,onValueMouseOut:NOOP,onLinkClick:NOOP,onLinkMouseOver:NOOP,onLinkMouseOut:NOOP,style:{links:{},rects:{},labels:{}}};Sankey.propTypes={align:_propTypes2.default.oneOf(["justify","left","right","center"]),className:_propTypes2.default.string,hasVoronoi:_propTypes2.default.bool,height:_propTypes2.default.number.isRequired,hideLabels:_propTypes2.default.bool,layout:_propTypes2.default.number,links:_propTypes2.default.arrayOf(_propTypes2.default.shape({source:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.object]).isRequired,target:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.object]).isRequired})).isRequired,margin:_chartUtils.MarginPropType,nodePadding:_propTypes2.default.number,nodes:_propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,nodeWidth:_propTypes2.default.number,onValueMouseOver:_propTypes2.default.func,onValueClick:_propTypes2.default.func,onValueMouseOut:_propTypes2.default.func,onLinkClick:_propTypes2.default.func,onLinkMouseOver:_propTypes2.default.func,onLinkMouseOut:_propTypes2.default.func,style:_propTypes2.default.shape({links:_propTypes2.default.object,rects:_propTypes2.default.object,labels:_propTypes2.default.object}),width:_propTypes2.default.number.isRequired};exports.default=Sankey},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(102),__webpack_require__(183),__webpack_require__(119)):undefined})(this,(function(exports,d3Array,d3Collection,d3Shape){"use strict";function targetDepth(d){return d.target.depth}function left(node){return node.depth}function right(node,n){return n-1-node.height}function justify(node,n){return node.sourceLinks.length?node.depth:n-1}function center(node){return node.targetLinks.length?node.depth:node.sourceLinks.length?d3Array.min(node.sourceLinks,targetDepth)-1:0}function constant(x){return function(){return x}}function ascendingSourceBreadth(a,b){return ascendingBreadth(a.source,b.source)||a.index-b.index}function ascendingTargetBreadth(a,b){return ascendingBreadth(a.target,b.target)||a.index-b.index}function ascendingBreadth(a,b){return a.y0-b.y0}function value(d){return d.value}function nodeCenter(node){return(node.y0+node.y1)/2}function weightedSource(link){return nodeCenter(link.source)*link.value}function weightedTarget(link){return nodeCenter(link.target)*link.value}function defaultId(d){return d.index}function defaultNodes(graph){return graph.nodes}function defaultLinks(graph){return graph.links}function find(nodeById,id){var node=nodeById.get(id);if(!node)throw new Error("missing: "+id);return node}var sankey=function(){var x0=0,y0=0,x1=1,y1=1,dx=24,py=8,id=defaultId,align=justify,nodes=defaultNodes,links=defaultLinks,iterations=32;function sankey(){var graph={nodes:nodes.apply(null,arguments),links:links.apply(null,arguments)};computeNodeLinks(graph);computeNodeValues(graph);computeNodeDepths(graph);computeNodeBreadths(graph,iterations);computeLinkBreadths(graph);return graph}sankey.update=function(graph){computeLinkBreadths(graph);return graph};sankey.nodeId=function(_){return arguments.length?(id=typeof _==="function"?_:constant(_),sankey):id};sankey.nodeAlign=function(_){return arguments.length?(align=typeof _==="function"?_:constant(_),sankey):align};sankey.nodeWidth=function(_){return arguments.length?(dx=+_,sankey):dx};sankey.nodePadding=function(_){return arguments.length?(py=+_,sankey):py};sankey.nodes=function(_){return arguments.length?(nodes=typeof _==="function"?_:constant(_),sankey):nodes};sankey.links=function(_){return arguments.length?(links=typeof _==="function"?_:constant(_),sankey):links};sankey.size=function(_){return arguments.length?(x0=y0=0,x1=+_[0],y1=+_[1],sankey):[x1-x0,y1-y0]};sankey.extent=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],sankey):[[x0,y0],[x1,y1]]};sankey.iterations=function(_){return arguments.length?(iterations=+_,sankey):iterations};function computeNodeLinks(graph){graph.nodes.forEach((function(node,i){node.index=i;node.sourceLinks=[];node.targetLinks=[]}));var nodeById=d3Collection.map(graph.nodes,id);graph.links.forEach((function(link,i){link.index=i;var source=link.source,target=link.target;if(typeof source!=="object")source=link.source=find(nodeById,source);if(typeof target!=="object")target=link.target=find(nodeById,target);source.sourceLinks.push(link);target.targetLinks.push(link)}))}function computeNodeValues(graph){graph.nodes.forEach((function(node){node.value=Math.max(d3Array.sum(node.sourceLinks,value),d3Array.sum(node.targetLinks,value))}))}function computeNodeDepths(graph){var nodes,next,x;for(nodes=graph.nodes,next=[],x=0;nodes.length;++x,nodes=next,next=[]){nodes.forEach((function(node){node.depth=x;node.sourceLinks.forEach((function(link){if(next.indexOf(link.target)<0){next.push(link.target)}}))}))}for(nodes=graph.nodes,next=[],x=0;nodes.length;++x,nodes=next,next=[]){nodes.forEach((function(node){node.height=x;node.targetLinks.forEach((function(link){if(next.indexOf(link.source)<0){next.push(link.source)}}))}))}var kx=(x1-x0-dx)/(x-1);graph.nodes.forEach((function(node){node.x1=(node.x0=x0+Math.max(0,Math.min(x-1,Math.floor(align.call(null,node,x))))*kx)+dx}))}function computeNodeBreadths(graph){var columns=d3Collection.nest().key((function(d){return d.x0})).sortKeys(d3Array.ascending).entries(graph.nodes).map((function(d){return d.values}));initializeNodeBreadth();resolveCollisions();for(var alpha=1,n=iterations;n>0;--n){relaxRightToLeft(alpha*=.99);resolveCollisions();relaxLeftToRight(alpha);resolveCollisions()}function initializeNodeBreadth(){var ky=d3Array.min(columns,(function(nodes){return(y1-y0-(nodes.length-1)*py)/d3Array.sum(nodes,value)}));columns.forEach((function(nodes){nodes.forEach((function(node,i){node.y1=(node.y0=i)+node.value*ky}))}));graph.links.forEach((function(link){link.width=link.value*ky}))}function relaxLeftToRight(alpha){columns.forEach((function(nodes){nodes.forEach((function(node){if(node.targetLinks.length){var dy=(d3Array.sum(node.targetLinks,weightedSource)/d3Array.sum(node.targetLinks,value)-nodeCenter(node))*alpha;node.y0+=dy,node.y1+=dy}}))}))}function relaxRightToLeft(alpha){columns.slice().reverse().forEach((function(nodes){nodes.forEach((function(node){if(node.sourceLinks.length){var dy=(d3Array.sum(node.sourceLinks,weightedTarget)/d3Array.sum(node.sourceLinks,value)-nodeCenter(node))*alpha;node.y0+=dy,node.y1+=dy}}))}))}function resolveCollisions(){columns.forEach((function(nodes){var node,dy,y=y0,n=nodes.length,i;nodes.sort(ascendingBreadth);for(i=0;i<n;++i){node=nodes[i];dy=y-node.y0;if(dy>0)node.y0+=dy,node.y1+=dy;y=node.y1+py}dy=y-py-y1;if(dy>0){y=node.y0-=dy,node.y1-=dy;for(i=n-2;i>=0;--i){node=nodes[i];dy=node.y1+py-y;if(dy>0)node.y0-=dy,node.y1-=dy;y=node.y0}}}))}}function computeLinkBreadths(graph){graph.nodes.forEach((function(node){node.sourceLinks.sort(ascendingTargetBreadth);node.targetLinks.sort(ascendingSourceBreadth)}));graph.nodes.forEach((function(node){var y0=node.y0,y1=y0;node.sourceLinks.forEach((function(link){link.y0=y0+link.width/2,y0+=link.width}));node.targetLinks.forEach((function(link){link.y1=y1+link.width/2,y1+=link.width}))}))}return sankey};function horizontalSource(d){return[d.source.x1,d.y0]}function horizontalTarget(d){return[d.target.x0,d.y1]}var sankeyLinkHorizontal=function(){return d3Shape.linkHorizontal().source(horizontalSource).target(horizontalTarget)};exports.sankey=sankey;exports.sankeyCenter=center;exports.sankeyLeft=left;exports.sankeyRight=right;exports.sankeyJustify=justify;exports.sankeyLinkHorizontal=sankeyLinkHorizontal;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _theme=__webpack_require__(56);var _animation=__webpack_require__(49);var _animation2=_interopRequireDefault(_animation);var _seriesUtils=__webpack_require__(57);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DEFAULT_LINK_COLOR=_theme.DISCRETE_COLOR_RANGE[1];var DEFAULT_LINK_OPACITY=.7;var SankeyLink=function(_PureComponent){_inherits(SankeyLink,_PureComponent);function SankeyLink(){_classCallCheck(this,SankeyLink);return _possibleConstructorReturn(this,(SankeyLink.__proto__||Object.getPrototypeOf(SankeyLink)).apply(this,arguments))}_createClass(SankeyLink,[{key:"render",value:function render(){var _props=this.props,animation=_props.animation,data=_props.data,node=_props.node,opacity=_props.opacity,color=_props.color,strokeWidth=_props.strokeWidth,style=_props.style,onLinkClick=_props.onLinkClick,onLinkMouseOver=_props.onLinkMouseOver,onLinkMouseOut=_props.onLinkMouseOut;if(animation){return _react2.default.createElement(_animation2.default,_extends({},this.props,{animatedProps:_seriesUtils.ANIMATED_SERIES_PROPS}),_react2.default.createElement(SankeyLink,_extends({},this.props,{animation:null})))}return _react2.default.createElement("path",_extends({d:data},style,{className:"rv-sankey__link",opacity:Number.isFinite(opacity)?opacity:DEFAULT_LINK_OPACITY,stroke:color||DEFAULT_LINK_COLOR,onClick:function onClick(e){return onLinkClick(node,e)},onMouseOver:function onMouseOver(e){return onLinkMouseOver(node,e)},onMouseOut:function onMouseOut(e){return onLinkMouseOut(node,e)},strokeWidth:strokeWidth,fill:"none"}))}}]);return SankeyLink}(_react.PureComponent);SankeyLink.displayName="SankeyLink";SankeyLink.requiresSVG=true;exports.default=SankeyLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(2);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(44);var _propTypes2=_interopRequireDefault(_propTypes);var _d3Hierarchy=__webpack_require__(307);var _d3Scale=__webpack_require__(88);var _animation=__webpack_require__(49);var _labelSeries=__webpack_require__(91);var _labelSeries2=_interopRequireDefault(_labelSeries);var _arcSeries=__webpack_require__(195);var _arcSeries2=_interopRequireDefault(_arcSeries);var _xyPlot=__webpack_require__(79);var _xyPlot2=_interopRequireDefault(_xyPlot);var _seriesUtils=__webpack_require__(57);var _chartUtils=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var predefinedClassName="rv-sunburst";var LISTENERS_TO_OVERWRITE=["onValueMouseOver","onValueMouseOut","onValueClick","onValueRightClick","onSeriesMouseOver","onSeriesMouseOut","onSeriesClick","onSeriesRightClick"];function getNodesToRender(_ref){var data=_ref.data,height=_ref.height,hideRootNode=_ref.hideRootNode,width=_ref.width,getSize=_ref.getSize;var partitionFunction=(0,_d3Hierarchy.partition)();var structuredInput=(0,_d3Hierarchy.hierarchy)(data).sum(getSize);var radius=Math.min(width,height)/2-10;var x=(0,_d3Scale.scaleLinear)().range([0,2*Math.PI]);var y=(0,_d3Scale.scaleSqrt)().range([0,radius]);return partitionFunction(structuredInput).descendants().reduce((function(res,cell,index){if(hideRootNode&&index===0){return res}return res.concat([_extends({angle0:Math.max(0,Math.min(2*Math.PI,x(cell.x0))),angle:Math.max(0,Math.min(2*Math.PI,x(cell.x1))),radius0:Math.max(0,y(cell.y0)),radius:Math.max(0,y(cell.y1)),depth:cell.depth,parent:cell.parent},cell.data)])}),[])}function buildLabels(mappedData,accessors){var getAngle=accessors.getAngle,getAngle0=accessors.getAngle0,getLabel=accessors.getLabel,getRadius0=accessors.getRadius0;return mappedData.filter(getLabel).map((function(row){var truedAngle=-1*getAngle(row)+Math.PI/2;var truedAngle0=-1*getAngle0(row)+Math.PI/2;var angle=(truedAngle0+truedAngle)/2;var rotateLabels=!row.dontRotateLabel;var rotAngle=-angle/(2*Math.PI)*360;return _extends({},row,{children:null,angle:null,radius:null,x:getRadius0(row)*Math.cos(angle),y:getRadius0(row)*Math.sin(angle),style:_extends({textAnchor:rotAngle>90?"end":"start"},row.labelStyle),rotation:rotateLabels?rotAngle>90?rotAngle+180:rotAngle===90?90:rotAngle:null})}))}var NOOP=function NOOP(){};var Sunburst=function(_React$Component){_inherits(Sunburst,_React$Component);function Sunburst(){_classCallCheck(this,Sunburst);return _possibleConstructorReturn(this,(Sunburst.__proto__||Object.getPrototypeOf(Sunburst)).apply(this,arguments))}_createClass(Sunburst,[{key:"render",value:function render(){var _this2=this;var _props=this.props,getAngle=_props.getAngle,getAngle0=_props.getAngle0,animation=_props.animation,className=_props.className,children=_props.children,data=_props.data,height=_props.height,hideRootNode=_props.hideRootNode,getLabel=_props.getLabel,width=_props.width,getSize=_props.getSize,colorType=_props.colorType;var mappedData=getNodesToRender({data:data,height:height,hideRootNode:hideRootNode,width:width,getSize:getSize});var radialDomain=(0,_seriesUtils.getRadialDomain)(mappedData);var margin=(0,_chartUtils.getRadialLayoutMargin)(width,height,radialDomain);var labelData=buildLabels(mappedData,{getAngle:getAngle,getAngle0:getAngle0,getLabel:getLabel,getRadius0:function getRadius0(d){return d.radius0}});var hofBuilder=function hofBuilder(f){return function(e,i){return f?f(mappedData[e.index],i):NOOP}};return _react2.default.createElement(_xyPlot2.default,{height:height,hasTreeStructure:true,width:width,className:predefinedClassName+" "+className,margin:margin,xDomain:[-radialDomain,radialDomain],yDomain:[-radialDomain,radialDomain]},_react2.default.createElement(_arcSeries2.default,_extends({colorType:colorType},this.props,{animation:animation,radiusDomain:[0,radialDomain],data:animation?mappedData.map((function(row,index){return _extends({},row,{parent:null,children:null,index:index})})):mappedData,_data:animation?mappedData:null,arcClassName:predefinedClassName+"__series--radial__arc"},LISTENERS_TO_OVERWRITE.reduce((function(acc,propName){var prop=_this2.props[propName];acc[propName]=animation?hofBuilder(prop):prop;return acc}),{}))),labelData.length>0&&_react2.default.createElement(_labelSeries2.default,{data:labelData,getLabel:getLabel}),children)}}]);return Sunburst}(_react2.default.Component);Sunburst.displayName="Sunburst";Sunburst.propTypes={animation:_animation.AnimationPropType,getAngle:_propTypes2.default.func,getAngle0:_propTypes2.default.func,className:_propTypes2.default.string,colorType:_propTypes2.default.string,data:_propTypes2.default.object.isRequired,height:_propTypes2.default.number.isRequired,hideRootNode:_propTypes2.default.bool,getLabel:_propTypes2.default.func,onValueClick:_propTypes2.default.func,onValueMouseOver:_propTypes2.default.func,onValueMouseOut:_propTypes2.default.func,getSize:_propTypes2.default.func,width:_propTypes2.default.number.isRequired};Sunburst.defaultProps={getAngle:function getAngle(d){return d.angle},getAngle0:function getAngle0(d){return d.angle0},className:"",colorType:"literal",getColor:function getColor(d){return d.color},hideRootNode:false,getLabel:function getLabel(d){return d.label},getSize:function getSize(d){return d.size}};exports.default=Sunburst},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _sql=__webpack_require__(831);var _sql2=_interopRequireDefault(_sql);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_sql2.default},function(module,exports){module.exports=function(hljs){var COMMENT_MODE=hljs.COMMENT("--","$");return{case_insensitive:true,illegal:/[<>{}*#]/,contains:[{beginKeywords:"begin end start commit rollback savepoint lock alter create drop rename call "+"delete do handler insert load replace select truncate update set show pragma grant "+"merge describe use explain help declare prepare execute deallocate release "+"unlock purge reset change stop analyze cache flush optimize repair kill "+"install uninstall checksum restore check backup revoke comment",end:/;/,endsWithParent:true,lexemes:/[\w\.]+/,keywords:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add "+"addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias "+"allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply "+"archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan "+"atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid "+"authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile "+"before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float "+"binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound "+"buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel "+"capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base "+"char_length character_length characters characterset charindex charset charsetform charsetid check "+"checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close "+"cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation "+"collect colu colum column column_value columns columns_updated comment commit compact compatibility "+"compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn "+"connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection "+"consider consistent constant constraint constraints constructor container content contents context "+"contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost "+"count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation "+"critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user "+"cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add "+"date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts "+"day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate "+"declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults "+"deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank "+"depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor "+"deterministic diagnostics difference dimension direct_load directory disable disable_all "+"disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div "+"do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable "+"editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt "+"end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors "+"escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding "+"execu execut execute exempt exists exit exp expire explain export export_set extended extent external "+"external_1 external_2 externally extract failed failed_login_attempts failover failure far fast "+"feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final "+"finish first first_value fixed flash_cache flashback floor flush following follows for forall force "+"form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days "+"ftp full function general generated get get_format get_lock getdate getutcdate global global_name "+"globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups "+"gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex "+"hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified "+"identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment "+"index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile "+"initial initialized initially initrans inmemory inner innodb input insert install instance instantiable "+"instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat "+"is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists "+"keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase "+"lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit "+"lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate "+"locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call "+"logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime "+"managed management manual map mapping mask master master_pos_wait match matched materialized max "+"maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans "+"md5 measures median medium member memcompress memory merge microsecond mid migration min minextents "+"minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month "+"months mount move movement multiset mutex name name_const names nan national native natural nav nchar "+"nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile "+"nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile "+"nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder "+"nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck "+"noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe "+"nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber "+"ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old "+"on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date "+"oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary "+"out outer outfile outline output over overflow overriding package pad parallel parallel_enable "+"parameters parent parse partial partition partitions pascal passing password password_grace_time "+"password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex "+"pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc "+"performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin "+"policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction "+"prediction_cost prediction_details prediction_probability prediction_set prepare present preserve "+"prior priority private private_sga privileges procedural procedure procedure_analyze processlist "+"profiles project prompt protection public publishingservername purge quarter query quick quiesce quota "+"quotename radians raise rand range rank raw read reads readsize rebuild record records "+"recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh "+"regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy "+"reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename "+"repair repeat replace replicate replication required reset resetlogs resize resource respect restore "+"restricted result result_cache resumable resume retention return returning returns reuse reverse revoke "+"right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows "+"rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll "+"sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select "+"self sequence sequential serializable server servererror session session_user sessions_per_user set "+"sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor "+"si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin "+"size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex "+"source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows "+"sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone "+"standby start starting startup statement static statistics stats_binomial_test stats_crosstab "+"stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep "+"stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev "+"stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate "+"subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum "+"suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate "+"sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo "+"template temporary terminated tertiary_weights test than then thread through tier ties time time_format "+"time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr "+"timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking "+"transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate "+"try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress "+"under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot "+"unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert "+"url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date "+"utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var "+"var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray "+"verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear "+"wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped "+"xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces "+"xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number "+"numeric real record serial serial8 smallint text varchar varying void"},contains:[{className:"string",begin:"'",end:"'",contains:[hljs.BACKSLASH_ESCAPE,{begin:"''"}]},{className:"string",begin:'"',end:'"',contains:[hljs.BACKSLASH_ESCAPE,{begin:'""'}]},{className:"string",begin:"`",end:"`",contains:[hljs.BACKSLASH_ESCAPE]},hljs.C_NUMBER_MODE,hljs.C_BLOCK_COMMENT_MODE,COMMENT_MODE]},hljs.C_BLOCK_COMMENT_MODE,COMMENT_MODE]}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function tailRec(a,f){var v=f(a);while(v._tag==="Left"){v=f(v.left)}return v.right}exports.tailRec=tailRec},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var function_1=__webpack_require__(834);function pipe(a,ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return a;case 2:return ab(a);case 3:return bc(ab(a));case 4:return cd(bc(ab(a)));case 5:return de(cd(bc(ab(a))));case 6:return ef(de(cd(bc(ab(a)))));case 7:return fg(ef(de(cd(bc(ab(a))))));case 8:return gh(fg(ef(de(cd(bc(ab(a)))))));case 9:return hi(gh(fg(ef(de(cd(bc(ab(a))))))));case 10:return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))}}exports.pipe=pipe;var isFunctor=function(I){return typeof I.map==="function"};var isContravariant=function(I){return typeof I.contramap==="function"};var isFunctorWithIndex=function(I){return typeof I.mapWithIndex==="function"};var isApply=function(I){return typeof I.ap==="function"};var isChain=function(I){return typeof I.chain==="function"};var isBifunctor=function(I){return typeof I.bimap==="function"};var isExtend=function(I){return typeof I.extend==="function"};var isFoldable=function(I){return typeof I.reduce==="function"};var isFoldableWithIndex=function(I){return typeof I.reduceWithIndex==="function"};var isAlt=function(I){return typeof I.alt==="function"};var isCompactable=function(I){return typeof I.compact==="function"};var isFilterable=function(I){return typeof I.filter==="function"};var isFilterableWithIndex=function(I){return typeof I.filterWithIndex==="function"};var isProfunctor=function(I){return typeof I.promap==="function"};var isSemigroupoid=function(I){return typeof I.compose==="function"};var isMonadThrow=function(I){return typeof I.throwError==="function"};function pipeable(I){var r={};if(isFunctor(I)){var map=function(f){return function(fa){return I.map(fa,f)}};r.map=map}if(isContravariant(I)){var contramap=function(f){return function(fa){return I.contramap(fa,f)}};r.contramap=contramap}if(isFunctorWithIndex(I)){var mapWithIndex=function(f){return function(fa){return I.mapWithIndex(fa,f)}};r.mapWithIndex=mapWithIndex}if(isApply(I)){var ap=function(fa){return function(fab){return I.ap(fab,fa)}};var apFirst=function(fb){return function(fa){return I.ap(I.map(fa,(function(a){return function(){return a}})),fb)}};r.ap=ap;r.apFirst=apFirst;r.apSecond=function(fb){return function(fa){return I.ap(I.map(fa,(function(){return function(b){return b}})),fb)}}}if(isChain(I)){var chain=function(f){return function(ma){return I.chain(ma,f)}};var chainFirst=function(f){return function(ma){return I.chain(ma,(function(a){return I.map(f(a),(function(){return a}))}))}};var flatten=function(mma){return I.chain(mma,function_1.identity)};r.chain=chain;r.chainFirst=chainFirst;r.flatten=flatten}if(isBifunctor(I)){var bimap=function(f,g){return function(fa){return I.bimap(fa,f,g)}};var mapLeft=function(f){return function(fa){return I.mapLeft(fa,f)}};r.bimap=bimap;r.mapLeft=mapLeft}if(isExtend(I)){var extend=function(f){return function(wa){return I.extend(wa,f)}};var duplicate=function(wa){return I.extend(wa,function_1.identity)};r.extend=extend;r.duplicate=duplicate}if(isFoldable(I)){var reduce=function(b,f){return function(fa){return I.reduce(fa,b,f)}};var foldMap=function(M){var foldMapM=I.foldMap(M);return function(f){return function(fa){return foldMapM(fa,f)}}};var reduceRight=function(b,f){return function(fa){return I.reduceRight(fa,b,f)}};r.reduce=reduce;r.foldMap=foldMap;r.reduceRight=reduceRight}if(isFoldableWithIndex(I)){var reduceWithIndex=function(b,f){return function(fa){return I.reduceWithIndex(fa,b,f)}};var foldMapWithIndex=function(M){var foldMapM=I.foldMapWithIndex(M);return function(f){return function(fa){return foldMapM(fa,f)}}};var reduceRightWithIndex=function(b,f){return function(fa){return I.reduceRightWithIndex(fa,b,f)}};r.reduceWithIndex=reduceWithIndex;r.foldMapWithIndex=foldMapWithIndex;r.reduceRightWithIndex=reduceRightWithIndex}if(isAlt(I)){var alt=function(that){return function(fa){return I.alt(fa,that)}};r.alt=alt}if(isCompactable(I)){r.compact=I.compact;r.separate=I.separate}if(isFilterable(I)){var filter=function(predicate){return function(fa){return I.filter(fa,predicate)}};var filterMap=function(f){return function(fa){return I.filterMap(fa,f)}};var partition=function(predicate){return function(fa){return I.partition(fa,predicate)}};var partitionMap=function(f){return function(fa){return I.partitionMap(fa,f)}};r.filter=filter;r.filterMap=filterMap;r.partition=partition;r.partitionMap=partitionMap}if(isFilterableWithIndex(I)){var filterWithIndex=function(predicateWithIndex){return function(fa){return I.filterWithIndex(fa,predicateWithIndex)}};var filterMapWithIndex=function(f){return function(fa){return I.filterMapWithIndex(fa,f)}};var partitionWithIndex=function(predicateWithIndex){return function(fa){return I.partitionWithIndex(fa,predicateWithIndex)}};var partitionMapWithIndex=function(f){return function(fa){return I.partitionMapWithIndex(fa,f)}};r.filterWithIndex=filterWithIndex;r.filterMapWithIndex=filterMapWithIndex;r.partitionWithIndex=partitionWithIndex;r.partitionMapWithIndex=partitionMapWithIndex}if(isProfunctor(I)){var promap=function(f,g){return function(fa){return I.promap(fa,f,g)}};r.promap=promap}if(isSemigroupoid(I)){var compose=function(that){return function(fa){return I.compose(fa,that)}};r.compose=compose}if(isMonadThrow(I)){var fromOption=function(onNone){return function(ma){return ma._tag==="None"?I.throwError(onNone()):I.of(ma.value)}};var fromEither=function(ma){return ma._tag==="Left"?I.throwError(ma.left):I.of(ma.right)};var fromPredicate=function(predicate,onFalse){return function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}};var filterOrElse=function(predicate,onFalse){return function(ma){return I.chain(ma,(function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}))}};r.fromOption=fromOption;r.fromEither=fromEither;r.fromPredicate=fromPredicate;r.filterOrElse=filterOrElse}return r}exports.pipeable=pipeable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function identity(a){return a}exports.identity=identity;exports.unsafeCoerce=identity;function not(predicate){return function(a){return!predicate(a)}}exports.not=not;function constant(a){return function(){return a}}exports.constant=constant;exports.constTrue=function(){return true};exports.constFalse=function(){return false};exports.constNull=function(){return null};exports.constUndefined=function(){return};exports.constVoid=function(){return};function flip(f){return function(b,a){return f(a,b)}}exports.flip=flip;function flow(ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return ab;case 2:return function(){return bc(ab.apply(this,arguments))};case 3:return function(){return cd(bc(ab.apply(this,arguments)))};case 4:return function(){return de(cd(bc(ab.apply(this,arguments))))};case 5:return function(){return ef(de(cd(bc(ab.apply(this,arguments)))))};case 6:return function(){return fg(ef(de(cd(bc(ab.apply(this,arguments))))))};case 7:return function(){return gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))};case 8:return function(){return hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments))))))))};case 9:return function(){return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))))}}}exports.flow=flow;function tuple(){var t=[];for(var _i=0;_i<arguments.length;_i++){t[_i]=arguments[_i]}return t}exports.tuple=tuple;function increment(n){return n+1}exports.increment=increment;function decrement(n){return n-1}exports.decrement=decrement;function absurd(_){throw new Error("Called `absurd` function which should be uncallable")}exports.absurd=absurd},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _1=__webpack_require__(80);var Either_1=__webpack_require__(92);function stringify(v){if(typeof v==="function"){return _1.getFunctionName(v)}if(typeof v==="number"&&!isFinite(v)){if(isNaN(v)){return"NaN"}return v>0?"Infinity":"-Infinity"}return JSON.stringify(v)}function getContextPath(context){return context.map((function(_a){var key=_a.key,type=_a.type;return key+": "+type.name})).join("/")}function getMessage(e){return e.message!==undefined?e.message:"Invalid value "+stringify(e.value)+" supplied to "+getContextPath(e.context)}function failure(es){return es.map(getMessage)}exports.failure=failure;function success(){return["No errors!"]}exports.success=success;exports.PathReporter={report:Either_1.fold(failure,success)}}])]);