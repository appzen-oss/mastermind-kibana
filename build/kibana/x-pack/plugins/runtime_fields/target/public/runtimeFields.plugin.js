/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=12)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";var _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__.d(__webpack_exports__,"h",(function(){return _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__["useForm"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__["Form"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__["UseField"]}));var _src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9);var _src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__.d(__webpack_exports__,"f",(function(){return _src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1__["fieldValidators"]}));var _src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);var _src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__.d(__webpack_exports__,"c",(function(){return _src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2__["TextField"]}));var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__.d(__webpack_exports__,"a",(function(){return _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__["CodeEditor"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__["toMountPoint"]}));__webpack_require__.d(__webpack_exports__,"e",(function(){return _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__["createKibanaReactContext"]}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RUNTIME_FIELD_OPTIONS}));const RUNTIME_FIELD_TYPES=["keyword","long","double","date","ip","boolean"];const RUNTIME_FIELD_OPTIONS=[{label:"Keyword",value:"keyword"},{label:"Long",value:"long"},{label:"Double",value:"double"},{label:"Date",value:"date"},{label:"IP",value:"ip"},{label:"Boolean",value:"boolean"}]},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"RuntimeFieldForm",(function(){return RuntimeFieldForm}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldFormState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditor",(function(){return RuntimeFieldEditor}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditorFlyoutContent",(function(){return RuntimeFieldEditorFlyoutContent}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var external_kbnSharedDeps_KbnMonaco_=__webpack_require__(11);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var shared_imports=__webpack_require__(3);var constants=__webpack_require__(5);const emptyField=shared_imports["f"].emptyField;const schema={name:{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.nameLabel",{defaultMessage:"Name"}),validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.validations.nameIsRequiredErrorMessage",{defaultMessage:"Give a name to the field."}))}]},type:{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.runtimeTypeLabel",{defaultMessage:"Type"}),defaultValue:"keyword",deserializer:fieldType=>{var _RUNTIME_FIELD_OPTION;if(!fieldType){return[]}const label=(_RUNTIME_FIELD_OPTION=constants["a"].find(({value:value})=>value===fieldType))===null||_RUNTIME_FIELD_OPTION===void 0?void 0:_RUNTIME_FIELD_OPTION.label;return[{label:label!==null&&label!==void 0?label:fieldType,value:fieldType}]},serializer:value=>value[0].value},script:{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.defineFieldLabel",{defaultMessage:"Define field"}),validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.validations.scriptIsRequiredErrorMessage",{defaultMessage:"Script must emit() a value."}))}]}};const RuntimeFieldFormComp=({defaultValue:defaultValue,onChange:onChange,links:links})=>{const _useForm=Object(shared_imports["h"])({defaultValue:defaultValue,schema:schema}),form=_useForm.form;const submit=form.submit,isFormValid=form.isValid,isSubmitted=form.isSubmitted;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(onChange){onChange({isValid:isFormValid,isSubmitted:isSubmitted,submit:submit})}},[onChange,isFormValid,isSubmitted,submit]);return external_kbnSharedDeps_React_default.a.createElement(shared_imports["b"],{form:form,className:"runtimeFieldEditor_form"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(shared_imports["d"],{path:"name",component:shared_imports["c"],"data-test-subj":"nameField"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(shared_imports["d"],{path:"type"},({label:label,value:value,setValue:setValue})=>{if(value===undefined){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:label,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.runtimeType.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:true},options:constants["a"],selectedOptions:value,onChange:newValue=>{if(newValue.length===0){return}setValue(newValue)},isClearable:false,"data-test-subj":"typeField",fullWidth:true})))}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(shared_imports["d"],{path:"script"},({value:value,setValue:setValue,label:label,isValid:isValid,getErrorsMessages:getErrorsMessages})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:label,error:getErrorsMessages(),isInvalid:!isValid,helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:links.painlessSyntax,target:"_blank",external:true,"data-test-subj":"painlessSyntaxLearnMoreLink"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.script.learnMoreLinkText",{defaultMessage:"Learn more about syntax."})))),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(shared_imports["a"],{languageId:external_kbnSharedDeps_KbnMonaco_["PainlessLang"].ID,width:"100%",height:"300px",value:value,onChange:setValue,options:{fontSize:12,minimap:{enabled:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent",automaticLayout:true},"data-test-subj":"scriptField"}))))};const RuntimeFieldForm=external_kbnSharedDeps_React_default.a.memo(RuntimeFieldFormComp);const getLinks=docLinks=>{const DOC_LINK_VERSION=docLinks.DOC_LINK_VERSION,ELASTIC_WEBSITE_URL=docLinks.ELASTIC_WEBSITE_URL;const docsBase="".concat(ELASTIC_WEBSITE_URL,"guide/en");const painlessDocsBase="".concat(docsBase,"/elasticsearch/painless/").concat(DOC_LINK_VERSION);return{painlessSyntax:"".concat(painlessDocsBase,"/painless-lang-spec.html")}};const RuntimeFieldEditor=({defaultValue:defaultValue,onChange:onChange,docLinks:docLinks})=>{const links=getLinks(docLinks);return external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldForm,{links:links,defaultValue:defaultValue,onChange:onChange})};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const geti18nTexts=field=>({flyoutTitle:field?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutEditFieldTitle",{defaultMessage:"Edit {fieldName} field",values:{fieldName:field.name}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutDefaultTitle",{defaultMessage:"Create new field"}),closeButtonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutCloseButtonLabel",{defaultMessage:"Close"}),saveButtonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutSaveButtonLabel",{defaultMessage:"Save"}),formErrorsCalloutTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.validationErrorTitle",{defaultMessage:"Fix errors in form before continuing."})});const RuntimeFieldEditorFlyoutContent=({onSave:onSave,onCancel:onCancel,docLinks:docLinks,defaultValue:field})=>{const i18nTexts=geti18nTexts(field);const _useState=Object(external_kbnSharedDeps_React_["useState"])({isSubmitted:false,isValid:field?true:undefined,submit:field?_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{isValid:true,data:field});case 1:case"end":return _context.stop()}}),_callee)}))):_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",{isValid:false,data:{}});case 1:case"end":return _context2.stop()}}),_callee2)})))}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];const submit=formState.submit,isFormValid=formState.isValid,isSubmitted=formState.isSubmitted;const onSaveField=Object(external_kbnSharedDeps_React_["useCallback"])(_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var _yield$submit,isValid,data;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return submit();case 2:_yield$submit=_context3.sent;isValid=_yield$submit.isValid;data=_yield$submit.data;if(isValid){onSave(data)}case 6:case"end":return _context3.stop()}}),_callee3)}))),[submit,onSave]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m","data-test-subj":"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,i18nTexts.flyoutTitle))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldEditor,{docLinks:docLinks,defaultValue:field,onChange:setFormState})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,isSubmitted&&!isFormValid&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:i18nTexts.formErrorsCalloutTitle,color:"danger",iconType:"cross","data-test-subj":"formError"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",flush:"left",onClick:()=>onCancel(),"data-test-subj":"closeFlyoutButton"},i18nTexts.closeButtonLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"primary",onClick:()=>onSaveField(),"data-test-subj":"saveFieldButton",disabled:isSubmitted&&!isFormValid,fill:true},i18nTexts.saveButtonLabel)))))}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnMonaco},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_runtimeFields_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var _node_modules_val_loader_dist_cjs_js_key_runtimeFields_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_runtimeFields_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/runtimeFields/public",__webpack_require__,14)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["runtimeFields"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditorFlyoutContent",(function(){return components["RuntimeFieldEditorFlyoutContent"]}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditor",(function(){return components["RuntimeFieldEditor"]}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldFormState",(function(){return components["RuntimeFieldFormState"]}));__webpack_require__.d(__webpack_exports__,"RUNTIME_FIELD_OPTIONS",(function(){return constants["a"]}));__webpack_require__.d(__webpack_exports__,"RuntimeField",(function(){return types["RuntimeField"]}));__webpack_require__.d(__webpack_exports__,"RuntimeType",(function(){return types["RuntimeType"]}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldsSetup",(function(){return types["PluginSetup"]}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var shared_imports=__webpack_require__(3);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}const getRuntimeFieldEditorLoader=coreSetup=>_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$import,RuntimeFieldEditorFlyoutContent,_yield$coreSetup$getS,_yield$coreSetup$getS2,core,uiSettings,overlays,docLinks,_createKibanaReactCon,KibanaReactContextProvider,overlayRef,openEditor;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Promise.resolve().then(__webpack_require__.bind(null,8));case 2:_yield$import=_context.sent;RuntimeFieldEditorFlyoutContent=_yield$import.RuntimeFieldEditorFlyoutContent;_context.next=6;return coreSetup.getStartServices();case 6:_yield$coreSetup$getS=_context.sent;_yield$coreSetup$getS2=_slicedToArray(_yield$coreSetup$getS,1);core=_yield$coreSetup$getS2[0];uiSettings=core.uiSettings,overlays=core.overlays,docLinks=core.docLinks;_createKibanaReactCon=Object(shared_imports["e"])({uiSettings:uiSettings}),KibanaReactContextProvider=_createKibanaReactCon.Provider;overlayRef=null;openEditor=({onSave:onSave,defaultValue:defaultValue})=>{const closeEditor=()=>{var _overlayRef;(_overlayRef=overlayRef)===null||_overlayRef===void 0?void 0:_overlayRef.close();overlayRef=null};const onSaveField=field=>{closeEditor();onSave(field)};overlayRef=overlays.openFlyout(Object(shared_imports["g"])(external_kbnSharedDeps_React_default.a.createElement(KibanaReactContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldEditorFlyoutContent,{onSave:onSaveField,onCancel:()=>{var _overlayRef2;return(_overlayRef2=overlayRef)===null||_overlayRef2===void 0?void 0:_overlayRef2.close()},docLinks:docLinks,defaultValue:defaultValue}))));return closeEditor};return _context.abrupt("return",{openEditor:openEditor});case 14:case"end":return _context.stop()}}),_callee)})));class plugin_RuntimeFieldsPlugin{setup(core,plugins){return{loadEditor:getRuntimeFieldEditorLoader(core)}}start(core,plugins){return{}}stop(){return{}}}var components=__webpack_require__(8);var constants=__webpack_require__(5);var types=__webpack_require__(7);function public_plugin(){return new plugin_RuntimeFieldsPlugin}}]);