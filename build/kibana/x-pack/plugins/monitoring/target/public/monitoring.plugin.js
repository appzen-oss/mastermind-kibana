/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"monitoring.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["monitoring_bundle_jsonpfunction"]=window["monitoring_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=6)})([function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return AlertSeverity}));__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertMessageTokenType}));__webpack_require__.d(__webpack_exports__,"b",(function(){return AlertParamType}));__webpack_require__.d(__webpack_exports__,"d",(function(){return SetupModeFeature}));let AlertClusterHealthType;(function(AlertClusterHealthType){AlertClusterHealthType["Green"]="green";AlertClusterHealthType["Red"]="red";AlertClusterHealthType["Yellow"]="yellow"})(AlertClusterHealthType||(AlertClusterHealthType={}));let AlertSeverity;(function(AlertSeverity){AlertSeverity["Success"]="success";AlertSeverity["Danger"]="danger";AlertSeverity["Warning"]="warning"})(AlertSeverity||(AlertSeverity={}));let AlertMessageTokenType;(function(AlertMessageTokenType){AlertMessageTokenType["Time"]="time";AlertMessageTokenType["Link"]="link";AlertMessageTokenType["DocLink"]="docLink"})(AlertMessageTokenType||(AlertMessageTokenType={}));let AlertParamType;(function(AlertParamType){AlertParamType["Duration"]="duration";AlertParamType["Percentage"]="percentage";AlertParamType["Number"]="number"})(AlertParamType||(AlertParamType={}));let SetupModeFeature;(function(SetupModeFeature){SetupModeFeature["MetricbeatMigration"]="metricbeatMigration";SetupModeFeature["Alerts"]="alerts"})(SetupModeFeature||(SetupModeFeature={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"Q",(function(){return STORAGE_KEY}));__webpack_require__.d(__webpack_exports__,"E",(function(){return EUI_SORT_ASCENDING}));__webpack_require__.d(__webpack_exports__,"r",(function(){return CHART_LINE_COLOR}));__webpack_require__.d(__webpack_exports__,"s",(function(){return CHART_TEXT_COLOR}));__webpack_require__.d(__webpack_exports__,"F",(function(){return FORMAT_DURATION_TEMPLATE_LONG}));__webpack_require__.d(__webpack_exports__,"G",(function(){return FORMAT_DURATION_TEMPLATE_SHORT}));__webpack_require__.d(__webpack_exports__,"H",(function(){return FORMAT_DURATION_TEMPLATE_TINY}));__webpack_require__.d(__webpack_exports__,"p",(function(){return CALCULATE_DURATION_SINCE}));__webpack_require__.d(__webpack_exports__,"q",(function(){return CALCULATE_DURATION_UNTIL}));__webpack_require__.d(__webpack_exports__,"O",(function(){return ML_SUPPORTED_LICENSES}));__webpack_require__.d(__webpack_exports__,"M",(function(){return LOGSTASH}));__webpack_require__.d(__webpack_exports__,"C",(function(){return DEBOUNCE_SLOW_MS}));__webpack_require__.d(__webpack_exports__,"B",(function(){return DEBOUNCE_FAST_MS}));__webpack_require__.d(__webpack_exports__,"P",(function(){return STANDALONE_CLUSTER_CLUSTER_UUID}));__webpack_require__.d(__webpack_exports__,"D",(function(){return ELASTICSEARCH_SYSTEM_ID}));__webpack_require__.d(__webpack_exports__,"I",(function(){return INFRA_SOURCE_ID}));__webpack_require__.d(__webpack_exports__,"t",(function(){return CODE_PATH_ALL}));__webpack_require__.d(__webpack_exports__,"x",(function(){return CODE_PATH_KIBANA}));__webpack_require__.d(__webpack_exports__,"w",(function(){return CODE_PATH_ELASTICSEARCH}));__webpack_require__.d(__webpack_exports__,"A",(function(){return CODE_PATH_ML}));__webpack_require__.d(__webpack_exports__,"v",(function(){return CODE_PATH_BEATS}));__webpack_require__.d(__webpack_exports__,"z",(function(){return CODE_PATH_LOGSTASH}));__webpack_require__.d(__webpack_exports__,"u",(function(){return CODE_PATH_APM}));__webpack_require__.d(__webpack_exports__,"y",(function(){return CODE_PATH_LICENSE}));__webpack_require__.d(__webpack_exports__,"J",(function(){return KIBANA_SYSTEM_ID}));__webpack_require__.d(__webpack_exports__,"o",(function(){return BEATS_SYSTEM_ID}));__webpack_require__.d(__webpack_exports__,"n",(function(){return APM_SYSTEM_ID}));__webpack_require__.d(__webpack_exports__,"N",(function(){return LOGSTASH_SYSTEM_ID}));__webpack_require__.d(__webpack_exports__,"g",(function(){return ALERT_LICENSE_EXPIRATION}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ALERT_CLUSTER_HEALTH}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ALERT_CPU_USAGE}));__webpack_require__.d(__webpack_exports__,"d",(function(){return ALERT_DISK_USAGE}));__webpack_require__.d(__webpack_exports__,"k",(function(){return ALERT_NODES_CHANGED}));__webpack_require__.d(__webpack_exports__,"e",(function(){return ALERT_ELASTICSEARCH_VERSION_MISMATCH}));__webpack_require__.d(__webpack_exports__,"f",(function(){return ALERT_KIBANA_VERSION_MISMATCH}));__webpack_require__.d(__webpack_exports__,"h",(function(){return ALERT_LOGSTASH_VERSION_MISMATCH}));__webpack_require__.d(__webpack_exports__,"i",(function(){return ALERT_MEMORY_USAGE}));__webpack_require__.d(__webpack_exports__,"j",(function(){return ALERT_MISSING_MONITORING_DATA}));__webpack_require__.d(__webpack_exports__,"l",(function(){return ALERT_THREAD_POOL_SEARCH_REJECTIONS}));__webpack_require__.d(__webpack_exports__,"m",(function(){return ALERT_THREAD_POOL_WRITE_REJECTIONS}));__webpack_require__.d(__webpack_exports__,"L",(function(){return LEGACY_ALERT_DETAILS}));__webpack_require__.d(__webpack_exports__,"c",(function(){return ALERT_DETAILS}));__webpack_require__.d(__webpack_exports__,"K",(function(){return LEGACY_ALERTS}));__webpack_require__.d(__webpack_exports__,"R",(function(){return TELEMETRY_METRIC_BUTTON_CLICK}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _enums__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);const LOGGING_TAG="monitoring";const KIBANA_MONITORING_LOGGING_TAG="kibana-monitoring";const MONITORING_SYSTEM_API_VERSION="7";const KIBANA_STATS_TYPE_MONITORING="kibana_stats";const KIBANA_SETTINGS_TYPE="kibana_settings";const STORAGE_KEY="xpack.monitoring.data";const NORMALIZED_DERIVATIVE_UNIT="1s";const EUI_SORT_ASCENDING="asc";const EUI_SORT_DESCENDING="desc";const SORT_ASCENDING=1;const SORT_DESCENDING=-1;const CHART_LINE_COLOR="#d2d2d2";const CHART_TEXT_COLOR="#9c9c9c";const CLUSTER_ALERTS_SEARCH_SIZE=3;const FORMAT_DURATION_TEMPLATE_LONG="M [months] d [days]";const FORMAT_DURATION_TEMPLATE_SHORT=" d [days] h [hrs] m [min]";const FORMAT_DURATION_TEMPLATE_TINY=" s [seconds]";const CALCULATE_DURATION_SINCE="since";const CALCULATE_DURATION_UNTIL="until";const ML_SUPPORTED_LICENSES=["trial","platinum","enterprise"];const CLOUD_METADATA_SERVICES={AWS_URL:"http://169.254.169.254/2016-09-02/dynamic/instance-identity/document",AZURE_URL:"http://169.254.169.254/metadata/instance?api-version=2017-04-02",GCP_URL_PREFIX:"http://169.254.169.254/computeMetadata/v1/instance"};const LOGSTASH={MAJOR_VER_REQD_FOR_PIPELINES:6,QUEUE_TYPES:{MEMORY:"memory",PERSISTED:"persisted"}};const DEBOUNCE_SLOW_MS=17;const DEBOUNCE_FAST_MS=10;const CLUSTER_ALERTS_ADDRESS_CONFIG_KEY="cluster_alerts.email_notifications.email_address";const STANDALONE_CLUSTER_CLUSTER_UUID="__standalone_cluster__";const INDEX_PATTERN=".monitoring-*-6-*,.monitoring-*-7-*";const INDEX_PATTERN_KIBANA=".monitoring-kibana-6-*,.monitoring-kibana-7-*";const INDEX_PATTERN_LOGSTASH=".monitoring-logstash-6-*,.monitoring-logstash-7-*";const INDEX_PATTERN_BEATS=".monitoring-beats-6-*,.monitoring-beats-7-*";const INDEX_ALERTS=".monitoring-alerts-6*,.monitoring-alerts-7*";const INDEX_PATTERN_ELASTICSEARCH=".monitoring-es-6-*,.monitoring-es-7-*";const METRICBEAT_INDEX_NAME_UNIQUE_TOKEN="-mb-";const ELASTICSEARCH_SYSTEM_ID="elasticsearch";const INFRA_SOURCE_ID="internal-stack-monitoring";const CODE_PATH_ALL="all";const CODE_PATH_ALERTS="alerts";const CODE_PATH_KIBANA="kibana";const CODE_PATH_ELASTICSEARCH="elasticsearch";const CODE_PATH_ML="ml";const CODE_PATH_BEATS="beats";const CODE_PATH_LOGSTASH="logstash";const CODE_PATH_APM="apm";const CODE_PATH_LICENSE="license";const CODE_PATH_LOGS="logs";const TELEMETRY_QUERY_SOURCE="TELEMETRY";const KIBANA_SYSTEM_ID="kibana";const BEATS_SYSTEM_ID="beats";const APM_SYSTEM_ID="apm";const LOGSTASH_SYSTEM_ID="logstash";const REPORTING_SYSTEM_ID="reporting";const TELEMETRY_COLLECTION_INTERVAL=864e5;const CLUSTER_DETAILS_FETCH_INTERVAL=108e5;const USAGE_FETCH_INTERVAL=12e5;const ALERT_PREFIX="monitoring_";const ALERT_LICENSE_EXPIRATION="".concat(ALERT_PREFIX,"alert_license_expiration");const ALERT_CLUSTER_HEALTH="".concat(ALERT_PREFIX,"alert_cluster_health");const ALERT_CPU_USAGE="".concat(ALERT_PREFIX,"alert_cpu_usage");const ALERT_DISK_USAGE="".concat(ALERT_PREFIX,"alert_disk_usage");const ALERT_NODES_CHANGED="".concat(ALERT_PREFIX,"alert_nodes_changed");const ALERT_ELASTICSEARCH_VERSION_MISMATCH="".concat(ALERT_PREFIX,"alert_elasticsearch_version_mismatch");const ALERT_KIBANA_VERSION_MISMATCH="".concat(ALERT_PREFIX,"alert_kibana_version_mismatch");const ALERT_LOGSTASH_VERSION_MISMATCH="".concat(ALERT_PREFIX,"alert_logstash_version_mismatch");const ALERT_MEMORY_USAGE="".concat(ALERT_PREFIX,"alert_jvm_memory_usage");const ALERT_MISSING_MONITORING_DATA="".concat(ALERT_PREFIX,"alert_missing_monitoring_data");const ALERT_THREAD_POOL_SEARCH_REJECTIONS="".concat(ALERT_PREFIX,"alert_thread_pool_search_rejections");const ALERT_THREAD_POOL_WRITE_REJECTIONS="".concat(ALERT_PREFIX,"alert_thread_pool_write_rejections");const LEGACY_ALERT_DETAILS={[ALERT_CLUSTER_HEALTH]:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.clusterHealth.label",{defaultMessage:"Cluster health"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.clusterHealth.description",{defaultMessage:"Alert when the health of the cluster changes."})},[ALERT_ELASTICSEARCH_VERSION_MISMATCH]:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.elasticsearchVersionMismatch.label",{defaultMessage:"Elasticsearch version mismatch"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.elasticsearchVersionMismatch.description",{defaultMessage:"Alert when the cluster has multiple versions of Elasticsearch."})},[ALERT_KIBANA_VERSION_MISMATCH]:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.kibanaVersionMismatch.label",{defaultMessage:"Kibana version mismatch"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.kibanaVersionMismatch.description",{defaultMessage:"Alert when the cluser has multiple versions of Kibana."})},[ALERT_LICENSE_EXPIRATION]:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.licenseExpiration.label",{defaultMessage:"License expiration"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.licenseExpiration.description",{defaultMessage:"Alert when the cluster license is about to expire."})},[ALERT_LOGSTASH_VERSION_MISMATCH]:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.logstashVersionMismatch.label",{defaultMessage:"Logstash version mismatch"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.logstashVersionMismatch.description",{defaultMessage:"Alert when the cluster has multiple versions of Logstash."})},[ALERT_NODES_CHANGED]:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.nodesChanged.label",{defaultMessage:"Nodes changed"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.nodesChanged.description",{defaultMessage:"Alert when adding, removing, or restarting a node."})}};const ALERT_DETAILS={[ALERT_CPU_USAGE]:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.cpuUsage.label",{defaultMessage:"CPU Usage"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.cpuUsage.description",{defaultMessage:"Alert when the CPU load for a node is consistently high."}),paramDetails:{threshold:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.cpuUsage.paramDetails.threshold.label",{defaultMessage:"Notify when CPU is over"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Percentage},duration:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.cpuUsage.paramDetails.duration.label",{defaultMessage:"Look at the average over"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Duration}}},[ALERT_DISK_USAGE]:{paramDetails:{threshold:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.diskUsage.paramDetails.threshold.label",{defaultMessage:"Notify when disk capacity is over"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Percentage},duration:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.diskUsage.paramDetails.duration.label",{defaultMessage:"Look at the average over"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Duration}},label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.diskUsage.label",{defaultMessage:"Disk Usage"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.diskUsage.description",{defaultMessage:"Alert when the disk usage for a node is consistently high."})},[ALERT_MEMORY_USAGE]:{paramDetails:{threshold:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.memoryUsage.paramDetails.threshold.label",{defaultMessage:"Notify when memory usage is over"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Percentage},duration:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.memoryUsage.paramDetails.duration.label",{defaultMessage:"Look at the average over"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Duration}},label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.memoryUsage.label",{defaultMessage:"Memory Usage (JVM)"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.memoryUsage.description",{defaultMessage:"Alert when a node reports high memory usage."})},[ALERT_MISSING_MONITORING_DATA]:{paramDetails:{duration:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.missingData.paramDetails.duration.label",{defaultMessage:"Notify if monitoring data is missing for the last"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Duration},limit:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.missingData.paramDetails.limit.label",{defaultMessage:"looking back"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Duration}},label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.missingData.label",{defaultMessage:"Missing monitoring data"}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.missingData.description",{defaultMessage:"Alert when monitoring data is missing."})},[ALERT_THREAD_POOL_SEARCH_REJECTIONS]:{paramDetails:{threshold:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.rejection.paramDetails.threshold.label",{defaultMessage:"Notify when {type} rejection count is over",values:{type:"search"}}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Number},duration:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.rejection.paramDetails.duration.label",{defaultMessage:"In the last"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Duration}},label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.threadPoolRejections.label",{defaultMessage:"Thread pool {type} rejections",values:{type:"search"}}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.searchThreadPoolRejections.description",{defaultMessage:"Alert when the number of rejections in the search thread pool exceeds the threshold."})},[ALERT_THREAD_POOL_WRITE_REJECTIONS]:{paramDetails:{threshold:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.rejection.paramDetails.threshold.label",{defaultMessage:"Notify when {type} rejection count is over",values:{type:"write"}}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Number},duration:{label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.rejection.paramDetails.duration.label",{defaultMessage:"In the last"}),type:_enums__WEBPACK_IMPORTED_MODULE_1__["b"].Duration}},label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.threadPoolRejections.label",{defaultMessage:"Thread pool {type} rejections",values:{type:"write"}}),description:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.writeThreadPoolRejections.description",{defaultMessage:"Alert when the number of rejections in the write thread pool exceeds the threshold."})}};const ALERTS=[ALERT_LICENSE_EXPIRATION,ALERT_CLUSTER_HEALTH,ALERT_CPU_USAGE,ALERT_DISK_USAGE,ALERT_NODES_CHANGED,ALERT_ELASTICSEARCH_VERSION_MISMATCH,ALERT_KIBANA_VERSION_MISMATCH,ALERT_LOGSTASH_VERSION_MISMATCH,ALERT_MEMORY_USAGE,ALERT_MISSING_MONITORING_DATA,ALERT_THREAD_POOL_SEARCH_REJECTIONS,ALERT_THREAD_POOL_WRITE_REJECTIONS];const LEGACY_ALERTS=[ALERT_LICENSE_EXPIRATION,ALERT_CLUSTER_HEALTH,ALERT_NODES_CHANGED,ALERT_ELASTICSEARCH_VERSION_MISMATCH,ALERT_KIBANA_VERSION_MISMATCH,ALERT_LOGSTASH_VERSION_MISMATCH];const ALERT_ACTION_TYPE_EMAIL=".email";const ALERT_ACTION_TYPE_LOG=".server-log";const ALERT_EMAIL_SERVICES=["gmail","hotmail","icloud","outlook365","ses","yahoo"];const SAVED_OBJECT_TELEMETRY="monitoring-telemetry";const TELEMETRY_METRIC_BUTTON_CLICK="btnclick__"},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_monitoring_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);var _node_modules_val_loader_dist_cjs_js_key_monitoring_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_monitoring_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/monitoring/public",__webpack_require__,8)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["monitoring"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);var public_=__webpack_require__(4);var data_public_=__webpack_require__(3);var core_public_=__webpack_require__(5);var constants=__webpack_require__(2);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=true;err=_e3},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class plugin_MonitoringPlugin{constructor(initializerContext){this.initializerContext=initializerContext;_defineProperty(this,"registerAlertsAsync",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(plugins){var _yield$import,createCpuUsageAlertType,_yield$import2,createMissingMonitoringDataAlertType,_yield$import3,createLegacyAlertTypes,_yield$import4,createDiskUsageAlertType,_yield$import5,createThreadPoolRejectionsAlertType,_yield$import6,createMemoryUsageAlertType,alertTypeRegistry,legacyAlertTypes,_iterator,_step,legacyAlertType;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(2).then(__webpack_require__.bind(null,299));case 2:_yield$import=_context.sent;createCpuUsageAlertType=_yield$import.createCpuUsageAlertType;_context.next=6;return __webpack_require__.e(6).then(__webpack_require__.bind(null,298));case 6:_yield$import2=_context.sent;createMissingMonitoringDataAlertType=_yield$import2.createMissingMonitoringDataAlertType;_context.next=10;return __webpack_require__.e(7).then(__webpack_require__.bind(null,300));case 10:_yield$import3=_context.sent;createLegacyAlertTypes=_yield$import3.createLegacyAlertTypes;_context.next=14;return __webpack_require__.e(3).then(__webpack_require__.bind(null,294));case 14:_yield$import4=_context.sent;createDiskUsageAlertType=_yield$import4.createDiskUsageAlertType;_context.next=18;return __webpack_require__.e(5).then(__webpack_require__.bind(null,295));case 18:_yield$import5=_context.sent;createThreadPoolRejectionsAlertType=_yield$import5.createThreadPoolRejectionsAlertType;_context.next=22;return __webpack_require__.e(4).then(__webpack_require__.bind(null,296));case 22:_yield$import6=_context.sent;createMemoryUsageAlertType=_yield$import6.createMemoryUsageAlertType;alertTypeRegistry=plugins.triggersActionsUi.alertTypeRegistry;alertTypeRegistry.register(createCpuUsageAlertType());alertTypeRegistry.register(createDiskUsageAlertType());alertTypeRegistry.register(createMemoryUsageAlertType());alertTypeRegistry.register(createMissingMonitoringDataAlertType());alertTypeRegistry.register(createThreadPoolRejectionsAlertType(constants["l"],constants["c"][constants["l"]]));alertTypeRegistry.register(createThreadPoolRejectionsAlertType(constants["m"],constants["c"][constants["m"]]));legacyAlertTypes=createLegacyAlertTypes();_iterator=_createForOfIteratorHelper(legacyAlertTypes);try{for(_iterator.s();!(_step=_iterator.n()).done;){legacyAlertType=_step.value;alertTypeRegistry.register(legacyAlertType)}}catch(err){_iterator.e(err)}finally{_iterator.f()}case 34:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}())}setup(core,plugins){var _this=this;return _asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var home,id,icon,title,monitoring,app;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:home=plugins.home;id="monitoring";icon="monitoringApp";title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.stackMonitoringTitle",{defaultMessage:"Stack Monitoring"});monitoring=_this.initializerContext.config.get();if(!(!monitoring.ui.enabled||!monitoring.enabled)){_context3.next=7;break}return _context3.abrupt("return",false);case 7:if(home){home.featureCatalogue.register({id:id,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.featureCatalogueTitle",{defaultMessage:"Monitor the stack"}),icon:icon,path:"/app/monitoring",showOnHomePage:true,category:public_["FeatureCatalogueCategory"].ADMIN,description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.featureCatalogueDescription",{defaultMessage:"Track the real-time health and performance of your deployment."}),order:610})}_context3.next=10;return _this.registerAlertsAsync(plugins);case 10:app={id:id,title:title,order:9030,euiIconType:icon,category:core_public_["DEFAULT_APP_CATEGORIES"].management,mount:function(){var _mount=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(params){var _plugins$cloud;var _yield$core$getStartS,_yield$core$getStartS2,coreStart,pluginsStart,_yield$import7,AngularApp,deps,monitoringApp,removeHistoryListener;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return core.getStartServices();case 2:_yield$core$getStartS=_context2.sent;_yield$core$getStartS2=_slicedToArray(_yield$core$getStartS,2);coreStart=_yield$core$getStartS2[0];pluginsStart=_yield$core$getStartS2[1];_context2.next=8;return __webpack_require__.e(1).then(__webpack_require__.bind(null,297));case 8:_yield$import7=_context2.sent;AngularApp=_yield$import7.AngularApp;deps={navigation:pluginsStart.navigation,kibanaLegacy:pluginsStart.kibanaLegacy,element:params.element,core:coreStart,data:pluginsStart.data,isCloud:Boolean((_plugins$cloud=plugins.cloud)===null||_plugins$cloud===void 0?void 0:_plugins$cloud.isCloudEnabled),pluginInitializerContext:_this.initializerContext,externalConfig:_this.getExternalConfig(),triggersActionsUi:plugins.triggersActionsUi,usageCollection:plugins.usageCollection};_this.setInitialTimefilter(deps);monitoringApp=new AngularApp(deps);removeHistoryListener=params.history.listen(location=>{if(location.pathname===""&&location.hash===""){monitoringApp.applyScope()}});return _context2.abrupt("return",()=>{removeHistoryListener();monitoringApp.destroy()});case 15:case"end":return _context2.stop()}}),_callee2)})));function mount(_x2){return _mount.apply(this,arguments)}return mount}()};core.application.register(app);return _context3.abrupt("return",true);case 13:case"end":return _context3.stop()}}),_callee3)})))()}start(core,plugins){}stop(){}setInitialTimefilter({core:coreContext,data:data}){const timefilter=data.query.timefilter.timefilter;const uiSettings=coreContext.uiSettings;const refreshInterval={value:1e4,pause:false};const time={from:"now-1h",to:"now"};timefilter.setRefreshInterval(refreshInterval);timefilter.setTime(time);uiSettings.overrideLocalDefault(data_public_["UI_SETTINGS"].TIMEPICKER_REFRESH_INTERVAL_DEFAULTS,JSON.stringify(refreshInterval));uiSettings.overrideLocalDefault(data_public_["UI_SETTINGS"].TIMEPICKER_TIME_DEFAULTS,JSON.stringify(time))}getExternalConfig(){const monitoring=this.initializerContext.config.get();return[["minIntervalSeconds",monitoring.ui.min_interval_seconds],["showLicenseExpiration",monitoring.ui.show_license_expiration],["showCgroupMetricsElasticsearch",monitoring.ui.container.elasticsearch.enabled],["showCgroupMetricsLogstash",monitoring.ui.container.logstash.enabled]]}}function public_plugin(ctx){return new plugin_MonitoringPlugin(ctx)}},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticNumeral},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaLegacy/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Jquery},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Angular},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/alerts/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLibServices},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/licenseManagement/common/constants");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nAngular}]);