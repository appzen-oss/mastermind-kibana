/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["monitoring_bundle_jsonpfunction"]=window["monitoring_bundle_jsonpfunction"]||[]).push([[2],{299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"createCpuUsageAlertType",(function(){return createCpuUsageAlertType}));var external_kbnSharedDeps_React_=__webpack_require__(9);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var constants=__webpack_require__(2);var validation=__webpack_require__(34);var expression=__webpack_require__(33);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function createCpuUsageAlertType(){return{id:constants["b"],name:constants["c"][constants["b"]].label,description:constants["c"][constants["b"]].description,iconClass:"bell",documentationUrl(docLinks){return"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(docLinks.DOC_LINK_VERSION,"/kibana-alerts.html#kibana-alerts-cpu-threshold")},alertParamsExpression:props=>external_kbnSharedDeps_React_default.a.createElement(expression["a"],_extends({},props,{paramDetails:constants["c"][constants["b"]].paramDetails})),validate:validation["a"],defaultActionMessage:"{{context.internalFullMessage}}",requiresAppContext:true}}},31:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertParamDuration}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var TIME_UNITS;(function(TIME_UNITS){TIME_UNITS["SECOND"]="s";TIME_UNITS["MINUTE"]="m";TIME_UNITS["HOUR"]="h";TIME_UNITS["DAY"]="d"})(TIME_UNITS||(TIME_UNITS={}));function getTimeUnitLabel(timeUnit=TIME_UNITS.SECOND,timeValue="0"){switch(timeUnit){case TIME_UNITS.SECOND:return _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.secondLabel",{defaultMessage:"{timeValue, plural, one {second} other {seconds}}",values:{timeValue:timeValue}});case TIME_UNITS.MINUTE:return _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.minuteLabel",{defaultMessage:"{timeValue, plural, one {minute} other {minutes}}",values:{timeValue:timeValue}});case TIME_UNITS.HOUR:return _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.hourLabel",{defaultMessage:"{timeValue, plural, one {hour} other {hours}}",values:{timeValue:timeValue}});case TIME_UNITS.DAY:return _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.dayLabel",{defaultMessage:"{timeValue, plural, one {day} other {days}}",values:{timeValue:timeValue}})}}const parseRegex=/(\d+)([smhd]{1})/;const AlertParamDuration=props=>{const name=props.name,label=props.label,setAlertParams=props.setAlertParams,errors=props.errors;const parsed=parseRegex.exec(props.duration);const defaultValue=parsed&&parsed[1]?parseInt(parsed[1],10):1;const defaultUnit=parsed&&parsed[2]?parsed[2]:TIME_UNITS.MINUTE;const _React$useState=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(defaultValue),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];const _React$useState3=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(defaultUnit),_React$useState4=_slicedToArray(_React$useState3,2),unit=_React$useState4[0],setUnit=_React$useState4[1];const timeUnits=Object.values(TIME_UNITS).map(timeUnit=>({value:timeUnit,text:getTimeUnitLabel(timeUnit)}));react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(()=>{setAlertParams(name,"".concat(value).concat(unit))},[unit,value]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{label:label,error:errors,isInvalid:(errors===null||errors===void 0?void 0:errors.length)>0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexGroup"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexItem"],{grow:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFieldNumber"],{compressed:true,value:value,onChange:e=>{let newValue=parseInt(e.target.value,10);if(isNaN(newValue)){newValue=0}setValue(newValue)}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexItem"],{grow:4},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSelect"],{compressed:true,value:unit,onChange:e=>setUnit(e.target.value),options:timeUnits}))))}},32:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertParamPercentage}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const AlertParamPercentage=props=>{const name=props.name,label=props.label,setAlertParams=props.setAlertParams,errors=props.errors;const _React$useState=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(props.percentage),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFormRow"],{label:label,error:errors,isInvalid:errors.length>0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFieldNumber"],{compressed:true,value:value,append:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiText"],{size:"xs"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,"%")),onChange:e=>{let newValue=parseInt(e.target.value,10);if(isNaN(newValue)){newValue=0}setValue(newValue);setAlertParams(name,newValue)}}))}},33:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Expression}));var external_kbnSharedDeps_React_=__webpack_require__(9);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(10);var alert_param_duration=__webpack_require__(31);var enums=__webpack_require__(1);var alert_param_percentage=__webpack_require__(32);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const AlertParamNumber=props=>{const name=props.name,label=props.label,setAlertParams=props.setAlertParams,errors=props.errors;const _useState=Object(external_kbnSharedDeps_React_["useState"])(props.value),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:label,error:errors,isInvalid:(errors===null||errors===void 0?void 0:errors.length)>0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],{compressed:true,value:value,onChange:e=>{let newValue=Number(e.target.value);if(isNaN(newValue)){newValue=0}setValue(newValue);setAlertParams(name,newValue)}}))};const Expression=props=>{const alertParams=props.alertParams,paramDetails=props.paramDetails,setAlertParams=props.setAlertParams,errors=props.errors;const alertParamsUi=Object.keys(alertParams).map(alertParamName=>{const details=paramDetails[alertParamName];const value=alertParams[alertParamName];switch(details===null||details===void 0?void 0:details.type){case enums["b"].Duration:return external_kbnSharedDeps_React_default.a.createElement(alert_param_duration["a"],{key:alertParamName,name:alertParamName,duration:value,label:details===null||details===void 0?void 0:details.label,errors:errors[alertParamName],setAlertParams:setAlertParams});case enums["b"].Percentage:return external_kbnSharedDeps_React_default.a.createElement(alert_param_percentage["a"],{key:alertParamName,name:alertParamName,label:details===null||details===void 0?void 0:details.label,percentage:value,errors:errors[alertParamName],setAlertParams:setAlertParams});case enums["b"].Number:return external_kbnSharedDeps_React_default.a.createElement(AlertParamNumber,{key:alertParamName,name:alertParamName,label:details===null||details===void 0?void 0:details.label,value:value,errors:errors[alertParamName],setAlertParams:setAlertParams})}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],{component:"form"},alertParamsUi),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))}},34:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return validate}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);function validate(inputValues){const validationResult={errors:{}};const errors={duration:[],threshold:[]};if(!inputValues.duration){errors.duration.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.validation.duration",{defaultMessage:"A valid duration is required."}))}if(isNaN(inputValues.threshold)){errors.threshold.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.monitoring.alerts.validation.threshold",{defaultMessage:"A valid number is required."}))}validationResult.errors=errors;return validationResult}}}]);