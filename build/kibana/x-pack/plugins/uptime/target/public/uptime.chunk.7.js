/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["uptime_bundle_jsonpfunction"]=window["uptime_bundle_jsonpfunction"]||[]).push([[7],{281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderApp",(function(){return renderApp}));var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(17);var external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);const getIntegratedAppAvailability=(capabilities,integratedApps)=>integratedApps.reduce((supportedSolutions,solutionName)=>{supportedSolutions[solutionName]=capabilities[solutionName]&&capabilities[solutionName].show===true;return supportedSolutions},{});var constants=__webpack_require__(32);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(11);var lib=__webpack_require__(30);var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(15);var public_=__webpack_require__(14);var contexts=__webpack_require__(34);var actions=__webpack_require__(31);var external_kbnSharedDeps_StyledComponents_=__webpack_require__(12);var external_kbnSharedDeps_StyledComponents_default=__webpack_require__.n(external_kbnSharedDeps_StyledComponents_);var hooks=__webpack_require__(33);var stringify_url_params=__webpack_require__(92);var page_header=__webpack_require__(80);var constants_plugin=__webpack_require__(3);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const EMPTY_QUERY="?";const makeBaseBreadcrumb=(href,navigateToHref,params)=>{if(params){const crumbParams=_objectSpread({},params);delete crumbParams.absoluteDateRangeStart;delete crumbParams.absoluteDateRangeEnd;const query=Object(stringify_url_params["a"])(crumbParams,true);href+=query===EMPTY_QUERY?"":query}return{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.breadcrumbs.overviewBreadcrumbText",{defaultMessage:"Uptime"}),href:href,onClick:event=>{if(href&&navigateToHref){event.preventDefault();navigateToHref(href)}}}};const useBreadcrumbs=extraCrumbs=>{var _kibana$services$chro,_kibana$services$appl,_kibana$services$appl2,_kibana$services$appl3;const params=Object(hooks["h"])()[0]();const kibana=Object(public_["useKibana"])();const setBreadcrumbs=(_kibana$services$chro=kibana.services.chrome)===null||_kibana$services$chro===void 0?void 0:_kibana$services$chro.setBreadcrumbs;const appPath=(_kibana$services$appl=(_kibana$services$appl2=kibana.services.application)===null||_kibana$services$appl2===void 0?void 0:_kibana$services$appl2.getUrlForApp(constants_plugin["a"].ID))!==null&&_kibana$services$appl!==void 0?_kibana$services$appl:"";const navigate=(_kibana$services$appl3=kibana.services.application)===null||_kibana$services$appl3===void 0?void 0:_kibana$services$appl3.navigateToUrl;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(setBreadcrumbs){setBreadcrumbs([makeBaseBreadcrumb(appPath,navigate,params)].concat(extraCrumbs))}},[appPath,extraCrumbs,navigate,params,setBreadcrumbs])};var observability_public_=__webpack_require__(21);var selectors=__webpack_require__(35);var monitor_list=__webpack_require__(105);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const DEFAULT_PAGE_SIZE=10;const LOCAL_STORAGE_KEY="xpack.uptime.monitorList.pageSize";const getPageSizeValue=()=>{var _localStorage$getItem;const value=parseInt((_localStorage$getItem=localStorage.getItem(LOCAL_STORAGE_KEY))!==null&&_localStorage$getItem!==void 0?_localStorage$getItem:"",10);if(isNaN(value)){return DEFAULT_PAGE_SIZE}return value};const MonitorList=props=>{const filters=props.filters;const _useState=Object(external_kbnSharedDeps_React_["useState"])(getPageSizeValue),_useState2=_slicedToArray(_useState,2),pageSize=_useState2[0],setPageSize=_useState2[1];const dispatch=Object(lib["useDispatch"])();const _useUrlParams=Object(hooks["h"])(),_useUrlParams2=_slicedToArray(_useUrlParams,1),getUrlValues=_useUrlParams2[0];const _getUrlValues=getUrlValues(),dateRangeStart=_getUrlValues.dateRangeStart,dateRangeEnd=_getUrlValues.dateRangeEnd,pagination=_getUrlValues.pagination,statusFilter=_getUrlValues.statusFilter;const _useContext=Object(external_kbnSharedDeps_React_["useContext"])(contexts["a"]),lastRefresh=_useContext.lastRefresh;const monitorList=Object(lib["useSelector"])(selectors["q"]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(Object(actions["o"])({dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd,filters:filters,pageSize:pageSize,pagination:pagination,statusFilter:statusFilter}))},[dispatch,dateRangeStart,dateRangeEnd,filters,lastRefresh,pageSize,pagination,statusFilter]);return external_kbnSharedDeps_React_default.a.createElement(monitor_list["a"],_extends({},props,{monitorList:monitorList,pageSize:pageSize,setPageSize:setPageSize}))};var overview=__webpack_require__(159);var monitor=__webpack_require__(77);var snapshot_container=__webpack_require__(99);const STATUS_CHART_HEIGHT="160px";const StatusPanel=({})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"l"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:2},external_kbnSharedDeps_React_default.a.createElement(snapshot_container["a"],{height:STATUS_CHART_HEIGHT})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:10},external_kbnSharedDeps_React_default.a.createElement(monitor["d"],{height:STATUS_CHART_HEIGHT,isResponsive:true}))));var alerts=__webpack_require__(43);const useInitApp=()=>{const dispatch=Object(lib["useDispatch"])();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(alerts["j"].get())},[dispatch])};function overview_slicedToArray(arr,i){return overview_arrayWithHoles(arr)||overview_iterableToArrayLimit(arr,i)||overview_unsupportedIterableToArray(arr,i)||overview_nonIterableRest()}function overview_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function overview_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return overview_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return overview_arrayLikeToArray(o,minLen)}function overview_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function overview_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function overview_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const EuiFlexItemStyled=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"]).withConfig({displayName:"EuiFlexItemStyled",componentId:"sc-1532t7e-0"})(["&&{min-width:598px;@media only screen and (max-width:1128px){min-width:500px;}@media only screen and (max-width:630px){min-width:initial;}}"]);const OverviewPageComponent=external_kbnSharedDeps_React_default.a.memo(({indexPattern:indexPattern,setEsKueryFilters:setEsKueryFilters,loading:loading})=>{const _useGetUrlParams=Object(hooks["c"])(),absoluteDateRangeStart=_useGetUrlParams.absoluteDateRangeStart,absoluteDateRangeEnd=_useGetUrlParams.absoluteDateRangeEnd,params=_objectWithoutProperties(_useGetUrlParams,["absoluteDateRangeStart","absoluteDateRangeEnd"]);const search=params.search,urlFilters=params.filters;Object(observability_public_["useTrackPageview"])({app:"uptime",path:"overview"});Object(observability_public_["useTrackPageview"])({app:"uptime",path:"overview",delay:15e3});useInitApp();const _useUpdateKueryString=Object(hooks["f"])(indexPattern,search,urlFilters),_useUpdateKueryString2=overview_slicedToArray(_useUpdateKueryString,2),esFilters=_useUpdateKueryString2[0],error=_useUpdateKueryString2[1];Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setEsKueryFilters(esFilters!==null&&esFilters!==void 0?esFilters:"")},[esFilters,setEsKueryFilters]);const dispatch=Object(lib["useDispatch"])();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(alerts["j"].get());dispatch(alerts["k"].get())},[dispatch]);const linkParameters=Object(stringify_url_params["a"])(params,true);const heading=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.overviewPage.headerText",{defaultMessage:"Overview",description:"The text that will be displayed in the app's heading when the Overview page loads."});useBreadcrumbs([]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(page_header["a"],{headingText:heading,extraLinks:true,datePicker:true}),external_kbnSharedDeps_React_default.a.createElement(overview["a"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xs",wrap:true,responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1,style:{flexBasis:485}},external_kbnSharedDeps_React_default.a.createElement(overview["c"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.filterBar.ariaLabel",{defaultMessage:"Input filter criteria for the overview page"}),"data-test-subj":"xpack.uptime.filterBar"})),external_kbnSharedDeps_React_default.a.createElement(EuiFlexItemStyled,{grow:true},external_kbnSharedDeps_React_default.a.createElement(overview["b"],{esFilters:esFilters})),error&&!loading&&external_kbnSharedDeps_React_default.a.createElement(overview["d"],{error:error})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(StatusPanel,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(MonitorList,{filters:esFilters,linkParameters:linkParameters})))});function overview_container_extends(){overview_container_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return overview_container_extends.apply(this,arguments)}const OverviewPage=props=>{const dispatch=Object(lib["useDispatch"])();const setEsKueryFilters=Object(external_kbnSharedDeps_React_["useCallback"])(esFilters=>dispatch(Object(actions["I"])(esFilters)),[dispatch]);const _useSelector=Object(lib["useSelector"])(selectors["z"]),indexPattern=_useSelector.index_pattern,loading=_useSelector.loading;return external_kbnSharedDeps_React_default.a.createElement(OverviewPageComponent,overview_container_extends({setEsKueryFilters:setEsKueryFilters,indexPattern:indexPattern,loading:loading},props))};var dynamic_settings=__webpack_require__(52);var enable_alert=__webpack_require__(160);const isAutogeneratedId=id=>{const autoGeneratedId=/^auto-(icmp|http|tcp)-OX[A-F0-9]{16}-[a-f0-9]{16}/;return autoGeneratedId.test(id)};const getPageTitle=(monId,selectedMonitor)=>{if(isAutogeneratedId(monId)){var _selectedMonitor$url;return(selectedMonitor===null||selectedMonitor===void 0?void 0:(_selectedMonitor$url=selectedMonitor.url)===null||_selectedMonitor$url===void 0?void 0:_selectedMonitor$url.full)||monId}return monId};const MonitorPage=()=>{var _selectedMonitor$moni,_selectedMonitor$moni2,_selectedMonitor$url2;const dispatch=Object(lib["useDispatch"])();useInitApp();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(Object(dynamic_settings["a"])())},[dispatch]);const monitorId=Object(hooks["d"])();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(Object(actions["L"])(monitorId));dispatch(alerts["k"].get())},[monitorId,dispatch]);const selectedMonitor=Object(lib["useSelector"])(selectors["s"]);Object(observability_public_["useTrackPageview"])({app:"uptime",path:"monitor"});Object(observability_public_["useTrackPageview"])({app:"uptime",path:"monitor",delay:15e3});const nameOrId=(selectedMonitor===null||selectedMonitor===void 0?void 0:(_selectedMonitor$moni=selectedMonitor.monitor)===null||_selectedMonitor$moni===void 0?void 0:_selectedMonitor$moni.name)||getPageTitle(monitorId,selectedMonitor);useBreadcrumbs([{text:nameOrId}]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(page_header["a"],{headingText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},nameOrId),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(enable_alert["a"],{monitorId:monitorId,monitorName:(selectedMonitor===null||selectedMonitor===void 0?void 0:(_selectedMonitor$moni2=selectedMonitor.monitor)===null||_selectedMonitor$moni2===void 0?void 0:_selectedMonitor$moni2.name)||(selectedMonitor===null||selectedMonitor===void 0?void 0:(_selectedMonitor$url2=selectedMonitor.url)===null||_selectedMonitor$url2===void 0?void 0:_selectedMonitor$url2.full)}))),datePicker:true}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(monitor["c"],{monitorId:monitorId}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(monitor["b"],{monitorId:monitorId}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(monitor["e"],{monitorId:monitorId}))};var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(5);const IndicesForm=({onChange:_onChange,loading:loading,formFields:formFields,fieldErrors:fieldErrors,isDisabled:isDisabled})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.indicesSectionTitle",defaultMessage:"Indices"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesTitle",defaultMessage:"Uptime indices"})),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesDescription",defaultMessage:"Index pattern for matching indices that contain Heartbeat data"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{describedByIds:["heartbeatIndices"],error:fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.heartbeatIndices,fullWidth:true,helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesDefaultValue",defaultMessage:"The default value is {defaultValue}",values:{defaultValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,constants["i"].heartbeatIndices)}}),isInvalid:!!(fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.heartbeatIndices),label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesLabel",defaultMessage:"Heartbeat indices"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{"data-test-subj":"heartbeat-indices-input-".concat(loading?"loading":"loaded"),fullWidth:true,disabled:isDisabled,isLoading:loading,value:(formFields===null||formFields===void 0?void 0:formFields.heartbeatIndices)||"",onChange:event=>_onChange({heartbeatIndices:event.currentTarget.value})}))));const certificateFormTranslations={ageInputAriaLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.sourceConfiguration.ageLimitThresholdInput.ariaLabel",{defaultMessage:"An input that controls the maximum number of days for which a TLS certificate may be valid before Kibana will show a warning."}),expirationInputAriaLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.sourceConfiguration.certificateExpirationThresholdInput.ariaLabel",{defaultMessage:"An input that controls the minimum number of days remaining for TLS certificate expiration before Kibana will show a warning."})};const alertFormI18n={inputPlaceHolder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.sourceConfiguration.alertDefaultForm.selectConnector",{defaultMessage:"Please select one or more connectors"})};const CertificateExpirationForm=({loading:loading,onChange:_onChange,formFields:formFields,fieldErrors:fieldErrors,isDisabled:isDisabled})=>{var _formFields$certExpir,_formFields$certAgeTh;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.certificationSectionTitle",defaultMessage:"Certificate Expiration"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.expirationThreshold",defaultMessage:"Expiration/Age Thresholds"})),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.certificateThresholdDescription",defaultMessage:"Change the threshold for displaying and alerting on certificate errors. Note: this will affect any configured alerts."})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{describedByIds:["errorState"],error:fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.expirationThresholdError,fullWidth:true,helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.expirationThresholdDefaultValue",defaultMessage:"The default value is {defaultValue}",values:{defaultValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,constants["i"].certExpirationThreshold)}}),isInvalid:!!(fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.expirationThresholdError),label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.errorStateLabel",defaultMessage:"Expiration threshold"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:2},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{"aria-label":certificateFormTranslations.expirationInputAriaLabel,"data-test-subj":"expiration-threshold-input-".concat(loading?"loading":"loaded"),fullWidth:true,disabled:isDisabled,isInvalid:!!(fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.expirationThresholdError),isLoading:loading,value:(_formFields$certExpir=formFields===null||formFields===void 0?void 0:formFields.certExpirationThreshold)!==null&&_formFields$certExpir!==void 0?_formFields$certExpir:"",onChange:e=>_onChange({certExpirationThreshold:Number(e.target.value)||undefined})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.ageLimit.units.days",defaultMessage:"Days"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{describedByIds:["warningState"],error:fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.ageThresholdError,fullWidth:true,helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.ageThresholdDefaultValue",defaultMessage:"The default value is {defaultValue}",values:{defaultValue:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,constants["i"].certAgeThreshold)}}),isInvalid:!!(fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.ageThresholdError),label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.warningStateLabel",defaultMessage:"Age limit"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:2},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{"aria-label":certificateFormTranslations.ageInputAriaLabel,"data-test-subj":"age-threshold-input-".concat(loading?"loading":"loaded"),fullWidth:true,disabled:isDisabled,isInvalid:!!(fieldErrors===null||fieldErrors===void 0?void 0:fieldErrors.ageThresholdError),isLoading:loading,value:(_formFields$certAgeTh=formFields===null||formFields===void 0?void 0:formFields.certAgeThreshold)!==null&&_formFields$certAgeTh!==void 0?_formFields$certAgeTh:"",onChange:({target:{value:value}})=>_onChange({certAgeThreshold:Number(value)||undefined})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.ageLimit.units.days",defaultMessage:"Days"})))))))};const SETTINGS_ON_CERT=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.certificates.settingsLinkLabel",{defaultMessage:"Settings"});const RETURN_TO_OVERVIEW=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.certificates.returnToOverviewLinkLabel",{defaultMessage:"Return to overview"});const REFRESH_CERT=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.certificates.refresh",{defaultMessage:"Refresh"});const settings={breadcrumbText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.settingsBreadcrumbText",{defaultMessage:"Settings"}),editNoticeTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.settings.cannotEditTitle",{defaultMessage:"You do not have permission to edit settings."}),editNoticeText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.settings.cannotEditText",{defaultMessage:"Your user currently has 'Read' permissions for the Uptime app. Enable a permissions-level of 'All' to edit these settings."}),returnToOverviewLinkLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.settings.returnToOverviewLinkLabel",{defaultMessage:"Return to overview"}),mustBeNumber:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.settings.blankNumberField.error",{defaultMessage:"Must be a number."})};const BLANK_STR=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.settings.blank.error",{defaultMessage:"May not be blank."});var translations=__webpack_require__(4);var react_router_helpers=__webpack_require__(81);function add_connector_flyout_slicedToArray(arr,i){return add_connector_flyout_arrayWithHoles(arr)||add_connector_flyout_iterableToArrayLimit(arr,i)||add_connector_flyout_unsupportedIterableToArray(arr,i)||add_connector_flyout_nonIterableRest()}function add_connector_flyout_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function add_connector_flyout_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return add_connector_flyout_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return add_connector_flyout_arrayLikeToArray(o,minLen)}function add_connector_flyout_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function add_connector_flyout_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function add_connector_flyout_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const AddConnectorFlyout=({focusInput:focusInput})=>{const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=add_connector_flyout_slicedToArray(_useState,2),addFlyoutVisible=_useState2[0],setAddFlyoutVisibility=_useState2[1];const _useKibana=Object(public_["useKibana"])(),getAddConnectorFlyout=_useKibana.services.triggersActionsUi.getAddConnectorFlyout;const dispatch=Object(lib["useDispatch"])();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(alerts["j"].get());focusInput()},[addFlyoutVisible,dispatch,focusInput]);const ConnectorAddFlyout=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getAddConnectorFlyout({consumer:"uptime",onClose:()=>setAddFlyoutVisibility(false)}),[]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"plusInCircleFilled",iconSide:"left",onClick:()=>setAddFlyoutVisibility(true)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.alerts.settings.createConnector",defaultMessage:"Create connector"})),addFlyoutVisible?ConnectorAddFlyout:null)};function alert_defaults_form_slicedToArray(arr,i){return alert_defaults_form_arrayWithHoles(arr)||alert_defaults_form_iterableToArrayLimit(arr,i)||alert_defaults_form_unsupportedIterableToArray(arr,i)||alert_defaults_form_nonIterableRest()}function alert_defaults_form_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function alert_defaults_form_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return alert_defaults_form_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return alert_defaults_form_arrayLikeToArray(o,minLen)}function alert_defaults_form_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function alert_defaults_form_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function alert_defaults_form_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const ConnectorSpan=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"ConnectorSpan",componentId:"sc-1pkjv5s-0"})([".euiIcon{margin-right:5px;}> img{width:16px;height:20px;}"]);const AlertDefaultsForm=({onChange:onChange,loading:loading,formFields:formFields,fieldErrors:fieldErrors,isDisabled:isDisabled})=>{const _useKibana=Object(public_["useKibana"])(),actionTypeRegistry=_useKibana.services.triggersActionsUi.actionTypeRegistry;const _useGetUrlParams=Object(hooks["c"])(),focusConnectorField=_useGetUrlParams.focusConnectorField;const updateUrlParams=Object(hooks["h"])()[1];const _inputRef=Object(external_kbnSharedDeps_React_["useRef"])(null);useInitApp();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(focusConnectorField&&_inputRef.current&&!loading){_inputRef.current.focus()}},[focusConnectorField,_inputRef,loading]);const _useSelector=Object(lib["useSelector"])(alerts["d"]),_useSelector$data=_useSelector.data,data=_useSelector$data===void 0?[]:_useSelector$data;const _useState=Object(external_kbnSharedDeps_React_["useState"])(undefined),_useState2=alert_defaults_form_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];const onBlur=()=>{if(_inputRef.current){const value=_inputRef.current.value;setError(value.length===0?undefined:'"'.concat(value,'" is not a valid option'))}if(_inputRef.current&&!loading&&focusConnectorField){updateUrlParams({focusConnectorField:undefined})}};const onSearchChange=(value,hasMatchingOptions)=>{setError(value.length===0||hasMatchingOptions?undefined:'"'.concat(value,'" is not a valid option'))};const options=(data!==null&&data!==void 0?data:[]).map(connectorAction=>({value:connectorAction.id,label:connectorAction.name,"data-test-subj":connectorAction.name}));const renderOption=option=>{var _data$find;const label=option.label,value=option.value;const _ref=(_data$find=data===null||data===void 0?void 0:data.find(dt=>dt.id===value))!==null&&_data$find!==void 0?_data$find:{},type=_ref.actionTypeId;return external_kbnSharedDeps_React_default.a.createElement(ConnectorSpan,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:actionTypeRegistry.get(type).iconClass}),external_kbnSharedDeps_React_default.a.createElement("span",null,label))};const onOptionChange=selectedOptions=>{onChange({defaultConnectors:selectedOptions.map(item=>{const conOpt=data===null||data===void 0?void 0:data.find(dt=>dt.id===item.value);return conOpt.id})})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.alertDefaults",defaultMessage:"Alert defaults"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.alertConnectors",defaultMessage:"Alert Connectors"})),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.defaultConnectors.description",defaultMessage:"Default connectors to be used to send an alert."})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{describedByIds:["defaultConnectors"],error:error,fullWidth:true,isInvalid:!!error,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.defaultConnectors",defaultMessage:"Default connectors"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{placeholder:alertFormI18n.inputPlaceHolder,options:options,selectedOptions:options.filter(opt=>{var _formFields$defaultCo;return formFields===null||formFields===void 0?void 0:(_formFields$defaultCo=formFields.defaultConnectors)===null||_formFields$defaultCo===void 0?void 0:_formFields$defaultCo.includes(opt.value)}),inputRef:input=>{_inputRef.current=input},onSearchChange:onSearchChange,onBlur:onBlur,isLoading:loading,isDisabled:isDisabled,onChange:onOptionChange,"data-test-subj":"default-connectors-input-".concat(loading?"loading":"loaded"),renderOption:renderOption})),external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(AddConnectorFlyout,{focusInput:Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(_inputRef.current){_inputRef.current.focus()}},[])}))))};function settings_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function settings_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){settings_ownKeys(Object(source),true).forEach((function(key){settings_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{settings_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function settings_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function settings_slicedToArray(arr,i){return settings_arrayWithHoles(arr)||settings_iterableToArrayLimit(arr,i)||settings_unsupportedIterableToArray(arr,i)||settings_nonIterableRest()}function settings_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function settings_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return settings_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return settings_arrayLikeToArray(o,minLen)}function settings_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function settings_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function settings_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const isValidCertVal=val=>{if(val===undefined||isNaN(val)){return settings.mustBeNumber}if(val<=0){return translations["c"]}if(val%1){return translations["b"]}};const getFieldErrors=formFields=>{if(formFields){const certAgeThreshold=formFields.certAgeThreshold,certExpirationThreshold=formFields.certExpirationThreshold,heartbeatIndices=formFields.heartbeatIndices;const indError=heartbeatIndices.match(/^\S+$/)?"":BLANK_STR;const expError=isValidCertVal(certExpirationThreshold);const ageError=isValidCertVal(certAgeThreshold);return{heartbeatIndices:indError,expirationThresholdError:expError,ageThresholdError:ageError}}return null};const isDirtyForm=(formFields,settings)=>(settings===null||settings===void 0?void 0:settings.certAgeThreshold)!==(formFields===null||formFields===void 0?void 0:formFields.certAgeThreshold)||(settings===null||settings===void 0?void 0:settings.certExpirationThreshold)!==(formFields===null||formFields===void 0?void 0:formFields.certExpirationThreshold)||(settings===null||settings===void 0?void 0:settings.heartbeatIndices)!==(formFields===null||formFields===void 0?void 0:formFields.heartbeatIndices)||JSON.stringify(settings===null||settings===void 0?void 0:settings.defaultConnectors)!==JSON.stringify(formFields===null||formFields===void 0?void 0:formFields.defaultConnectors);const SettingsPage=()=>{var _useKibana$services,_useKibana$services$a;const dss=Object(lib["useSelector"])(selectors["y"]);useBreadcrumbs([{text:settings.breadcrumbText}]);const dispatch=Object(lib["useDispatch"])();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(Object(dynamic_settings["a"])())},[dispatch]);const _useState=Object(external_kbnSharedDeps_React_["useState"])(dss.settings?settings_objectSpread({},dss.settings):null),_useState2=settings_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];if(!dss.loadError&&formFields===null&&dss.settings){setFormFields(Object.assign({},settings_objectSpread({},dss.settings)))}const fieldErrors=getFieldErrors(formFields);const isFormValid=!(fieldErrors&&Object.values(fieldErrors).find(v=>!!v));const onChangeFormField=changedField=>{if(formFields){setFormFields(settings_objectSpread(settings_objectSpread({},formFields),changedField))}};const onApply=event=>{event.preventDefault();if(formFields){dispatch(Object(dynamic_settings["d"])(formFields))}};const resetForm=()=>setFormFields(dss.settings?settings_objectSpread({},dss.settings):null);const isFormDirty=isDirtyForm(formFields,dss.settings);const canEdit=!!((_useKibana$services=Object(public_["useKibana"])().services)===null||_useKibana$services===void 0?void 0:(_useKibana$services$a=_useKibana$services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.capabilities.uptime.configureSettings)||false;const isFormDisabled=dss.loading||!canEdit;const cannotEditNotice=canEdit?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:settings.editNoticeTitle},settings.editNoticeText),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(react_router_helpers["a"],{color:"primary","data-test-subj":"uptimeSettingsToOverviewLink",iconType:"arrowLeft",to:constants["n"],size:"s"},settings.returnToOverviewLinkLabel),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},cannotEditNotice)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("div",{id:"settings-form"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(IndicesForm,{loading:dss.loading,onChange:onChangeFormField,formFields:formFields,fieldErrors:fieldErrors,isDisabled:isFormDisabled}),external_kbnSharedDeps_React_default.a.createElement(AlertDefaultsForm,{loading:dss.loading,formFields:formFields,onChange:onChangeFormField,fieldErrors:fieldErrors,isDisabled:isFormDisabled}),external_kbnSharedDeps_React_default.a.createElement(CertificateExpirationForm,{loading:dss.loading,onChange:onChangeFormField,formFields:formFields,fieldErrors:fieldErrors,isDisabled:isFormDisabled}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"data-test-subj":"discardSettingsButton",isDisabled:!isFormDirty||isFormDisabled,onClick:()=>{resetForm()}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.discardSettingsButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{"data-test-subj":"apply-settings-button",onClick:onApply,color:"primary",isDisabled:!isFormDirty||!isFormValid||isFormDisabled,fill:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.sourceConfiguration.applySettingsButtonLabel",defaultMessage:"Apply changes"}))))))))))};const NotFoundPage=()=>{const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"faceNeutral",iconColor:"subdued",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Page not found",id:"xpack.uptime.emptyStateError.notFoundPage"}))),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:history.createHref({pathname:"/"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Back to home",id:"xpack.uptime.notFountPage.homeLinkText"}))}))))};var certificates_certificates=__webpack_require__(83);var monitor_page_link=__webpack_require__(96);const CertMonitors=({monitors:monitors})=>external_kbnSharedDeps_React_default.a.createElement("span",null,monitors.map((mon,ind)=>external_kbnSharedDeps_React_default.a.createElement("span",{key:mon.id},ind>0&&", ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:mon.url},external_kbnSharedDeps_React_default.a.createElement(monitor_page_link["a"],{monitorId:mon.id,linkParameters:""},mon.name||mon.id)))));var certificates_translations=__webpack_require__(65);const WrapFieldSearch=external_kbnSharedDeps_StyledComponents_default()("div").withConfig({displayName:"WrapFieldSearch",componentId:"t89f5p-0"})(["max-width:700px;"]);const CertificateSearch=({setSearch:setSearch})=>{const onChange=e=>{setSearch(e.target.value)};return external_kbnSharedDeps_React_default.a.createElement(WrapFieldSearch,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{"data-test-subj":"uptimeCertSearch",placeholder:certificates_translations["l"],onChange:onChange,isClearable:true,"aria-label":certificates_translations["l"],fullWidth:true}))};var external_kbnSharedDeps_Moment_=__webpack_require__(13);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);const DateText=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiText"]).withConfig({displayName:"DateText",componentId:"bpzgap-0"})(["display:inline-block;margin-left:5px;"]);const CertStatus=({cert:cert})=>{const certStatus=Object(hooks["b"])(cert===null||cert===void 0?void 0:cert.not_after,cert===null||cert===void 0?void 0:cert.not_before);const dss=Object(lib["useSelector"])(selectors["y"]);const relativeDate=external_kbnSharedDeps_Moment_default()(cert===null||cert===void 0?void 0:cert.not_after).fromNow();if(certStatus===constants["c"].EXPIRING_SOON){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement("span",null,certificates_translations["g"],"  ",external_kbnSharedDeps_React_default.a.createElement(DateText,{color:"subdued",size:"xs"},relativeDate)))}if(certStatus===constants["c"].EXPIRED){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"danger"},external_kbnSharedDeps_React_default.a.createElement("span",null,certificates_translations["e"],"  ",external_kbnSharedDeps_React_default.a.createElement(DateText,{color:"subdued",size:"xs"},relativeDate)))}if(certStatus===constants["c"].TOO_OLD){var _dss$settings;const ageThreshold=(_dss$settings=dss.settings)===null||_dss$settings===void 0?void 0:_dss$settings.certAgeThreshold;const oldRelativeDate=external_kbnSharedDeps_Moment_default()(cert===null||cert===void 0?void 0:cert.not_before).add(ageThreshold,"days").fromNow();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"danger"},external_kbnSharedDeps_React_default.a.createElement("span",null,certificates_translations["n"],external_kbnSharedDeps_React_default.a.createElement(DateText,{color:"subdued",size:"xs"},oldRelativeDate)))}const okRelativeDate=external_kbnSharedDeps_Moment_default()(cert===null||cert===void 0?void 0:cert.not_after).fromNow(true);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"success"},external_kbnSharedDeps_React_default.a.createElement("span",null,certificates_translations["k"],"  ",external_kbnSharedDeps_React_default.a.createElement(DateText,{color:"subdued",size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.certs.status.ok.label",defaultMessage:" for {okRelativeDate}",description:'Denotes an amount of time for which a cert is valid. Example: "OK for 2 days"',values:{okRelativeDate:okRelativeDate}}))))};const EmptyButton=external_kbnSharedDeps_StyledComponents_default()(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"]).withConfig({displayName:"EmptyButton",componentId:"y9c88-0"})([".euiButtonEmpty__content{padding-right:0px;}"]);const StyledSpan=external_kbnSharedDeps_StyledComponents_default.a.span.withConfig({displayName:"StyledSpan",componentId:"y9c88-1"})(["margin-right:8px;"]);const FingerprintCol=({cert:cert})=>{var _cert$sha1$toUpperCas,_cert$sha,_cert$sha256$toUpperC,_cert$sha2;const ShaComponent=({text:text,val:val})=>external_kbnSharedDeps_React_default.a.createElement(StyledSpan,{"data-test-subj":val,className:"eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:val},external_kbnSharedDeps_React_default.a.createElement(EmptyButton,null,text," ")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCopy"],{textToCopy:val!==null&&val!==void 0?val:""},copy=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":certificates_translations["c"],onClick:copy,iconType:"copy",title:certificates_translations["c"]})));return external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(ShaComponent,{text:"SHA 1",val:(_cert$sha1$toUpperCas=cert===null||cert===void 0?void 0:(_cert$sha=cert.sha1)===null||_cert$sha===void 0?void 0:_cert$sha.toUpperCase())!==null&&_cert$sha1$toUpperCas!==void 0?_cert$sha1$toUpperCas:""}),external_kbnSharedDeps_React_default.a.createElement(ShaComponent,{text:"SHA 256",val:(_cert$sha256$toUpperC=cert===null||cert===void 0?void 0:(_cert$sha2=cert.sha256)===null||_cert$sha2===void 0?void 0:_cert$sha2.toUpperCase())!==null&&_cert$sha256$toUpperC!==void 0?_cert$sha256$toUpperC:""}))};const CertificateList=({page:page,sort:sort,onChange:onChange})=>{var _certificates$total,_certificates$certs;const _useSelector=Object(lib["useSelector"])(certificates_certificates["b"]),certificates=_useSelector.data,loading=_useSelector.loading;const onTableChange=newVal=>{onChange(newVal.page,newVal.sort)};const pagination={pageIndex:page.index,pageSize:page.size,totalItemCount:(_certificates$total=certificates===null||certificates===void 0?void 0:certificates.total)!==null&&_certificates$total!==void 0?_certificates$total:0,pageSizeOptions:[10,25,50,100],hidePerPageOptions:false};const columns=[{field:"not_after",name:certificates_translations["m"],sortable:true,render:(val,item)=>external_kbnSharedDeps_React_default.a.createElement(CertStatus,{cert:item})},{name:certificates_translations["b"],field:"common_name",sortable:true},{name:certificates_translations["j"],field:"monitors",render:monitors=>external_kbnSharedDeps_React_default.a.createElement(CertMonitors,{monitors:monitors})},{name:certificates_translations["i"],field:"issuer",sortable:true},{name:certificates_translations["o"],field:"not_after",sortable:true,render:value=>external_kbnSharedDeps_Moment_default()(value).format("L LT")},{name:certificates_translations["a"],field:"not_before",sortable:true,render:value=>external_kbnSharedDeps_Moment_default()().diff(external_kbnSharedDeps_Moment_default()(value),"days")+" "+certificates_translations["d"]},{name:certificates_translations["h"],field:"sha256",render:(val,item)=>external_kbnSharedDeps_React_default.a.createElement(FingerprintCol,{cert:item})}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{loading:loading,columns:columns,items:(_certificates$certs=certificates===null||certificates===void 0?void 0:certificates.certs)!==null&&_certificates$certs!==void 0?_certificates$certs:[],pagination:pagination,onChange:onTableChange,sorting:{sort:{field:sort.field,direction:sort.direction}}})};var alerts_containers=__webpack_require__(68);var constants_alerts=__webpack_require__(2);function certificates_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function certificates_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){certificates_ownKeys(Object(source),true).forEach((function(key){certificates_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{certificates_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function certificates_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function certificates_slicedToArray(arr,i){return certificates_arrayWithHoles(arr)||certificates_iterableToArrayLimit(arr,i)||certificates_unsupportedIterableToArray(arr,i)||certificates_nonIterableRest()}function certificates_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function certificates_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return certificates_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return certificates_arrayLikeToArray(o,minLen)}function certificates_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function certificates_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function certificates_arrayWithHoles(arr){if(Array.isArray(arr))return arr}const certificates_DEFAULT_PAGE_SIZE=10;const certificates_LOCAL_STORAGE_KEY="xpack.uptime.certList.pageSize";const certificates_getPageSizeValue=()=>{var _localStorage$getItem;const value=parseInt((_localStorage$getItem=localStorage.getItem(certificates_LOCAL_STORAGE_KEY))!==null&&_localStorage$getItem!==void 0?_localStorage$getItem:"",10);if(isNaN(value)){return certificates_DEFAULT_PAGE_SIZE}return value};const CertificatesPage=()=>{var _certificates$total;Object(observability_public_["useTrackPageview"])({app:"uptime",path:"certificates"});Object(observability_public_["useTrackPageview"])({app:"uptime",path:"certificates",delay:15e3});useBreadcrumbs([{text:"Certificates"}]);const _useState=Object(external_kbnSharedDeps_React_["useState"])({index:0,size:certificates_getPageSizeValue()}),_useState2=certificates_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])({field:"not_after",direction:"asc"}),_useState4=certificates_slicedToArray(_useState3,2),sort=_useState4[0],setSort=_useState4[1];const _useState5=Object(external_kbnSharedDeps_React_["useState"])(""),_useState6=certificates_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];const dispatch=Object(lib["useDispatch"])();const _useContext=Object(external_kbnSharedDeps_React_["useContext"])(contexts["a"]),lastRefresh=_useContext.lastRefresh,refreshApp=_useContext.refreshApp;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(Object(dynamic_settings["a"])())},[dispatch]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{dispatch(certificates_certificates["d"].get(certificates_objectSpread(certificates_objectSpread({search:search},page),{},{sortBy:sort.field,direction:sort.direction})))},[dispatch,page,search,sort.direction,sort.field,lastRefresh]);const _useSelector=Object(lib["useSelector"])(certificates_certificates["b"]),certificates=_useSelector.data;const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{marginRight:"auto",alignSelf:"center"}},external_kbnSharedDeps_React_default.a.createElement(react_router_helpers["a"],{color:"primary","data-test-subj":"uptimeCertificatesToOverviewLink",to:constants["n"],iconType:"arrowLeft",size:"s","aria-label":RETURN_TO_OVERVIEW},RETURN_TO_OVERVIEW)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(alerts_containers["b"],{alertOptions:[constants_alerts["b"].TLS]})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{alignSelf:"center"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"aria-label":SETTINGS_ON_CERT,color:"primary","data-test-subj":"uptimeCertificatesToOverviewLink",iconType:"gear",href:history.createHref({pathname:constants["o"]}),size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHideFor"],{sizes:["xs"]}," ",SETTINGS_ON_CERT))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHideFor"],{sizes:["xs"]},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,iconType:"refresh",onClick:()=>{refreshApp()},"data-test-subj":"superDatePickerApplyTimeButton"},REFRESH_CERT)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiShowFor"],{sizes:["xs"]},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"refresh",onClick:()=>{refreshApp()},"data-test-subj":"superDatePickerApplyTimeButton"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(page_header["a"],{headingText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.uptime.certificates.heading",defaultMessage:"TLS Certificates ({total})",values:{total:external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"uptimeCertTotal"},(_certificates$total=certificates===null||certificates===void 0?void 0:certificates.total)!==null&&_certificates$total!==void 0?_certificates$total:0)}}),datePicker:false}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(CertificateSearch,{setSearch:setSearch}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(CertificateList,{page:page,onChange:(pageVal,sortVal)=>{setPage(pageVal);setSort(sortVal);localStorage.setItem(certificates_LOCAL_STORAGE_KEY,pageVal.size.toString())},sort:sort})))};const baseTitle="Uptime - Kibana";const Routes=[{title:"Monitor | ".concat(baseTitle),path:constants["m"],component:MonitorPage,dataTestSubj:"uptimeMonitorPage",telemetryId:hooks["a"].Monitor},{title:"Settings | ".concat(baseTitle),path:constants["o"],component:SettingsPage,dataTestSubj:"uptimeSettingsPage",telemetryId:hooks["a"].Settings},{title:"Certificates | ".concat(baseTitle),path:constants["b"],component:CertificatesPage,dataTestSubj:"uptimeCertificatesPage",telemetryId:hooks["a"].Certificates},{title:baseTitle,path:constants["n"],component:OverviewPage,dataTestSubj:"uptimeOverviewPage",telemetryId:hooks["a"].Overview}];const RouteInit=({path:path,title:title,telemetryId:telemetryId})=>{Object(hooks["g"])(telemetryId);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{document.title=title},[path,title]);return null};const PageRouter=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Switch"],null,Routes.map(({title:title,path:path,component:RouteComponent,dataTestSubj:dataTestSubj,telemetryId:telemetryId})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{path:path,key:telemetryId},external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":dataTestSubj},external_kbnSharedDeps_React_default.a.createElement(RouteInit,{title:title,path:path,telemetryId:telemetryId}),external_kbnSharedDeps_React_default.a.createElement(RouteComponent,null)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{component:NotFoundPage}));var overview_alerts=__webpack_require__(67);var state=__webpack_require__(78);var kibana_service=__webpack_require__(48);function uptime_app_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function uptime_app_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){uptime_app_ownKeys(Object(source),true).forEach((function(key){uptime_app_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{uptime_app_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function uptime_app_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const Application=props=>{const basePath=props.basePath,canSave=props.canSave,core=props.core,darkMode=props.darkMode,i18nCore=props.i18n,plugins=props.plugins,renderGlobalHelpControls=props.renderGlobalHelpControls,setBadge=props.setBadge,startPlugins=props.startPlugins;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{renderGlobalHelpControls();setBadge(!canSave?{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.badge.readOnly.tooltip",{defaultMessage:"Unable to save"}),iconType:"glasses"}:undefined)},[canSave,renderGlobalHelpControls,setBadge]);kibana_service["a"].core=core;state["a"].dispatch(Object(actions["H"])(basePath));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiErrorBoundary"],null,external_kbnSharedDeps_React_default.a.createElement(i18nCore.Context,null,external_kbnSharedDeps_React_default.a.createElement(lib["Provider"],{store:state["a"]},external_kbnSharedDeps_React_default.a.createElement(public_["KibanaContextProvider"],{services:uptime_app_objectSpread(uptime_app_objectSpread(uptime_app_objectSpread({},core),plugins),{},{triggersActionsUi:startPlugins.triggersActionsUi})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Router"],{history:props.history},external_kbnSharedDeps_React_default.a.createElement(contexts["b"],null,external_kbnSharedDeps_React_default.a.createElement(contexts["d"],props,external_kbnSharedDeps_React_default.a.createElement(contexts["h"],{darkMode:darkMode},external_kbnSharedDeps_React_default.a.createElement(contexts["f"],startPlugins,external_kbnSharedDeps_React_default.a.createElement(overview_alerts["c"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],{className:"app-wrapper-panel ","data-test-subj":"uptimeApp"},external_kbnSharedDeps_React_default.a.createElement(public_["RedirectAppLinks"],{application:core.application},external_kbnSharedDeps_React_default.a.createElement("main",null,external_kbnSharedDeps_React_default.a.createElement(overview_alerts["d"],null),external_kbnSharedDeps_React_default.a.createElement(PageRouter,null))))))))))))))};const UptimeApp=props=>external_kbnSharedDeps_React_default.a.createElement(Application,props);function renderApp(core,plugins,startPlugins,{element:element,history:history}){var _capabilities$uptime$;const capabilities=core.application.capabilities,_core$chrome=core.chrome,setBadge=_core$chrome.setBadge,setHelpExtension=_core$chrome.setHelpExtension,_core$docLinks=core.docLinks,DOC_LINK_VERSION=_core$docLinks.DOC_LINK_VERSION,ELASTIC_WEBSITE_URL=_core$docLinks.ELASTIC_WEBSITE_URL,basePath=core.http.basePath,i18n=core.i18n;const _getIntegratedAppAvai=getIntegratedAppAvailability(capabilities,constants["j"]),apm=_getIntegratedAppAvai.apm,infrastructure=_getIntegratedAppAvai.infrastructure,logs=_getIntegratedAppAvai.logs;const canSave=(_capabilities$uptime$=capabilities.uptime.save)!==null&&_capabilities$uptime$!==void 0?_capabilities$uptime$:false;const props={plugins:plugins,canSave:canSave,core:core,i18n:i18n,startPlugins:startPlugins,basePath:basePath.get(),darkMode:core.uiSettings.get(constants["g"]),commonlyUsedRanges:core.uiSettings.get(constants["h"]),history:history,isApmAvailable:apm,isInfraAvailable:infrastructure,isLogsAvailable:logs,renderGlobalHelpControls:()=>setHelpExtension({appName:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uptime.header.appName",{defaultMessage:"Uptime"}),links:[{linkType:"documentation",href:"".concat(ELASTIC_WEBSITE_URL,"guide/en/uptime/").concat(DOC_LINK_VERSION,"/uptime-app-overview.html")},{linkType:"discuss",href:"https://discuss.elastic.co/c/uptime"}]}),setBadge:setBadge,setBreadcrumbs:core.chrome.setBreadcrumbs};external_kbnSharedDeps_ReactDom_default.a.render(external_kbnSharedDeps_React_default.a.createElement(UptimeApp,props),element);return()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(element)}}}}]);