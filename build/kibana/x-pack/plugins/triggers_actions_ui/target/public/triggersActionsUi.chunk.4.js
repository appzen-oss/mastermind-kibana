/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["triggersActionsUi_bundle_jsonpfunction"]=window["triggersActionsUi_bundle_jsonpfunction"]||[]).push([[4,5],{112:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(113);case"v7light":return __webpack_require__(115);case"v8dark":return __webpack_require__(117);case"v8light":return __webpack_require__(119)}},113:function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(114);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},114:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".connectorEditFlyoutTabs {\n  margin-bottom: -24px; }\n",""]);module.exports=exports},115:function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(116);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},116:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".connectorEditFlyoutTabs {\n  margin-bottom: -24px; }\n",""]);module.exports=exports},117:function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(118);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},118:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".connectorEditFlyoutTabs {\n  margin-bottom: -24px; }\n",""]);module.exports=exports},119:function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(120);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},120:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".connectorEditFlyoutTabs {\n  margin-bottom: -24px; }\n",""]);module.exports=exports},49:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"EditConectorTabs",(function(){return EditConectorTabs}));__webpack_require__.d(__webpack_exports__,"ConnectorEditFlyout",(function(){return ConnectorEditFlyout}));__webpack_require__.d(__webpack_exports__,"default",(function(){return ConnectorEditFlyout}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(8);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var Option=__webpack_require__(77);var action_connector_form=__webpack_require__(92);var pipeable=__webpack_require__(86);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const TestConnectorForm=({connector:connector,executeEnabled:executeEnabled,executionResult:executionResult,actionParams:actionParams,setActionParams:setActionParams,onExecutAction:onExecutAction,isExecutingAction:isExecutingAction,actionTypeRegistry:actionTypeRegistry})=>{const actionTypeModel=actionTypeRegistry.get(connector.actionTypeId);const ParamsFieldsComponent=actionTypeModel.actionParamsFields;const actionErrors=actionTypeModel===null||actionTypeModel===void 0?void 0:actionTypeModel.validateParams(actionParams);const hasErrors=!!Object.values(actionErrors.errors).find(errors=>errors.length>0);const steps=[{title:"Create an action",children:ParamsFieldsComponent?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiErrorBoundary"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Suspense"],{fallback:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})))},external_kbnSharedDeps_React_default.a.createElement(ParamsFieldsComponent,{actionParams:actionParams,index:0,errors:actionErrors.errors,editAction:(field,value)=>setActionParams(_objectSpread(_objectSpread({},actionParams),{},{[field]:value})),messageVariables:[],actionConnector:connector}))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,"This Connector does not require any Action Parameter."))},{title:"Run the action",children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,executeEnabled?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{iconType:"alert",color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Save your changes before testing the connector.",id:"xpack.triggersActionsUI.sections.testConnectorForm.executeTestDisabled"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"play",isLoading:isExecutingAction,isDisabled:!executeEnabled||hasErrors||isExecutingAction,"data-test-subj":"executeActionButton",onClick:onExecutAction},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Run",id:"xpack.triggersActionsUI.sections.testConnectorForm.executeTestButton"}))))},{title:"Results",children:Object(pipeable["pipe"])(executionResult,Object(Option["map"])(result=>result.status==="ok"?external_kbnSharedDeps_React_default.a.createElement(SuccessfulExecution,null):external_kbnSharedDeps_React_default.a.createElement(FailedExecussion,{executionResult:result})),Object(Option["getOrElse"])(()=>external_kbnSharedDeps_React_default.a.createElement(AwaitingExecution,null)))}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSteps"],{steps:steps})};const AwaitingExecution=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"executionAwaiting"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"When you run the action, the results will show up here.",id:"xpack.triggersActionsUI.sections.testConnectorForm.awaitingExecutionDescription"})));const SuccessfulExecution=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.testConnectorForm.executionSuccessfulTitle",{defaultMessage:"Action was successful",values:{}}),color:"success","data-test-subj":"executionSuccessfulResult",iconType:"check"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Ensure the results are what you expect.",id:"xpack.triggersActionsUI.sections.testConnectorForm.executionSuccessfulDescription"})));const FailedExecussion=({executionResult:{message:message,serviceMessage:serviceMessage}})=>{const items=[{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.testConnectorForm.executionFailureDescription",{defaultMessage:"The following error was found:"}),description:message!==null&&message!==void 0?message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.testConnectorForm.executionFailureUnknownReason",{defaultMessage:"Unknown reason"})}];if(serviceMessage){items.push({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.testConnectorForm.executionFailureAdditionalDetails",{defaultMessage:"Details:"}),description:serviceMessage})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.testConnectorForm.executionFailureTitle",{defaultMessage:"Action failed to run"}),"data-test-subj":"executionFailureResult",color:"danger",iconType:"alert"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse",listItems:items}))};var connector_reducer=__webpack_require__(93);var action_connector_api=__webpack_require__(38);var lib_capabilities=__webpack_require__(75);var common=__webpack_require__(29);var connector_edit_flyout=__webpack_require__(112);var kibana=__webpack_require__(37);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function connector_edit_flyout_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function connector_edit_flyout_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){connector_edit_flyout_ownKeys(Object(source),true).forEach((function(key){connector_edit_flyout_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{connector_edit_flyout_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function connector_edit_flyout_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}let EditConectorTabs;(function(EditConectorTabs){EditConectorTabs["Configuration"]="configuration";EditConectorTabs["Test"]="test"})(EditConectorTabs||(EditConectorTabs={}));const ConnectorEditFlyout=({initialConnector:initialConnector,onClose:onClose,tab:tab=EditConectorTabs.Configuration,reloadConnectors:reloadConnectors,consumer:consumer,actionTypeRegistry:actionTypeRegistry})=>{const _useKibana$services=Object(kibana["b"])().services,http=_useKibana$services.http,toasts=_useKibana$services.notifications.toasts,docLinks=_useKibana$services.docLinks,capabilities=_useKibana$services.application.capabilities;const canSave=Object(lib_capabilities["d"])(capabilities);const _useReducer=Object(external_kbnSharedDeps_React_["useReducer"])(connector_reducer["a"],{connector:connector_edit_flyout_objectSpread(connector_edit_flyout_objectSpread({},initialConnector),{},{secrets:{}})}),_useReducer2=_slicedToArray(_useReducer,2),connector=_useReducer2[0].connector,_dispatch=_useReducer2[1];const _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=_slicedToArray(_useState,2),isSaving=_useState2[0],setIsSaving=_useState2[1];const _useState3=Object(external_kbnSharedDeps_React_["useState"])(tab),_useState4=_slicedToArray(_useState3,2),selectedTab=_useState4[0],setTab=_useState4[1];const _useState5=Object(external_kbnSharedDeps_React_["useState"])(false),_useState6=_slicedToArray(_useState5,2),hasChanges=_useState6[0],setHasChanges=_useState6[1];const setConnector=(key,value)=>{_dispatch({command:{type:"setConnector"},payload:{key:key,value:value}})};const _useState7=Object(external_kbnSharedDeps_React_["useState"])({}),_useState8=_slicedToArray(_useState7,2),testExecutionActionParams=_useState8[0],setTestExecutionActionParams=_useState8[1];const _useState9=Object(external_kbnSharedDeps_React_["useState"])(Option["none"]),_useState10=_slicedToArray(_useState9,2),testExecutionResult=_useState10[0],setTestExecutionResult=_useState10[1];const _useState11=Object(external_kbnSharedDeps_React_["useState"])(false),_useState12=_slicedToArray(_useState11,2),isExecutingAction=_useState12[0],setIsExecutinAction=_useState12[1];const closeFlyout=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setConnector("connector",connector_edit_flyout_objectSpread(connector_edit_flyout_objectSpread({},initialConnector),{},{secrets:{}}));setHasChanges(false);setTestExecutionResult(Option["none"]);onClose()},[onClose]);const actionTypeModel=actionTypeRegistry.get(connector.actionTypeId);const errorsInConnectorConfig=!connector.isPreconfigured?connector_edit_flyout_objectSpread(connector_edit_flyout_objectSpread({},actionTypeModel===null||actionTypeModel===void 0?void 0:actionTypeModel.validateConnector(connector).errors),Object(action_connector_form["b"])(connector).errors):{};const hasErrorsInConnectorConfig=!!Object.keys(errorsInConnectorConfig).find(errorKey=>errorsInConnectorConfig[errorKey].length>=1);const onActionConnectorSave=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Object(action_connector_api["f"])({http:http,connector:connector,id:connector.id}).then(savedConnector=>{toasts.addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.editConnectorForm.updateSuccessNotificationText",{defaultMessage:"Updated '{connectorName}'",values:{connectorName:savedConnector.name}}));return savedConnector}).catch(errorRes=>{var _errorRes$body$messag,_errorRes$body;toasts.addDanger((_errorRes$body$messag=(_errorRes$body=errorRes.body)===null||_errorRes$body===void 0?void 0:_errorRes$body.message)!==null&&_errorRes$body$messag!==void 0?_errorRes$body$messag:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.editConnectorForm.updateErrorNotificationText",{defaultMessage:"Cannot update a connector."}));return undefined});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)})));return function onActionConnectorSave(){return _ref.apply(this,arguments)}}();const flyoutTitle=connector.isPreconfigured?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",{id:"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"{connectorName}",id:"xpack.triggersActionsUI.sections.preconfiguredConnectorForm.flyoutTitle",values:{connectorName:initialConnector.name}})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBetaBadge"],{label:"Preconfigured","data-test-subj":"preconfiguredBadge",tooltipContent:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.preconfiguredConnectorForm.tooltipContent",{defaultMessage:"This connector is preconfigured and cannot be edited"})}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"{actionDescription}",id:"xpack.triggersActionsUI.sections.editConnectorForm.actionTypeDescription",values:{actionDescription:actionTypeModel.selectMessage}}))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",{id:"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Edit connector",id:"xpack.triggersActionsUI.sections.editConnectorForm.flyoutPreconfiguredTitle"})));const onExecutAction=()=>{setIsExecutinAction(true);return Object(action_connector_api["c"])({id:connector.id,params:testExecutionActionParams,http:http}).then(result=>{setIsExecutinAction(false);setTestExecutionResult(Object(Option["some"])(result));return result}).catch(ex=>{const result=Object(common["c"])(ex)?ex:{actionId:connector.id,status:"error",message:ex.message};setIsExecutinAction(false);setTestExecutionResult(Object(Option["some"])(result));return result})};const onSaveClicked=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(closeAfterSave=true){var savedAction;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setIsSaving(true);_context2.next=3;return onActionConnectorSave();case 3:savedAction=_context2.sent;setIsSaving(false);if(savedAction){setHasChanges(false);if(closeAfterSave){closeFlyout()}if(reloadConnectors){reloadConnectors()}}case 6:case"end":return _context2.stop()}}),_callee2)})));return function onSaveClicked(){return _ref2.apply(this,arguments)}}();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:closeFlyout,"aria-labelledby":"flyoutActionEditTitle",size:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},actionTypeModel?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:actionTypeModel.iconClass,size:"m"})):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,flyoutTitle)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabs"],{className:"connectorEditFlyoutTabs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{onClick:()=>setTab(EditConectorTabs.Configuration),"data-test-subj":"configureConnectorTab",isSelected:EditConectorTabs.Configuration===selectedTab},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.editConnectorForm.tabText",{defaultMessage:"Configuration"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{onClick:()=>setTab(EditConectorTabs.Test),"data-test-subj":"testConnectorTab",isSelected:EditConectorTabs.Test===selectedTab},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.testConnectorForm.tabText",{defaultMessage:"Test"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,selectedTab===EditConectorTabs.Configuration?!connector.isPreconfigured?external_kbnSharedDeps_React_default.a.createElement(action_connector_form["a"],{connector:connector,errors:errorsInConnectorConfig,actionTypeName:connector.actionType,dispatch:changes=>{setHasChanges(true);setTestExecutionResult(Option["none"]);_dispatch(changes)},actionTypeRegistry:actionTypeRegistry,consumer:consumer}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.editConnectorForm.descriptionText",{defaultMessage:"This connector is readonly."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(docLinks.DOC_LINK_VERSION,"/pre-configured-action-types-and-connectors.html"),target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.triggersActionsUI.sections.editConnectorForm.preconfiguredHelpLabel",defaultMessage:"Learn more about preconfigured connectors."}))):external_kbnSharedDeps_React_default.a.createElement(TestConnectorForm,{connector:connector,executeEnabled:!hasChanges,actionParams:testExecutionActionParams,setActionParams:setTestExecutionActionParams,onExecutAction:onExecutAction,isExecutingAction:isExecutingAction,executionResult:testExecutionResult,actionTypeRegistry:actionTypeRegistry})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:closeFlyout,"data-test-subj":"cancelSaveEditedConnectorButton"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.triggersActionsUI.sections.editConnectorForm.cancelButtonLabel",{defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},canSave&&actionTypeModel&&!connector.isPreconfigured?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"secondary","data-test-subj":"saveEditedActionButton",isDisabled:hasErrorsInConnectorConfig||!hasChanges,isLoading:isSaving||isExecutingAction,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return onSaveClicked(false);case 2:case"end":return _context3.stop()}}),_callee3)})))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.triggersActionsUI.sections.editConnectorForm.saveButtonLabel",defaultMessage:"Save"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,color:"secondary","data-test-subj":"saveAndCloseEditedActionButton",type:"submit",isDisabled:hasErrorsInConnectorConfig||!hasChanges,isLoading:isSaving||isExecutingAction,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return onSaveClicked();case 2:case"end":return _context4.stop()}}),_callee4)})))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.triggersActionsUI.sections.editConnectorForm.saveAndCloseButtonLabel",defaultMessage:"Save & Close"})))):null)))))}},75:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return hasShowActionsCapability}));__webpack_require__.d(__webpack_exports__,"d",(function(){return hasSaveActionsCapability}));__webpack_require__.d(__webpack_exports__,"c",(function(){return hasExecuteActionsCapability}));__webpack_require__.d(__webpack_exports__,"b",(function(){return hasDeleteActionsCapability}));__webpack_require__.d(__webpack_exports__,"a",(function(){return hasAllPrivilege}));const hasShowActionsCapability=capabilities=>{var _capabilities$actions;return capabilities===null||capabilities===void 0?void 0:(_capabilities$actions=capabilities.actions)===null||_capabilities$actions===void 0?void 0:_capabilities$actions.show};const hasSaveActionsCapability=capabilities=>{var _capabilities$actions2;return capabilities===null||capabilities===void 0?void 0:(_capabilities$actions2=capabilities.actions)===null||_capabilities$actions2===void 0?void 0:_capabilities$actions2.save};const hasExecuteActionsCapability=capabilities=>{var _capabilities$actions3;return capabilities===null||capabilities===void 0?void 0:(_capabilities$actions3=capabilities.actions)===null||_capabilities$actions3===void 0?void 0:_capabilities$actions3.execute};const hasDeleteActionsCapability=capabilities=>{var _capabilities$actions4;return capabilities===null||capabilities===void 0?void 0:(_capabilities$actions4=capabilities.actions)===null||_capabilities$actions4===void 0?void 0:_capabilities$actions4.delete};function hasAllPrivilege(alert,alertType){var _alertType$authorized,_alertType$authorized2;return(_alertType$authorized=alertType===null||alertType===void 0?void 0:(_alertType$authorized2=alertType.authorizedConsumers[alert.consumer])===null||_alertType$authorized2===void 0?void 0:_alertType$authorized2.all)!==null&&_alertType$authorized!==void 0?_alertType$authorized:false}function hasReadPrivilege(alert,alertType){var _alertType$authorized3,_alertType$authorized4;return(_alertType$authorized3=alertType===null||alertType===void 0?void 0:(_alertType$authorized4=alertType.authorizedConsumers[alert.consumer])===null||_alertType$authorized4===void 0?void 0:_alertType$authorized4.read)!==null&&_alertType$authorized3!==void 0?_alertType$authorized3:false}},77:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var pipeable_1=__webpack_require__(86);exports.URI="Option";exports.none={_tag:"None"};function some(a){return{_tag:"Some",value:a}}exports.some=some;function isSome(fa){return fa._tag==="Some"}exports.isSome=isSome;function isNone(fa){return fa._tag==="None"}exports.isNone=isNone;function fold(onNone,onSome){return function(ma){return isNone(ma)?onNone():onSome(ma.value)}}exports.fold=fold;function fromNullable(a){return a==null?exports.none:some(a)}exports.fromNullable=fromNullable;function toNullable(ma){return isNone(ma)?null:ma.value}exports.toNullable=toNullable;function toUndefined(ma){return isNone(ma)?undefined:ma.value}exports.toUndefined=toUndefined;function getOrElse(onNone){return function(ma){return isNone(ma)?onNone():ma.value}}exports.getOrElse=getOrElse;function elem(E){return function(a,ma){return isNone(ma)?false:E.equals(a,ma.value)}}exports.elem=elem;function exists(predicate){return function(ma){return isNone(ma)?false:predicate(ma.value)}}exports.exists=exists;function fromPredicate(predicate){return function(a){return predicate(a)?some(a):exports.none}}exports.fromPredicate=fromPredicate;function tryCatch(f){try{return some(f())}catch(e){return exports.none}}exports.tryCatch=tryCatch;function getLeft(ma){return ma._tag==="Right"?exports.none:some(ma.left)}exports.getLeft=getLeft;function getRight(ma){return ma._tag==="Left"?exports.none:some(ma.right)}exports.getRight=getRight;function getRefinement(getOption){return function(a){return isSome(getOption(a))}}exports.getRefinement=getRefinement;function mapNullable(f){return function(ma){return isNone(ma)?exports.none:fromNullable(f(ma.value))}}exports.mapNullable=mapNullable;function getShow(S){return{show:function(ma){return isNone(ma)?"none":"some("+S.show(ma.value)+")"}}}exports.getShow=getShow;function getEq(E){return{equals:function(x,y){return x===y||(isNone(x)?isNone(y):isNone(y)?false:E.equals(x.value,y.value))}}}exports.getEq=getEq;function getOrd(O){return{equals:getEq(O).equals,compare:function(x,y){return x===y?0:isSome(x)?isSome(y)?O.compare(x.value,y.value):1:-1}}}exports.getOrd=getOrd;function getApplySemigroup(S){return{concat:function(x,y){return isSome(x)&&isSome(y)?some(S.concat(x.value,y.value)):exports.none}}}exports.getApplySemigroup=getApplySemigroup;function getApplyMonoid(M){return __assign(__assign({},getApplySemigroup(M)),{empty:some(M.empty)})}exports.getApplyMonoid=getApplyMonoid;function getFirstMonoid(){return{concat:function(x,y){return isNone(x)?y:x},empty:exports.none}}exports.getFirstMonoid=getFirstMonoid;function getLastMonoid(){return{concat:function(x,y){return isNone(y)?x:y},empty:exports.none}}exports.getLastMonoid=getLastMonoid;function getMonoid(S){return{concat:function(x,y){return isNone(x)?y:isNone(y)?x:some(S.concat(x.value,y.value))},empty:exports.none}}exports.getMonoid=getMonoid;var defaultSeparate={left:exports.none,right:exports.none};var identity=function(a){return a};exports.option={URI:exports.URI,map:function(ma,f){return isNone(ma)?exports.none:some(f(ma.value))},of:some,ap:function(mab,ma){return isNone(mab)?exports.none:isNone(ma)?exports.none:some(mab.value(ma.value))},chain:function(ma,f){return isNone(ma)?exports.none:f(ma.value)},reduce:function(fa,b,f){return isNone(fa)?b:f(b,fa.value)},foldMap:function(M){return function(fa,f){return isNone(fa)?M.empty:f(fa.value)}},reduceRight:function(fa,b,f){return isNone(fa)?b:f(fa.value,b)},traverse:function(F){return function(ta,f){return isNone(ta)?F.of(exports.none):F.map(f(ta.value),some)}},sequence:function(F){return function(ta){return isNone(ta)?F.of(exports.none):F.map(ta.value,some)}},zero:function(){return exports.none},alt:function(ma,f){return isNone(ma)?f():ma},extend:function(wa,f){return isNone(wa)?exports.none:some(f(wa))},compact:function(ma){return exports.option.chain(ma,identity)},separate:function(ma){var o=exports.option.map(ma,(function(e){return{left:getLeft(e),right:getRight(e)}}));return isNone(o)?defaultSeparate:o.value},filter:function(fa,predicate){return isNone(fa)?exports.none:predicate(fa.value)?fa:exports.none},filterMap:function(ma,f){return isNone(ma)?exports.none:f(ma.value)},partition:function(fa,predicate){return{left:exports.option.filter(fa,(function(a){return!predicate(a)})),right:exports.option.filter(fa,predicate)}},partitionMap:function(fa,f){return exports.option.separate(exports.option.map(fa,f))},wither:function(F){return function(fa,f){return isNone(fa)?F.of(exports.none):f(fa.value)}},wilt:function(F){return function(fa,f){var o=exports.option.map(fa,(function(a){return F.map(f(a),(function(e){return{left:getLeft(e),right:getRight(e)}}))}));return isNone(o)?F.of({left:exports.none,right:exports.none}):o.value}},throwError:function(){return exports.none}};var _a=pipeable_1.pipeable(exports.option),alt=_a.alt,ap=_a.ap,apFirst=_a.apFirst,apSecond=_a.apSecond,chain=_a.chain,chainFirst=_a.chainFirst,duplicate=_a.duplicate,extend=_a.extend,filter=_a.filter,filterMap=_a.filterMap,flatten=_a.flatten,foldMap=_a.foldMap,map=_a.map,partition=_a.partition,partitionMap=_a.partitionMap,reduce=_a.reduce,reduceRight=_a.reduceRight,compact=_a.compact,separate=_a.separate,fromEither=_a.fromEither;exports.alt=alt;exports.ap=ap;exports.apFirst=apFirst;exports.apSecond=apSecond;exports.chain=chain;exports.chainFirst=chainFirst;exports.duplicate=duplicate;exports.extend=extend;exports.filter=filter;exports.filterMap=filterMap;exports.flatten=flatten;exports.foldMap=foldMap;exports.map=map;exports.partition=partition;exports.partitionMap=partitionMap;exports.reduce=reduce;exports.reduceRight=reduceRight;exports.compact=compact;exports.separate=separate;exports.fromEither=fromEither},86:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var function_1=__webpack_require__(94);function pipe(a,ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return a;case 2:return ab(a);case 3:return bc(ab(a));case 4:return cd(bc(ab(a)));case 5:return de(cd(bc(ab(a))));case 6:return ef(de(cd(bc(ab(a)))));case 7:return fg(ef(de(cd(bc(ab(a))))));case 8:return gh(fg(ef(de(cd(bc(ab(a)))))));case 9:return hi(gh(fg(ef(de(cd(bc(ab(a))))))));case 10:return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))}}exports.pipe=pipe;var isFunctor=function(I){return typeof I.map==="function"};var isContravariant=function(I){return typeof I.contramap==="function"};var isFunctorWithIndex=function(I){return typeof I.mapWithIndex==="function"};var isApply=function(I){return typeof I.ap==="function"};var isChain=function(I){return typeof I.chain==="function"};var isBifunctor=function(I){return typeof I.bimap==="function"};var isExtend=function(I){return typeof I.extend==="function"};var isFoldable=function(I){return typeof I.reduce==="function"};var isFoldableWithIndex=function(I){return typeof I.reduceWithIndex==="function"};var isAlt=function(I){return typeof I.alt==="function"};var isCompactable=function(I){return typeof I.compact==="function"};var isFilterable=function(I){return typeof I.filter==="function"};var isFilterableWithIndex=function(I){return typeof I.filterWithIndex==="function"};var isProfunctor=function(I){return typeof I.promap==="function"};var isSemigroupoid=function(I){return typeof I.compose==="function"};var isMonadThrow=function(I){return typeof I.throwError==="function"};function pipeable(I){var r={};if(isFunctor(I)){var map=function(f){return function(fa){return I.map(fa,f)}};r.map=map}if(isContravariant(I)){var contramap=function(f){return function(fa){return I.contramap(fa,f)}};r.contramap=contramap}if(isFunctorWithIndex(I)){var mapWithIndex=function(f){return function(fa){return I.mapWithIndex(fa,f)}};r.mapWithIndex=mapWithIndex}if(isApply(I)){var ap=function(fa){return function(fab){return I.ap(fab,fa)}};var apFirst=function(fb){return function(fa){return I.ap(I.map(fa,(function(a){return function(){return a}})),fb)}};r.ap=ap;r.apFirst=apFirst;r.apSecond=function(fb){return function(fa){return I.ap(I.map(fa,(function(){return function(b){return b}})),fb)}}}if(isChain(I)){var chain=function(f){return function(ma){return I.chain(ma,f)}};var chainFirst=function(f){return function(ma){return I.chain(ma,(function(a){return I.map(f(a),(function(){return a}))}))}};var flatten=function(mma){return I.chain(mma,function_1.identity)};r.chain=chain;r.chainFirst=chainFirst;r.flatten=flatten}if(isBifunctor(I)){var bimap=function(f,g){return function(fa){return I.bimap(fa,f,g)}};var mapLeft=function(f){return function(fa){return I.mapLeft(fa,f)}};r.bimap=bimap;r.mapLeft=mapLeft}if(isExtend(I)){var extend=function(f){return function(wa){return I.extend(wa,f)}};var duplicate=function(wa){return I.extend(wa,function_1.identity)};r.extend=extend;r.duplicate=duplicate}if(isFoldable(I)){var reduce=function(b,f){return function(fa){return I.reduce(fa,b,f)}};var foldMap=function(M){var foldMapM=I.foldMap(M);return function(f){return function(fa){return foldMapM(fa,f)}}};var reduceRight=function(b,f){return function(fa){return I.reduceRight(fa,b,f)}};r.reduce=reduce;r.foldMap=foldMap;r.reduceRight=reduceRight}if(isFoldableWithIndex(I)){var reduceWithIndex=function(b,f){return function(fa){return I.reduceWithIndex(fa,b,f)}};var foldMapWithIndex=function(M){var foldMapM=I.foldMapWithIndex(M);return function(f){return function(fa){return foldMapM(fa,f)}}};var reduceRightWithIndex=function(b,f){return function(fa){return I.reduceRightWithIndex(fa,b,f)}};r.reduceWithIndex=reduceWithIndex;r.foldMapWithIndex=foldMapWithIndex;r.reduceRightWithIndex=reduceRightWithIndex}if(isAlt(I)){var alt=function(that){return function(fa){return I.alt(fa,that)}};r.alt=alt}if(isCompactable(I)){r.compact=I.compact;r.separate=I.separate}if(isFilterable(I)){var filter=function(predicate){return function(fa){return I.filter(fa,predicate)}};var filterMap=function(f){return function(fa){return I.filterMap(fa,f)}};var partition=function(predicate){return function(fa){return I.partition(fa,predicate)}};var partitionMap=function(f){return function(fa){return I.partitionMap(fa,f)}};r.filter=filter;r.filterMap=filterMap;r.partition=partition;r.partitionMap=partitionMap}if(isFilterableWithIndex(I)){var filterWithIndex=function(predicateWithIndex){return function(fa){return I.filterWithIndex(fa,predicateWithIndex)}};var filterMapWithIndex=function(f){return function(fa){return I.filterMapWithIndex(fa,f)}};var partitionWithIndex=function(predicateWithIndex){return function(fa){return I.partitionWithIndex(fa,predicateWithIndex)}};var partitionMapWithIndex=function(f){return function(fa){return I.partitionMapWithIndex(fa,f)}};r.filterWithIndex=filterWithIndex;r.filterMapWithIndex=filterMapWithIndex;r.partitionWithIndex=partitionWithIndex;r.partitionMapWithIndex=partitionMapWithIndex}if(isProfunctor(I)){var promap=function(f,g){return function(fa){return I.promap(fa,f,g)}};r.promap=promap}if(isSemigroupoid(I)){var compose=function(that){return function(fa){return I.compose(fa,that)}};r.compose=compose}if(isMonadThrow(I)){var fromOption=function(onNone){return function(ma){return ma._tag==="None"?I.throwError(onNone()):I.of(ma.value)}};var fromEither=function(ma){return ma._tag==="Left"?I.throwError(ma.left):I.of(ma.right)};var fromPredicate=function(predicate,onFalse){return function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}};var filterOrElse=function(predicate,onFalse){return function(ma){return I.chain(ma,(function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}))}};r.fromOption=fromOption;r.fromEither=fromEither;r.fromPredicate=fromPredicate;r.filterOrElse=filterOrElse}return r}exports.pipeable=pipeable},92:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return validateBaseProperties}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ActionConnectorForm}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_2__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__);var _lib_capabilities__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(75);var _common_lib_kibana__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(37);function validateBaseProperties(actionObject){const validationResult={errors:{}};const verrors={name:new Array};validationResult.errors=verrors;if(!actionObject.name){verrors.name.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("xpack.triggersActionsUI.sections.actionConnectorForm.error.requiredNameText",{defaultMessage:"Name is required."}))}return validationResult}const ActionConnectorForm=({connector:connector,dispatch:dispatch,actionTypeName:actionTypeName,serverError:serverError,errors:errors,actionTypeRegistry:actionTypeRegistry,consumer:consumer})=>{const _useKibana$services=Object(_common_lib_kibana__WEBPACK_IMPORTED_MODULE_5__["b"])().services,docLinks=_useKibana$services.docLinks,capabilities=_useKibana$services.application.capabilities;const canSave=Object(_lib_capabilities__WEBPACK_IMPORTED_MODULE_4__["d"])(capabilities);const setActionProperty=(key,value)=>{dispatch({command:{type:"setProperty"},payload:{key:key,value:value}})};const setActionConfigProperty=(key,value)=>{dispatch({command:{type:"setConfigProperty"},payload:{key:key,value:value}})};const setActionSecretsProperty=(key,value)=>{dispatch({command:{type:"setSecretsProperty"},payload:{key:key,value:value}})};const actionTypeRegistered=actionTypeRegistry.get(connector.actionTypeId);if(!actionTypeRegistered)return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiCallOut"],{title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_2__["i18n"].translate("xpack.triggersActionsUI.sections.actionConnectorForm.actions.actionTypeConfigurationWarningTitleText",{defaultMessage:"Action type not registered"}),color:"warning",iconType:"help"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"],{id:"xpack.triggersActionsUI.sections.actionConnectorForm.actions.actionConfigurationWarningDescriptionText",defaultMessage:"To create this connector, you must configure at least one {actionType} account. {docLink}",values:{actionType:actionTypeName,docLink:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiLink"],{href:"".concat(docLinks.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(docLinks.DOC_LINK_VERSION,"/action-types.html"),target:"_blank"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"],{id:"xpack.triggersActionsUI.sections.actionConnectorForm.actions.actionConfigurationWarningHelpLinkText",defaultMessage:"Learn more."}))}})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSpacer"],null));const FieldsComponent=actionTypeRegistered.actionConnectorFields;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiForm"],{isInvalid:!!serverError,error:serverError===null||serverError===void 0?void 0:serverError.body.message},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFormRow"],{id:"actionName",fullWidth:true,label:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"],{id:"xpack.triggersActionsUI.sections.actionConnectorForm.actionNameLabel",defaultMessage:"Connector name"}),isInvalid:errors.name.length>0&&connector.name!==undefined,error:errors.name},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFieldText"],{fullWidth:true,readOnly:!canSave,isInvalid:errors.name.length>0&&connector.name!==undefined,name:"name",placeholder:"Untitled","data-test-subj":"nameInput",value:connector.name||"",onChange:e=>{setActionProperty("name",e.target.value)},onBlur:()=>{if(!connector.name){setActionProperty("name","")}}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSpacer"],{size:"m"}),FieldsComponent!==null?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiTitle"],{size:"xxs"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"],{id:"xpack.triggersActionsUI.sections.actionConnectorForm.connectorSettingsLabel",defaultMessage:"Connector settings"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSpacer"],{size:"s"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiErrorBoundary"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Suspense"],{fallback:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexGroup"],{justifyContent:"center"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],{grow:false},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiLoadingSpinner"],{size:"m"})))},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldsComponent,{action:connector,errors:errors,readOnly:!canSave,editActionConfig:setActionConfigProperty,editActionSecrets:setActionSecretsProperty,consumer:consumer})))):null)}},93:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return connectorReducer}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const connectorReducer=(state,action)=>{const command=action.command,payload=action.payload;const connector=state.connector;switch(command.type){case"setConnector":{const key=payload.key,value=payload.value;if(key==="connector"){return _objectSpread(_objectSpread({},state),{},{connector:value})}else{return state}}case"setProperty":{const key=payload.key,value=payload.value;if(Object(lodash__WEBPACK_IMPORTED_MODULE_0__["isEqual"])(connector[key],value)){return state}else{return _objectSpread(_objectSpread({},state),{},{connector:_objectSpread(_objectSpread({},connector),{},{[key]:value})})}}case"setConfigProperty":{const key=payload.key,value=payload.value;if(Object(lodash__WEBPACK_IMPORTED_MODULE_0__["isEqual"])(connector.config[key],value)){return state}else{return _objectSpread(_objectSpread({},state),{},{connector:_objectSpread(_objectSpread({},connector),{},{config:_objectSpread(_objectSpread({},connector.config),{},{[key]:value})})})}}case"setSecretsProperty":{const key=payload.key,value=payload.value;if(Object(lodash__WEBPACK_IMPORTED_MODULE_0__["isEqual"])(connector.secrets[key],value)){return state}else{return _objectSpread(_objectSpread({},state),{},{connector:_objectSpread(_objectSpread({},connector),{},{secrets:_objectSpread(_objectSpread({},connector.secrets),{},{[key]:value})})})}}}}},94:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function identity(a){return a}exports.identity=identity;exports.unsafeCoerce=identity;function not(predicate){return function(a){return!predicate(a)}}exports.not=not;function constant(a){return function(){return a}}exports.constant=constant;exports.constTrue=function(){return true};exports.constFalse=function(){return false};exports.constNull=function(){return null};exports.constUndefined=function(){return};exports.constVoid=function(){return};function flip(f){return function(b,a){return f(a,b)}}exports.flip=flip;function flow(ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return ab;case 2:return function(){return bc(ab.apply(this,arguments))};case 3:return function(){return cd(bc(ab.apply(this,arguments)))};case 4:return function(){return de(cd(bc(ab.apply(this,arguments))))};case 5:return function(){return ef(de(cd(bc(ab.apply(this,arguments)))))};case 6:return function(){return fg(ef(de(cd(bc(ab.apply(this,arguments))))))};case 7:return function(){return gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))};case 8:return function(){return hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments))))))))};case 9:return function(){return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))))}}}exports.flow=flow;function tuple(){var t=[];for(var _i=0;_i<arguments.length;_i++){t[_i]=arguments[_i]}return t}exports.tuple=tuple;function increment(n){return n+1}exports.increment=increment;function decrement(n){return n-1}exports.decrement=decrement;function absurd(_){throw new Error("Called `absurd` function which should be uncallable")}exports.absurd=absurd}}]);