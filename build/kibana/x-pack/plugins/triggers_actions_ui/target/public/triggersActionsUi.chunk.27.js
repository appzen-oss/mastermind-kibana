/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["triggersActionsUi_bundle_jsonpfunction"]=window["triggersActionsUi_bundle_jsonpfunction"]||[]).push([[27],{216:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",(function(){return ServiceNowParamsFields}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);var fp_ts_lib_Option__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(77);var fp_ts_lib_Option__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(fp_ts_lib_Option__WEBPACK_IMPORTED_MODULE_3__);var _text_area_with_message_variables__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(87);var _text_field_with_message_variables__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(89);var _extract_action_variable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(101);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const ServiceNowParamsFields=({actionParams:actionParams,editAction:editAction,index:index,errors:errors,messageVariables:messageVariables})=>{const _ref=actionParams.subActionParams||{},title=_ref.title,description=_ref.description,comment=_ref.comment,severity=_ref.severity,urgency=_ref.urgency,impact=_ref.impact,savedObjectId=_ref.savedObjectId;const isActionBeingConfiguredByAnAlert=messageVariables?Object(fp_ts_lib_Option__WEBPACK_IMPORTED_MODULE_3__["isSome"])(Object(_extract_action_variable__WEBPACK_IMPORTED_MODULE_6__["a"])(messageVariables,"alertId")):false;const selectOptions=[{value:"1",text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.severitySelectHighOptionLabel",{defaultMessage:"High"})},{value:"2",text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.severitySelectMediumOptionLabel",{defaultMessage:"Medium"})},{value:"3",text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.severitySelectLawOptionLabel",{defaultMessage:"Low"})}];const editSubActionProperty=(key,value)=>{const newProps=_objectSpread(_objectSpread({},actionParams.subActionParams),{},{[key]:value});editAction("subActionParams",newProps,index)};Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{if(!actionParams.subAction){editAction("subAction","pushToService",index)}if(!savedObjectId&&isActionBeingConfiguredByAnAlert){editSubActionProperty("savedObjectId","{{alertId}}")}if(!urgency){editSubActionProperty("urgency","3")}if(!impact){editSubActionProperty("impact","3")}if(!severity){editSubActionProperty("severity","3")}},[title,description,comment,severity,impact,urgency]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiTitle"],{size:"s"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.title",{defaultMessage:"Incident"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"m"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.urgencySelectFieldLabel",{defaultMessage:"Urgency"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSelect"],{fullWidth:true,"data-test-subj":"urgencySelect",options:selectOptions,value:urgency,onChange:e=>{editSubActionProperty("urgency",e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"m"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexGroup"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexItem"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.severitySelectFieldLabel",{defaultMessage:"Severity"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSelect"],{fullWidth:true,"data-test-subj":"severitySelect",options:selectOptions,value:severity,onChange:e=>{editSubActionProperty("severity",e.target.value)}}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFlexItem"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.impactSelectFieldLabel",{defaultMessage:"Impact"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSelect"],{fullWidth:true,"data-test-subj":"impactSelect",options:selectOptions,value:impact,onChange:e=>{editSubActionProperty("impact",e.target.value)}})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"m"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,error:errors.title,isInvalid:errors.title.length>0&&title!==undefined,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.titleFieldLabel",{defaultMessage:"Short description"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_text_field_with_message_variables__WEBPACK_IMPORTED_MODULE_5__["a"],{index:index,editAction:editSubActionProperty,messageVariables:messageVariables,paramsProperty:"title",inputTargetValue:title,errors:errors.title})),!isActionBeingConfiguredByAnAlert&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.savedObjectIdFieldLabel",{defaultMessage:"Object ID (optional)"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormControlLayout"],{fullWidth:true,append:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiIconTip"],{content:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.savedObjectIdFieldHelp",{defaultMessage:"ServiceNow will associate this action with the ID of a Kibana saved object."})})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_text_field_with_message_variables__WEBPACK_IMPORTED_MODULE_5__["a"],{index:index,editAction:editSubActionProperty,messageVariables:messageVariables,paramsProperty:"savedObjectId",inputTargetValue:savedObjectId}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiSpacer"],{size:"m"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_text_area_with_message_variables__WEBPACK_IMPORTED_MODULE_4__["a"],{index:index,editAction:editSubActionProperty,messageVariables:messageVariables,paramsProperty:"description",inputTargetValue:description,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.descriptionTextAreaFieldLabel",{defaultMessage:"Description (optional)"}),errors:errors.description}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_text_area_with_message_variables__WEBPACK_IMPORTED_MODULE_4__["a"],{index:index,editAction:editSubActionProperty,messageVariables:messageVariables,paramsProperty:"comment",inputTargetValue:comment,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.builtinActionTypes.serviceNow.commentsTextAreaFieldLabel",{defaultMessage:"Additional comments (optional)"}),errors:errors.comment}))}}}]);